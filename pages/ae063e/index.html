<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Java 定时任务大全</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/java-notes/img/favicon.ico">
    <meta name="description" content="知识管理">
    <meta name="keywords" content="vuepress,theme,blog,vdoing">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/java-notes/assets/css/0.styles.fb2e25c6.css" as="style"><link rel="preload" href="/java-notes/assets/js/app.d397b22c.js" as="script"><link rel="preload" href="/java-notes/assets/js/2.f70b3895.js" as="script"><link rel="preload" href="/java-notes/assets/js/45.37e9acf1.js" as="script"><link rel="prefetch" href="/java-notes/assets/js/10.2adfc515.js"><link rel="prefetch" href="/java-notes/assets/js/11.28dcb787.js"><link rel="prefetch" href="/java-notes/assets/js/12.2a292b61.js"><link rel="prefetch" href="/java-notes/assets/js/13.3f1dfbd4.js"><link rel="prefetch" href="/java-notes/assets/js/14.337236bc.js"><link rel="prefetch" href="/java-notes/assets/js/15.7637f176.js"><link rel="prefetch" href="/java-notes/assets/js/16.dc014ebd.js"><link rel="prefetch" href="/java-notes/assets/js/17.d0e4e790.js"><link rel="prefetch" href="/java-notes/assets/js/18.a5049df9.js"><link rel="prefetch" href="/java-notes/assets/js/19.346aa9f6.js"><link rel="prefetch" href="/java-notes/assets/js/20.ea34675a.js"><link rel="prefetch" href="/java-notes/assets/js/21.72feca8c.js"><link rel="prefetch" href="/java-notes/assets/js/22.5aa91d64.js"><link rel="prefetch" href="/java-notes/assets/js/23.f5dc3702.js"><link rel="prefetch" href="/java-notes/assets/js/24.ede98ecc.js"><link rel="prefetch" href="/java-notes/assets/js/25.96dad39b.js"><link rel="prefetch" href="/java-notes/assets/js/26.da17699a.js"><link rel="prefetch" href="/java-notes/assets/js/27.09d5fc3b.js"><link rel="prefetch" href="/java-notes/assets/js/28.d82616db.js"><link rel="prefetch" href="/java-notes/assets/js/29.e1686044.js"><link rel="prefetch" href="/java-notes/assets/js/3.68505a47.js"><link rel="prefetch" href="/java-notes/assets/js/30.86d62f2d.js"><link rel="prefetch" href="/java-notes/assets/js/31.8b9dad5a.js"><link rel="prefetch" href="/java-notes/assets/js/32.3588a7d0.js"><link rel="prefetch" href="/java-notes/assets/js/33.3dbbfd6b.js"><link rel="prefetch" href="/java-notes/assets/js/34.9adfa464.js"><link rel="prefetch" href="/java-notes/assets/js/35.a8146fb2.js"><link rel="prefetch" href="/java-notes/assets/js/36.4bbba0d8.js"><link rel="prefetch" href="/java-notes/assets/js/37.3d247b0f.js"><link rel="prefetch" href="/java-notes/assets/js/38.d0c2890b.js"><link rel="prefetch" href="/java-notes/assets/js/39.a1e26461.js"><link rel="prefetch" href="/java-notes/assets/js/4.79b93306.js"><link rel="prefetch" href="/java-notes/assets/js/40.33e37909.js"><link rel="prefetch" href="/java-notes/assets/js/41.b22b997f.js"><link rel="prefetch" href="/java-notes/assets/js/42.af86b93f.js"><link rel="prefetch" href="/java-notes/assets/js/43.c88942c6.js"><link rel="prefetch" href="/java-notes/assets/js/44.864ea6c7.js"><link rel="prefetch" href="/java-notes/assets/js/46.2a8ee5fe.js"><link rel="prefetch" href="/java-notes/assets/js/47.13102c5d.js"><link rel="prefetch" href="/java-notes/assets/js/48.5e02063f.js"><link rel="prefetch" href="/java-notes/assets/js/49.5902bf17.js"><link rel="prefetch" href="/java-notes/assets/js/5.d7e4c5f6.js"><link rel="prefetch" href="/java-notes/assets/js/50.5ed3edee.js"><link rel="prefetch" href="/java-notes/assets/js/51.7760a883.js"><link rel="prefetch" href="/java-notes/assets/js/52.f14b692e.js"><link rel="prefetch" href="/java-notes/assets/js/53.df43b82d.js"><link rel="prefetch" href="/java-notes/assets/js/54.391d2efe.js"><link rel="prefetch" href="/java-notes/assets/js/55.e1d64285.js"><link rel="prefetch" href="/java-notes/assets/js/56.12d3c417.js"><link rel="prefetch" href="/java-notes/assets/js/57.465c2ade.js"><link rel="prefetch" href="/java-notes/assets/js/58.b86ff1af.js"><link rel="prefetch" href="/java-notes/assets/js/59.a2969c73.js"><link rel="prefetch" href="/java-notes/assets/js/6.ad13b64c.js"><link rel="prefetch" href="/java-notes/assets/js/60.3970fce2.js"><link rel="prefetch" href="/java-notes/assets/js/61.69a94672.js"><link rel="prefetch" href="/java-notes/assets/js/62.94da23dc.js"><link rel="prefetch" href="/java-notes/assets/js/63.f2950404.js"><link rel="prefetch" href="/java-notes/assets/js/64.895ba847.js"><link rel="prefetch" href="/java-notes/assets/js/65.bb29c100.js"><link rel="prefetch" href="/java-notes/assets/js/66.70d3b479.js"><link rel="prefetch" href="/java-notes/assets/js/67.a242cece.js"><link rel="prefetch" href="/java-notes/assets/js/68.abd94893.js"><link rel="prefetch" href="/java-notes/assets/js/69.60cece2e.js"><link rel="prefetch" href="/java-notes/assets/js/7.8e50d771.js"><link rel="prefetch" href="/java-notes/assets/js/70.0b44f657.js"><link rel="prefetch" href="/java-notes/assets/js/71.c324bf57.js"><link rel="prefetch" href="/java-notes/assets/js/72.8aa10de8.js"><link rel="prefetch" href="/java-notes/assets/js/73.1e7220c4.js"><link rel="prefetch" href="/java-notes/assets/js/74.d1c0ce09.js"><link rel="prefetch" href="/java-notes/assets/js/75.42ffe6a2.js"><link rel="prefetch" href="/java-notes/assets/js/76.e92e283d.js"><link rel="prefetch" href="/java-notes/assets/js/77.0f7fadf2.js"><link rel="prefetch" href="/java-notes/assets/js/78.2a59eb91.js"><link rel="prefetch" href="/java-notes/assets/js/8.a2306c4b.js"><link rel="prefetch" href="/java-notes/assets/js/9.7e1ead44.js">
    <link rel="stylesheet" href="/java-notes/assets/css/0.styles.fb2e25c6.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/java-notes/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/java-notes/" class="nav-link">首页</a></div><div class="nav-item"><a href="/java-notes/pages/0e35d1/" class="nav-link">Java 知识体系</a></div><div class="nav-item"><a href="/java-notes/pages/5547aa/" class="nav-link">Java 面试宝典</a></div><div class="nav-item"><a href="/java-notes/pages/1eb629/" class="nav-link">软技能</a></div> <a href="https://github.com/xiong201" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/java-notes/" class="nav-link">首页</a></div><div class="nav-item"><a href="/java-notes/pages/0e35d1/" class="nav-link">Java 知识体系</a></div><div class="nav-item"><a href="/java-notes/pages/5547aa/" class="nav-link">Java 面试宝典</a></div><div class="nav-item"><a href="/java-notes/pages/1eb629/" class="nav-link">软技能</a></div> <a href="https://github.com/xiong201" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>系统设计</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>常用框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>分布式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>微服务</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>定时任务</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/java-notes/pages/ae063e/" aria-current="page" class="active sidebar-link">Java 定时任务大全</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/java-notes/pages/ae063e/#timer" class="sidebar-link">Timer</a></li><li class="sidebar-sub-header level2"><a href="/java-notes/pages/ae063e/#scheduledexecutorservice" class="sidebar-link">ScheduledExecutorService</a></li><li class="sidebar-sub-header level2"><a href="/java-notes/pages/ae063e/#spring-task" class="sidebar-link">Spring Task</a></li><li class="sidebar-sub-header level2"><a href="/java-notes/pages/ae063e/#时间轮" class="sidebar-link">时间轮</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level1"><a href="/java-notes/pages/ae063e/#分布式定时任务技术选型" class="sidebar-link">分布式定时任务技术选型</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/java-notes/pages/ae063e/#quartz" class="sidebar-link">Quartz</a></li><li class="sidebar-sub-header level2"><a href="/java-notes/pages/ae063e/#elastic-job" class="sidebar-link">Elastic-Job</a></li><li class="sidebar-sub-header level2"><a href="/java-notes/pages/ae063e/#xxl-job" class="sidebar-link">XXL-JOB</a></li><li class="sidebar-sub-header level2"><a href="/java-notes/pages/ae063e/#powerjob" class="sidebar-link">PowerJob</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level1"><a href="/java-notes/pages/ae063e/#reference" class="sidebar-link">reference</a></li></ul></li></ul></li><li><a href="/java-notes/pages/ada754/" class="sidebar-link">分布式定时任务——Quartz</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Web服务器</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>代码质量</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/java-notes/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>Java 知识体系</span></li><li data-v-06225672><span data-v-06225672>系统设计</span></li><li data-v-06225672><span data-v-06225672>定时任务</span></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="javascript:;" data-v-06225672>Xiong</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-10-24</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Java 定时任务大全<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="为什么需要定时任务"><a href="#为什么需要定时任务" class="header-anchor">#</a> 为什么需要定时任务？</h1> <p>我们来看一下几个非常常见的业务场景：</p> <ol><li>某系统凌晨要进行数据备份。</li> <li>某电商平台，用户下单半个小时未支付的情况下需要自动取消订单。</li> <li>某媒体聚合平台，每 10 分钟动态抓取某某网站的数据为自己所用。</li> <li>某博客平台，支持定时发送文章。</li> <li>某基金平台，每晚定时计算用户当日收益情况并推送给用户最新的数据。</li> <li>......</li></ol> <p>这些场景往往都要求我们在某个特定的时间去做某个事情。</p> <h1 id="单机定时任务技术选型"><a href="#单机定时任务技术选型" class="header-anchor">#</a> 单机定时任务技术选型</h1> <h2 id="timer"><a href="#timer" class="header-anchor">#</a> Timer</h2> <p><code>java.util.Timer</code>是 JDK 1.3 开始就已经支持的一种定时任务的实现方式。</p> <p><code>Timer</code> 内部使用一个叫做 <code>TaskQueue</code> 的类存放定时任务，它是一个基于最小堆实现的优先级队列。<code>TaskQueue</code> 会按照任务距离下一次执行时间的大小将任务排序，保证在堆顶的任务最先执行。这样在需要执行任务时，每次只需要取出堆顶的任务运行即可！</p> <p><code>Timer</code> 使用起来比较简单，通过下面的方式我们就能创建一个 1s 之后执行的定时任务。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 示例代码：</span>
<span class="token class-name">TimerTask</span> task <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TimerTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间: &quot;</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;n&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;线程名称: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间: &quot;</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;n&quot;</span> <span class="token operator">+</span>
        <span class="token string">&quot;线程名称: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Timer</span> timer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Timer</span><span class="token punctuation">(</span><span class="token string">&quot;Timer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> delay <span class="token operator">=</span> <span class="token number">1000L</span><span class="token punctuation">;</span>
timer<span class="token punctuation">.</span><span class="token function">schedule</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">//输出：</span>
当前时间<span class="token operator">:</span> <span class="token class-name">Fri</span> <span class="token class-name">May</span> <span class="token number">28</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">18</span><span class="token operator">:</span><span class="token number">47</span> <span class="token constant">CST</span> <span class="token number">2021</span>n线程名称<span class="token operator">:</span> main
当前时间<span class="token operator">:</span> <span class="token class-name">Fri</span> <span class="token class-name">May</span> <span class="token number">28</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">18</span><span class="token operator">:</span><span class="token number">48</span> <span class="token constant">CST</span> <span class="token number">2021</span>n线程名称<span class="token operator">:</span> <span class="token class-name">Timer</span>

</code></pre></div><p>不过其缺陷较多，比如一个 <code>Timer</code> 一个线程，这就导致 <code>Timer</code> 的任务的执行只能串行执行，一个任务执行时间过长的话会影响其他任务（性能非常差），再比如发生异常时任务直接停止（<code>Timer</code> 只捕获了 <code>InterruptedException</code> ）。</p> <h2 id="scheduledexecutorservice"><a href="#scheduledexecutorservice" class="header-anchor">#</a> ScheduledExecutorService</h2> <p><code>ScheduledExecutorService</code> 是一个接口，有多个实现类，比较常用的是 <code>ScheduledThreadPoolExecutor</code> 。</p> <p><img src="https://notes-img2022.oss-cn-shenzhen.aliyuncs.com/img/image-20230723100442281.png" alt="image-20230723100442281"></p> <p><code>ScheduledThreadPoolExecutor</code> 本身就是一个线程池，支持任务并发执行。并且，其内部使用 <code>DelayQueue</code> 作为任务队列。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 示例代码：</span>
<span class="token class-name">TimerTask</span> repeatedTask <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TimerTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@SneakyThrows</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间: &quot;</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;n&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;线程名称: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前时间: &quot;</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;n&quot;</span> <span class="token operator">+</span>
        <span class="token string">&quot;线程名称: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ScheduledExecutorService</span> executor <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newScheduledThreadPool</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> delay  <span class="token operator">=</span> <span class="token number">1000L</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> period <span class="token operator">=</span> <span class="token number">1000L</span><span class="token punctuation">;</span>
executor<span class="token punctuation">.</span><span class="token function">scheduleAtFixedRate</span><span class="token punctuation">(</span>repeatedTask<span class="token punctuation">,</span> delay<span class="token punctuation">,</span> period<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">MILLISECONDS</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span>delay <span class="token operator">+</span> period <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
executor<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//输出：</span>
当前时间<span class="token operator">:</span> <span class="token class-name">Fri</span> <span class="token class-name">May</span> <span class="token number">28</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">46</span> <span class="token constant">CST</span> <span class="token number">2021</span>n线程名称<span class="token operator">:</span> main
当前时间<span class="token operator">:</span> <span class="token class-name">Fri</span> <span class="token class-name">May</span> <span class="token number">28</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">47</span> <span class="token constant">CST</span> <span class="token number">2021</span>n线程名称<span class="token operator">:</span> pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">1</span>
当前时间<span class="token operator">:</span> <span class="token class-name">Fri</span> <span class="token class-name">May</span> <span class="token number">28</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">48</span> <span class="token constant">CST</span> <span class="token number">2021</span>n线程名称<span class="token operator">:</span> pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">1</span>
当前时间<span class="token operator">:</span> <span class="token class-name">Fri</span> <span class="token class-name">May</span> <span class="token number">28</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">49</span> <span class="token constant">CST</span> <span class="token number">2021</span>n线程名称<span class="token operator">:</span> pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">2</span>
当前时间<span class="token operator">:</span> <span class="token class-name">Fri</span> <span class="token class-name">May</span> <span class="token number">28</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">50</span> <span class="token constant">CST</span> <span class="token number">2021</span>n线程名称<span class="token operator">:</span> pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">2</span>
当前时间<span class="token operator">:</span> <span class="token class-name">Fri</span> <span class="token class-name">May</span> <span class="token number">28</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">51</span> <span class="token constant">CST</span> <span class="token number">2021</span>n线程名称<span class="token operator">:</span> pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">2</span>
当前时间<span class="token operator">:</span> <span class="token class-name">Fri</span> <span class="token class-name">May</span> <span class="token number">28</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">52</span> <span class="token constant">CST</span> <span class="token number">2021</span>n线程名称<span class="token operator">:</span> pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">2</span>

</code></pre></div><h2 id="spring-task"><a href="#spring-task" class="header-anchor">#</a> Spring Task</h2> <p>我们直接通过 Spring 提供的 <code>@Scheduled</code> 注解即可定义定时任务，非常方便！</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 * cron：使用Cron表达式。　每分钟的1，2秒运行
 */</span>
<span class="token annotation punctuation">@Scheduled</span><span class="token punctuation">(</span>cron <span class="token operator">=</span> <span class="token string">&quot;1-2 * * * * ? &quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">reportCurrentTimeWithCronExpression</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Cron Expression: The time is now {}&quot;</span><span class="token punctuation">,</span> dateFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


</code></pre></div><p>并且，Spring Task 还是支持 <strong>Cron 表达式</strong> 的。Cron 表达式主要用于定时作业(定时任务)系统定义执行时间或执行频率的表达式，非常厉害，你可以通过 Cron 表达式进行设置定时任务每天或者每个月什么时候执行等等操作。咱们要学习定时任务的话，Cron 表达式是一定是要重点关注的。推荐一个在线 Cron 表达式生成器：http://cron.qqe2.com/</p> <p>Spring Task 底层是基于 JDK 的 <code>ScheduledThreadPoolExecutor</code> 线程池来实现的。</p> <p><strong>优缺点总结：</strong></p> <ul><li>优点： 简单，轻量，支持 Cron 表达式</li> <li>缺点 ：功能单一</li></ul> <h2 id="时间轮"><a href="#时间轮" class="header-anchor">#</a> 时间轮</h2> <p>Kafka、Dubbo、ZooKeeper、Netty 、Caffeine 、Akka 中都有对时间轮的实现。</p> <p>时间轮简单来说就是一个环形的队列（底层一般基于数组实现），队列中的每一个元素（时间格）都可以存放一个定时任务列表。</p> <p>时间轮中的每个时间格代表了时间轮的基本时间跨度或者说时间精度，加入时间一秒走一个时间格的话，那么这个时间轮的最高精度就是 1 秒（也就是说 3 s 和 3.9s 会在同一个时间格中）。</p> <p>下图是一个有 12 个时间格的时间轮，转完一圈需要 12 s。当我们需要新建一个 3s 后执行的定时任务，只需要将定时任务放在下标为 3 的时间格中即可。当我们需要新建一个 9s 后执行的定时任务，只需要将定时任务放在下标为 9 的时间格中即可。</p> <p><img src="https://notes-img2022.oss-cn-shenzhen.aliyuncs.com/img/image-20230723100719147.png" alt="image-20230723100719147"></p> <p>那当我们需要创建一个 13s 后执行的定时任务怎么办呢？这个时候可以引入一叫做 <strong>圈数/轮数</strong> 的概念，也就是说这个任务还是放在下标为 3 的时间格中， 不过它的圈数为 2 。</p> <p>除了增加圈数这种方法之外，还有一种 <strong>多层次时间轮</strong> （类似手表），Kafka 采用的就是这种方案。</p> <p>针对下图的时间轮，我来举一个例子便于大家理解。</p> <p><img src="https://notes-img2022.oss-cn-shenzhen.aliyuncs.com/img/image-20230723100736099.png" alt="image-20230723100736099"></p> <p>上图的时间轮，第 1 层的时间精度为 1 ，第 2 层的时间精度为 20 ，第 3 层的时间精度为 400。假如我们需要添加一个 350s 后执行的任务 A 的话（当前时间是 0s），这个任务会被放在第 2 层（因为第二层的时间跨度为 20*20=400&gt;350）的第 350/20=17 个时间格子。</p> <p>当第一层转了 17 圈之后，时间过去了 340s ，第 2 层的指针此时来到第 17 个时间格子。此时，第 2 层第 17 个格子的任务会被移动到第 1 层。</p> <p>任务 A 当前是 10s 之后执行，因此它会被移动到第 1 层的第 10 个时间格子。</p> <p>这里在层与层之间的移动也叫做时间轮的升降级。参考手表来理解就好！</p> <p><strong>时间轮比较适合任务数量比较多的定时任务场景，它的任务写入和执行的时间复杂度都是 0（1）。</strong></p> <h1 id="分布式定时任务技术选型"><a href="#分布式定时任务技术选型" class="header-anchor">#</a> 分布式定时任务技术选型</h1> <p>上面提到的一些定时任务的解决方案都是在单机下执行的，适用于比较简单的定时任务场景比如每天凌晨备份一次数据。</p> <p>如果我们需要一些高级特性比如支持任务在分布式场景下的分片和高可用的话，我们就需要用到分布式任务调度框架了。</p> <p>通常情况下，一个定时任务的执行往往涉及到下面这些角色：</p> <ul><li><strong>任务</strong> ： 首先肯定是要执行的任务，这个任务就是具体的业务逻辑比如定时发送文章。</li> <li><strong>调度器</strong> ：其次是调度中心，调度中心主要负责任务管理，会分配任务给执行器。</li> <li><strong>执行器</strong> ： 最后就是执行器，执行器接收调度器分派的任务并执行。</li></ul> <h2 id="quartz"><a href="#quartz" class="header-anchor">#</a> Quartz</h2> <p>一个很火的开源任务调度框架，完全由<code>Java</code>写成。<code>Quartz</code> 可以说是 Java 定时任务领域的老大哥或者说参考标准，其他的任务调度框架基本都是基于 <code>Quartz</code> 开发的，比如当当网的<code>elastic-job</code>就是基于<code>quartz</code>二次开发之后的分布式调度解决方案。</p> <p>使用 <code>Quartz</code> 可以很方便地与 <code>Spring</code> 集成，并且支持动态添加任务和集群。但是，<code>Quartz</code> 使用起来也比较麻烦，API 繁琐。</p> <p>并且，<code>Quzrtz</code> 并没有内置 UI 管理控制台，不过你可以使用 <a href="https://github.com/zhaopeiym/quartzui" target="_blank" rel="noopener noreferrer">quartzui<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="elastic-job"><a href="#elastic-job" class="header-anchor">#</a> Elastic-Job</h2> <p><code>Elastic-Job</code> 是当当网开源的一个基于<code>Quartz</code>和<code>ZooKeeper</code>的分布式调度解决方案，由两个相互独立的子项目 <code>Elastic-Job-Lite</code> 和 <code>Elastic-Job-Cloud</code> 组成，一般我们只要使用 <code>Elastic-Job-Lite</code> 就好。</p> <p><code>ElasticJob</code> 支持任务在分布式场景下的分片和高可用、任务可视化管理等功能。</p> <p><img src="https://notes-img2022.oss-cn-shenzhen.aliyuncs.com/img/20210608080437356.png" alt="img"></p> <p>ElasticJob-Lite 的架构设计如下图所示：</p> <p><img src="https://notes-img2022.oss-cn-shenzhen.aliyuncs.com/img/up-a8f63f828666d43009d5d3497bcbd2cfb61.png" alt="img"></p> <p>从上图可以看出，<code>Elastic-Job</code> 没有调度中心这一概念，而是使用 <code>ZooKeeper</code> 作为注册中心，注册中心负责协调分配任务到不同的节点上。</p> <p>Elastic-Job 中的定时调度都是由执行器自行触发，这种设计也被称为去中心化设计（调度和处理都是执行器单独完成）。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ElasticJobConf</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;dayJob&quot;</span><span class="token punctuation">,</span> cron <span class="token operator">=</span> <span class="token string">&quot;0/10 * * * * ?&quot;</span><span class="token punctuation">,</span> shardingTotalCount <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
        shardingItemParameters <span class="token operator">=</span> <span class="token string">&quot;0=AAAA,1=BBBB&quot;</span><span class="token punctuation">,</span> description <span class="token operator">=</span> <span class="token string">&quot;简单任务&quot;</span><span class="token punctuation">,</span> failover <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestJob</span> <span class="token keyword">implements</span> <span class="token class-name">SimpleJob</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token class-name">ShardingContext</span> shardingContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;TestJob任务名：【{}】, 片数：【{}】, param=【{}】&quot;</span><span class="token punctuation">,</span> shardingContext<span class="token punctuation">.</span><span class="token function">getJobName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> shardingContext<span class="token punctuation">.</span><span class="token function">getShardingTotalCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                shardingContext<span class="token punctuation">.</span><span class="token function">getShardingParameter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>相关地址：</strong></p> <ul><li>Github 地址：https://github.com/apache/shardingsphere-elasticjob。</li> <li>官方网站：https://shardingsphere.apache.org/elasticjob/index_zh.html 。</li></ul> <p><strong>优缺点总结：</strong></p> <ul><li>优点 ：可以与 <code>Spring</code> 集成、支持分布式、支持集群、性能不错</li> <li>缺点 ：依赖了额外的中间件比如 Zookeeper（复杂度增加，可靠性降低、维护成本变高）</li></ul> <h2 id="xxl-job"><a href="#xxl-job" class="header-anchor">#</a> XXL-JOB</h2> <p><code>XXL-JOB</code> 于 2015 年开源，是一款优秀的轻量级分布式任务调度框架，支持任务可视化管理、弹性扩容缩容、任务失败重试和告警、任务分片等功能，</p> <p><img src="https://notes-img2022.oss-cn-shenzhen.aliyuncs.com/img/20210608080550433.png" alt="img"></p> <p>根据 <code>XXL-JOB</code> 官网介绍，其解决了很多 <code>Quartz</code> 的不足。</p> <p><img src="https://notes-img2022.oss-cn-shenzhen.aliyuncs.com/img/20210607202503193.png" alt="img"></p> <p><code>XXL-JOB</code> 的架构设计如下图所示：</p> <p><img src="https://notes-img2022.oss-cn-shenzhen.aliyuncs.com/img/up-b8ecc6acf651f112c4dfae98243d72adea3.png" alt="img"></p> <p>从上图可以看出，<code>XXL-JOB</code> 由 <strong>调度中心</strong> 和 <strong>执行器</strong> 两大部分组成。调度中心主要负责任务管理、执行器管理以及日志管理。执行器主要是接收调度信号并处理。另外，调度中心进行任务调度时，是通过自研 RPC 来实现的。</p> <p>不同于 <code>Elastic-Job</code> 的去中心化设计， <code>XXL-JOB</code> 的这种设计也被称为中心化设计（调度中心调度多个执行器执行任务）。</p> <p>和 <code>Quzrtz</code> 类似 <code>XXL-JOB</code> 也是基于数据库锁调度任务，存在性能瓶颈。不过，一般在任务量不是特别大的情况下，没有什么影响的，可以满足绝大部分公司的要求。</p> <p>不要被 <code>XXL-JOB</code> 的架构图给吓着了，实际上，我们要用 <code>XXL-JOB</code> 的话，只需要重写 <code>IJobHandler</code> 自定义任务执行逻辑就可以了，非常易用！</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@JobHandler</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;myApiJobHandler&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyApiJobHandler</span> <span class="token keyword">extends</span> <span class="token class-name">IJobHandler</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ReturnT</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token class-name">String</span> param<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">//......</span>
        <span class="token keyword">return</span> <span class="token class-name">ReturnT</span><span class="token punctuation">.</span><span class="token constant">SUCCESS</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>还可以直接基于注解定义任务。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@XxlJob</span><span class="token punctuation">(</span><span class="token string">&quot;myAnnotationJobHandler&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">ReturnT</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">myAnnotationJobHandler</span><span class="token punctuation">(</span><span class="token class-name">String</span> param<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
  <span class="token comment">//......</span>
  <span class="token keyword">return</span> <span class="token class-name">ReturnT</span><span class="token punctuation">.</span><span class="token constant">SUCCESS</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>相关地址：</strong></p> <ul><li>Github 地址：https://github.com/xuxueli/xxl-job/。</li> <li>官方介绍：https://www.xuxueli.com/xxl-job/ 。</li></ul> <p><strong>优缺点总结：</strong></p> <ul><li>优点：开箱即用（学习成本比较低）、与 Spring 集成、支持分布式、支持集群、内置了 UI 管理控制台。</li> <li>缺点：不支持动态添加任务（如果一定想要动态创建任务也是支持的，参见：<a href="https://github.com/xuxueli/xxl-job/issues/277" target="_blank" rel="noopener noreferrer">xxl-job issue277<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="powerjob"><a href="#powerjob" class="header-anchor">#</a> PowerJob</h2> <p>非常值得关注的一个分布式任务调度框架，分布式任务调度领域的新星。目前，已经有很多公司接入比如 OPPO、京东、中通、思科。</p> <p>这个框架的诞生也挺有意思的，PowerJob 的作者当时在阿里巴巴实习过，阿里巴巴那会使用的是内部自研的 SchedulerX（阿里云付费产品）。实习期满之后，PowerJob 的作者离开了阿里巴巴。想着说自研一个 SchedulerX，防止哪天 SchedulerX 满足不了需求，于是 PowerJob 就诞生了。</p> <p>更多关于 PowerJob 的故事，小伙伴们可以去看看 PowerJob 作者的视频 <a href="https://www.bilibili.com/video/BV1SK411A7F3/" target="_blank" rel="noopener noreferrer">《我和我的任务调度中间件》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h1 id="reference"><a href="#reference" class="header-anchor">#</a> reference</h1> <ul><li><a href="https://javaguide.cn/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/" target="_blank" rel="noopener noreferrer">Java定时任务大揭秘 | JavaGuide<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/10/24, 03:39:33</span></div></div> <div class="page-nav-wapper"><!----> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/java-notes/pages/01d62e/" class="prev">链路追踪SkyWalking</a></span> <span class="next"><a href="/java-notes/pages/ada754/">分布式定时任务——Quartz</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2023-2023
    <span>xiong201 | MIT License</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/java-notes/assets/js/app.d397b22c.js" defer></script><script src="/java-notes/assets/js/2.f70b3895.js" defer></script><script src="/java-notes/assets/js/45.37e9acf1.js" defer></script>
  </body>
</html>
