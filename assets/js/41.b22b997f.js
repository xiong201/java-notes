(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{373:function(t,a,s){"use strict";s.r(a);var n=s(7),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"dubbo简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dubbo简介"}},[t._v("#")]),t._v(" Dubbo简介")]),t._v(" "),a("h2",{attrs:{id:"dubbo是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dubbo是什么"}},[t._v("#")]),t._v(" Dubbo是什么")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/apache/incubator-dubbo",target:"_blank",rel:"noopener noreferrer"}},[t._v("Apache Dubbo"),a("OutboundLink")],1),t._v(" 是一款高性能、轻量级的开源 Java RPC 框架。")]),t._v(" "),a("p",[t._v("提供了六大核心能力")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("面向接口代理的高性能RPC调用。")])]),t._v(" "),a("li",[a("p",[t._v("智能容错和负载均衡。")])]),t._v(" "),a("li",[a("p",[t._v("服务自动注册和发现。")])]),t._v(" "),a("li",[a("p",[t._v("高度可扩展能力。")])]),t._v(" "),a("li",[a("p",[t._v("运行期流量调度。")])]),t._v(" "),a("li",[a("p",[t._v("可视化的服务治理与运维。")])])]),t._v(" "),a("p",[t._v("简单来说就是： "),a("strong",[t._v("Dubbo 不光可以帮助我们调用远程服务，还提供了一些其他开箱即用的功能比如智能负载均衡。")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://notes-img2022.oss-cn-shenzhen.aliyuncs.com/img/image-20221028163740409.png",alt:"image-20221028163740409"}})]),t._v(" "),a("p",[a("strong",[t._v("Dubbo能帮助我们解决什么问题？")])]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("负载均衡")]),t._v(" ： 同一个服务部署在不同的机器时该调用那一台机器上的服务。")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("服务调用链路生成")]),t._v("  ： 随着系统的发展，服务越来越多，服务间依赖关系变得错踪复杂，甚至分不清哪个应用要在哪个应用之前启动，架构师都不能完整的描述应用的架构关系。Dubbo 可以为我们解决服务之间互相是如何调用的。")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("服务访问压力以及时长统计、资源调度和治理")]),t._v(" ：基于访问压力实时管理集群容量，提高集群利用率。")])])]),t._v(" "),a("h2",{attrs:{id:"dubbo架构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dubbo架构"}},[t._v("#")]),t._v(" Dubbo架构")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://notes-img2022.oss-cn-shenzhen.aliyuncs.com/img/image-20221028163754478.png",alt:"image-20221028163754478"}})]),t._v(" "),a("p",[a("strong",[t._v("节点角色说明：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("节点")]),t._v(" "),a("th",[t._v("角色说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("Provider")])]),t._v(" "),a("td",[t._v("暴露服务的服务提供方")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("Consumer")])]),t._v(" "),a("td",[t._v("调用远程服务的服务消费方")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("Registry")])]),t._v(" "),a("td",[t._v("服务注册与发现的注册中心")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("Monitor")])]),t._v(" "),a("td",[t._v("统计服务的调用次数和调用时间的监控中心")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("Container")])]),t._v(" "),a("td",[t._v("服务运行容器")])])])]),t._v(" "),a("p",[a("strong",[t._v("调用关系说明：")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("服务容器负责启动，加载，运行服务提供者。")])]),t._v(" "),a("li",[a("p",[t._v("服务提供者在启动时，向注册中心注册自己提供的服务。")])]),t._v(" "),a("li",[a("p",[t._v("服务消费者在启动时，向注册中心订阅自己所需的服务。")])]),t._v(" "),a("li",[a("p",[t._v("注册中心返回服务提供者地址列表给消费者，如果有变更，注册中心将基于长连接推送变更数据给消费者。")])]),t._v(" "),a("li",[a("p",[t._v("服务消费者，从提供者地址列表中，基于软负载均衡算法，选一台提供者进行调用，如果调用失败，再选另一台调用。")])]),t._v(" "),a("li",[a("p",[t._v("服务消费者和提供者，在内存中累计调用次数和调用时间，定时每分钟发送一次统计数据到监控中心。")])])]),t._v(" "),a("h1",{attrs:{id:"dubbo应用实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dubbo应用实例"}},[t._v("#")]),t._v(" Dubbo应用实例")]),t._v(" "),a("h2",{attrs:{id:"多注册中心"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多注册中心"}},[t._v("#")]),t._v(" 多注册中心")]),t._v(" "),a("p",[t._v("Dubbo支持同一服务向多注册中心同时注册。或者不同服务分别注册到不同的注册中心上去，甚至可以同时引用注册在不同注册中心上的同名服务。")]),t._v(" "),a("p",[t._v("用法")]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token prolog"}},[t._v('<?xml version="1.0" encoding="UTF-8"?>')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("beans")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("xmlns")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.springframework.org/schema/beans"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("xsi")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.w3.org/2001/XMLSchema-instance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("dubbo")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://dubbo.apache.org/schema/dubbo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xsi:")]),t._v("schemaLocation")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd http://dubbo.apache.org/schema/dubbo http://dubbo.apache.org/schema/dubbo/dubbo.xsd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("dubbo:")]),t._v("application")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("world"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 多注册中心配置 --\x3e")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("dubbo:")]),t._v("registry")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("hangzhouRegistry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("address")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("10.20.141.150:9090"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("dubbo:")]),t._v("registry")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("qingdaoRegistry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("address")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("10.20.141.151:9010"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("default")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("false"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 向多个注册中心注册 --\x3e")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("dubbo:")]),t._v("service")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("interface")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("com.alibaba.hello.api.HelloService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("1.0.0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("helloService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("registry")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("hangzhouRegistry,qingdaoRegistry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("beans")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("dubbo:reference 配置的registry属性默认从所有注册中心获服务列表后合并结果。这样当一个注册中心没有某个服务时，其他注册中心有这个服务，也能获取到这个服务进行使用。")])])}),[],!1,null,null,null);a.default=e.exports}}]);