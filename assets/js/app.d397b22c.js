(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[]]);!function(n){function e(e){for(var a,o,l=e[0],s=e[1],c=e[2],u=0,p=[];u<l.length;u++)o=l[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a]);for(d&&d(e);p.length;)p.shift()();return i.push.apply(i,c||[]),t()}function t(){for(var n,e=0;e<i.length;e++){for(var t=i[e],a=!0,l=1;l<t.length;l++){var s=t[l];0!==r[s]&&(a=!1)}a&&(i.splice(e--,1),n=o(o.s=t[0]))}return n}var a={},r={1:0},i=[];function o(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.e=function(n){var e=[],t=r[n];if(0!==t)if(t)e.push(t[2]);else{var a=new Promise((function(e,a){t=r[n]=[e,a]}));e.push(t[2]=a);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=function(n){return o.p+"assets/js/"+({}[n]||n)+"."+{2:"f70b3895",3:"68505a47",4:"79b93306",5:"d7e4c5f6",6:"ad13b64c",7:"8e50d771",8:"a2306c4b",9:"7e1ead44",10:"2adfc515",11:"28dcb787",12:"2a292b61",13:"3f1dfbd4",14:"337236bc",15:"7637f176",16:"dc014ebd",17:"d0e4e790",18:"a5049df9",19:"346aa9f6",20:"ea34675a",21:"72feca8c",22:"5aa91d64",23:"f5dc3702",24:"ede98ecc",25:"96dad39b",26:"da17699a",27:"09d5fc3b",28:"d82616db",29:"e1686044",30:"86d62f2d",31:"8b9dad5a",32:"3588a7d0",33:"3dbbfd6b",34:"9adfa464",35:"a8146fb2",36:"4bbba0d8",37:"3d247b0f",38:"d0c2890b",39:"a1e26461",40:"33e37909",41:"b22b997f",42:"af86b93f",43:"c88942c6",44:"864ea6c7",45:"37e9acf1",46:"2a8ee5fe",47:"13102c5d",48:"5e02063f",49:"5902bf17",50:"5ed3edee",51:"7760a883",52:"f14b692e",53:"df43b82d",54:"391d2efe",55:"e1d64285",56:"12d3c417",57:"465c2ade",58:"b86ff1af",59:"a2969c73",60:"3970fce2",61:"69a94672",62:"94da23dc",63:"f2950404",64:"895ba847",65:"bb29c100",66:"70d3b479",67:"a242cece",68:"abd94893",69:"60cece2e",70:"0b44f657",71:"c324bf57",72:"8aa10de8",73:"1e7220c4",74:"d1c0ce09",75:"42ffe6a2",76:"e92e283d",77:"0f7fadf2",78:"2a59eb91"}[n]+".js"}(n);var s=new Error;i=function(e){l.onerror=l.onload=null,clearTimeout(c);var t=r[n];if(0!==t){if(t){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;s.message="Loading chunk "+n+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,t[1](s)}r[n]=void 0}};var c=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(e)},o.m=n,o.c=a,o.d=function(n,e,t){o.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},o.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,e){if(1&e&&(n=o(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var a in n)o.d(t,a,function(e){return n[e]}.bind(null,a));return t},o.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(e,"a",e),e},o.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},o.p="/java-notes/",o.oe=function(n){throw console.error(n),n};var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=s;i.push([106,0]),t()}([function(n,e,t){"use strict";var a=t(55),r=a.all;n.exports=a.IS_HTMLDDA?function(n){return"function"==typeof n||n===r}:function(n){return"function"==typeof n}},function(n,e,t){"use strict";var a=function(n){return n&&n.Math===Math&&n};n.exports=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof global&&global)||function(){return this}()||this||Function("return this")()},function(n,e,t){"use strict";var a=t(27),r=Function.prototype,i=r.call,o=a&&r.bind.bind(i,i);n.exports=a?o:function(n){return function(){return i.apply(n,arguments)}}},function(n,e,t){"use strict";n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,e,t){"use strict";var a=t(3);n.exports=!a((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(n,e){var t=Array.isArray;n.exports=t},function(n,e,t){var a=t(69),r="object"==typeof self&&self&&self.Object===Object&&self,i=a||r||Function("return this")();n.exports=i},function(n,e,t){"use strict";function a(n,e,t,a,r,i,o,l){var s,c="function"==typeof n?n.options:n;if(e&&(c.render=e,c.staticRenderFns=t,c._compiled=!0),a&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),o?(s=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),r&&r.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(o)},c._ssrRegister=s):r&&(s=l?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),s)if(c.functional){c._injectStyles=s;var d=c.render;c.render=function(n,e){return s.call(e),d(n,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,s):[s]}return{exports:n,options:c}}t.d(e,"a",(function(){return a}))},function(n,e,t){"use strict";var a=t(2),r=t(32),i=a({}.hasOwnProperty);n.exports=Object.hasOwn||function(n,e){return i(r(n),e)}},function(n,e,t){"use strict";var a=t(0),r=t(55),i=r.all;n.exports=r.IS_HTMLDDA?function(n){return"object"==typeof n?null!==n:a(n)||n===i}:function(n){return"object"==typeof n?null!==n:a(n)}},function(n,e,t){var a=t(164),r=t(167);n.exports=function(n,e){var t=r(n,e);return a(t)?t:void 0}},function(n,e,t){"use strict";t.d(e,"e",(function(){return a})),t.d(e,"b",(function(){return i})),t.d(e,"j",(function(){return o})),t.d(e,"g",(function(){return s})),t.d(e,"h",(function(){return c})),t.d(e,"i",(function(){return d})),t.d(e,"c",(function(){return u})),t.d(e,"f",(function(){return p})),t.d(e,"l",(function(){return m})),t.d(e,"m",(function(){return h})),t.d(e,"d",(function(){return g})),t.d(e,"k",(function(){return v})),t.d(e,"n",(function(){return b})),t.d(e,"a",(function(){return x}));t(16);const a=/#.*$/,r=/\.(md|html)$/,i=/\/$/,o=/^[a-z]+:/i;function l(n){return decodeURI(n).replace(a,"").replace(r,"")}function s(n){return o.test(n)}function c(n){return/^mailto:/.test(n)}function d(n){return/^tel:/.test(n)}function u(n){if(s(n))return n;if(!n)return"404";const e=n.match(a),t=e?e[0]:"",r=l(n);return i.test(r)?n:r+".html"+t}function p(n,e){const t=n.hash,r=function(n){const e=n&&n.match(a);if(e)return e[0]}(e);if(r&&t!==r)return!1;return l(n.path)===l(e)}function m(n,e,t){if(s(e))return{type:"external",path:e};t&&(e=function(n,e,t){const a=n.charAt(0);if("/"===a)return n;if("?"===a||"#"===a)return e+n;const r=e.split("/");t&&r[r.length-1]||r.pop();const i=n.replace(/^\//,"").split("/");for(let n=0;n<i.length;n++){const e=i[n];".."===e?r.pop():"."!==e&&r.push(e)}""!==r[0]&&r.unshift("");return r.join("/")}(e,t));const a=l(e);for(let e=0;e<n.length;e++)if(l(n[e].regularPath)===a)return Object.assign({},n[e],{type:"page",path:u(n[e].path)});return console.error(`[vuepress] No matching page found for sidebar item "${e}"`),{}}function h(n,e,t,a){const{pages:r,themeConfig:i}=t,o=a&&i.locales&&i.locales[a]||i;if("auto"===(n.frontmatter.sidebar||o.sidebar||i.sidebar))return f(n);const l=o.sidebar||i.sidebar;if(l){const{base:t,config:a}=function(n,e){if(Array.isArray(e))return{base:"/",config:e};for(const a in e)if(0===(t=n,/(\.html|\/)$/.test(t)?t:t+"/").indexOf(encodeURI(a)))return{base:a,config:e[a]};var t;return{}}(e,l);return"auto"===a?f(n):a?a.map(n=>function n(e,t,a,r=1){if("string"==typeof e)return m(t,e,a);if(Array.isArray(e))return Object.assign(m(t,e[0],a),{title:e[1]});{r>3&&console.error("[vuepress] detected a too deep nested sidebar group.");const i=e.children||[];return 0===i.length&&e.path?Object.assign(m(t,e.path,a),{title:e.title}):{type:"group",path:e.path,title:e.title,sidebarDepth:e.sidebarDepth,initialOpenGroupIndex:e.initialOpenGroupIndex,children:i.map(e=>n(e,t,a,r+1)),collapsable:!1!==e.collapsable}}}(n,r,t)):[]}return[]}function f(n){const e=g(n.headers||[]);return[{type:"group",collapsable:!1,title:n.title,path:null,children:e.map(e=>({type:"auto",title:e.title,basePath:n.path,path:n.path+"#"+e.slug,children:e.children||[]}))}]}function g(n){let e;return(n=n.map(n=>Object.assign({},n))).forEach(n=>{2===n.level?e=n:e&&(e.children||(e.children=[])).push(n)}),n.filter(n=>2===n.level)}function v(n){return Object.assign(n,{type:n.items&&n.items.length?"links":"link"})}function b(n){return Object.prototype.toString.call(n).match(/\[object (.*?)\]/)[1].toLowerCase()}function y(n){let e=n.frontmatter.date||n.lastUpdated||new Date,t=new Date(e);return"Invalid Date"==t&&e&&(t=new Date(e.replace(/-/g,"/"))),t.getTime()}function x(n,e){return y(e)-y(n)}},function(n,e){n.exports=function(n){return null!=n&&"object"==typeof n}},function(n,e,t){var a=t(15),r=t(149),i=t(150),o=a?a.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":o&&o in Object(n)?r(n):i(n)}},function(n,e,t){"use strict";var a=t(4),r=t(17),i=t(35);n.exports=a?function(n,e,t){return r.f(n,e,i(1,t))}:function(n,e,t){return n[e]=t,n}},function(n,e,t){var a=t(6).Symbol;n.exports=a},function(n,e,t){"use strict";var a=t(26),r=t(32),i=t(33),o=t(129),l=t(131);a({target:"Array",proto:!0,arity:1,forced:t(3)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(n){return n instanceof TypeError}}()},{push:function(n){var e=r(this),t=i(e),a=arguments.length;l(t+a);for(var s=0;s<a;s++)e[t]=arguments[s],t++;return o(e,t),t}})},function(n,e,t){"use strict";var a=t(4),r=t(64),i=t(101),o=t(25),l=t(54),s=TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor;e.f=a?i?function(n,e,t){if(o(n),e=l(e),o(t),"function"==typeof n&&"prototype"===e&&"value"in t&&"writable"in t&&!t.writable){var a=d(n,e);a&&a.writable&&(n[e]=t.value,t={configurable:"configurable"in t?t.configurable:a.configurable,enumerable:"enumerable"in t?t.enumerable:a.enumerable,writable:!1})}return c(n,e,t)}:c:function(n,e,t){if(o(n),e=l(e),o(t),r)try{return c(n,e,t)}catch(n){}if("get"in t||"set"in t)throw new s("Accessors not supported");return"value"in t&&(n[e]=t.value),n}},function(n,e,t){"use strict";var a=t(2),r=a({}.toString),i=a("".slice);n.exports=function(n){return i(r(n),8,-1)}},function(n,e,t){var a=t(154),r=t(155),i=t(156),o=t(157),l=t(158);function s(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var a=n[e];this.set(a[0],a[1])}}s.prototype.clear=a,s.prototype.delete=r,s.prototype.get=i,s.prototype.has=o,s.prototype.set=l,n.exports=s},function(n,e,t){var a=t(71);n.exports=function(n,e){for(var t=n.length;t--;)if(a(n[t][0],e))return t;return-1}},function(n,e,t){var a=t(10)(Object,"create");n.exports=a},function(n,e,t){var a=t(176);n.exports=function(n,e){var t=n.__data__;return a(e)?t["string"==typeof e?"string":"hash"]:t.map}},function(n,e,t){var a=t(45);n.exports=function(n){if("string"==typeof n||a(n))return n;var e=n+"";return"0"==e&&1/n==-1/0?"-0":e}},function(n,e,t){var a,r;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(r="function"==typeof(a=function(){var n,e,t={version:"0.2.0"},a=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function r(n,e,t){return n<e?e:n>t?t:n}function i(n){return 100*(-1+n)}t.configure=function(n){var e,t;for(e in n)void 0!==(t=n[e])&&n.hasOwnProperty(e)&&(a[e]=t);return this},t.status=null,t.set=function(n){var e=t.isStarted();n=r(n,a.minimum,1),t.status=1===n?null:n;var s=t.render(!e),c=s.querySelector(a.barSelector),d=a.speed,u=a.easing;return s.offsetWidth,o((function(e){""===a.positionUsing&&(a.positionUsing=t.getPositioningCSS()),l(c,function(n,e,t){var r;return(r="translate3d"===a.positionUsing?{transform:"translate3d("+i(n)+"%,0,0)"}:"translate"===a.positionUsing?{transform:"translate("+i(n)+"%,0)"}:{"margin-left":i(n)+"%"}).transition="all "+e+"ms "+t,r}(n,d,u)),1===n?(l(s,{transition:"none",opacity:1}),s.offsetWidth,setTimeout((function(){l(s,{transition:"all "+d+"ms linear",opacity:0}),setTimeout((function(){t.remove(),e()}),d)}),d)):setTimeout(e,d)})),this},t.isStarted=function(){return"number"==typeof t.status},t.start=function(){t.status||t.set(0);var n=function(){setTimeout((function(){t.status&&(t.trickle(),n())}),a.trickleSpeed)};return a.trickle&&n(),this},t.done=function(n){return n||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(n){var e=t.status;return e?("number"!=typeof n&&(n=(1-e)*r(Math.random()*e,.1,.95)),e=r(e+n,0,.994),t.set(e)):t.start()},t.trickle=function(){return t.inc(Math.random()*a.trickleRate)},n=0,e=0,t.promise=function(a){return a&&"resolved"!==a.state()?(0===e&&t.start(),n++,e++,a.always((function(){0==--e?(n=0,t.done()):t.set((n-e)/n)})),this):this},t.render=function(n){if(t.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=a.template;var r,o=e.querySelector(a.barSelector),s=n?"-100":i(t.status||0),d=document.querySelector(a.parent);return l(o,{transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),a.showSpinner||(r=e.querySelector(a.spinnerSelector))&&p(r),d!=document.body&&c(d,"nprogress-custom-parent"),d.appendChild(e),e},t.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(a.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&p(n)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var n=document.body.style,e="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return e+"Perspective"in n?"translate3d":e+"Transform"in n?"translate":"margin"};var o=function(){var n=[];function e(){var t=n.shift();t&&t(e)}return function(t){n.push(t),1==n.length&&e()}}(),l=function(){var n=["Webkit","O","Moz","ms"],e={};function t(t){return t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(n,e){return e.toUpperCase()})),e[t]||(e[t]=function(e){var t=document.body.style;if(e in t)return e;for(var a,r=n.length,i=e.charAt(0).toUpperCase()+e.slice(1);r--;)if((a=n[r]+i)in t)return a;return e}(t))}function a(n,e,a){e=t(e),n.style[e]=a}return function(n,e){var t,r,i=arguments;if(2==i.length)for(t in e)void 0!==(r=e[t])&&e.hasOwnProperty(t)&&a(n,t,r);else a(n,i[1],i[2])}}();function s(n,e){return("string"==typeof n?n:u(n)).indexOf(" "+e+" ")>=0}function c(n,e){var t=u(n),a=t+e;s(t,e)||(n.className=a.substring(1))}function d(n,e){var t,a=u(n);s(n,e)&&(t=a.replace(" "+e+" "," "),n.className=t.substring(1,t.length-1))}function u(n){return(" "+(n.className||"")+" ").replace(/\s+/gi," ")}function p(n){n&&n.parentNode&&n.parentNode.removeChild(n)}return t})?a.call(e,t,e,n):a)||(n.exports=r)},function(n,e,t){"use strict";var a=t(9),r=String,i=TypeError;n.exports=function(n){if(a(n))return n;throw new i(r(n)+" is not an object")}},function(n,e,t){"use strict";var a=t(1),r=t(51).f,i=t(14),o=t(97),l=t(37),s=t(65),c=t(125);n.exports=function(n,e){var t,d,u,p,m,h=n.target,f=n.global,g=n.stat;if(t=f?a:g?a[h]||l(h,{}):(a[h]||{}).prototype)for(d in e){if(p=e[d],u=n.dontCallGetSet?(m=r(t,d))&&m.value:t[d],!c(f?d:h+(g?".":"#")+d,n.forced)&&void 0!==u){if(typeof p==typeof u)continue;s(p,u)}(n.sham||u&&u.sham)&&i(p,"sham",!0),o(t,d,p,n)}}},function(n,e,t){"use strict";var a=t(3);n.exports=!a((function(){var n=function(){}.bind();return"function"!=typeof n||n.hasOwnProperty("prototype")}))},function(n,e,t){"use strict";var a=t(47),r=t(52);n.exports=function(n){return a(r(n))}},function(n,e,t){"use strict";var a=t(1),r=t(0),i=function(n){return r(n)?n:void 0};n.exports=function(n,e){return arguments.length<2?i(a[n]):a[n]&&a[n][e]}},function(n,e,t){"use strict";var a=t(0),r=t(112),i=TypeError;n.exports=function(n){if(a(n))return n;throw new i(r(n)+" is not a function")}},function(n,e,t){"use strict";var a=t(1),r=t(61),i=t(8),o=t(63),l=t(59),s=t(58),c=a.Symbol,d=r("wks"),u=s?c.for||c:c&&c.withoutSetter||o;n.exports=function(n){return i(d,n)||(d[n]=l&&i(c,n)?c[n]:u("Symbol."+n)),d[n]}},function(n,e,t){"use strict";var a=t(52),r=Object;n.exports=function(n){return r(a(n))}},function(n,e,t){"use strict";var a=t(123);n.exports=function(n){return a(n.length)}},function(n,e,t){"use strict";var a=t(27),r=Function.prototype.call;n.exports=a?r.bind(r):function(){return r.apply(r,arguments)}},function(n,e,t){"use strict";n.exports=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}}},function(n,e,t){"use strict";var a=t(1),r=t(37),i=a["__core-js_shared__"]||r("__core-js_shared__",{});n.exports=i},function(n,e,t){"use strict";var a=t(1),r=Object.defineProperty;n.exports=function(n,e){try{r(a,n,{value:e,configurable:!0,writable:!0})}catch(t){a[n]=e}return e}},function(n,e,t){var a=t(148),r=t(12),i=Object.prototype,o=i.hasOwnProperty,l=i.propertyIsEnumerable,s=a(function(){return arguments}())?a:function(n){return r(n)&&o.call(n,"callee")&&!l.call(n,"callee")};n.exports=s},function(n,e,t){var a=t(10)(t(6),"Map");n.exports=a},function(n,e){n.exports=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}},function(n,e,t){var a=t(168),r=t(175),i=t(177),o=t(178),l=t(179);function s(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var a=n[e];this.set(a[0],a[1])}}s.prototype.clear=a,s.prototype.delete=r,s.prototype.get=i,s.prototype.has=o,s.prototype.set=l,n.exports=s},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n){t[++e]=n})),t}},function(n,e){n.exports=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991}},function(n,e,t){var a=t(5),r=t(45),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;n.exports=function(n,e){if(a(n))return!1;var t=typeof n;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=n&&!r(n))||(o.test(n)||!i.test(n)||null!=e&&n in Object(e))}},function(n,e,t){var a=t(13),r=t(12);n.exports=function(n){return"symbol"==typeof n||r(n)&&"[object Symbol]"==a(n)}},function(n,e){n.exports=function(n){return n}},function(n,e,t){"use strict";var a=t(2),r=t(3),i=t(18),o=Object,l=a("".split);n.exports=r((function(){return!o("z").propertyIsEnumerable(0)}))?function(n){return"String"===i(n)?l(n,""):o(n)}:o},function(n,e,t){"use strict";n.exports={}},function(n,e){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,e){var t=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,i=/^0o[0-7]+$/i,o=parseInt,l="object"==typeof global&&global&&global.Object===Object&&global,s="object"==typeof self&&self&&self.Object===Object&&self,c=l||s||Function("return this")(),d=Object.prototype.toString,u=Math.max,p=Math.min,m=function(){return c.Date.now()};function h(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function f(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&"[object Symbol]"==d.call(n)}(n))return NaN;if(h(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=h(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(t,"");var l=r.test(n);return l||i.test(n)?o(n.slice(2),l?2:8):a.test(n)?NaN:+n}n.exports=function(n,e,t){var a,r,i,o,l,s,c=0,d=!1,g=!1,v=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function b(e){var t=a,i=r;return a=r=void 0,c=e,o=n.apply(i,t)}function y(n){return c=n,l=setTimeout(E,e),d?b(n):o}function x(n){var t=n-s;return void 0===s||t>=e||t<0||g&&n-c>=i}function E(){var n=m();if(x(n))return T(n);l=setTimeout(E,function(n){var t=e-(n-s);return g?p(t,i-(n-c)):t}(n))}function T(n){return l=void 0,v&&a?b(n):(a=r=void 0,o)}function _(){var n=m(),t=x(n);if(a=arguments,r=this,s=n,t){if(void 0===l)return y(s);if(g)return l=setTimeout(E,e),b(s)}return void 0===l&&(l=setTimeout(E,e)),o}return e=f(e)||0,h(t)&&(d=!!t.leading,i=(g="maxWait"in t)?u(f(t.maxWait)||0,e):i,v="trailing"in t?!!t.trailing:v),_.cancel=function(){void 0!==l&&clearTimeout(l),c=0,a=s=r=l=void 0},_.flush=function(){return void 0===l?o:T(m())},_}},function(n,e,t){"use strict";var a=t(4),r=t(34),i=t(108),o=t(35),l=t(28),s=t(54),c=t(8),d=t(64),u=Object.getOwnPropertyDescriptor;e.f=a?u:function(n,e){if(n=l(n),e=s(e),d)try{return u(n,e)}catch(n){}if(c(n,e))return o(!r(i.f,n,e),n[e])}},function(n,e,t){"use strict";var a=t(53),r=TypeError;n.exports=function(n){if(a(n))throw new r("Can't call method on "+n);return n}},function(n,e,t){"use strict";n.exports=function(n){return null==n}},function(n,e,t){"use strict";var a=t(109),r=t(56);n.exports=function(n){var e=a(n,"string");return r(e)?e:e+""}},function(n,e,t){"use strict";var a="object"==typeof document&&document.all,r=void 0===a&&void 0!==a;n.exports={all:a,IS_HTMLDDA:r}},function(n,e,t){"use strict";var a=t(29),r=t(0),i=t(57),o=t(58),l=Object;n.exports=o?function(n){return"symbol"==typeof n}:function(n){var e=a("Symbol");return r(e)&&i(e.prototype,l(n))}},function(n,e,t){"use strict";var a=t(2);n.exports=a({}.isPrototypeOf)},function(n,e,t){"use strict";var a=t(59);n.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(n,e,t){"use strict";var a=t(60),r=t(3),i=t(1).String;n.exports=!!Object.getOwnPropertySymbols&&!r((function(){var n=Symbol("symbol detection");return!i(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&a&&a<41}))},function(n,e,t){"use strict";var a,r,i=t(1),o=t(110),l=i.process,s=i.Deno,c=l&&l.versions||s&&s.version,d=c&&c.v8;d&&(r=(a=d.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!r&&o&&(!(a=o.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=o.match(/Chrome\/(\d+)/))&&(r=+a[1]),n.exports=r},function(n,e,t){"use strict";var a=t(62),r=t(36);(n.exports=function(n,e){return r[n]||(r[n]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.2",mode:a?"pure":"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"})},function(n,e,t){"use strict";n.exports=!1},function(n,e,t){"use strict";var a=t(2),r=0,i=Math.random(),o=a(1..toString);n.exports=function(n){return"Symbol("+(void 0===n?"":n)+")_"+o(++r+i,36)}},function(n,e,t){"use strict";var a=t(4),r=t(3),i=t(100);n.exports=!a&&!r((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(n,e,t){"use strict";var a=t(8),r=t(118),i=t(51),o=t(17);n.exports=function(n,e,t){for(var l=r(e),s=o.f,c=i.f,d=0;d<l.length;d++){var u=l[d];a(n,u)||t&&a(t,u)||s(n,u,c(e,u))}}},function(n,e,t){"use strict";var a=t(122);n.exports=function(n){var e=+n;return e!=e||0===e?0:a(e)}},function(n,e,t){"use strict";var a=t(135),r=t(25),i=t(136);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,e=!1,t={};try{(n=a(Object.prototype,"__proto__","set"))(t,[]),e=t instanceof Array}catch(n){}return function(t,a){return r(t),i(a),e?n(t,a):t.__proto__=a,t}}():void 0)},function(n,e){n.exports=function(n,e){for(var t=-1,a=e.length,r=n.length;++t<a;)n[r+t]=e[t];return n}},function(n,e){var t="object"==typeof global&&global&&global.Object===Object&&global;n.exports=t},function(n,e,t){var a=t(19),r=t(159),i=t(160),o=t(161),l=t(162),s=t(163);function c(n){var e=this.__data__=new a(n);this.size=e.size}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=l,c.prototype.set=s,n.exports=c},function(n,e){n.exports=function(n,e){return n===e||n!=n&&e!=e}},function(n,e,t){var a=t(13),r=t(40);n.exports=function(n){if(!r(n))return!1;var e=a(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(n,e){var t=Function.prototype.toString;n.exports=function(n){if(null!=n){try{return t.call(n)}catch(n){}try{return n+""}catch(n){}}return""}},function(n,e,t){var a=t(180),r=t(12);n.exports=function n(e,t,i,o,l){return e===t||(null==e||null==t||!r(e)&&!r(t)?e!=e&&t!=t:a(e,t,i,o,n,l))}},function(n,e,t){var a=t(76),r=t(183),i=t(77);n.exports=function(n,e,t,o,l,s){var c=1&t,d=n.length,u=e.length;if(d!=u&&!(c&&u>d))return!1;var p=s.get(n),m=s.get(e);if(p&&m)return p==e&&m==n;var h=-1,f=!0,g=2&t?new a:void 0;for(s.set(n,e),s.set(e,n);++h<d;){var v=n[h],b=e[h];if(o)var y=c?o(b,v,h,e,n,s):o(v,b,h,n,e,s);if(void 0!==y){if(y)continue;f=!1;break}if(g){if(!r(e,(function(n,e){if(!i(g,e)&&(v===n||l(v,n,t,o,s)))return g.push(e)}))){f=!1;break}}else if(v!==b&&!l(v,b,t,o,s)){f=!1;break}}return s.delete(n),s.delete(e),f}},function(n,e,t){var a=t(41),r=t(181),i=t(182);function o(n){var e=-1,t=null==n?0:n.length;for(this.__data__=new a;++e<t;)this.add(n[e])}o.prototype.add=o.prototype.push=r,o.prototype.has=i,n.exports=o},function(n,e){n.exports=function(n,e){return n.has(e)}},function(n,e,t){var a=t(193),r=t(199),i=t(82);n.exports=function(n){return i(n)?a(n):r(n)}},function(n,e,t){(function(n){var a=t(6),r=t(195),i=e&&!e.nodeType&&e,o=i&&"object"==typeof n&&n&&!n.nodeType&&n,l=o&&o.exports===i?a.Buffer:void 0,s=(l?l.isBuffer:void 0)||r;n.exports=s}).call(this,t(49)(n))},function(n,e){var t=/^(?:0|[1-9]\d*)$/;n.exports=function(n,e){var a=typeof n;return!!(e=null==e?9007199254740991:e)&&("number"==a||"symbol"!=a&&t.test(n))&&n>-1&&n%1==0&&n<e}},function(n,e,t){var a=t(196),r=t(197),i=t(198),o=i&&i.isTypedArray,l=o?r(o):a;n.exports=l},function(n,e,t){var a=t(72),r=t(43);n.exports=function(n){return null!=n&&r(n.length)&&!a(n)}},function(n,e,t){var a=t(10)(t(6),"Set");n.exports=a},function(n,e,t){var a=t(40);n.exports=function(n){return n==n&&!a(n)}},function(n,e){n.exports=function(n,e){return function(t){return null!=t&&(t[n]===e&&(void 0!==e||n in Object(t)))}}},function(n,e,t){var a=t(87),r=t(23);n.exports=function(n,e){for(var t=0,i=(e=a(e,n)).length;null!=n&&t<i;)n=n[r(e[t++])];return t&&t==i?n:void 0}},function(n,e,t){var a=t(5),r=t(44),i=t(210),o=t(213);n.exports=function(n,e){return a(n)?n:r(n,e)?[n]:i(o(n))}},function(n,e){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){var a=t(146),r=t(151),i=t(222),o=t(230),l=t(239),s=t(105),c=i((function(n){var e=s(n);return l(e)&&(e=void 0),o(a(n,1,l,!0),r(e,2))}));n.exports=c},function(n,e,t){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var a=/["'&<>]/;n.exports=function(n){var e,t=""+n,r=a.exec(t);if(!r)return t;var i="",o=0,l=0;for(o=r.index;o<t.length;o++){switch(t.charCodeAt(o)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}l!==o&&(i+=t.substring(l,o)),l=o+1,i+=e}return l!==o?i+t.substring(l,o):i}},function(n,e,t){"use strict";t.r(e);var a={name:"CodeBlock",props:{title:{type:String,required:!0},active:{type:Boolean,default:!1}}},r=(t(242),t(7)),i=Object(r.a)(a,(function(){return(0,this._self._c)("div",{staticClass:"theme-code-block",class:{"theme-code-block__active":this.active}},[this._t("default")],2)}),[],!1,null,"4f1e9d0c",null);e.default=i.exports},function(n,e,t){"use strict";t.r(e);var a={name:"CodeGroup",data:()=>({codeTabs:[],activeCodeTabIndex:-1}),watch:{activeCodeTabIndex(n){this.codeTabs.forEach(n=>{n.elm.classList.remove("theme-code-block__active")}),this.codeTabs[n].elm.classList.add("theme-code-block__active")}},mounted(){this.codeTabs=(this.$slots.default||[]).filter(n=>Boolean(n.componentOptions)).map((n,e)=>(""===n.componentOptions.propsData.active&&(this.activeCodeTabIndex=e),{title:n.componentOptions.propsData.title,elm:n.elm})),-1===this.activeCodeTabIndex&&this.codeTabs.length>0&&(this.activeCodeTabIndex=0)},methods:{changeCodeTab(n){this.activeCodeTabIndex=n}}},r=(t(243),t(7)),i=Object(r.a)(a,(function(){var n=this,e=n._self._c;return e("div",{staticClass:"theme-code-group"},[e("div",{staticClass:"theme-code-group__nav"},[e("ul",{staticClass:"theme-code-group__ul"},n._l(n.codeTabs,(function(t,a){return e("li",{key:t.title,staticClass:"theme-code-group__li"},[e("button",{staticClass:"theme-code-group__nav-tab",class:{"theme-code-group__nav-tab-active":a===n.activeCodeTabIndex},on:{click:function(e){return n.changeCodeTab(a)}}},[n._v("\n            "+n._s(t.title)+"\n          ")])])})),0)]),n._v(" "),n._t("default"),n._v(" "),n.codeTabs.length<1?e("pre",{staticClass:"pre-blank"},[n._v("// Make sure to add code blocks to your code group")]):n._e()],2)}),[],!1,null,"2f5f1757",null);e.default=i.exports},function(n,e,t){"use strict";var a=t(0),r=t(17),i=t(102),o=t(37);n.exports=function(n,e,t,l){l||(l={});var s=l.enumerable,c=void 0!==l.name?l.name:e;if(a(t)&&i(t,c,l),l.global)s?n[e]=t:o(e,t);else{try{l.unsafe?n[e]&&(s=!0):delete n[e]}catch(n){}s?n[e]=t:r.f(n,e,{value:t,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})}return n}},function(n,e,t){"use strict";n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(n,e,t){"use strict";var a=t(140),r=String;n.exports=function(n){if("Symbol"===a(n))throw new TypeError("Cannot convert a Symbol value to a string");return r(n)}},function(n,e,t){"use strict";var a=t(1),r=t(9),i=a.document,o=r(i)&&r(i.createElement);n.exports=function(n){return o?i.createElement(n):{}}},function(n,e,t){"use strict";var a=t(4),r=t(3);n.exports=a&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(n,e,t){"use strict";var a=t(2),r=t(3),i=t(0),o=t(8),l=t(4),s=t(114).CONFIGURABLE,c=t(115),d=t(116),u=d.enforce,p=d.get,m=String,h=Object.defineProperty,f=a("".slice),g=a("".replace),v=a([].join),b=l&&!r((function(){return 8!==h((function(){}),"length",{value:8}).length})),y=String(String).split("String"),x=n.exports=function(n,e,t){"Symbol("===f(m(e),0,7)&&(e="["+g(m(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(e="get "+e),t&&t.setter&&(e="set "+e),(!o(n,"name")||s&&n.name!==e)&&(l?h(n,"name",{value:e,configurable:!0}):n.name=e),b&&t&&o(t,"arity")&&n.length!==t.arity&&h(n,"length",{value:t.arity});try{t&&o(t,"constructor")&&t.constructor?l&&h(n,"prototype",{writable:!1}):n.prototype&&(n.prototype=void 0)}catch(n){}var a=u(n);return o(a,"source")||(a.source=v(y,"string"==typeof e?e:"")),n};Function.prototype.toString=x((function(){return i(this)&&p(this).source||c(this)}),"toString")},function(n,e,t){"use strict";var a=t(61),r=t(63),i=a("keys");n.exports=function(n){return i[n]||(i[n]=r(n))}},function(n,e,t){"use strict";var a=t(2),r=t(8),i=t(28),o=t(120).indexOf,l=t(48),s=a([].push);n.exports=function(n,e){var t,a=i(n),c=0,d=[];for(t in a)!r(l,t)&&r(a,t)&&s(d,t);for(;e.length>c;)r(a,t=e[c++])&&(~o(d,t)||s(d,t));return d}},function(n,e){n.exports=function(n){var e=null==n?0:n.length;return e?n[e-1]:void 0}},function(n,e,t){n.exports=t(248)},function(n,e,t){"use strict";var a=t(26),r=t(126).left,i=t(127),o=t(60);a({target:"Array",proto:!0,forced:!t(128)&&o>79&&o<83||!i("reduce")},{reduce:function(n){var e=arguments.length;return r(this,n,e,e>1?arguments[1]:void 0)}})},function(n,e,t){"use strict";var a={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!a.call({1:2},1);e.f=i?function(n){var e=r(this,n);return!!e&&e.enumerable}:a},function(n,e,t){"use strict";var a=t(34),r=t(9),i=t(56),o=t(111),l=t(113),s=t(31),c=TypeError,d=s("toPrimitive");n.exports=function(n,e){if(!r(n)||i(n))return n;var t,s=o(n,d);if(s){if(void 0===e&&(e="default"),t=a(s,n,e),!r(t)||i(t))return t;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),l(n,e)}},function(n,e,t){"use strict";n.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},function(n,e,t){"use strict";var a=t(30),r=t(53);n.exports=function(n,e){var t=n[e];return r(t)?void 0:a(t)}},function(n,e,t){"use strict";var a=String;n.exports=function(n){try{return a(n)}catch(n){return"Object"}}},function(n,e,t){"use strict";var a=t(34),r=t(0),i=t(9),o=TypeError;n.exports=function(n,e){var t,l;if("string"===e&&r(t=n.toString)&&!i(l=a(t,n)))return l;if(r(t=n.valueOf)&&!i(l=a(t,n)))return l;if("string"!==e&&r(t=n.toString)&&!i(l=a(t,n)))return l;throw new o("Can't convert object to primitive value")}},function(n,e,t){"use strict";var a=t(4),r=t(8),i=Function.prototype,o=a&&Object.getOwnPropertyDescriptor,l=r(i,"name"),s=l&&"something"===function(){}.name,c=l&&(!a||a&&o(i,"name").configurable);n.exports={EXISTS:l,PROPER:s,CONFIGURABLE:c}},function(n,e,t){"use strict";var a=t(2),r=t(0),i=t(36),o=a(Function.toString);r(i.inspectSource)||(i.inspectSource=function(n){return o(n)}),n.exports=i.inspectSource},function(n,e,t){"use strict";var a,r,i,o=t(117),l=t(1),s=t(9),c=t(14),d=t(8),u=t(36),p=t(103),m=t(48),h=l.TypeError,f=l.WeakMap;if(o||u.state){var g=u.state||(u.state=new f);g.get=g.get,g.has=g.has,g.set=g.set,a=function(n,e){if(g.has(n))throw new h("Object already initialized");return e.facade=n,g.set(n,e),e},r=function(n){return g.get(n)||{}},i=function(n){return g.has(n)}}else{var v=p("state");m[v]=!0,a=function(n,e){if(d(n,v))throw new h("Object already initialized");return e.facade=n,c(n,v,e),e},r=function(n){return d(n,v)?n[v]:{}},i=function(n){return d(n,v)}}n.exports={set:a,get:r,has:i,enforce:function(n){return i(n)?r(n):a(n,{})},getterFor:function(n){return function(e){var t;if(!s(e)||(t=r(e)).type!==n)throw new h("Incompatible receiver, "+n+" required");return t}}}},function(n,e,t){"use strict";var a=t(1),r=t(0),i=a.WeakMap;n.exports=r(i)&&/native code/.test(String(i))},function(n,e,t){"use strict";var a=t(29),r=t(2),i=t(119),o=t(124),l=t(25),s=r([].concat);n.exports=a("Reflect","ownKeys")||function(n){var e=i.f(l(n)),t=o.f;return t?s(e,t(n)):e}},function(n,e,t){"use strict";var a=t(104),r=t(98).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(n){return a(n,r)}},function(n,e,t){"use strict";var a=t(28),r=t(121),i=t(33),o=function(n){return function(e,t,o){var l,s=a(e),c=i(s),d=r(o,c);if(n&&t!=t){for(;c>d;)if((l=s[d++])!=l)return!0}else for(;c>d;d++)if((n||d in s)&&s[d]===t)return n||d||0;return!n&&-1}};n.exports={includes:o(!0),indexOf:o(!1)}},function(n,e,t){"use strict";var a=t(66),r=Math.max,i=Math.min;n.exports=function(n,e){var t=a(n);return t<0?r(t+e,0):i(t,e)}},function(n,e,t){"use strict";var a=Math.ceil,r=Math.floor;n.exports=Math.trunc||function(n){var e=+n;return(e>0?r:a)(e)}},function(n,e,t){"use strict";var a=t(66),r=Math.min;n.exports=function(n){return n>0?r(a(n),9007199254740991):0}},function(n,e,t){"use strict";e.f=Object.getOwnPropertySymbols},function(n,e,t){"use strict";var a=t(3),r=t(0),i=/#|\.prototype\./,o=function(n,e){var t=s[l(n)];return t===d||t!==c&&(r(e)?a(e):!!e)},l=o.normalize=function(n){return String(n).replace(i,".").toLowerCase()},s=o.data={},c=o.NATIVE="N",d=o.POLYFILL="P";n.exports=o},function(n,e,t){"use strict";var a=t(30),r=t(32),i=t(47),o=t(33),l=TypeError,s=function(n){return function(e,t,s,c){a(t);var d=r(e),u=i(d),p=o(d),m=n?p-1:0,h=n?-1:1;if(s<2)for(;;){if(m in u){c=u[m],m+=h;break}if(m+=h,n?m<0:p<=m)throw new l("Reduce of empty array with no initial value")}for(;n?m>=0:p>m;m+=h)m in u&&(c=t(c,u[m],m,d));return c}};n.exports={left:s(!1),right:s(!0)}},function(n,e,t){"use strict";var a=t(3);n.exports=function(n,e){var t=[][n];return!!t&&a((function(){t.call(null,e||function(){return 1},1)}))}},function(n,e,t){"use strict";var a=t(1),r=t(18);n.exports="process"===r(a.process)},function(n,e,t){"use strict";var a=t(4),r=t(130),i=TypeError,o=Object.getOwnPropertyDescriptor,l=a&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(n){return n instanceof TypeError}}();n.exports=l?function(n,e){if(r(n)&&!o(n,"length").writable)throw new i("Cannot set read only .length");return n.length=e}:function(n,e){return n.length=e}},function(n,e,t){"use strict";var a=t(18);n.exports=Array.isArray||function(n){return"Array"===a(n)}},function(n,e,t){"use strict";var a=TypeError;n.exports=function(n){if(n>9007199254740991)throw a("Maximum allowed index exceeded");return n}},function(n,e,t){"use strict";var a=t(26),r=t(1),i=t(133),o=t(134),l=r.WebAssembly,s=7!==new Error("e",{cause:7}).cause,c=function(n,e){var t={};t[n]=o(n,e,s),a({global:!0,constructor:!0,arity:1,forced:s},t)},d=function(n,e){if(l&&l[n]){var t={};t[n]=o("WebAssembly."+n,e,s),a({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:s},t)}};c("Error",(function(n){return function(e){return i(n,this,arguments)}})),c("EvalError",(function(n){return function(e){return i(n,this,arguments)}})),c("RangeError",(function(n){return function(e){return i(n,this,arguments)}})),c("ReferenceError",(function(n){return function(e){return i(n,this,arguments)}})),c("SyntaxError",(function(n){return function(e){return i(n,this,arguments)}})),c("TypeError",(function(n){return function(e){return i(n,this,arguments)}})),c("URIError",(function(n){return function(e){return i(n,this,arguments)}})),d("CompileError",(function(n){return function(e){return i(n,this,arguments)}})),d("LinkError",(function(n){return function(e){return i(n,this,arguments)}})),d("RuntimeError",(function(n){return function(e){return i(n,this,arguments)}}))},function(n,e,t){"use strict";var a=t(27),r=Function.prototype,i=r.apply,o=r.call;n.exports="object"==typeof Reflect&&Reflect.apply||(a?o.bind(i):function(){return o.apply(i,arguments)})},function(n,e,t){"use strict";var a=t(29),r=t(8),i=t(14),o=t(57),l=t(67),s=t(65),c=t(137),d=t(138),u=t(139),p=t(142),m=t(143),h=t(4),f=t(62);n.exports=function(n,e,t,g){var v=g?2:1,b=n.split("."),y=b[b.length-1],x=a.apply(null,b);if(x){var E=x.prototype;if(!f&&r(E,"cause")&&delete E.cause,!t)return x;var T=a("Error"),_=e((function(n,e){var t=u(g?e:n,void 0),a=g?new x(n):new x;return void 0!==t&&i(a,"message",t),m(a,_,a.stack,2),this&&o(E,this)&&d(a,this,_),arguments.length>v&&p(a,arguments[v]),a}));if(_.prototype=E,"Error"!==y?l?l(_,T):s(_,T,{name:!0}):h&&"stackTraceLimit"in x&&(c(_,x,"stackTraceLimit"),c(_,x,"prepareStackTrace")),s(_,x),!f)try{E.name!==y&&i(E,"name",y),E.constructor=_}catch(n){}return _}}},function(n,e,t){"use strict";var a=t(2),r=t(30);n.exports=function(n,e,t){try{return a(r(Object.getOwnPropertyDescriptor(n,e)[t]))}catch(n){}}},function(n,e,t){"use strict";var a=t(0),r=String,i=TypeError;n.exports=function(n){if("object"==typeof n||a(n))return n;throw new i("Can't set "+r(n)+" as a prototype")}},function(n,e,t){"use strict";var a=t(17).f;n.exports=function(n,e,t){t in n||a(n,t,{configurable:!0,get:function(){return e[t]},set:function(n){e[t]=n}})}},function(n,e,t){"use strict";var a=t(0),r=t(9),i=t(67);n.exports=function(n,e,t){var o,l;return i&&a(o=e.constructor)&&o!==t&&r(l=o.prototype)&&l!==t.prototype&&i(n,l),n}},function(n,e,t){"use strict";var a=t(99);n.exports=function(n,e){return void 0===n?arguments.length<2?"":e:a(n)}},function(n,e,t){"use strict";var a=t(141),r=t(0),i=t(18),o=t(31)("toStringTag"),l=Object,s="Arguments"===i(function(){return arguments}());n.exports=a?i:function(n){var e,t,a;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(t=function(n,e){try{return n[e]}catch(n){}}(e=l(n),o))?t:s?i(e):"Object"===(a=i(e))&&r(e.callee)?"Arguments":a}},function(n,e,t){"use strict";var a={};a[t(31)("toStringTag")]="z",n.exports="[object z]"===String(a)},function(n,e,t){"use strict";var a=t(9),r=t(14);n.exports=function(n,e){a(e)&&"cause"in e&&r(n,"cause",e.cause)}},function(n,e,t){"use strict";var a=t(14),r=t(144),i=t(145),o=Error.captureStackTrace;n.exports=function(n,e,t,l){i&&(o?o(n,e):a(n,"stack",r(t,l)))}},function(n,e,t){"use strict";var a=t(2),r=Error,i=a("".replace),o=String(new r("zxcasd").stack),l=/\n\s*at [^:]*:[^\n]*/,s=l.test(o);n.exports=function(n,e){if(s&&"string"==typeof n&&!r.prepareStackTrace)for(;e--;)n=i(n,l,"");return n}},function(n,e,t){"use strict";var a=t(3),r=t(35);n.exports=!a((function(){var n=new Error("a");return!("stack"in n)||(Object.defineProperty(n,"stack",r(1,7)),7!==n.stack)}))},function(n,e,t){var a=t(68),r=t(147);n.exports=function n(e,t,i,o,l){var s=-1,c=e.length;for(i||(i=r),l||(l=[]);++s<c;){var d=e[s];t>0&&i(d)?t>1?n(d,t-1,i,o,l):a(l,d):o||(l[l.length]=d)}return l}},function(n,e,t){var a=t(15),r=t(38),i=t(5),o=a?a.isConcatSpreadable:void 0;n.exports=function(n){return i(n)||r(n)||!!(o&&n&&n[o])}},function(n,e,t){var a=t(13),r=t(12);n.exports=function(n){return r(n)&&"[object Arguments]"==a(n)}},function(n,e,t){var a=t(15),r=Object.prototype,i=r.hasOwnProperty,o=r.toString,l=a?a.toStringTag:void 0;n.exports=function(n){var e=i.call(n,l),t=n[l];try{n[l]=void 0;var a=!0}catch(n){}var r=o.call(n);return a&&(e?n[l]=t:delete n[l]),r}},function(n,e){var t=Object.prototype.toString;n.exports=function(n){return t.call(n)}},function(n,e,t){var a=t(152),r=t(208),i=t(46),o=t(5),l=t(219);n.exports=function(n){return"function"==typeof n?n:null==n?i:"object"==typeof n?o(n)?r(n[0],n[1]):a(n):l(n)}},function(n,e,t){var a=t(153),r=t(207),i=t(85);n.exports=function(n){var e=r(n);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(t){return t===n||a(t,n,e)}}},function(n,e,t){var a=t(70),r=t(74);n.exports=function(n,e,t,i){var o=t.length,l=o,s=!i;if(null==n)return!l;for(n=Object(n);o--;){var c=t[o];if(s&&c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++o<l;){var d=(c=t[o])[0],u=n[d],p=c[1];if(s&&c[2]){if(void 0===u&&!(d in n))return!1}else{var m=new a;if(i)var h=i(u,p,d,n,e,m);if(!(void 0===h?r(p,u,3,i,m):h))return!1}}return!0}},function(n,e){n.exports=function(){this.__data__=[],this.size=0}},function(n,e,t){var a=t(20),r=Array.prototype.splice;n.exports=function(n){var e=this.__data__,t=a(e,n);return!(t<0)&&(t==e.length-1?e.pop():r.call(e,t,1),--this.size,!0)}},function(n,e,t){var a=t(20);n.exports=function(n){var e=this.__data__,t=a(e,n);return t<0?void 0:e[t][1]}},function(n,e,t){var a=t(20);n.exports=function(n){return a(this.__data__,n)>-1}},function(n,e,t){var a=t(20);n.exports=function(n,e){var t=this.__data__,r=a(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}},function(n,e,t){var a=t(19);n.exports=function(){this.__data__=new a,this.size=0}},function(n,e){n.exports=function(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}},function(n,e){n.exports=function(n){return this.__data__.get(n)}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e,t){var a=t(19),r=t(39),i=t(41);n.exports=function(n,e){var t=this.__data__;if(t instanceof a){var o=t.__data__;if(!r||o.length<199)return o.push([n,e]),this.size=++t.size,this;t=this.__data__=new i(o)}return t.set(n,e),this.size=t.size,this}},function(n,e,t){var a=t(72),r=t(165),i=t(40),o=t(73),l=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,d=s.toString,u=c.hasOwnProperty,p=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(n){return!(!i(n)||r(n))&&(a(n)?p:l).test(o(n))}},function(n,e,t){var a,r=t(166),i=(a=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"";n.exports=function(n){return!!i&&i in n}},function(n,e,t){var a=t(6)["__core-js_shared__"];n.exports=a},function(n,e){n.exports=function(n,e){return null==n?void 0:n[e]}},function(n,e,t){var a=t(169),r=t(19),i=t(39);n.exports=function(){this.size=0,this.__data__={hash:new a,map:new(i||r),string:new a}}},function(n,e,t){var a=t(170),r=t(171),i=t(172),o=t(173),l=t(174);function s(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var a=n[e];this.set(a[0],a[1])}}s.prototype.clear=a,s.prototype.delete=r,s.prototype.get=i,s.prototype.has=o,s.prototype.set=l,n.exports=s},function(n,e,t){var a=t(21);n.exports=function(){this.__data__=a?a(null):{},this.size=0}},function(n,e){n.exports=function(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}},function(n,e,t){var a=t(21),r=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;if(a){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return r.call(e,n)?e[n]:void 0}},function(n,e,t){var a=t(21),r=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;return a?void 0!==e[n]:r.call(e,n)}},function(n,e,t){var a=t(21);n.exports=function(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=a&&void 0===e?"__lodash_hash_undefined__":e,this}},function(n,e,t){var a=t(22);n.exports=function(n){var e=a(this,n).delete(n);return this.size-=e?1:0,e}},function(n,e){n.exports=function(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}},function(n,e,t){var a=t(22);n.exports=function(n){return a(this,n).get(n)}},function(n,e,t){var a=t(22);n.exports=function(n){return a(this,n).has(n)}},function(n,e,t){var a=t(22);n.exports=function(n,e){var t=a(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}},function(n,e,t){var a=t(70),r=t(75),i=t(184),o=t(187),l=t(203),s=t(5),c=t(79),d=t(81),u="[object Object]",p=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,m,h,f){var g=s(n),v=s(e),b=g?"[object Array]":l(n),y=v?"[object Array]":l(e),x=(b="[object Arguments]"==b?u:b)==u,E=(y="[object Arguments]"==y?u:y)==u,T=b==y;if(T&&c(n)){if(!c(e))return!1;g=!0,x=!1}if(T&&!x)return f||(f=new a),g||d(n)?r(n,e,t,m,h,f):i(n,e,b,t,m,h,f);if(!(1&t)){var _=x&&p.call(n,"__wrapped__"),S=E&&p.call(e,"__wrapped__");if(_||S){var k=_?n.value():n,w=S?e.value():e;return f||(f=new a),h(k,w,t,m,f)}}return!!T&&(f||(f=new a),o(n,e,t,m,h,f))}},function(n,e){n.exports=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e){n.exports=function(n,e){for(var t=-1,a=null==n?0:n.length;++t<a;)if(e(n[t],t,n))return!0;return!1}},function(n,e,t){var a=t(15),r=t(185),i=t(71),o=t(75),l=t(186),s=t(42),c=a?a.prototype:void 0,d=c?c.valueOf:void 0;n.exports=function(n,e,t,a,c,u,p){switch(t){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!u(new r(n),new r(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var m=l;case"[object Set]":var h=1&a;if(m||(m=s),n.size!=e.size&&!h)return!1;var f=p.get(n);if(f)return f==e;a|=2,p.set(n,e);var g=o(m(n),m(e),a,c,u,p);return p.delete(n),g;case"[object Symbol]":if(d)return d.call(n)==d.call(e)}return!1}},function(n,e,t){var a=t(6).Uint8Array;n.exports=a},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n,a){t[++e]=[a,n]})),t}},function(n,e,t){var a=t(188),r=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,i,o,l){var s=1&t,c=a(n),d=c.length;if(d!=a(e).length&&!s)return!1;for(var u=d;u--;){var p=c[u];if(!(s?p in e:r.call(e,p)))return!1}var m=l.get(n),h=l.get(e);if(m&&h)return m==e&&h==n;var f=!0;l.set(n,e),l.set(e,n);for(var g=s;++u<d;){var v=n[p=c[u]],b=e[p];if(i)var y=s?i(b,v,p,e,n,l):i(v,b,p,n,e,l);if(!(void 0===y?v===b||o(v,b,t,i,l):y)){f=!1;break}g||(g="constructor"==p)}if(f&&!g){var x=n.constructor,E=e.constructor;x==E||!("constructor"in n)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof E&&E instanceof E||(f=!1)}return l.delete(n),l.delete(e),f}},function(n,e,t){var a=t(189),r=t(190),i=t(78);n.exports=function(n){return a(n,i,r)}},function(n,e,t){var a=t(68),r=t(5);n.exports=function(n,e,t){var i=e(n);return r(n)?i:a(i,t(n))}},function(n,e,t){var a=t(191),r=t(192),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,l=o?function(n){return null==n?[]:(n=Object(n),a(o(n),(function(e){return i.call(n,e)})))}:r;n.exports=l},function(n,e){n.exports=function(n,e){for(var t=-1,a=null==n?0:n.length,r=0,i=[];++t<a;){var o=n[t];e(o,t,n)&&(i[r++]=o)}return i}},function(n,e){n.exports=function(){return[]}},function(n,e,t){var a=t(194),r=t(38),i=t(5),o=t(79),l=t(80),s=t(81),c=Object.prototype.hasOwnProperty;n.exports=function(n,e){var t=i(n),d=!t&&r(n),u=!t&&!d&&o(n),p=!t&&!d&&!u&&s(n),m=t||d||u||p,h=m?a(n.length,String):[],f=h.length;for(var g in n)!e&&!c.call(n,g)||m&&("length"==g||u&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||l(g,f))||h.push(g);return h}},function(n,e){n.exports=function(n,e){for(var t=-1,a=Array(n);++t<n;)a[t]=e(t);return a}},function(n,e){n.exports=function(){return!1}},function(n,e,t){var a=t(13),r=t(43),i=t(12),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,n.exports=function(n){return i(n)&&r(n.length)&&!!o[a(n)]}},function(n,e){n.exports=function(n){return function(e){return n(e)}}},function(n,e,t){(function(n){var a=t(69),r=e&&!e.nodeType&&e,i=r&&"object"==typeof n&&n&&!n.nodeType&&n,o=i&&i.exports===r&&a.process,l=function(){try{var n=i&&i.require&&i.require("util").types;return n||o&&o.binding&&o.binding("util")}catch(n){}}();n.exports=l}).call(this,t(49)(n))},function(n,e,t){var a=t(200),r=t(201),i=Object.prototype.hasOwnProperty;n.exports=function(n){if(!a(n))return r(n);var e=[];for(var t in Object(n))i.call(n,t)&&"constructor"!=t&&e.push(t);return e}},function(n,e){var t=Object.prototype;n.exports=function(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||t)}},function(n,e,t){var a=t(202)(Object.keys,Object);n.exports=a},function(n,e){n.exports=function(n,e){return function(t){return n(e(t))}}},function(n,e,t){var a=t(204),r=t(39),i=t(205),o=t(83),l=t(206),s=t(13),c=t(73),d=c(a),u=c(r),p=c(i),m=c(o),h=c(l),f=s;(a&&"[object DataView]"!=f(new a(new ArrayBuffer(1)))||r&&"[object Map]"!=f(new r)||i&&"[object Promise]"!=f(i.resolve())||o&&"[object Set]"!=f(new o)||l&&"[object WeakMap]"!=f(new l))&&(f=function(n){var e=s(n),t="[object Object]"==e?n.constructor:void 0,a=t?c(t):"";if(a)switch(a){case d:return"[object DataView]";case u:return"[object Map]";case p:return"[object Promise]";case m:return"[object Set]";case h:return"[object WeakMap]"}return e}),n.exports=f},function(n,e,t){var a=t(10)(t(6),"DataView");n.exports=a},function(n,e,t){var a=t(10)(t(6),"Promise");n.exports=a},function(n,e,t){var a=t(10)(t(6),"WeakMap");n.exports=a},function(n,e,t){var a=t(84),r=t(78);n.exports=function(n){for(var e=r(n),t=e.length;t--;){var i=e[t],o=n[i];e[t]=[i,o,a(o)]}return e}},function(n,e,t){var a=t(74),r=t(209),i=t(216),o=t(44),l=t(84),s=t(85),c=t(23);n.exports=function(n,e){return o(n)&&l(e)?s(c(n),e):function(t){var o=r(t,n);return void 0===o&&o===e?i(t,n):a(e,o,3)}}},function(n,e,t){var a=t(86);n.exports=function(n,e,t){var r=null==n?void 0:a(n,e);return void 0===r?t:r}},function(n,e,t){var a=t(211),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=a((function(n){var e=[];return 46===n.charCodeAt(0)&&e.push(""),n.replace(r,(function(n,t,a,r){e.push(a?r.replace(i,"$1"):t||n)})),e}));n.exports=o},function(n,e,t){var a=t(212);n.exports=function(n){var e=a(n,(function(n){return 500===t.size&&t.clear(),n})),t=e.cache;return e}},function(n,e,t){var a=t(41);function r(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){var a=arguments,r=e?e.apply(this,a):a[0],i=t.cache;if(i.has(r))return i.get(r);var o=n.apply(this,a);return t.cache=i.set(r,o)||i,o};return t.cache=new(r.Cache||a),t}r.Cache=a,n.exports=r},function(n,e,t){var a=t(214);n.exports=function(n){return null==n?"":a(n)}},function(n,e,t){var a=t(15),r=t(215),i=t(5),o=t(45),l=a?a.prototype:void 0,s=l?l.toString:void 0;n.exports=function n(e){if("string"==typeof e)return e;if(i(e))return r(e,n)+"";if(o(e))return s?s.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(n,e){n.exports=function(n,e){for(var t=-1,a=null==n?0:n.length,r=Array(a);++t<a;)r[t]=e(n[t],t,n);return r}},function(n,e,t){var a=t(217),r=t(218);n.exports=function(n,e){return null!=n&&r(n,e,a)}},function(n,e){n.exports=function(n,e){return null!=n&&e in Object(n)}},function(n,e,t){var a=t(87),r=t(38),i=t(5),o=t(80),l=t(43),s=t(23);n.exports=function(n,e,t){for(var c=-1,d=(e=a(e,n)).length,u=!1;++c<d;){var p=s(e[c]);if(!(u=null!=n&&t(n,p)))break;n=n[p]}return u||++c!=d?u:!!(d=null==n?0:n.length)&&l(d)&&o(p,d)&&(i(n)||r(n))}},function(n,e,t){var a=t(220),r=t(221),i=t(44),o=t(23);n.exports=function(n){return i(n)?a(o(n)):r(n)}},function(n,e){n.exports=function(n){return function(e){return null==e?void 0:e[n]}}},function(n,e,t){var a=t(86);n.exports=function(n){return function(e){return a(e,n)}}},function(n,e,t){var a=t(46),r=t(223),i=t(225);n.exports=function(n,e){return i(r(n,e,a),n+"")}},function(n,e,t){var a=t(224),r=Math.max;n.exports=function(n,e,t){return e=r(void 0===e?n.length-1:e,0),function(){for(var i=arguments,o=-1,l=r(i.length-e,0),s=Array(l);++o<l;)s[o]=i[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=i[o];return c[e]=t(s),a(n,this,c)}}},function(n,e){n.exports=function(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}},function(n,e,t){var a=t(226),r=t(229)(a);n.exports=r},function(n,e,t){var a=t(227),r=t(228),i=t(46),o=r?function(n,e){return r(n,"toString",{configurable:!0,enumerable:!1,value:a(e),writable:!0})}:i;n.exports=o},function(n,e){n.exports=function(n){return function(){return n}}},function(n,e,t){var a=t(10),r=function(){try{var n=a(Object,"defineProperty");return n({},"",{}),n}catch(n){}}();n.exports=r},function(n,e){var t=Date.now;n.exports=function(n){var e=0,a=0;return function(){var r=t(),i=16-(r-a);if(a=r,i>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}},function(n,e,t){var a=t(76),r=t(231),i=t(236),o=t(77),l=t(237),s=t(42);n.exports=function(n,e,t){var c=-1,d=r,u=n.length,p=!0,m=[],h=m;if(t)p=!1,d=i;else if(u>=200){var f=e?null:l(n);if(f)return s(f);p=!1,d=o,h=new a}else h=e?[]:m;n:for(;++c<u;){var g=n[c],v=e?e(g):g;if(g=t||0!==g?g:0,p&&v==v){for(var b=h.length;b--;)if(h[b]===v)continue n;e&&h.push(v),m.push(g)}else d(h,v,t)||(h!==m&&h.push(v),m.push(g))}return m}},function(n,e,t){var a=t(232);n.exports=function(n,e){return!!(null==n?0:n.length)&&a(n,e,0)>-1}},function(n,e,t){var a=t(233),r=t(234),i=t(235);n.exports=function(n,e,t){return e==e?i(n,e,t):a(n,r,t)}},function(n,e){n.exports=function(n,e,t,a){for(var r=n.length,i=t+(a?1:-1);a?i--:++i<r;)if(e(n[i],i,n))return i;return-1}},function(n,e){n.exports=function(n){return n!=n}},function(n,e){n.exports=function(n,e,t){for(var a=t-1,r=n.length;++a<r;)if(n[a]===e)return a;return-1}},function(n,e){n.exports=function(n,e,t){for(var a=-1,r=null==n?0:n.length;++a<r;)if(t(e,n[a]))return!0;return!1}},function(n,e,t){var a=t(83),r=t(238),i=t(42),o=a&&1/i(new a([,-0]))[1]==1/0?function(n){return new a(n)}:r;n.exports=o},function(n,e){n.exports=function(){}},function(n,e,t){var a=t(82),r=t(12);n.exports=function(n){return r(n)&&a(n)}},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t(89)},function(n,e,t){"use strict";t(90)},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t(91)},function(n,e,t){"use strict";t(92)},function(n,e,t){"use strict";t.r(e);
/*!
 * Vue.js v2.7.15
 * (c) 2014-2023 Evan You
 * Released under the MIT License.
 */
var a=Object.freeze({}),r=Array.isArray;function i(n){return null==n}function o(n){return null!=n}function l(n){return!0===n}function s(n){return"string"==typeof n||"number"==typeof n||"symbol"==typeof n||"boolean"==typeof n}function c(n){return"function"==typeof n}function d(n){return null!==n&&"object"==typeof n}var u=Object.prototype.toString;function p(n){return"[object Object]"===u.call(n)}function m(n){return"[object RegExp]"===u.call(n)}function h(n){var e=parseFloat(String(n));return e>=0&&Math.floor(e)===e&&isFinite(n)}function f(n){return o(n)&&"function"==typeof n.then&&"function"==typeof n.catch}function g(n){return null==n?"":Array.isArray(n)||p(n)&&n.toString===u?JSON.stringify(n,null,2):String(n)}function v(n){var e=parseFloat(n);return isNaN(e)?n:e}function b(n,e){for(var t=Object.create(null),a=n.split(","),r=0;r<a.length;r++)t[a[r]]=!0;return e?function(n){return t[n.toLowerCase()]}:function(n){return t[n]}}b("slot,component",!0);var y=b("key,ref,slot,slot-scope,is");function x(n,e){var t=n.length;if(t){if(e===n[t-1])return void(n.length=t-1);var a=n.indexOf(e);if(a>-1)return n.splice(a,1)}}var E=Object.prototype.hasOwnProperty;function T(n,e){return E.call(n,e)}function _(n){var e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}var S=/-(\w)/g,k=_((function(n){return n.replace(S,(function(n,e){return e?e.toUpperCase():""}))})),w=_((function(n){return n.charAt(0).toUpperCase()+n.slice(1)})),C=/\B([A-Z])/g,A=_((function(n){return n.replace(C,"-$1").toLowerCase()}));var I=Function.prototype.bind?function(n,e){return n.bind(e)}:function(n,e){function t(t){var a=arguments.length;return a?a>1?n.apply(e,arguments):n.call(e,t):n.call(e)}return t._length=n.length,t};function z(n,e){e=e||0;for(var t=n.length-e,a=new Array(t);t--;)a[t]=n[t+e];return a}function L(n,e){for(var t in e)n[t]=e[t];return n}function M(n){for(var e={},t=0;t<n.length;t++)n[t]&&L(e,n[t]);return e}function j(n,e,t){}var B=function(n,e,t){return!1},P=function(n){return n};function O(n,e){if(n===e)return!0;var t=d(n),a=d(e);if(!t||!a)return!t&&!a&&String(n)===String(e);try{var r=Array.isArray(n),i=Array.isArray(e);if(r&&i)return n.length===e.length&&n.every((function(n,t){return O(n,e[t])}));if(n instanceof Date&&e instanceof Date)return n.getTime()===e.getTime();if(r||i)return!1;var o=Object.keys(n),l=Object.keys(e);return o.length===l.length&&o.every((function(t){return O(n[t],e[t])}))}catch(n){return!1}}function R(n,e){for(var t=0;t<n.length;t++)if(O(n[t],e))return t;return-1}function D(n){var e=!1;return function(){e||(e=!0,n.apply(this,arguments))}}function J(n,e){return n===e?0===n&&1/n!=1/e:n==n||e==e}var F=["component","directive","filter"],q=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],N={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:B,isReservedAttr:B,isUnknownElement:B,getTagNamespace:j,parsePlatformTagName:P,mustUseProp:B,async:!0,_lifecycleHooks:q},U=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function G(n){var e=(n+"").charCodeAt(0);return 36===e||95===e}function V(n,e,t,a){Object.defineProperty(n,e,{value:t,enumerable:!!a,writable:!0,configurable:!0})}var Q=new RegExp("[^".concat(U.source,".$_\\d]"));var H="__proto__"in{},$="undefined"!=typeof window,X=$&&window.navigator.userAgent.toLowerCase(),K=X&&/msie|trident/.test(X),W=X&&X.indexOf("msie 9.0")>0,Z=X&&X.indexOf("edge/")>0;X&&X.indexOf("android");var Y=X&&/iphone|ipad|ipod|ios/.test(X);X&&/chrome\/\d+/.test(X),X&&/phantomjs/.test(X);var nn,en=X&&X.match(/firefox\/(\d+)/),tn={}.watch,an=!1;if($)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){an=!0}}),window.addEventListener("test-passive",null,rn)}catch(n){}var on=function(){return void 0===nn&&(nn=!$&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),nn},ln=$&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function sn(n){return"function"==typeof n&&/native code/.test(n.toString())}var cn,dn="undefined"!=typeof Symbol&&sn(Symbol)&&"undefined"!=typeof Reflect&&sn(Reflect.ownKeys);cn="undefined"!=typeof Set&&sn(Set)?Set:function(){function n(){this.set=Object.create(null)}return n.prototype.has=function(n){return!0===this.set[n]},n.prototype.add=function(n){this.set[n]=!0},n.prototype.clear=function(){this.set=Object.create(null)},n}();var un=null;function pn(n){void 0===n&&(n=null),n||un&&un._scope.off(),un=n,n&&n._scope.on()}var mn=function(){function n(n,e,t,a,r,i,o,l){this.tag=n,this.data=e,this.children=t,this.text=a,this.elm=r,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=l,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(n.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),n}(),hn=function(n){void 0===n&&(n="");var e=new mn;return e.text=n,e.isComment=!0,e};function fn(n){return new mn(void 0,void 0,void 0,String(n))}function gn(n){var e=new mn(n.tag,n.data,n.children&&n.children.slice(),n.text,n.elm,n.context,n.componentOptions,n.asyncFactory);return e.ns=n.ns,e.isStatic=n.isStatic,e.key=n.key,e.isComment=n.isComment,e.fnContext=n.fnContext,e.fnOptions=n.fnOptions,e.fnScopeId=n.fnScopeId,e.asyncMeta=n.asyncMeta,e.isCloned=!0,e}var vn=0,bn=[],yn=function(){function n(){this._pending=!1,this.id=vn++,this.subs=[]}return n.prototype.addSub=function(n){this.subs.push(n)},n.prototype.removeSub=function(n){this.subs[this.subs.indexOf(n)]=null,this._pending||(this._pending=!0,bn.push(this))},n.prototype.depend=function(e){n.target&&n.target.addDep(this)},n.prototype.notify=function(n){var e=this.subs.filter((function(n){return n}));for(var t=0,a=e.length;t<a;t++){0,e[t].update()}},n}();yn.target=null;var xn=[];function En(n){xn.push(n),yn.target=n}function Tn(){xn.pop(),yn.target=xn[xn.length-1]}var _n=Array.prototype,Sn=Object.create(_n);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(n){var e=_n[n];V(Sn,n,(function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var r,i=e.apply(this,t),o=this.__ob__;switch(n){case"push":case"unshift":r=t;break;case"splice":r=t.slice(2)}return r&&o.observeArray(r),o.dep.notify(),i}))}));var kn=Object.getOwnPropertyNames(Sn),wn={},Cn=!0;function An(n){Cn=n}var In={notify:j,depend:j,addSub:j,removeSub:j},zn=function(){function n(n,e,t){if(void 0===e&&(e=!1),void 0===t&&(t=!1),this.value=n,this.shallow=e,this.mock=t,this.dep=t?In:new yn,this.vmCount=0,V(n,"__ob__",this),r(n)){if(!t)if(H)n.__proto__=Sn;else for(var a=0,i=kn.length;a<i;a++){V(n,l=kn[a],Sn[l])}e||this.observeArray(n)}else{var o=Object.keys(n);for(a=0;a<o.length;a++){var l;Mn(n,l=o[a],wn,void 0,e,t)}}}return n.prototype.observeArray=function(n){for(var e=0,t=n.length;e<t;e++)Ln(n[e],!1,this.mock)},n}();function Ln(n,e,t){return n&&T(n,"__ob__")&&n.__ob__ instanceof zn?n.__ob__:!Cn||!t&&on()||!r(n)&&!p(n)||!Object.isExtensible(n)||n.__v_skip||Jn(n)||n instanceof mn?void 0:new zn(n,e,t)}function Mn(n,e,t,a,i,o){var l=new yn,s=Object.getOwnPropertyDescriptor(n,e);if(!s||!1!==s.configurable){var c=s&&s.get,d=s&&s.set;c&&!d||t!==wn&&2!==arguments.length||(t=n[e]);var u=!i&&Ln(t,!1,o);return Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){var e=c?c.call(n):t;return yn.target&&(l.depend(),u&&(u.dep.depend(),r(e)&&Pn(e))),Jn(e)&&!i?e.value:e},set:function(e){var a=c?c.call(n):t;if(J(a,e)){if(d)d.call(n,e);else{if(c)return;if(!i&&Jn(a)&&!Jn(e))return void(a.value=e);t=e}u=!i&&Ln(e,!1,o),l.notify()}}}),l}}function jn(n,e,t){if(!Dn(n)){var a=n.__ob__;return r(n)&&h(e)?(n.length=Math.max(n.length,e),n.splice(e,1,t),a&&!a.shallow&&a.mock&&Ln(t,!1,!0),t):e in n&&!(e in Object.prototype)?(n[e]=t,t):n._isVue||a&&a.vmCount?t:a?(Mn(a.value,e,t,void 0,a.shallow,a.mock),a.dep.notify(),t):(n[e]=t,t)}}function Bn(n,e){if(r(n)&&h(e))n.splice(e,1);else{var t=n.__ob__;n._isVue||t&&t.vmCount||Dn(n)||T(n,e)&&(delete n[e],t&&t.dep.notify())}}function Pn(n){for(var e=void 0,t=0,a=n.length;t<a;t++)(e=n[t])&&e.__ob__&&e.__ob__.dep.depend(),r(e)&&Pn(e)}function On(n){return Rn(n,!0),V(n,"__v_isShallow",!0),n}function Rn(n,e){if(!Dn(n)){Ln(n,e,on());0}}function Dn(n){return!(!n||!n.__v_isReadonly)}function Jn(n){return!(!n||!0!==n.__v_isRef)}function Fn(n,e,t){Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:function(){var n=e[t];if(Jn(n))return n.value;var a=n&&n.__ob__;return a&&a.dep.depend(),n},set:function(n){var a=e[t];Jn(a)&&!Jn(n)?a.value=n:e[t]=n}})}"".concat("watcher"," callback"),"".concat("watcher"," getter"),"".concat("watcher"," cleanup");var qn;var Nn=function(){function n(n){void 0===n&&(n=!1),this.detached=n,this.active=!0,this.effects=[],this.cleanups=[],this.parent=qn,!n&&qn&&(this.index=(qn.scopes||(qn.scopes=[])).push(this)-1)}return n.prototype.run=function(n){if(this.active){var e=qn;try{return qn=this,n()}finally{qn=e}}else 0},n.prototype.on=function(){qn=this},n.prototype.off=function(){qn=this.parent},n.prototype.stop=function(n){if(this.active){var e=void 0,t=void 0;for(e=0,t=this.effects.length;e<t;e++)this.effects[e].teardown();for(e=0,t=this.cleanups.length;e<t;e++)this.cleanups[e]();if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!n){var a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this.active=!1}},n}();function Un(n){var e=n._provided,t=n.$parent&&n.$parent._provided;return t===e?n._provided=Object.create(t):e}var Gn=_((function(n){var e="&"===n.charAt(0),t="~"===(n=e?n.slice(1):n).charAt(0),a="!"===(n=t?n.slice(1):n).charAt(0);return{name:n=a?n.slice(1):n,once:t,capture:a,passive:e}}));function Vn(n,e){function t(){var n=t.fns;if(!r(n))return Ce(n,null,arguments,e,"v-on handler");for(var a=n.slice(),i=0;i<a.length;i++)Ce(a[i],null,arguments,e,"v-on handler")}return t.fns=n,t}function Qn(n,e,t,a,r,o){var s,c,d,u;for(s in n)c=n[s],d=e[s],u=Gn(s),i(c)||(i(d)?(i(c.fns)&&(c=n[s]=Vn(c,o)),l(u.once)&&(c=n[s]=r(u.name,c,u.capture)),t(u.name,c,u.capture,u.passive,u.params)):c!==d&&(d.fns=c,n[s]=d));for(s in e)i(n[s])&&a((u=Gn(s)).name,e[s],u.capture)}function Hn(n,e,t){var a;n instanceof mn&&(n=n.data.hook||(n.data.hook={}));var r=n[e];function s(){t.apply(this,arguments),x(a.fns,s)}i(r)?a=Vn([s]):o(r.fns)&&l(r.merged)?(a=r).fns.push(s):a=Vn([r,s]),a.merged=!0,n[e]=a}function $n(n,e,t,a,r){if(o(e)){if(T(e,t))return n[t]=e[t],r||delete e[t],!0;if(T(e,a))return n[t]=e[a],r||delete e[a],!0}return!1}function Xn(n){return s(n)?[fn(n)]:r(n)?function n(e,t){var a,c,d,u,p=[];for(a=0;a<e.length;a++)i(c=e[a])||"boolean"==typeof c||(d=p.length-1,u=p[d],r(c)?c.length>0&&(Kn((c=n(c,"".concat(t||"","_").concat(a)))[0])&&Kn(u)&&(p[d]=fn(u.text+c[0].text),c.shift()),p.push.apply(p,c)):s(c)?Kn(u)?p[d]=fn(u.text+c):""!==c&&p.push(fn(c)):Kn(c)&&Kn(u)?p[d]=fn(u.text+c.text):(l(e._isVList)&&o(c.tag)&&i(c.key)&&o(t)&&(c.key="__vlist".concat(t,"_").concat(a,"__")),p.push(c)));return p}(n):void 0}function Kn(n){return o(n)&&o(n.text)&&!1===n.isComment}function Wn(n,e){var t,a,i,l,s=null;if(r(n)||"string"==typeof n)for(s=new Array(n.length),t=0,a=n.length;t<a;t++)s[t]=e(n[t],t);else if("number"==typeof n)for(s=new Array(n),t=0;t<n;t++)s[t]=e(t+1,t);else if(d(n))if(dn&&n[Symbol.iterator]){s=[];for(var c=n[Symbol.iterator](),u=c.next();!u.done;)s.push(e(u.value,s.length)),u=c.next()}else for(i=Object.keys(n),s=new Array(i.length),t=0,a=i.length;t<a;t++)l=i[t],s[t]=e(n[l],l,t);return o(s)||(s=[]),s._isVList=!0,s}function Zn(n,e,t,a){var r,i=this.$scopedSlots[n];i?(t=t||{},a&&(t=L(L({},a),t)),r=i(t)||(c(e)?e():e)):r=this.$slots[n]||(c(e)?e():e);var o=t&&t.slot;return o?this.$createElement("template",{slot:o},r):r}function Yn(n){return zt(this.$options,"filters",n,!0)||P}function ne(n,e){return r(n)?-1===n.indexOf(e):n!==e}function ee(n,e,t,a,r){var i=N.keyCodes[e]||t;return r&&a&&!N.keyCodes[e]?ne(r,a):i?ne(i,n):a?A(a)!==e:void 0===n}function te(n,e,t,a,i){if(t)if(d(t)){r(t)&&(t=M(t));var o=void 0,l=function(r){if("class"===r||"style"===r||y(r))o=n;else{var l=n.attrs&&n.attrs.type;o=a||N.mustUseProp(e,l,r)?n.domProps||(n.domProps={}):n.attrs||(n.attrs={})}var s=k(r),c=A(r);s in o||c in o||(o[r]=t[r],i&&((n.on||(n.on={}))["update:".concat(r)]=function(n){t[r]=n}))};for(var s in t)l(s)}else;return n}function ae(n,e){var t=this._staticTrees||(this._staticTrees=[]),a=t[n];return a&&!e||ie(a=t[n]=this.$options.staticRenderFns[n].call(this._renderProxy,this._c,this),"__static__".concat(n),!1),a}function re(n,e,t){return ie(n,"__once__".concat(e).concat(t?"_".concat(t):""),!0),n}function ie(n,e,t){if(r(n))for(var a=0;a<n.length;a++)n[a]&&"string"!=typeof n[a]&&oe(n[a],"".concat(e,"_").concat(a),t);else oe(n,e,t)}function oe(n,e,t){n.isStatic=!0,n.key=e,n.isOnce=t}function le(n,e){if(e)if(p(e)){var t=n.on=n.on?L({},n.on):{};for(var a in e){var r=t[a],i=e[a];t[a]=r?[].concat(r,i):i}}else;return n}function se(n,e,t,a){e=e||{$stable:!t};for(var i=0;i<n.length;i++){var o=n[i];r(o)?se(o,e,t):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return a&&(e.$key=a),e}function ce(n,e){for(var t=0;t<e.length;t+=2){var a=e[t];"string"==typeof a&&a&&(n[e[t]]=e[t+1])}return n}function de(n,e){return"string"==typeof n?e+n:n}function ue(n){n._o=re,n._n=v,n._s=g,n._l=Wn,n._t=Zn,n._q=O,n._i=R,n._m=ae,n._f=Yn,n._k=ee,n._b=te,n._v=fn,n._e=hn,n._u=se,n._g=le,n._d=ce,n._p=de}function pe(n,e){if(!n||!n.length)return{};for(var t={},a=0,r=n.length;a<r;a++){var i=n[a],o=i.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,i.context!==e&&i.fnContext!==e||!o||null==o.slot)(t.default||(t.default=[])).push(i);else{var l=o.slot,s=t[l]||(t[l]=[]);"template"===i.tag?s.push.apply(s,i.children||[]):s.push(i)}}for(var c in t)t[c].every(me)&&delete t[c];return t}function me(n){return n.isComment&&!n.asyncFactory||" "===n.text}function he(n){return n.isComment&&n.asyncFactory}function fe(n,e,t,r){var i,o=Object.keys(t).length>0,l=e?!!e.$stable:!o,s=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(l&&r&&r!==a&&s===r.$key&&!o&&!r.$hasNormal)return r;for(var c in i={},e)e[c]&&"$"!==c[0]&&(i[c]=ge(n,t,c,e[c]))}else i={};for(var d in t)d in i||(i[d]=ve(t,d));return e&&Object.isExtensible(e)&&(e._normalized=i),V(i,"$stable",l),V(i,"$key",s),V(i,"$hasNormal",o),i}function ge(n,e,t,a){var i=function(){var e=un;pn(n);var t=arguments.length?a.apply(null,arguments):a({}),i=(t=t&&"object"==typeof t&&!r(t)?[t]:Xn(t))&&t[0];return pn(e),t&&(!i||1===t.length&&i.isComment&&!he(i))?void 0:t};return a.proxy&&Object.defineProperty(e,t,{get:i,enumerable:!0,configurable:!0}),i}function ve(n,e){return function(){return n[e]}}function be(n){return{get attrs(){if(!n._attrsProxy){var e=n._attrsProxy={};V(e,"_v_attr_proxy",!0),ye(e,n.$attrs,a,n,"$attrs")}return n._attrsProxy},get listeners(){n._listenersProxy||ye(n._listenersProxy={},n.$listeners,a,n,"$listeners");return n._listenersProxy},get slots(){return function(n){n._slotsProxy||Ee(n._slotsProxy={},n.$scopedSlots);return n._slotsProxy}(n)},emit:I(n.$emit,n),expose:function(e){e&&Object.keys(e).forEach((function(t){return Fn(n,e,t)}))}}}function ye(n,e,t,a,r){var i=!1;for(var o in e)o in n?e[o]!==t[o]&&(i=!0):(i=!0,xe(n,o,a,r));for(var o in n)o in e||(i=!0,delete n[o]);return i}function xe(n,e,t,a){Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){return t[a][e]}})}function Ee(n,e){for(var t in e)n[t]=e[t];for(var t in n)t in e||delete n[t]}var Te=null;function _e(n,e){return(n.__esModule||dn&&"Module"===n[Symbol.toStringTag])&&(n=n.default),d(n)?e.extend(n):n}function Se(n){if(r(n))for(var e=0;e<n.length;e++){var t=n[e];if(o(t)&&(o(t.componentOptions)||he(t)))return t}}function ke(n,e,t,a,u,p){return(r(t)||s(t))&&(u=a,a=t,t=void 0),l(p)&&(u=2),function(n,e,t,a,s){if(o(t)&&o(t.__ob__))return hn();o(t)&&o(t.is)&&(e=t.is);if(!e)return hn();0;r(a)&&c(a[0])&&((t=t||{}).scopedSlots={default:a[0]},a.length=0);2===s?a=Xn(a):1===s&&(a=function(n){for(var e=0;e<n.length;e++)if(r(n[e]))return Array.prototype.concat.apply([],n);return n}(a));var u,p;if("string"==typeof e){var m=void 0;p=n.$vnode&&n.$vnode.ns||N.getTagNamespace(e),u=N.isReservedTag(e)?new mn(N.parsePlatformTagName(e),t,a,void 0,void 0,n):t&&t.pre||!o(m=zt(n.$options,"components",e))?new mn(e,t,a,void 0,void 0,n):xt(m,t,n,a,e)}else u=xt(e,t,n,a);return r(u)?u:o(u)?(o(p)&&function n(e,t,a){e.ns=t,"foreignObject"===e.tag&&(t=void 0,a=!0);if(o(e.children))for(var r=0,s=e.children.length;r<s;r++){var c=e.children[r];o(c.tag)&&(i(c.ns)||l(a)&&"svg"!==c.tag)&&n(c,t,a)}}(u,p),o(t)&&function(n){d(n.style)&&Ne(n.style);d(n.class)&&Ne(n.class)}(t),u):hn()}(n,e,t,a,u)}function we(n,e,t){En();try{if(e)for(var a=e;a=a.$parent;){var r=a.$options.errorCaptured;if(r)for(var i=0;i<r.length;i++)try{if(!1===r[i].call(a,n,e,t))return}catch(n){Ae(n,a,"errorCaptured hook")}}Ae(n,e,t)}finally{Tn()}}function Ce(n,e,t,a,r){var i;try{(i=t?n.apply(e,t):n.call(e))&&!i._isVue&&f(i)&&!i._handled&&(i.catch((function(n){return we(n,a,r+" (Promise/async)")})),i._handled=!0)}catch(n){we(n,a,r)}return i}function Ae(n,e,t){if(N.errorHandler)try{return N.errorHandler.call(null,n,e,t)}catch(e){e!==n&&Ie(e,null,"config.errorHandler")}Ie(n,e,t)}function Ie(n,e,t){if(!$||"undefined"==typeof console)throw n;console.error(n)}var ze,Le=!1,Me=[],je=!1;function Be(){je=!1;var n=Me.slice(0);Me.length=0;for(var e=0;e<n.length;e++)n[e]()}if("undefined"!=typeof Promise&&sn(Promise)){var Pe=Promise.resolve();ze=function(){Pe.then(Be),Y&&setTimeout(j)},Le=!0}else if(K||"undefined"==typeof MutationObserver||!sn(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())ze="undefined"!=typeof setImmediate&&sn(setImmediate)?function(){setImmediate(Be)}:function(){setTimeout(Be,0)};else{var Oe=1,Re=new MutationObserver(Be),De=document.createTextNode(String(Oe));Re.observe(De,{characterData:!0}),ze=function(){Oe=(Oe+1)%2,De.data=String(Oe)},Le=!0}function Je(n,e){var t;if(Me.push((function(){if(n)try{n.call(e)}catch(n){we(n,e,"nextTick")}else t&&t(e)})),je||(je=!0,ze()),!n&&"undefined"!=typeof Promise)return new Promise((function(n){t=n}))}function Fe(n){return function(e,t){if(void 0===t&&(t=un),t)return function(n,e,t){var a=n.$options;a[e]=wt(a[e],t)}(t,n,e)}}Fe("beforeMount"),Fe("mounted"),Fe("beforeUpdate"),Fe("updated"),Fe("beforeDestroy"),Fe("destroyed"),Fe("activated"),Fe("deactivated"),Fe("serverPrefetch"),Fe("renderTracked"),Fe("renderTriggered"),Fe("errorCaptured");var qe=new cn;function Ne(n){return function n(e,t){var a,i,o=r(e);if(!o&&!d(e)||e.__v_skip||Object.isFrozen(e)||e instanceof mn)return;if(e.__ob__){var l=e.__ob__.dep.id;if(t.has(l))return;t.add(l)}if(o)for(a=e.length;a--;)n(e[a],t);else if(Jn(e))n(e.value,t);else for(i=Object.keys(e),a=i.length;a--;)n(e[i[a]],t)}(n,qe),qe.clear(),n}var Ue,Ge=0,Ve=function(){function n(n,e,t,a,r){var i,o;i=this,void 0===(o=qn&&!qn._vm?qn:n?n._scope:void 0)&&(o=qn),o&&o.active&&o.effects.push(i),(this.vm=n)&&r&&(n._watcher=this),a?(this.deep=!!a.deep,this.user=!!a.user,this.lazy=!!a.lazy,this.sync=!!a.sync,this.before=a.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=t,this.id=++Ge,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new cn,this.newDepIds=new cn,this.expression="",c(e)?this.getter=e:(this.getter=function(n){if(!Q.test(n)){var e=n.split(".");return function(n){for(var t=0;t<e.length;t++){if(!n)return;n=n[e[t]]}return n}}}(e),this.getter||(this.getter=j)),this.value=this.lazy?void 0:this.get()}return n.prototype.get=function(){var n;En(this);var e=this.vm;try{n=this.getter.call(e,e)}catch(n){if(!this.user)throw n;we(n,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&Ne(n),Tn(),this.cleanupDeps()}return n},n.prototype.addDep=function(n){var e=n.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(n),this.depIds.has(e)||n.addSub(this))},n.prototype.cleanupDeps=function(){for(var n=this.deps.length;n--;){var e=this.deps[n];this.newDepIds.has(e.id)||e.removeSub(this)}var t=this.depIds;this.depIds=this.newDepIds,this.newDepIds=t,this.newDepIds.clear(),t=this.deps,this.deps=this.newDeps,this.newDeps=t,this.newDeps.length=0},n.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():pt(this)},n.prototype.run=function(){if(this.active){var n=this.get();if(n!==this.value||d(n)||this.deep){var e=this.value;if(this.value=n,this.user){var t='callback for watcher "'.concat(this.expression,'"');Ce(this.cb,this.vm,[n,e],this.vm,t)}else this.cb.call(this.vm,n,e)}}},n.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},n.prototype.depend=function(){for(var n=this.deps.length;n--;)this.deps[n].depend()},n.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&x(this.vm._scope.effects,this),this.active){for(var n=this.deps.length;n--;)this.deps[n].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},n}();function Qe(n,e){Ue.$on(n,e)}function He(n,e){Ue.$off(n,e)}function $e(n,e){var t=Ue;return function a(){var r=e.apply(null,arguments);null!==r&&t.$off(n,a)}}function Xe(n,e,t){Ue=n,Qn(e,t||{},Qe,He,$e,n),Ue=void 0}var Ke=null;function We(n){var e=Ke;return Ke=n,function(){Ke=e}}function Ze(n){for(;n&&(n=n.$parent);)if(n._inactive)return!0;return!1}function Ye(n,e){if(e){if(n._directInactive=!1,Ze(n))return}else if(n._directInactive)return;if(n._inactive||null===n._inactive){n._inactive=!1;for(var t=0;t<n.$children.length;t++)Ye(n.$children[t]);nt(n,"activated")}}function nt(n,e,t,a){void 0===a&&(a=!0),En();var r=un,i=qn;a&&pn(n);var o=n.$options[e],l="".concat(e," hook");if(o)for(var s=0,c=o.length;s<c;s++)Ce(o[s],n,t||null,n,l);n._hasHookEvent&&n.$emit("hook:"+e),a&&(pn(r),i&&i.on()),Tn()}var et=[],tt=[],at={},rt=!1,it=!1,ot=0;var lt=0,st=Date.now;if($&&!K){var ct=window.performance;ct&&"function"==typeof ct.now&&st()>document.createEvent("Event").timeStamp&&(st=function(){return ct.now()})}var dt=function(n,e){if(n.post){if(!e.post)return 1}else if(e.post)return-1;return n.id-e.id};function ut(){var n,e;for(lt=st(),it=!0,et.sort(dt),ot=0;ot<et.length;ot++)(n=et[ot]).before&&n.before(),e=n.id,at[e]=null,n.run();var t=tt.slice(),a=et.slice();ot=et.length=tt.length=0,at={},rt=it=!1,function(n){for(var e=0;e<n.length;e++)n[e]._inactive=!0,Ye(n[e],!0)}(t),function(n){var e=n.length;for(;e--;){var t=n[e],a=t.vm;a&&a._watcher===t&&a._isMounted&&!a._isDestroyed&&nt(a,"updated")}}(a),function(){for(var n=0;n<bn.length;n++){var e=bn[n];e.subs=e.subs.filter((function(n){return n})),e._pending=!1}bn.length=0}(),ln&&N.devtools&&ln.emit("flush")}function pt(n){var e=n.id;if(null==at[e]&&(n!==yn.target||!n.noRecurse)){if(at[e]=!0,it){for(var t=et.length-1;t>ot&&et[t].id>n.id;)t--;et.splice(t+1,0,n)}else et.push(n);rt||(rt=!0,Je(ut))}}function mt(n,e){if(n){for(var t=Object.create(null),a=dn?Reflect.ownKeys(n):Object.keys(n),r=0;r<a.length;r++){var i=a[r];if("__ob__"!==i){var o=n[i].from;if(o in e._provided)t[i]=e._provided[o];else if("default"in n[i]){var l=n[i].default;t[i]=c(l)?l.call(e):l}else 0}}return t}}function ht(n,e,t,i,o){var s,c=this,d=o.options;T(i,"_uid")?(s=Object.create(i))._original=i:(s=i,i=i._original);var u=l(d._compiled),p=!u;this.data=n,this.props=e,this.children=t,this.parent=i,this.listeners=n.on||a,this.injections=mt(d.inject,i),this.slots=function(){return c.$slots||fe(i,n.scopedSlots,c.$slots=pe(t,i)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return fe(i,n.scopedSlots,this.slots())}}),u&&(this.$options=d,this.$slots=this.slots(),this.$scopedSlots=fe(i,n.scopedSlots,this.$slots)),d._scopeId?this._c=function(n,e,t,a){var o=ke(s,n,e,t,a,p);return o&&!r(o)&&(o.fnScopeId=d._scopeId,o.fnContext=i),o}:this._c=function(n,e,t,a){return ke(s,n,e,t,a,p)}}function ft(n,e,t,a,r){var i=gn(n);return i.fnContext=t,i.fnOptions=a,e.slot&&((i.data||(i.data={})).slot=e.slot),i}function gt(n,e){for(var t in e)n[k(t)]=e[t]}function vt(n){return n.name||n.__name||n._componentTag}ue(ht.prototype);var bt={init:function(n,e){if(n.componentInstance&&!n.componentInstance._isDestroyed&&n.data.keepAlive){var t=n;bt.prepatch(t,t)}else{(n.componentInstance=function(n,e){var t={_isComponent:!0,_parentVnode:n,parent:e},a=n.data.inlineTemplate;o(a)&&(t.render=a.render,t.staticRenderFns=a.staticRenderFns);return new n.componentOptions.Ctor(t)}(n,Ke)).$mount(e?n.elm:void 0,e)}},prepatch:function(n,e){var t=e.componentOptions;!function(n,e,t,r,i){var o=r.data.scopedSlots,l=n.$scopedSlots,s=!!(o&&!o.$stable||l!==a&&!l.$stable||o&&n.$scopedSlots.$key!==o.$key||!o&&n.$scopedSlots.$key),c=!!(i||n.$options._renderChildren||s),d=n.$vnode;n.$options._parentVnode=r,n.$vnode=r,n._vnode&&(n._vnode.parent=r),n.$options._renderChildren=i;var u=r.data.attrs||a;n._attrsProxy&&ye(n._attrsProxy,u,d.data&&d.data.attrs||a,n,"$attrs")&&(c=!0),n.$attrs=u,t=t||a;var p=n.$options._parentListeners;if(n._listenersProxy&&ye(n._listenersProxy,t,p||a,n,"$listeners"),n.$listeners=n.$options._parentListeners=t,Xe(n,t,p),e&&n.$options.props){An(!1);for(var m=n._props,h=n.$options._propKeys||[],f=0;f<h.length;f++){var g=h[f],v=n.$options.props;m[g]=Lt(g,v,e,n)}An(!0),n.$options.propsData=e}c&&(n.$slots=pe(i,r.context),n.$forceUpdate())}(e.componentInstance=n.componentInstance,t.propsData,t.listeners,e,t.children)},insert:function(n){var e,t=n.context,a=n.componentInstance;a._isMounted||(a._isMounted=!0,nt(a,"mounted")),n.data.keepAlive&&(t._isMounted?((e=a)._inactive=!1,tt.push(e)):Ye(a,!0))},destroy:function(n){var e=n.componentInstance;e._isDestroyed||(n.data.keepAlive?function n(e,t){if(!(t&&(e._directInactive=!0,Ze(e))||e._inactive)){e._inactive=!0;for(var a=0;a<e.$children.length;a++)n(e.$children[a]);nt(e,"deactivated")}}(e,!0):e.$destroy())}},yt=Object.keys(bt);function xt(n,e,t,s,c){if(!i(n)){var u=t.$options._base;if(d(n)&&(n=u.extend(n)),"function"==typeof n){var p;if(i(n.cid)&&void 0===(n=function(n,e){if(l(n.error)&&o(n.errorComp))return n.errorComp;if(o(n.resolved))return n.resolved;var t=Te;if(t&&o(n.owners)&&-1===n.owners.indexOf(t)&&n.owners.push(t),l(n.loading)&&o(n.loadingComp))return n.loadingComp;if(t&&!o(n.owners)){var a=n.owners=[t],r=!0,s=null,c=null;t.$on("hook:destroyed",(function(){return x(a,t)}));var u=function(n){for(var e=0,t=a.length;e<t;e++)a[e].$forceUpdate();n&&(a.length=0,null!==s&&(clearTimeout(s),s=null),null!==c&&(clearTimeout(c),c=null))},p=D((function(t){n.resolved=_e(t,e),r?a.length=0:u(!0)})),m=D((function(e){o(n.errorComp)&&(n.error=!0,u(!0))})),h=n(p,m);return d(h)&&(f(h)?i(n.resolved)&&h.then(p,m):f(h.component)&&(h.component.then(p,m),o(h.error)&&(n.errorComp=_e(h.error,e)),o(h.loading)&&(n.loadingComp=_e(h.loading,e),0===h.delay?n.loading=!0:s=setTimeout((function(){s=null,i(n.resolved)&&i(n.error)&&(n.loading=!0,u(!1))}),h.delay||200)),o(h.timeout)&&(c=setTimeout((function(){c=null,i(n.resolved)&&m(null)}),h.timeout)))),r=!1,n.loading?n.loadingComp:n.resolved}}(p=n,u)))return function(n,e,t,a,r){var i=hn();return i.asyncFactory=n,i.asyncMeta={data:e,context:t,children:a,tag:r},i}(p,e,t,s,c);e=e||{},Vt(n),o(e.model)&&function(n,e){var t=n.model&&n.model.prop||"value",a=n.model&&n.model.event||"input";(e.attrs||(e.attrs={}))[t]=e.model.value;var i=e.on||(e.on={}),l=i[a],s=e.model.callback;o(l)?(r(l)?-1===l.indexOf(s):l!==s)&&(i[a]=[s].concat(l)):i[a]=s}(n.options,e);var m=function(n,e,t){var a=e.options.props;if(!i(a)){var r={},l=n.attrs,s=n.props;if(o(l)||o(s))for(var c in a){var d=A(c);$n(r,s,c,d,!0)||$n(r,l,c,d,!1)}return r}}(e,n);if(l(n.options.functional))return function(n,e,t,i,l){var s=n.options,c={},d=s.props;if(o(d))for(var u in d)c[u]=Lt(u,d,e||a);else o(t.attrs)&&gt(c,t.attrs),o(t.props)&&gt(c,t.props);var p=new ht(t,c,l,i,n),m=s.render.call(null,p._c,p);if(m instanceof mn)return ft(m,t,p.parent,s,p);if(r(m)){for(var h=Xn(m)||[],f=new Array(h.length),g=0;g<h.length;g++)f[g]=ft(h[g],t,p.parent,s,p);return f}}(n,m,e,t,s);var h=e.on;if(e.on=e.nativeOn,l(n.options.abstract)){var g=e.slot;e={},g&&(e.slot=g)}!function(n){for(var e=n.hook||(n.hook={}),t=0;t<yt.length;t++){var a=yt[t],r=e[a],i=bt[a];r===i||r&&r._merged||(e[a]=r?Et(i,r):i)}}(e);var v=vt(n.options)||c;return new mn("vue-component-".concat(n.cid).concat(v?"-".concat(v):""),e,void 0,void 0,void 0,t,{Ctor:n,propsData:m,listeners:h,tag:c,children:s},p)}}}function Et(n,e){var t=function(t,a){n(t,a),e(t,a)};return t._merged=!0,t}var Tt=j,_t=N.optionMergeStrategies;function St(n,e,t){if(void 0===t&&(t=!0),!e)return n;for(var a,r,i,o=dn?Reflect.ownKeys(e):Object.keys(e),l=0;l<o.length;l++)"__ob__"!==(a=o[l])&&(r=n[a],i=e[a],t&&T(n,a)?r!==i&&p(r)&&p(i)&&St(r,i):jn(n,a,i));return n}function kt(n,e,t){return t?function(){var a=c(e)?e.call(t,t):e,r=c(n)?n.call(t,t):n;return a?St(a,r):r}:e?n?function(){return St(c(e)?e.call(this,this):e,c(n)?n.call(this,this):n)}:e:n}function wt(n,e){var t=e?n?n.concat(e):r(e)?e:[e]:n;return t?function(n){for(var e=[],t=0;t<n.length;t++)-1===e.indexOf(n[t])&&e.push(n[t]);return e}(t):t}function Ct(n,e,t,a){var r=Object.create(n||null);return e?L(r,e):r}_t.data=function(n,e,t){return t?kt(n,e,t):e&&"function"!=typeof e?n:kt(n,e)},q.forEach((function(n){_t[n]=wt})),F.forEach((function(n){_t[n+"s"]=Ct})),_t.watch=function(n,e,t,a){if(n===tn&&(n=void 0),e===tn&&(e=void 0),!e)return Object.create(n||null);if(!n)return e;var i={};for(var o in L(i,n),e){var l=i[o],s=e[o];l&&!r(l)&&(l=[l]),i[o]=l?l.concat(s):r(s)?s:[s]}return i},_t.props=_t.methods=_t.inject=_t.computed=function(n,e,t,a){if(!n)return e;var r=Object.create(null);return L(r,n),e&&L(r,e),r},_t.provide=function(n,e){return n?function(){var t=Object.create(null);return St(t,c(n)?n.call(this):n),e&&St(t,c(e)?e.call(this):e,!1),t}:e};var At=function(n,e){return void 0===e?n:e};function It(n,e,t){if(c(e)&&(e=e.options),function(n,e){var t=n.props;if(t){var a,i,o={};if(r(t))for(a=t.length;a--;)"string"==typeof(i=t[a])&&(o[k(i)]={type:null});else if(p(t))for(var l in t)i=t[l],o[k(l)]=p(i)?i:{type:i};else 0;n.props=o}}(e),function(n,e){var t=n.inject;if(t){var a=n.inject={};if(r(t))for(var i=0;i<t.length;i++)a[t[i]]={from:t[i]};else if(p(t))for(var o in t){var l=t[o];a[o]=p(l)?L({from:o},l):{from:l}}else 0}}(e),function(n){var e=n.directives;if(e)for(var t in e){var a=e[t];c(a)&&(e[t]={bind:a,update:a})}}(e),!e._base&&(e.extends&&(n=It(n,e.extends,t)),e.mixins))for(var a=0,i=e.mixins.length;a<i;a++)n=It(n,e.mixins[a],t);var o,l={};for(o in n)s(o);for(o in e)T(n,o)||s(o);function s(a){var r=_t[a]||At;l[a]=r(n[a],e[a],t,a)}return l}function zt(n,e,t,a){if("string"==typeof t){var r=n[e];if(T(r,t))return r[t];var i=k(t);if(T(r,i))return r[i];var o=w(i);return T(r,o)?r[o]:r[t]||r[i]||r[o]}}function Lt(n,e,t,a){var r=e[n],i=!T(t,n),o=t[n],l=Pt(Boolean,r.type);if(l>-1)if(i&&!T(r,"default"))o=!1;else if(""===o||o===A(n)){var s=Pt(String,r.type);(s<0||l<s)&&(o=!0)}if(void 0===o){o=function(n,e,t){if(!T(e,"default"))return;var a=e.default;0;if(n&&n.$options.propsData&&void 0===n.$options.propsData[t]&&void 0!==n._props[t])return n._props[t];return c(a)&&"Function"!==jt(e.type)?a.call(n):a}(a,r,n);var d=Cn;An(!0),Ln(o),An(d)}return o}var Mt=/^\s*function (\w+)/;function jt(n){var e=n&&n.toString().match(Mt);return e?e[1]:""}function Bt(n,e){return jt(n)===jt(e)}function Pt(n,e){if(!r(e))return Bt(e,n)?0:-1;for(var t=0,a=e.length;t<a;t++)if(Bt(e[t],n))return t;return-1}var Ot={enumerable:!0,configurable:!0,get:j,set:j};function Rt(n,e,t){Ot.get=function(){return this[e][t]},Ot.set=function(n){this[e][t]=n},Object.defineProperty(n,t,Ot)}function Dt(n){var e=n.$options;if(e.props&&function(n,e){var t=n.$options.propsData||{},a=n._props=On({}),r=n.$options._propKeys=[];n.$parent&&An(!1);var i=function(i){r.push(i);var o=Lt(i,e,t,n);Mn(a,i,o),i in n||Rt(n,"_props",i)};for(var o in e)i(o);An(!0)}(n,e.props),function(n){var e=n.$options,t=e.setup;if(t){var a=n._setupContext=be(n);pn(n),En();var r=Ce(t,null,[n._props||On({}),a],n,"setup");if(Tn(),pn(),c(r))e.render=r;else if(d(r))if(n._setupState=r,r.__sfc){var i=n._setupProxy={};for(var o in r)"__sfc"!==o&&Fn(i,r,o)}else for(var o in r)G(o)||Fn(n,r,o);else 0}}(n),e.methods&&function(n,e){n.$options.props;for(var t in e)n[t]="function"!=typeof e[t]?j:I(e[t],n)}(n,e.methods),e.data)!function(n){var e=n.$options.data;p(e=n._data=c(e)?function(n,e){En();try{return n.call(e,e)}catch(n){return we(n,e,"data()"),{}}finally{Tn()}}(e,n):e||{})||(e={});var t=Object.keys(e),a=n.$options.props,r=(n.$options.methods,t.length);for(;r--;){var i=t[r];0,a&&T(a,i)||G(i)||Rt(n,"_data",i)}var o=Ln(e);o&&o.vmCount++}(n);else{var t=Ln(n._data={});t&&t.vmCount++}e.computed&&function(n,e){var t=n._computedWatchers=Object.create(null),a=on();for(var r in e){var i=e[r],o=c(i)?i:i.get;0,a||(t[r]=new Ve(n,o||j,j,Jt)),r in n||Ft(n,r,i)}}(n,e.computed),e.watch&&e.watch!==tn&&function(n,e){for(var t in e){var a=e[t];if(r(a))for(var i=0;i<a.length;i++)Ut(n,t,a[i]);else Ut(n,t,a)}}(n,e.watch)}var Jt={lazy:!0};function Ft(n,e,t){var a=!on();c(t)?(Ot.get=a?qt(e):Nt(t),Ot.set=j):(Ot.get=t.get?a&&!1!==t.cache?qt(e):Nt(t.get):j,Ot.set=t.set||j),Object.defineProperty(n,e,Ot)}function qt(n){return function(){var e=this._computedWatchers&&this._computedWatchers[n];if(e)return e.dirty&&e.evaluate(),yn.target&&e.depend(),e.value}}function Nt(n){return function(){return n.call(this,this)}}function Ut(n,e,t,a){return p(t)&&(a=t,t=t.handler),"string"==typeof t&&(t=n[t]),n.$watch(e,t,a)}var Gt=0;function Vt(n){var e=n.options;if(n.super){var t=Vt(n.super);if(t!==n.superOptions){n.superOptions=t;var a=function(n){var e,t=n.options,a=n.sealedOptions;for(var r in t)t[r]!==a[r]&&(e||(e={}),e[r]=t[r]);return e}(n);a&&L(n.extendOptions,a),(e=n.options=It(t,n.extendOptions)).name&&(e.components[e.name]=n)}}return e}function Qt(n){this._init(n)}function Ht(n){n.cid=0;var e=1;n.extend=function(n){n=n||{};var t=this,a=t.cid,r=n._Ctor||(n._Ctor={});if(r[a])return r[a];var i=vt(n)||vt(t.options);var o=function(n){this._init(n)};return(o.prototype=Object.create(t.prototype)).constructor=o,o.cid=e++,o.options=It(t.options,n),o.super=t,o.options.props&&function(n){var e=n.options.props;for(var t in e)Rt(n.prototype,"_props",t)}(o),o.options.computed&&function(n){var e=n.options.computed;for(var t in e)Ft(n.prototype,t,e[t])}(o),o.extend=t.extend,o.mixin=t.mixin,o.use=t.use,F.forEach((function(n){o[n]=t[n]})),i&&(o.options.components[i]=o),o.superOptions=t.options,o.extendOptions=n,o.sealedOptions=L({},o.options),r[a]=o,o}}function $t(n){return n&&(vt(n.Ctor.options)||n.tag)}function Xt(n,e){return r(n)?n.indexOf(e)>-1:"string"==typeof n?n.split(",").indexOf(e)>-1:!!m(n)&&n.test(e)}function Kt(n,e){var t=n.cache,a=n.keys,r=n._vnode;for(var i in t){var o=t[i];if(o){var l=o.name;l&&!e(l)&&Wt(t,i,a,r)}}}function Wt(n,e,t,a){var r=n[e];!r||a&&r.tag===a.tag||r.componentInstance.$destroy(),n[e]=null,x(t,e)}!function(n){n.prototype._init=function(n){var e=this;e._uid=Gt++,e._isVue=!0,e.__v_skip=!0,e._scope=new Nn(!0),e._scope._vm=!0,n&&n._isComponent?function(n,e){var t=n.$options=Object.create(n.constructor.options),a=e._parentVnode;t.parent=e.parent,t._parentVnode=a;var r=a.componentOptions;t.propsData=r.propsData,t._parentListeners=r.listeners,t._renderChildren=r.children,t._componentTag=r.tag,e.render&&(t.render=e.render,t.staticRenderFns=e.staticRenderFns)}(e,n):e.$options=It(Vt(e.constructor),n||{},e),e._renderProxy=e,e._self=e,function(n){var e=n.$options,t=e.parent;if(t&&!e.abstract){for(;t.$options.abstract&&t.$parent;)t=t.$parent;t.$children.push(n)}n.$parent=t,n.$root=t?t.$root:n,n.$children=[],n.$refs={},n._provided=t?t._provided:Object.create(null),n._watcher=null,n._inactive=null,n._directInactive=!1,n._isMounted=!1,n._isDestroyed=!1,n._isBeingDestroyed=!1}(e),function(n){n._events=Object.create(null),n._hasHookEvent=!1;var e=n.$options._parentListeners;e&&Xe(n,e)}(e),function(n){n._vnode=null,n._staticTrees=null;var e=n.$options,t=n.$vnode=e._parentVnode,r=t&&t.context;n.$slots=pe(e._renderChildren,r),n.$scopedSlots=t?fe(n.$parent,t.data.scopedSlots,n.$slots):a,n._c=function(e,t,a,r){return ke(n,e,t,a,r,!1)},n.$createElement=function(e,t,a,r){return ke(n,e,t,a,r,!0)};var i=t&&t.data;Mn(n,"$attrs",i&&i.attrs||a,null,!0),Mn(n,"$listeners",e._parentListeners||a,null,!0)}(e),nt(e,"beforeCreate",void 0,!1),function(n){var e=mt(n.$options.inject,n);e&&(An(!1),Object.keys(e).forEach((function(t){Mn(n,t,e[t])})),An(!0))}(e),Dt(e),function(n){var e=n.$options.provide;if(e){var t=c(e)?e.call(n):e;if(!d(t))return;for(var a=Un(n),r=dn?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];Object.defineProperty(a,o,Object.getOwnPropertyDescriptor(t,o))}}}(e),nt(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(Qt),function(n){var e={get:function(){return this._data}},t={get:function(){return this._props}};Object.defineProperty(n.prototype,"$data",e),Object.defineProperty(n.prototype,"$props",t),n.prototype.$set=jn,n.prototype.$delete=Bn,n.prototype.$watch=function(n,e,t){if(p(e))return Ut(this,n,e,t);(t=t||{}).user=!0;var a=new Ve(this,n,e,t);if(t.immediate){var r='callback for immediate watcher "'.concat(a.expression,'"');En(),Ce(e,this,[a.value],this,r),Tn()}return function(){a.teardown()}}}(Qt),function(n){var e=/^hook:/;n.prototype.$on=function(n,t){var a=this;if(r(n))for(var i=0,o=n.length;i<o;i++)a.$on(n[i],t);else(a._events[n]||(a._events[n]=[])).push(t),e.test(n)&&(a._hasHookEvent=!0);return a},n.prototype.$once=function(n,e){var t=this;function a(){t.$off(n,a),e.apply(t,arguments)}return a.fn=e,t.$on(n,a),t},n.prototype.$off=function(n,e){var t=this;if(!arguments.length)return t._events=Object.create(null),t;if(r(n)){for(var a=0,i=n.length;a<i;a++)t.$off(n[a],e);return t}var o,l=t._events[n];if(!l)return t;if(!e)return t._events[n]=null,t;for(var s=l.length;s--;)if((o=l[s])===e||o.fn===e){l.splice(s,1);break}return t},n.prototype.$emit=function(n){var e=this,t=e._events[n];if(t){t=t.length>1?z(t):t;for(var a=z(arguments,1),r='event handler for "'.concat(n,'"'),i=0,o=t.length;i<o;i++)Ce(t[i],e,a,e,r)}return e}}(Qt),function(n){n.prototype._update=function(n,e){var t=this,a=t.$el,r=t._vnode,i=We(t);t._vnode=n,t.$el=r?t.__patch__(r,n):t.__patch__(t.$el,n,e,!1),i(),a&&(a.__vue__=null),t.$el&&(t.$el.__vue__=t);for(var o=t;o&&o.$vnode&&o.$parent&&o.$vnode===o.$parent._vnode;)o.$parent.$el=o.$el,o=o.$parent},n.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},n.prototype.$destroy=function(){var n=this;if(!n._isBeingDestroyed){nt(n,"beforeDestroy"),n._isBeingDestroyed=!0;var e=n.$parent;!e||e._isBeingDestroyed||n.$options.abstract||x(e.$children,n),n._scope.stop(),n._data.__ob__&&n._data.__ob__.vmCount--,n._isDestroyed=!0,n.__patch__(n._vnode,null),nt(n,"destroyed"),n.$off(),n.$el&&(n.$el.__vue__=null),n.$vnode&&(n.$vnode.parent=null)}}}(Qt),function(n){ue(n.prototype),n.prototype.$nextTick=function(n){return Je(n,this)},n.prototype._render=function(){var n,e=this,t=e.$options,a=t.render,i=t._parentVnode;i&&e._isMounted&&(e.$scopedSlots=fe(e.$parent,i.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&Ee(e._slotsProxy,e.$scopedSlots)),e.$vnode=i;try{pn(e),Te=e,n=a.call(e._renderProxy,e.$createElement)}catch(t){we(t,e,"render"),n=e._vnode}finally{Te=null,pn()}return r(n)&&1===n.length&&(n=n[0]),n instanceof mn||(n=hn()),n.parent=i,n}}(Qt);var Zt=[String,RegExp,Array],Yt={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Zt,exclude:Zt,max:[String,Number]},methods:{cacheVNode:function(){var n=this.cache,e=this.keys,t=this.vnodeToCache,a=this.keyToCache;if(t){var r=t.tag,i=t.componentInstance,o=t.componentOptions;n[a]={name:$t(o),tag:r,componentInstance:i},e.push(a),this.max&&e.length>parseInt(this.max)&&Wt(n,e[0],e,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var n in this.cache)Wt(this.cache,n,this.keys)},mounted:function(){var n=this;this.cacheVNode(),this.$watch("include",(function(e){Kt(n,(function(n){return Xt(e,n)}))})),this.$watch("exclude",(function(e){Kt(n,(function(n){return!Xt(e,n)}))}))},updated:function(){this.cacheVNode()},render:function(){var n=this.$slots.default,e=Se(n),t=e&&e.componentOptions;if(t){var a=$t(t),r=this.include,i=this.exclude;if(r&&(!a||!Xt(r,a))||i&&a&&Xt(i,a))return e;var o=this.cache,l=this.keys,s=null==e.key?t.Ctor.cid+(t.tag?"::".concat(t.tag):""):e.key;o[s]?(e.componentInstance=o[s].componentInstance,x(l,s),l.push(s)):(this.vnodeToCache=e,this.keyToCache=s),e.data.keepAlive=!0}return e||n&&n[0]}}};!function(n){var e={get:function(){return N}};Object.defineProperty(n,"config",e),n.util={warn:Tt,extend:L,mergeOptions:It,defineReactive:Mn},n.set=jn,n.delete=Bn,n.nextTick=Je,n.observable=function(n){return Ln(n),n},n.options=Object.create(null),F.forEach((function(e){n.options[e+"s"]=Object.create(null)})),n.options._base=n,L(n.options.components,Yt),function(n){n.use=function(n){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(n)>-1)return this;var t=z(arguments,1);return t.unshift(this),c(n.install)?n.install.apply(n,t):c(n)&&n.apply(null,t),e.push(n),this}}(n),function(n){n.mixin=function(n){return this.options=It(this.options,n),this}}(n),Ht(n),function(n){F.forEach((function(e){n[e]=function(n,t){return t?("component"===e&&p(t)&&(t.name=t.name||n,t=this.options._base.extend(t)),"directive"===e&&c(t)&&(t={bind:t,update:t}),this.options[e+"s"][n]=t,t):this.options[e+"s"][n]}}))}(n)}(Qt),Object.defineProperty(Qt.prototype,"$isServer",{get:on}),Object.defineProperty(Qt.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Qt,"FunctionalRenderContext",{value:ht}),Qt.version="2.7.15";var na=b("style,class"),ea=b("input,textarea,option,select,progress"),ta=b("contenteditable,draggable,spellcheck"),aa=b("events,caret,typing,plaintext-only"),ra=b("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),ia="http://www.w3.org/1999/xlink",oa=function(n){return":"===n.charAt(5)&&"xlink"===n.slice(0,5)},la=function(n){return oa(n)?n.slice(6,n.length):""},sa=function(n){return null==n||!1===n};function ca(n){for(var e=n.data,t=n,a=n;o(a.componentInstance);)(a=a.componentInstance._vnode)&&a.data&&(e=da(a.data,e));for(;o(t=t.parent);)t&&t.data&&(e=da(e,t.data));return function(n,e){if(o(n)||o(e))return ua(n,pa(e));return""}(e.staticClass,e.class)}function da(n,e){return{staticClass:ua(n.staticClass,e.staticClass),class:o(n.class)?[n.class,e.class]:e.class}}function ua(n,e){return n?e?n+" "+e:n:e||""}function pa(n){return Array.isArray(n)?function(n){for(var e,t="",a=0,r=n.length;a<r;a++)o(e=pa(n[a]))&&""!==e&&(t&&(t+=" "),t+=e);return t}(n):d(n)?function(n){var e="";for(var t in n)n[t]&&(e&&(e+=" "),e+=t);return e}(n):"string"==typeof n?n:""}var ma={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ha=b("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),fa=b("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),ga=function(n){return ha(n)||fa(n)};var va=Object.create(null);var ba=b("text,number,password,search,email,tel,url");var ya=Object.freeze({__proto__:null,createElement:function(n,e){var t=document.createElement(n);return"select"!==n||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&t.setAttribute("multiple","multiple"),t},createElementNS:function(n,e){return document.createElementNS(ma[n],e)},createTextNode:function(n){return document.createTextNode(n)},createComment:function(n){return document.createComment(n)},insertBefore:function(n,e,t){n.insertBefore(e,t)},removeChild:function(n,e){n.removeChild(e)},appendChild:function(n,e){n.appendChild(e)},parentNode:function(n){return n.parentNode},nextSibling:function(n){return n.nextSibling},tagName:function(n){return n.tagName},setTextContent:function(n,e){n.textContent=e},setStyleScope:function(n,e){n.setAttribute(e,"")}}),xa={create:function(n,e){Ea(e)},update:function(n,e){n.data.ref!==e.data.ref&&(Ea(n,!0),Ea(e))},destroy:function(n){Ea(n,!0)}};function Ea(n,e){var t=n.data.ref;if(o(t)){var a=n.context,i=n.componentInstance||n.elm,l=e?null:i,s=e?void 0:i;if(c(t))Ce(t,a,[l],a,"template ref function");else{var d=n.data.refInFor,u="string"==typeof t||"number"==typeof t,p=Jn(t),m=a.$refs;if(u||p)if(d){var h=u?m[t]:t.value;e?r(h)&&x(h,i):r(h)?h.includes(i)||h.push(i):u?(m[t]=[i],Ta(a,t,m[t])):t.value=[i]}else if(u){if(e&&m[t]!==i)return;m[t]=s,Ta(a,t,l)}else if(p){if(e&&t.value!==i)return;t.value=l}else 0}}}function Ta(n,e,t){var a=n._setupState;a&&T(a,e)&&(Jn(a[e])?a[e].value=t:a[e]=t)}var _a=new mn("",{},[]),Sa=["create","activate","update","remove","destroy"];function ka(n,e){return n.key===e.key&&n.asyncFactory===e.asyncFactory&&(n.tag===e.tag&&n.isComment===e.isComment&&o(n.data)===o(e.data)&&function(n,e){if("input"!==n.tag)return!0;var t,a=o(t=n.data)&&o(t=t.attrs)&&t.type,r=o(t=e.data)&&o(t=t.attrs)&&t.type;return a===r||ba(a)&&ba(r)}(n,e)||l(n.isAsyncPlaceholder)&&i(e.asyncFactory.error))}function wa(n,e,t){var a,r,i={};for(a=e;a<=t;++a)o(r=n[a].key)&&(i[r]=a);return i}var Ca={create:Aa,update:Aa,destroy:function(n){Aa(n,_a)}};function Aa(n,e){(n.data.directives||e.data.directives)&&function(n,e){var t,a,r,i=n===_a,o=e===_a,l=za(n.data.directives,n.context),s=za(e.data.directives,e.context),c=[],d=[];for(t in s)a=l[t],r=s[t],a?(r.oldValue=a.value,r.oldArg=a.arg,Ma(r,"update",e,n),r.def&&r.def.componentUpdated&&d.push(r)):(Ma(r,"bind",e,n),r.def&&r.def.inserted&&c.push(r));if(c.length){var u=function(){for(var t=0;t<c.length;t++)Ma(c[t],"inserted",e,n)};i?Hn(e,"insert",u):u()}d.length&&Hn(e,"postpatch",(function(){for(var t=0;t<d.length;t++)Ma(d[t],"componentUpdated",e,n)}));if(!i)for(t in l)s[t]||Ma(l[t],"unbind",n,n,o)}(n,e)}var Ia=Object.create(null);function za(n,e){var t,a,r=Object.create(null);if(!n)return r;for(t=0;t<n.length;t++){if((a=n[t]).modifiers||(a.modifiers=Ia),r[La(a)]=a,e._setupState&&e._setupState.__sfc){var i=a.def||zt(e,"_setupState","v-"+a.name);a.def="function"==typeof i?{bind:i,update:i}:i}a.def=a.def||zt(e.$options,"directives",a.name)}return r}function La(n){return n.rawName||"".concat(n.name,".").concat(Object.keys(n.modifiers||{}).join("."))}function Ma(n,e,t,a,r){var i=n.def&&n.def[e];if(i)try{i(t.elm,n,t,a,r)}catch(a){we(a,t.context,"directive ".concat(n.name," ").concat(e," hook"))}}var ja=[xa,Ca];function Ba(n,e){var t=e.componentOptions;if(!(o(t)&&!1===t.Ctor.options.inheritAttrs||i(n.data.attrs)&&i(e.data.attrs))){var a,r,s=e.elm,c=n.data.attrs||{},d=e.data.attrs||{};for(a in(o(d.__ob__)||l(d._v_attr_proxy))&&(d=e.data.attrs=L({},d)),d)r=d[a],c[a]!==r&&Pa(s,a,r,e.data.pre);for(a in(K||Z)&&d.value!==c.value&&Pa(s,"value",d.value),c)i(d[a])&&(oa(a)?s.removeAttributeNS(ia,la(a)):ta(a)||s.removeAttribute(a))}}function Pa(n,e,t,a){a||n.tagName.indexOf("-")>-1?Oa(n,e,t):ra(e)?sa(t)?n.removeAttribute(e):(t="allowfullscreen"===e&&"EMBED"===n.tagName?"true":e,n.setAttribute(e,t)):ta(e)?n.setAttribute(e,function(n,e){return sa(e)||"false"===e?"false":"contenteditable"===n&&aa(e)?e:"true"}(e,t)):oa(e)?sa(t)?n.removeAttributeNS(ia,la(e)):n.setAttributeNS(ia,e,t):Oa(n,e,t)}function Oa(n,e,t){if(sa(t))n.removeAttribute(e);else{if(K&&!W&&"TEXTAREA"===n.tagName&&"placeholder"===e&&""!==t&&!n.__ieph){var a=function(e){e.stopImmediatePropagation(),n.removeEventListener("input",a)};n.addEventListener("input",a),n.__ieph=!0}n.setAttribute(e,t)}}var Ra={create:Ba,update:Ba};function Da(n,e){var t=e.elm,a=e.data,r=n.data;if(!(i(a.staticClass)&&i(a.class)&&(i(r)||i(r.staticClass)&&i(r.class)))){var l=ca(e),s=t._transitionClasses;o(s)&&(l=ua(l,pa(s))),l!==t._prevClass&&(t.setAttribute("class",l),t._prevClass=l)}}var Ja,Fa={create:Da,update:Da};function qa(n,e,t){var a=Ja;return function r(){var i=e.apply(null,arguments);null!==i&&Ga(n,r,t,a)}}var Na=Le&&!(en&&Number(en[1])<=53);function Ua(n,e,t,a){if(Na){var r=lt,i=e;e=i._wrapper=function(n){if(n.target===n.currentTarget||n.timeStamp>=r||n.timeStamp<=0||n.target.ownerDocument!==document)return i.apply(this,arguments)}}Ja.addEventListener(n,e,an?{capture:t,passive:a}:t)}function Ga(n,e,t,a){(a||Ja).removeEventListener(n,e._wrapper||e,t)}function Va(n,e){if(!i(n.data.on)||!i(e.data.on)){var t=e.data.on||{},a=n.data.on||{};Ja=e.elm||n.elm,function(n){if(o(n.__r)){var e=K?"change":"input";n[e]=[].concat(n.__r,n[e]||[]),delete n.__r}o(n.__c)&&(n.change=[].concat(n.__c,n.change||[]),delete n.__c)}(t),Qn(t,a,Ua,Ga,qa,e.context),Ja=void 0}}var Qa,Ha={create:Va,update:Va,destroy:function(n){return Va(n,_a)}};function $a(n,e){if(!i(n.data.domProps)||!i(e.data.domProps)){var t,a,r=e.elm,s=n.data.domProps||{},c=e.data.domProps||{};for(t in(o(c.__ob__)||l(c._v_attr_proxy))&&(c=e.data.domProps=L({},c)),s)t in c||(r[t]="");for(t in c){if(a=c[t],"textContent"===t||"innerHTML"===t){if(e.children&&(e.children.length=0),a===s[t])continue;1===r.childNodes.length&&r.removeChild(r.childNodes[0])}if("value"===t&&"PROGRESS"!==r.tagName){r._value=a;var d=i(a)?"":String(a);Xa(r,d)&&(r.value=d)}else if("innerHTML"===t&&fa(r.tagName)&&i(r.innerHTML)){(Qa=Qa||document.createElement("div")).innerHTML="<svg>".concat(a,"</svg>");for(var u=Qa.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;u.firstChild;)r.appendChild(u.firstChild)}else if(a!==s[t])try{r[t]=a}catch(n){}}}}function Xa(n,e){return!n.composing&&("OPTION"===n.tagName||function(n,e){var t=!0;try{t=document.activeElement!==n}catch(n){}return t&&n.value!==e}(n,e)||function(n,e){var t=n.value,a=n._vModifiers;if(o(a)){if(a.number)return v(t)!==v(e);if(a.trim)return t.trim()!==e.trim()}return t!==e}(n,e))}var Ka={create:$a,update:$a},Wa=_((function(n){var e={},t=/:(.+)/;return n.split(/;(?![^(]*\))/g).forEach((function(n){if(n){var a=n.split(t);a.length>1&&(e[a[0].trim()]=a[1].trim())}})),e}));function Za(n){var e=Ya(n.style);return n.staticStyle?L(n.staticStyle,e):e}function Ya(n){return Array.isArray(n)?M(n):"string"==typeof n?Wa(n):n}var nr,er=/^--/,tr=/\s*!important$/,ar=function(n,e,t){if(er.test(e))n.style.setProperty(e,t);else if(tr.test(t))n.style.setProperty(A(e),t.replace(tr,""),"important");else{var a=ir(e);if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++)n.style[a]=t[r];else n.style[a]=t}},rr=["Webkit","Moz","ms"],ir=_((function(n){if(nr=nr||document.createElement("div").style,"filter"!==(n=k(n))&&n in nr)return n;for(var e=n.charAt(0).toUpperCase()+n.slice(1),t=0;t<rr.length;t++){var a=rr[t]+e;if(a in nr)return a}}));function or(n,e){var t=e.data,a=n.data;if(!(i(t.staticStyle)&&i(t.style)&&i(a.staticStyle)&&i(a.style))){var r,l,s=e.elm,c=a.staticStyle,d=a.normalizedStyle||a.style||{},u=c||d,p=Ya(e.data.style)||{};e.data.normalizedStyle=o(p.__ob__)?L({},p):p;var m=function(n,e){var t,a={};if(e)for(var r=n;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(t=Za(r.data))&&L(a,t);(t=Za(n.data))&&L(a,t);for(var i=n;i=i.parent;)i.data&&(t=Za(i.data))&&L(a,t);return a}(e,!0);for(l in u)i(m[l])&&ar(s,l,"");for(l in m)(r=m[l])!==u[l]&&ar(s,l,null==r?"":r)}}var lr={create:or,update:or},sr=/\s+/;function cr(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(sr).forEach((function(e){return n.classList.add(e)})):n.classList.add(e);else{var t=" ".concat(n.getAttribute("class")||""," ");t.indexOf(" "+e+" ")<0&&n.setAttribute("class",(t+e).trim())}}function dr(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(sr).forEach((function(e){return n.classList.remove(e)})):n.classList.remove(e),n.classList.length||n.removeAttribute("class");else{for(var t=" ".concat(n.getAttribute("class")||""," "),a=" "+e+" ";t.indexOf(a)>=0;)t=t.replace(a," ");(t=t.trim())?n.setAttribute("class",t):n.removeAttribute("class")}}function ur(n){if(n){if("object"==typeof n){var e={};return!1!==n.css&&L(e,pr(n.name||"v")),L(e,n),e}return"string"==typeof n?pr(n):void 0}}var pr=_((function(n){return{enterClass:"".concat(n,"-enter"),enterToClass:"".concat(n,"-enter-to"),enterActiveClass:"".concat(n,"-enter-active"),leaveClass:"".concat(n,"-leave"),leaveToClass:"".concat(n,"-leave-to"),leaveActiveClass:"".concat(n,"-leave-active")}})),mr=$&&!W,hr="transition",fr="transitionend",gr="animation",vr="animationend";mr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(hr="WebkitTransition",fr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(gr="WebkitAnimation",vr="webkitAnimationEnd"));var br=$?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(n){return n()};function yr(n){br((function(){br(n)}))}function xr(n,e){var t=n._transitionClasses||(n._transitionClasses=[]);t.indexOf(e)<0&&(t.push(e),cr(n,e))}function Er(n,e){n._transitionClasses&&x(n._transitionClasses,e),dr(n,e)}function Tr(n,e,t){var a=Sr(n,e),r=a.type,i=a.timeout,o=a.propCount;if(!r)return t();var l="transition"===r?fr:vr,s=0,c=function(){n.removeEventListener(l,d),t()},d=function(e){e.target===n&&++s>=o&&c()};setTimeout((function(){s<o&&c()}),i+1),n.addEventListener(l,d)}var _r=/\b(transform|all)(,|$)/;function Sr(n,e){var t,a=window.getComputedStyle(n),r=(a[hr+"Delay"]||"").split(", "),i=(a[hr+"Duration"]||"").split(", "),o=kr(r,i),l=(a[gr+"Delay"]||"").split(", "),s=(a[gr+"Duration"]||"").split(", "),c=kr(l,s),d=0,u=0;return"transition"===e?o>0&&(t="transition",d=o,u=i.length):"animation"===e?c>0&&(t="animation",d=c,u=s.length):u=(t=(d=Math.max(o,c))>0?o>c?"transition":"animation":null)?"transition"===t?i.length:s.length:0,{type:t,timeout:d,propCount:u,hasTransform:"transition"===t&&_r.test(a[hr+"Property"])}}function kr(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max.apply(null,e.map((function(e,t){return wr(e)+wr(n[t])})))}function wr(n){return 1e3*Number(n.slice(0,-1).replace(",","."))}function Cr(n,e){var t=n.elm;o(t._leaveCb)&&(t._leaveCb.cancelled=!0,t._leaveCb());var a=ur(n.data.transition);if(!i(a)&&!o(t._enterCb)&&1===t.nodeType){for(var r=a.css,l=a.type,s=a.enterClass,u=a.enterToClass,p=a.enterActiveClass,m=a.appearClass,h=a.appearToClass,f=a.appearActiveClass,g=a.beforeEnter,b=a.enter,y=a.afterEnter,x=a.enterCancelled,E=a.beforeAppear,T=a.appear,_=a.afterAppear,S=a.appearCancelled,k=a.duration,w=Ke,C=Ke.$vnode;C&&C.parent;)w=C.context,C=C.parent;var A=!w._isMounted||!n.isRootInsert;if(!A||T||""===T){var I=A&&m?m:s,z=A&&f?f:p,L=A&&h?h:u,M=A&&E||g,j=A&&c(T)?T:b,B=A&&_||y,P=A&&S||x,O=v(d(k)?k.enter:k);0;var R=!1!==r&&!W,J=zr(j),F=t._enterCb=D((function(){R&&(Er(t,L),Er(t,z)),F.cancelled?(R&&Er(t,I),P&&P(t)):B&&B(t),t._enterCb=null}));n.data.show||Hn(n,"insert",(function(){var e=t.parentNode,a=e&&e._pending&&e._pending[n.key];a&&a.tag===n.tag&&a.elm._leaveCb&&a.elm._leaveCb(),j&&j(t,F)})),M&&M(t),R&&(xr(t,I),xr(t,z),yr((function(){Er(t,I),F.cancelled||(xr(t,L),J||(Ir(O)?setTimeout(F,O):Tr(t,l,F)))}))),n.data.show&&(e&&e(),j&&j(t,F)),R||J||F()}}}function Ar(n,e){var t=n.elm;o(t._enterCb)&&(t._enterCb.cancelled=!0,t._enterCb());var a=ur(n.data.transition);if(i(a)||1!==t.nodeType)return e();if(!o(t._leaveCb)){var r=a.css,l=a.type,s=a.leaveClass,c=a.leaveToClass,u=a.leaveActiveClass,p=a.beforeLeave,m=a.leave,h=a.afterLeave,f=a.leaveCancelled,g=a.delayLeave,b=a.duration,y=!1!==r&&!W,x=zr(m),E=v(d(b)?b.leave:b);0;var T=t._leaveCb=D((function(){t.parentNode&&t.parentNode._pending&&(t.parentNode._pending[n.key]=null),y&&(Er(t,c),Er(t,u)),T.cancelled?(y&&Er(t,s),f&&f(t)):(e(),h&&h(t)),t._leaveCb=null}));g?g(_):_()}function _(){T.cancelled||(!n.data.show&&t.parentNode&&((t.parentNode._pending||(t.parentNode._pending={}))[n.key]=n),p&&p(t),y&&(xr(t,s),xr(t,u),yr((function(){Er(t,s),T.cancelled||(xr(t,c),x||(Ir(E)?setTimeout(T,E):Tr(t,l,T)))}))),m&&m(t,T),y||x||T())}}function Ir(n){return"number"==typeof n&&!isNaN(n)}function zr(n){if(i(n))return!1;var e=n.fns;return o(e)?zr(Array.isArray(e)?e[0]:e):(n._length||n.length)>1}function Lr(n,e){!0!==e.data.show&&Cr(e)}var Mr=function(n){var e,t,a={},c=n.modules,d=n.nodeOps;for(e=0;e<Sa.length;++e)for(a[Sa[e]]=[],t=0;t<c.length;++t)o(c[t][Sa[e]])&&a[Sa[e]].push(c[t][Sa[e]]);function u(n){var e=d.parentNode(n);o(e)&&d.removeChild(e,n)}function p(n,e,t,r,i,s,c){if(o(n.elm)&&o(s)&&(n=s[c]=gn(n)),n.isRootInsert=!i,!function(n,e,t,r){var i=n.data;if(o(i)){var s=o(n.componentInstance)&&i.keepAlive;if(o(i=i.hook)&&o(i=i.init)&&i(n,!1),o(n.componentInstance))return m(n,e),h(t,n.elm,r),l(s)&&function(n,e,t,r){var i,l=n;for(;l.componentInstance;)if(l=l.componentInstance._vnode,o(i=l.data)&&o(i=i.transition)){for(i=0;i<a.activate.length;++i)a.activate[i](_a,l);e.push(l);break}h(t,n.elm,r)}(n,e,t,r),!0}}(n,e,t,r)){var u=n.data,p=n.children,g=n.tag;o(g)?(n.elm=n.ns?d.createElementNS(n.ns,g):d.createElement(g,n),y(n),f(n,p,e),o(u)&&v(n,e),h(t,n.elm,r)):l(n.isComment)?(n.elm=d.createComment(n.text),h(t,n.elm,r)):(n.elm=d.createTextNode(n.text),h(t,n.elm,r))}}function m(n,e){o(n.data.pendingInsert)&&(e.push.apply(e,n.data.pendingInsert),n.data.pendingInsert=null),n.elm=n.componentInstance.$el,g(n)?(v(n,e),y(n)):(Ea(n),e.push(n))}function h(n,e,t){o(n)&&(o(t)?d.parentNode(t)===n&&d.insertBefore(n,e,t):d.appendChild(n,e))}function f(n,e,t){if(r(e)){0;for(var a=0;a<e.length;++a)p(e[a],t,n.elm,null,!0,e,a)}else s(n.text)&&d.appendChild(n.elm,d.createTextNode(String(n.text)))}function g(n){for(;n.componentInstance;)n=n.componentInstance._vnode;return o(n.tag)}function v(n,t){for(var r=0;r<a.create.length;++r)a.create[r](_a,n);o(e=n.data.hook)&&(o(e.create)&&e.create(_a,n),o(e.insert)&&t.push(n))}function y(n){var e;if(o(e=n.fnScopeId))d.setStyleScope(n.elm,e);else for(var t=n;t;)o(e=t.context)&&o(e=e.$options._scopeId)&&d.setStyleScope(n.elm,e),t=t.parent;o(e=Ke)&&e!==n.context&&e!==n.fnContext&&o(e=e.$options._scopeId)&&d.setStyleScope(n.elm,e)}function x(n,e,t,a,r,i){for(;a<=r;++a)p(t[a],i,n,e,!1,t,a)}function E(n){var e,t,r=n.data;if(o(r))for(o(e=r.hook)&&o(e=e.destroy)&&e(n),e=0;e<a.destroy.length;++e)a.destroy[e](n);if(o(e=n.children))for(t=0;t<n.children.length;++t)E(n.children[t])}function T(n,e,t){for(;e<=t;++e){var a=n[e];o(a)&&(o(a.tag)?(_(a),E(a)):u(a.elm))}}function _(n,e){if(o(e)||o(n.data)){var t,r=a.remove.length+1;for(o(e)?e.listeners+=r:e=function(n,e){function t(){0==--t.listeners&&u(n)}return t.listeners=e,t}(n.elm,r),o(t=n.componentInstance)&&o(t=t._vnode)&&o(t.data)&&_(t,e),t=0;t<a.remove.length;++t)a.remove[t](n,e);o(t=n.data.hook)&&o(t=t.remove)?t(n,e):e()}else u(n.elm)}function S(n,e,t,a){for(var r=t;r<a;r++){var i=e[r];if(o(i)&&ka(n,i))return r}}function k(n,e,t,r,s,c){if(n!==e){o(e.elm)&&o(r)&&(e=r[s]=gn(e));var u=e.elm=n.elm;if(l(n.isAsyncPlaceholder))o(e.asyncFactory.resolved)?A(n.elm,e,t):e.isAsyncPlaceholder=!0;else if(l(e.isStatic)&&l(n.isStatic)&&e.key===n.key&&(l(e.isCloned)||l(e.isOnce)))e.componentInstance=n.componentInstance;else{var m,h=e.data;o(h)&&o(m=h.hook)&&o(m=m.prepatch)&&m(n,e);var f=n.children,v=e.children;if(o(h)&&g(e)){for(m=0;m<a.update.length;++m)a.update[m](n,e);o(m=h.hook)&&o(m=m.update)&&m(n,e)}i(e.text)?o(f)&&o(v)?f!==v&&function(n,e,t,a,r){var l,s,c,u=0,m=0,h=e.length-1,f=e[0],g=e[h],v=t.length-1,b=t[0],y=t[v],E=!r;for(0;u<=h&&m<=v;)i(f)?f=e[++u]:i(g)?g=e[--h]:ka(f,b)?(k(f,b,a,t,m),f=e[++u],b=t[++m]):ka(g,y)?(k(g,y,a,t,v),g=e[--h],y=t[--v]):ka(f,y)?(k(f,y,a,t,v),E&&d.insertBefore(n,f.elm,d.nextSibling(g.elm)),f=e[++u],y=t[--v]):ka(g,b)?(k(g,b,a,t,m),E&&d.insertBefore(n,g.elm,f.elm),g=e[--h],b=t[++m]):(i(l)&&(l=wa(e,u,h)),i(s=o(b.key)?l[b.key]:S(b,e,u,h))?p(b,a,n,f.elm,!1,t,m):ka(c=e[s],b)?(k(c,b,a,t,m),e[s]=void 0,E&&d.insertBefore(n,c.elm,f.elm)):p(b,a,n,f.elm,!1,t,m),b=t[++m]);u>h?x(n,i(t[v+1])?null:t[v+1].elm,t,m,v,a):m>v&&T(e,u,h)}(u,f,v,t,c):o(v)?(o(n.text)&&d.setTextContent(u,""),x(u,null,v,0,v.length-1,t)):o(f)?T(f,0,f.length-1):o(n.text)&&d.setTextContent(u,""):n.text!==e.text&&d.setTextContent(u,e.text),o(h)&&o(m=h.hook)&&o(m=m.postpatch)&&m(n,e)}}}function w(n,e,t){if(l(t)&&o(n.parent))n.parent.data.pendingInsert=e;else for(var a=0;a<e.length;++a)e[a].data.hook.insert(e[a])}var C=b("attrs,class,staticClass,staticStyle,key");function A(n,e,t,a){var r,i=e.tag,s=e.data,c=e.children;if(a=a||s&&s.pre,e.elm=n,l(e.isComment)&&o(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(o(s)&&(o(r=s.hook)&&o(r=r.init)&&r(e,!0),o(r=e.componentInstance)))return m(e,t),!0;if(o(i)){if(o(c))if(n.hasChildNodes())if(o(r=s)&&o(r=r.domProps)&&o(r=r.innerHTML)){if(r!==n.innerHTML)return!1}else{for(var d=!0,u=n.firstChild,p=0;p<c.length;p++){if(!u||!A(u,c[p],t,a)){d=!1;break}u=u.nextSibling}if(!d||u)return!1}else f(e,c,t);if(o(s)){var h=!1;for(var g in s)if(!C(g)){h=!0,v(e,t);break}!h&&s.class&&Ne(s.class)}}else n.data!==e.text&&(n.data=e.text);return!0}return function(n,e,t,r){if(!i(e)){var s,c=!1,u=[];if(i(n))c=!0,p(e,u);else{var m=o(n.nodeType);if(!m&&ka(n,e))k(n,e,u,null,null,r);else{if(m){if(1===n.nodeType&&n.hasAttribute("data-server-rendered")&&(n.removeAttribute("data-server-rendered"),t=!0),l(t)&&A(n,e,u))return w(e,u,!0),n;s=n,n=new mn(d.tagName(s).toLowerCase(),{},[],void 0,s)}var h=n.elm,f=d.parentNode(h);if(p(e,u,h._leaveCb?null:f,d.nextSibling(h)),o(e.parent))for(var v=e.parent,b=g(e);v;){for(var y=0;y<a.destroy.length;++y)a.destroy[y](v);if(v.elm=e.elm,b){for(var x=0;x<a.create.length;++x)a.create[x](_a,v);var _=v.data.hook.insert;if(_.merged)for(var S=_.fns.slice(1),C=0;C<S.length;C++)S[C]()}else Ea(v);v=v.parent}o(f)?T([n],0,0):o(n.tag)&&E(n)}}return w(e,u,c),e.elm}o(n)&&E(n)}}({nodeOps:ya,modules:[Ra,Fa,Ha,Ka,lr,$?{create:Lr,activate:Lr,remove:function(n,e){!0!==n.data.show?Ar(n,e):e()}}:{}].concat(ja)});W&&document.addEventListener("selectionchange",(function(){var n=document.activeElement;n&&n.vmodel&&Fr(n,"input")}));var jr={inserted:function(n,e,t,a){"select"===t.tag?(a.elm&&!a.elm._vOptions?Hn(t,"postpatch",(function(){jr.componentUpdated(n,e,t)})):Br(n,e,t.context),n._vOptions=[].map.call(n.options,Rr)):("textarea"===t.tag||ba(n.type))&&(n._vModifiers=e.modifiers,e.modifiers.lazy||(n.addEventListener("compositionstart",Dr),n.addEventListener("compositionend",Jr),n.addEventListener("change",Jr),W&&(n.vmodel=!0)))},componentUpdated:function(n,e,t){if("select"===t.tag){Br(n,e,t.context);var a=n._vOptions,r=n._vOptions=[].map.call(n.options,Rr);if(r.some((function(n,e){return!O(n,a[e])})))(n.multiple?e.value.some((function(n){return Or(n,r)})):e.value!==e.oldValue&&Or(e.value,r))&&Fr(n,"change")}}};function Br(n,e,t){Pr(n,e,t),(K||Z)&&setTimeout((function(){Pr(n,e,t)}),0)}function Pr(n,e,t){var a=e.value,r=n.multiple;if(!r||Array.isArray(a)){for(var i,o,l=0,s=n.options.length;l<s;l++)if(o=n.options[l],r)i=R(a,Rr(o))>-1,o.selected!==i&&(o.selected=i);else if(O(Rr(o),a))return void(n.selectedIndex!==l&&(n.selectedIndex=l));r||(n.selectedIndex=-1)}}function Or(n,e){return e.every((function(e){return!O(e,n)}))}function Rr(n){return"_value"in n?n._value:n.value}function Dr(n){n.target.composing=!0}function Jr(n){n.target.composing&&(n.target.composing=!1,Fr(n.target,"input"))}function Fr(n,e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),n.dispatchEvent(t)}function qr(n){return!n.componentInstance||n.data&&n.data.transition?n:qr(n.componentInstance._vnode)}var Nr={model:jr,show:{bind:function(n,e,t){var a=e.value,r=(t=qr(t)).data&&t.data.transition,i=n.__vOriginalDisplay="none"===n.style.display?"":n.style.display;a&&r?(t.data.show=!0,Cr(t,(function(){n.style.display=i}))):n.style.display=a?i:"none"},update:function(n,e,t){var a=e.value;!a!=!e.oldValue&&((t=qr(t)).data&&t.data.transition?(t.data.show=!0,a?Cr(t,(function(){n.style.display=n.__vOriginalDisplay})):Ar(t,(function(){n.style.display="none"}))):n.style.display=a?n.__vOriginalDisplay:"none")},unbind:function(n,e,t,a,r){r||(n.style.display=n.__vOriginalDisplay)}}},Ur={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Gr(n){var e=n&&n.componentOptions;return e&&e.Ctor.options.abstract?Gr(Se(e.children)):n}function Vr(n){var e={},t=n.$options;for(var a in t.propsData)e[a]=n[a];var r=t._parentListeners;for(var a in r)e[k(a)]=r[a];return e}function Qr(n,e){if(/\d-keep-alive$/.test(e.tag))return n("keep-alive",{props:e.componentOptions.propsData})}var Hr=function(n){return n.tag||he(n)},$r=function(n){return"show"===n.name},Xr={name:"transition",props:Ur,abstract:!0,render:function(n){var e=this,t=this.$slots.default;if(t&&(t=t.filter(Hr)).length){0;var a=this.mode;0;var r=t[0];if(function(n){for(;n=n.parent;)if(n.data.transition)return!0}(this.$vnode))return r;var i=Gr(r);if(!i)return r;if(this._leaving)return Qr(n,r);var o="__transition-".concat(this._uid,"-");i.key=null==i.key?i.isComment?o+"comment":o+i.tag:s(i.key)?0===String(i.key).indexOf(o)?i.key:o+i.key:i.key;var l=(i.data||(i.data={})).transition=Vr(this),c=this._vnode,d=Gr(c);if(i.data.directives&&i.data.directives.some($r)&&(i.data.show=!0),d&&d.data&&!function(n,e){return e.key===n.key&&e.tag===n.tag}(i,d)&&!he(d)&&(!d.componentInstance||!d.componentInstance._vnode.isComment)){var u=d.data.transition=L({},l);if("out-in"===a)return this._leaving=!0,Hn(u,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Qr(n,r);if("in-out"===a){if(he(i))return c;var p,m=function(){p()};Hn(l,"afterEnter",m),Hn(l,"enterCancelled",m),Hn(u,"delayLeave",(function(n){p=n}))}}return r}}},Kr=L({tag:String,moveClass:String},Ur);function Wr(n){n.elm._moveCb&&n.elm._moveCb(),n.elm._enterCb&&n.elm._enterCb()}function Zr(n){n.data.newPos=n.elm.getBoundingClientRect()}function Yr(n){var e=n.data.pos,t=n.data.newPos,a=e.left-t.left,r=e.top-t.top;if(a||r){n.data.moved=!0;var i=n.elm.style;i.transform=i.WebkitTransform="translate(".concat(a,"px,").concat(r,"px)"),i.transitionDuration="0s"}}delete Kr.mode;var ni={Transition:Xr,TransitionGroup:{props:Kr,beforeMount:function(){var n=this,e=this._update;this._update=function(t,a){var r=We(n);n.__patch__(n._vnode,n.kept,!1,!0),n._vnode=n.kept,r(),e.call(n,t,a)}},render:function(n){for(var e=this.tag||this.$vnode.data.tag||"span",t=Object.create(null),a=this.prevChildren=this.children,r=this.$slots.default||[],i=this.children=[],o=Vr(this),l=0;l<r.length;l++){if((d=r[l]).tag)if(null!=d.key&&0!==String(d.key).indexOf("__vlist"))i.push(d),t[d.key]=d,(d.data||(d.data={})).transition=o;else;}if(a){var s=[],c=[];for(l=0;l<a.length;l++){var d;(d=a[l]).data.transition=o,d.data.pos=d.elm.getBoundingClientRect(),t[d.key]?s.push(d):c.push(d)}this.kept=n(e,null,s),this.removed=c}return n(e,null,i)},updated:function(){var n=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";n.length&&this.hasMove(n[0].elm,e)&&(n.forEach(Wr),n.forEach(Zr),n.forEach(Yr),this._reflow=document.body.offsetHeight,n.forEach((function(n){if(n.data.moved){var t=n.elm,a=t.style;xr(t,e),a.transform=a.WebkitTransform=a.transitionDuration="",t.addEventListener(fr,t._moveCb=function n(a){a&&a.target!==t||a&&!/transform$/.test(a.propertyName)||(t.removeEventListener(fr,n),t._moveCb=null,Er(t,e))})}})))},methods:{hasMove:function(n,e){if(!mr)return!1;if(this._hasMove)return this._hasMove;var t=n.cloneNode();n._transitionClasses&&n._transitionClasses.forEach((function(n){dr(t,n)})),cr(t,e),t.style.display="none",this.$el.appendChild(t);var a=Sr(t);return this.$el.removeChild(t),this._hasMove=a.hasTransform}}}};function ei(n,e){for(var t in e)n[t]=e[t];return n}Qt.config.mustUseProp=function(n,e,t){return"value"===t&&ea(n)&&"button"!==e||"selected"===t&&"option"===n||"checked"===t&&"input"===n||"muted"===t&&"video"===n},Qt.config.isReservedTag=ga,Qt.config.isReservedAttr=na,Qt.config.getTagNamespace=function(n){return fa(n)?"svg":"math"===n?"math":void 0},Qt.config.isUnknownElement=function(n){if(!$)return!0;if(ga(n))return!1;if(n=n.toLowerCase(),null!=va[n])return va[n];var e=document.createElement(n);return n.indexOf("-")>-1?va[n]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:va[n]=/HTMLUnknownElement/.test(e.toString())},L(Qt.options.directives,Nr),L(Qt.options.components,ni),Qt.prototype.__patch__=$?Mr:j,Qt.prototype.$mount=function(n,e){return function(n,e,t){var a;n.$el=e,n.$options.render||(n.$options.render=hn),nt(n,"beforeMount"),a=function(){n._update(n._render(),t)},new Ve(n,a,j,{before:function(){n._isMounted&&!n._isDestroyed&&nt(n,"beforeUpdate")}},!0),t=!1;var r=n._preWatchers;if(r)for(var i=0;i<r.length;i++)r[i].run();return null==n.$vnode&&(n._isMounted=!0,nt(n,"mounted")),n}(this,n=n&&$?function(n){if("string"==typeof n){var e=document.querySelector(n);return e||document.createElement("div")}return n}(n):void 0,e)},$&&setTimeout((function(){N.devtools&&ln&&ln.emit("init",Qt)}),0);var ti=/[!'()*]/g,ai=function(n){return"%"+n.charCodeAt(0).toString(16)},ri=/%2C/g,ii=function(n){return encodeURIComponent(n).replace(ti,ai).replace(ri,",")};function oi(n){try{return decodeURIComponent(n)}catch(n){0}return n}var li=function(n){return null==n||"object"==typeof n?n:String(n)};function si(n){var e={};return(n=n.trim().replace(/^(\?|#|&)/,""))?(n.split("&").forEach((function(n){var t=n.replace(/\+/g," ").split("="),a=oi(t.shift()),r=t.length>0?oi(t.join("=")):null;void 0===e[a]?e[a]=r:Array.isArray(e[a])?e[a].push(r):e[a]=[e[a],r]})),e):e}function ci(n){var e=n?Object.keys(n).map((function(e){var t=n[e];if(void 0===t)return"";if(null===t)return ii(e);if(Array.isArray(t)){var a=[];return t.forEach((function(n){void 0!==n&&(null===n?a.push(ii(e)):a.push(ii(e)+"="+ii(n)))})),a.join("&")}return ii(e)+"="+ii(t)})).filter((function(n){return n.length>0})).join("&"):null;return e?"?"+e:""}var di=/\/?$/;function ui(n,e,t,a){var r=a&&a.options.stringifyQuery,i=e.query||{};try{i=pi(i)}catch(n){}var o={name:e.name||n&&n.name,meta:n&&n.meta||{},path:e.path||"/",hash:e.hash||"",query:i,params:e.params||{},fullPath:fi(e,r),matched:n?hi(n):[]};return t&&(o.redirectedFrom=fi(t,r)),Object.freeze(o)}function pi(n){if(Array.isArray(n))return n.map(pi);if(n&&"object"==typeof n){var e={};for(var t in n)e[t]=pi(n[t]);return e}return n}var mi=ui(null,{path:"/"});function hi(n){for(var e=[];n;)e.unshift(n),n=n.parent;return e}function fi(n,e){var t=n.path,a=n.query;void 0===a&&(a={});var r=n.hash;return void 0===r&&(r=""),(t||"/")+(e||ci)(a)+r}function gi(n,e,t){return e===mi?n===e:!!e&&(n.path&&e.path?n.path.replace(di,"")===e.path.replace(di,"")&&(t||n.hash===e.hash&&vi(n.query,e.query)):!(!n.name||!e.name)&&(n.name===e.name&&(t||n.hash===e.hash&&vi(n.query,e.query)&&vi(n.params,e.params))))}function vi(n,e){if(void 0===n&&(n={}),void 0===e&&(e={}),!n||!e)return n===e;var t=Object.keys(n).sort(),a=Object.keys(e).sort();return t.length===a.length&&t.every((function(t,r){var i=n[t];if(a[r]!==t)return!1;var o=e[t];return null==i||null==o?i===o:"object"==typeof i&&"object"==typeof o?vi(i,o):String(i)===String(o)}))}function bi(n){for(var e=0;e<n.matched.length;e++){var t=n.matched[e];for(var a in t.instances){var r=t.instances[a],i=t.enteredCbs[a];if(r&&i){delete t.enteredCbs[a];for(var o=0;o<i.length;o++)r._isBeingDestroyed||i[o](r)}}}}var yi={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(n,e){var t=e.props,a=e.children,r=e.parent,i=e.data;i.routerView=!0;for(var o=r.$createElement,l=t.name,s=r.$route,c=r._routerViewCache||(r._routerViewCache={}),d=0,u=!1;r&&r._routerRoot!==r;){var p=r.$vnode?r.$vnode.data:{};p.routerView&&d++,p.keepAlive&&r._directInactive&&r._inactive&&(u=!0),r=r.$parent}if(i.routerViewDepth=d,u){var m=c[l],h=m&&m.component;return h?(m.configProps&&xi(h,i,m.route,m.configProps),o(h,i,a)):o()}var f=s.matched[d],g=f&&f.components[l];if(!f||!g)return c[l]=null,o();c[l]={component:g},i.registerRouteInstance=function(n,e){var t=f.instances[l];(e&&t!==n||!e&&t===n)&&(f.instances[l]=e)},(i.hook||(i.hook={})).prepatch=function(n,e){f.instances[l]=e.componentInstance},i.hook.init=function(n){n.data.keepAlive&&n.componentInstance&&n.componentInstance!==f.instances[l]&&(f.instances[l]=n.componentInstance),bi(s)};var v=f.props&&f.props[l];return v&&(ei(c[l],{route:s,configProps:v}),xi(g,i,s,v)),o(g,i,a)}};function xi(n,e,t,a){var r=e.props=function(n,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(n);case"boolean":return e?n.params:void 0;default:0}}(t,a);if(r){r=e.props=ei({},r);var i=e.attrs=e.attrs||{};for(var o in r)n.props&&o in n.props||(i[o]=r[o],delete r[o])}}function Ei(n,e,t){var a=n.charAt(0);if("/"===a)return n;if("?"===a||"#"===a)return e+n;var r=e.split("/");t&&r[r.length-1]||r.pop();for(var i=n.replace(/^\//,"").split("/"),o=0;o<i.length;o++){var l=i[o];".."===l?r.pop():"."!==l&&r.push(l)}return""!==r[0]&&r.unshift(""),r.join("/")}function Ti(n){return n.replace(/\/(?:\s*\/)+/g,"/")}var _i=Array.isArray||function(n){return"[object Array]"==Object.prototype.toString.call(n)},Si=Di,ki=zi,wi=function(n,e){return Mi(zi(n,e),e)},Ci=Mi,Ai=Ri,Ii=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function zi(n,e){for(var t,a=[],r=0,i=0,o="",l=e&&e.delimiter||"/";null!=(t=Ii.exec(n));){var s=t[0],c=t[1],d=t.index;if(o+=n.slice(i,d),i=d+s.length,c)o+=c[1];else{var u=n[i],p=t[2],m=t[3],h=t[4],f=t[5],g=t[6],v=t[7];o&&(a.push(o),o="");var b=null!=p&&null!=u&&u!==p,y="+"===g||"*"===g,x="?"===g||"*"===g,E=t[2]||l,T=h||f;a.push({name:m||r++,prefix:p||"",delimiter:E,optional:x,repeat:y,partial:b,asterisk:!!v,pattern:T?Bi(T):v?".*":"[^"+ji(E)+"]+?"})}}return i<n.length&&(o+=n.substr(i)),o&&a.push(o),a}function Li(n){return encodeURI(n).replace(/[\/?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()}))}function Mi(n,e){for(var t=new Array(n.length),a=0;a<n.length;a++)"object"==typeof n[a]&&(t[a]=new RegExp("^(?:"+n[a].pattern+")$",Oi(e)));return function(e,a){for(var r="",i=e||{},o=(a||{}).pretty?Li:encodeURIComponent,l=0;l<n.length;l++){var s=n[l];if("string"!=typeof s){var c,d=i[s.name];if(null==d){if(s.optional){s.partial&&(r+=s.prefix);continue}throw new TypeError('Expected "'+s.name+'" to be defined')}if(_i(d)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var u=0;u<d.length;u++){if(c=o(d[u]),!t[l].test(c))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'", but received `'+JSON.stringify(c)+"`");r+=(0===u?s.prefix:s.delimiter)+c}}else{if(c=s.asterisk?encodeURI(d).replace(/[?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})):o(d),!t[l].test(c))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but received "'+c+'"');r+=s.prefix+c}}else r+=s}return r}}function ji(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Bi(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function Pi(n,e){return n.keys=e,n}function Oi(n){return n&&n.sensitive?"":"i"}function Ri(n,e,t){_i(e)||(t=e||t,e=[]);for(var a=(t=t||{}).strict,r=!1!==t.end,i="",o=0;o<n.length;o++){var l=n[o];if("string"==typeof l)i+=ji(l);else{var s=ji(l.prefix),c="(?:"+l.pattern+")";e.push(l),l.repeat&&(c+="(?:"+s+c+")*"),i+=c=l.optional?l.partial?s+"("+c+")?":"(?:"+s+"("+c+"))?":s+"("+c+")"}}var d=ji(t.delimiter||"/"),u=i.slice(-d.length)===d;return a||(i=(u?i.slice(0,-d.length):i)+"(?:"+d+"(?=$))?"),i+=r?"$":a&&u?"":"(?="+d+"|$)",Pi(new RegExp("^"+i,Oi(t)),e)}function Di(n,e,t){return _i(e)||(t=e||t,e=[]),t=t||{},n instanceof RegExp?function(n,e){var t=n.source.match(/\((?!\?)/g);if(t)for(var a=0;a<t.length;a++)e.push({name:a,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Pi(n,e)}(n,e):_i(n)?function(n,e,t){for(var a=[],r=0;r<n.length;r++)a.push(Di(n[r],e,t).source);return Pi(new RegExp("(?:"+a.join("|")+")",Oi(t)),e)}(n,e,t):function(n,e,t){return Ri(zi(n,t),e,t)}(n,e,t)}Si.parse=ki,Si.compile=wi,Si.tokensToFunction=Ci,Si.tokensToRegExp=Ai;var Ji=Object.create(null);function Fi(n,e,t){e=e||{};try{var a=Ji[n]||(Ji[n]=Si.compile(n));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),a(e,{pretty:!0})}catch(n){return""}finally{delete e[0]}}function qi(n,e,t,a){var r="string"==typeof n?{path:n}:n;if(r._normalized)return r;if(r.name){var i=(r=ei({},n)).params;return i&&"object"==typeof i&&(r.params=ei({},i)),r}if(!r.path&&r.params&&e){(r=ei({},r))._normalized=!0;var o=ei(ei({},e.params),r.params);if(e.name)r.name=e.name,r.params=o;else if(e.matched.length){var l=e.matched[e.matched.length-1].path;r.path=Fi(l,o,e.path)}else 0;return r}var s=function(n){var e="",t="",a=n.indexOf("#");a>=0&&(e=n.slice(a),n=n.slice(0,a));var r=n.indexOf("?");return r>=0&&(t=n.slice(r+1),n=n.slice(0,r)),{path:n,query:t,hash:e}}(r.path||""),c=e&&e.path||"/",d=s.path?Ei(s.path,c,t||r.append):c,u=function(n,e,t){void 0===e&&(e={});var a,r=t||si;try{a=r(n||"")}catch(n){a={}}for(var i in e){var o=e[i];a[i]=Array.isArray(o)?o.map(li):li(o)}return a}(s.query,r.query,a&&a.options.parseQuery),p=r.hash||s.hash;return p&&"#"!==p.charAt(0)&&(p="#"+p),{_normalized:!0,path:d,query:u,hash:p}}var Ni,Ui=function(){},Gi={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(n){var e=this,t=this.$router,a=this.$route,r=t.resolve(this.to,a,this.append),i=r.location,o=r.route,l=r.href,s={},c=t.options.linkActiveClass,d=t.options.linkExactActiveClass,u=null==c?"router-link-active":c,p=null==d?"router-link-exact-active":d,m=null==this.activeClass?u:this.activeClass,h=null==this.exactActiveClass?p:this.exactActiveClass,f=o.redirectedFrom?ui(null,qi(o.redirectedFrom),null,t):o;s[h]=gi(a,f,this.exactPath),s[m]=this.exact||this.exactPath?s[h]:function(n,e){return 0===n.path.replace(di,"/").indexOf(e.path.replace(di,"/"))&&(!e.hash||n.hash===e.hash)&&function(n,e){for(var t in e)if(!(t in n))return!1;return!0}(n.query,e.query)}(a,f);var g=s[h]?this.ariaCurrentValue:null,v=function(n){Vi(n)&&(e.replace?t.replace(i,Ui):t.push(i,Ui))},b={click:Vi};Array.isArray(this.event)?this.event.forEach((function(n){b[n]=v})):b[this.event]=v;var y={class:s},x=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:l,route:o,navigate:v,isActive:s[m],isExactActive:s[h]});if(x){if(1===x.length)return x[0];if(x.length>1||!x.length)return 0===x.length?n():n("span",{},x)}if("a"===this.tag)y.on=b,y.attrs={href:l,"aria-current":g};else{var E=function n(e){var t;if(e)for(var a=0;a<e.length;a++){if("a"===(t=e[a]).tag)return t;if(t.children&&(t=n(t.children)))return t}}(this.$slots.default);if(E){E.isStatic=!1;var T=E.data=ei({},E.data);for(var _ in T.on=T.on||{},T.on){var S=T.on[_];_ in b&&(T.on[_]=Array.isArray(S)?S:[S])}for(var k in b)k in T.on?T.on[k].push(b[k]):T.on[k]=v;var w=E.data.attrs=ei({},E.data.attrs);w.href=l,w["aria-current"]=g}else y.on=b}return n(this.tag,y,this.$slots.default)}};function Vi(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey||n.defaultPrevented||void 0!==n.button&&0!==n.button)){if(n.currentTarget&&n.currentTarget.getAttribute){var e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}var Qi="undefined"!=typeof window;function Hi(n,e,t,a,r){var i=e||[],o=t||Object.create(null),l=a||Object.create(null);n.forEach((function(n){!function n(e,t,a,r,i,o){var l=r.path,s=r.name;0;var c=r.pathToRegexpOptions||{},d=function(n,e,t){t||(n=n.replace(/\/$/,""));if("/"===n[0])return n;if(null==e)return n;return Ti(e.path+"/"+n)}(l,i,c.strict);"boolean"==typeof r.caseSensitive&&(c.sensitive=r.caseSensitive);var u={path:d,regex:$i(d,c),components:r.components||{default:r.component},alias:r.alias?"string"==typeof r.alias?[r.alias]:r.alias:[],instances:{},enteredCbs:{},name:s,parent:i,matchAs:o,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};r.children&&r.children.forEach((function(r){var i=o?Ti(o+"/"+r.path):void 0;n(e,t,a,r,u,i)}));t[u.path]||(e.push(u.path),t[u.path]=u);if(void 0!==r.alias)for(var p=Array.isArray(r.alias)?r.alias:[r.alias],m=0;m<p.length;++m){0;var h={path:p[m],children:r.children};n(e,t,a,h,i,u.path||"/")}s&&(a[s]||(a[s]=u))}(i,o,l,n,r)}));for(var s=0,c=i.length;s<c;s++)"*"===i[s]&&(i.push(i.splice(s,1)[0]),c--,s--);return{pathList:i,pathMap:o,nameMap:l}}function $i(n,e){return Si(n,[],e)}function Xi(n,e){var t=Hi(n),a=t.pathList,r=t.pathMap,i=t.nameMap;function o(n,t,o){var l=qi(n,t,!1,e),c=l.name;if(c){var d=i[c];if(!d)return s(null,l);var u=d.regex.keys.filter((function(n){return!n.optional})).map((function(n){return n.name}));if("object"!=typeof l.params&&(l.params={}),t&&"object"==typeof t.params)for(var p in t.params)!(p in l.params)&&u.indexOf(p)>-1&&(l.params[p]=t.params[p]);return l.path=Fi(d.path,l.params),s(d,l,o)}if(l.path){l.params={};for(var m=0;m<a.length;m++){var h=a[m],f=r[h];if(Ki(f.regex,l.path,l.params))return s(f,l,o)}}return s(null,l)}function l(n,t){var a=n.redirect,r="function"==typeof a?a(ui(n,t,null,e)):a;if("string"==typeof r&&(r={path:r}),!r||"object"!=typeof r)return s(null,t);var l=r,c=l.name,d=l.path,u=t.query,p=t.hash,m=t.params;if(u=l.hasOwnProperty("query")?l.query:u,p=l.hasOwnProperty("hash")?l.hash:p,m=l.hasOwnProperty("params")?l.params:m,c){i[c];return o({_normalized:!0,name:c,query:u,hash:p,params:m},void 0,t)}if(d){var h=function(n,e){return Ei(n,e.parent?e.parent.path:"/",!0)}(d,n);return o({_normalized:!0,path:Fi(h,m),query:u,hash:p},void 0,t)}return s(null,t)}function s(n,t,a){return n&&n.redirect?l(n,a||t):n&&n.matchAs?function(n,e,t){var a=o({_normalized:!0,path:Fi(t,e.params)});if(a){var r=a.matched,i=r[r.length-1];return e.params=a.params,s(i,e)}return s(null,e)}(0,t,n.matchAs):ui(n,t,a,e)}return{match:o,addRoute:function(n,e){var t="object"!=typeof n?i[n]:void 0;Hi([e||n],a,r,i,t),t&&t.alias.length&&Hi(t.alias.map((function(n){return{path:n,children:[e]}})),a,r,i,t)},getRoutes:function(){return a.map((function(n){return r[n]}))},addRoutes:function(n){Hi(n,a,r,i)}}}function Ki(n,e,t){var a=e.match(n);if(!a)return!1;if(!t)return!0;for(var r=1,i=a.length;r<i;++r){var o=n.keys[r-1];o&&(t[o.name||"pathMatch"]="string"==typeof a[r]?oi(a[r]):a[r])}return!0}var Wi=Qi&&window.performance&&window.performance.now?window.performance:Date;function Zi(){return Wi.now().toFixed(3)}var Yi=Zi();function no(){return Yi}function eo(n){return Yi=n}var to=Object.create(null);function ao(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var n=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(n,""),t=ei({},window.history.state);return t.key=no(),window.history.replaceState(t,"",e),window.addEventListener("popstate",oo),function(){window.removeEventListener("popstate",oo)}}function ro(n,e,t,a){if(n.app){var r=n.options.scrollBehavior;r&&n.app.$nextTick((function(){var i=function(){var n=no();if(n)return to[n]}(),o=r.call(n,e,t,a?i:null);o&&("function"==typeof o.then?o.then((function(n){po(n,i)})).catch((function(n){0})):po(o,i))}))}}function io(){var n=no();n&&(to[n]={x:window.pageXOffset,y:window.pageYOffset})}function oo(n){io(),n.state&&n.state.key&&eo(n.state.key)}function lo(n){return co(n.x)||co(n.y)}function so(n){return{x:co(n.x)?n.x:window.pageXOffset,y:co(n.y)?n.y:window.pageYOffset}}function co(n){return"number"==typeof n}var uo=/^#\d/;function po(n,e){var t,a="object"==typeof n;if(a&&"string"==typeof n.selector){var r=uo.test(n.selector)?document.getElementById(n.selector.slice(1)):document.querySelector(n.selector);if(r){var i=n.offset&&"object"==typeof n.offset?n.offset:{};e=function(n,e){var t=document.documentElement.getBoundingClientRect(),a=n.getBoundingClientRect();return{x:a.left-t.left-e.x,y:a.top-t.top-e.y}}(r,i={x:co((t=i).x)?t.x:0,y:co(t.y)?t.y:0})}else lo(n)&&(e=so(n))}else a&&lo(n)&&(e=so(n));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:n.behavior}):window.scrollTo(e.x,e.y))}var mo,ho=Qi&&((-1===(mo=window.navigator.userAgent).indexOf("Android 2.")&&-1===mo.indexOf("Android 4.0")||-1===mo.indexOf("Mobile Safari")||-1!==mo.indexOf("Chrome")||-1!==mo.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function fo(n,e){io();var t=window.history;try{if(e){var a=ei({},t.state);a.key=no(),t.replaceState(a,"",n)}else t.pushState({key:eo(Zi())},"",n)}catch(t){window.location[e?"replace":"assign"](n)}}function go(n){fo(n,!0)}var vo={redirected:2,aborted:4,cancelled:8,duplicated:16};function bo(n,e){return xo(n,e,vo.redirected,'Redirected when going from "'+n.fullPath+'" to "'+function(n){if("string"==typeof n)return n;if("path"in n)return n.path;var e={};return Eo.forEach((function(t){t in n&&(e[t]=n[t])})),JSON.stringify(e,null,2)}(e)+'" via a navigation guard.')}function yo(n,e){return xo(n,e,vo.cancelled,'Navigation cancelled from "'+n.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function xo(n,e,t,a){var r=new Error(a);return r._isRouter=!0,r.from=n,r.to=e,r.type=t,r}var Eo=["params","query","hash"];function To(n){return Object.prototype.toString.call(n).indexOf("Error")>-1}function _o(n,e){return To(n)&&n._isRouter&&(null==e||n.type===e)}function So(n,e,t){var a=function(r){r>=n.length?t():n[r]?e(n[r],(function(){a(r+1)})):a(r+1)};a(0)}function ko(n){return function(e,t,a){var r=!1,i=0,o=null;wo(n,(function(n,e,t,l){if("function"==typeof n&&void 0===n.cid){r=!0,i++;var s,c=Io((function(e){var r;((r=e).__esModule||Ao&&"Module"===r[Symbol.toStringTag])&&(e=e.default),n.resolved="function"==typeof e?e:Ni.extend(e),t.components[l]=e,--i<=0&&a()})),d=Io((function(n){var e="Failed to resolve async component "+l+": "+n;o||(o=To(n)?n:new Error(e),a(o))}));try{s=n(c,d)}catch(n){d(n)}if(s)if("function"==typeof s.then)s.then(c,d);else{var u=s.component;u&&"function"==typeof u.then&&u.then(c,d)}}})),r||a()}}function wo(n,e){return Co(n.map((function(n){return Object.keys(n.components).map((function(t){return e(n.components[t],n.instances[t],n,t)}))})))}function Co(n){return Array.prototype.concat.apply([],n)}var Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function Io(n){var e=!1;return function(){for(var t=[],a=arguments.length;a--;)t[a]=arguments[a];if(!e)return e=!0,n.apply(this,t)}}var zo=function(n,e){this.router=n,this.base=function(n){if(!n)if(Qi){var e=document.querySelector("base");n=(n=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else n="/";"/"!==n.charAt(0)&&(n="/"+n);return n.replace(/\/$/,"")}(e),this.current=mi,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function Lo(n,e,t,a){var r=wo(n,(function(n,a,r,i){var o=function(n,e){"function"!=typeof n&&(n=Ni.extend(n));return n.options[e]}(n,e);if(o)return Array.isArray(o)?o.map((function(n){return t(n,a,r,i)})):t(o,a,r,i)}));return Co(a?r.reverse():r)}function Mo(n,e){if(e)return function(){return n.apply(e,arguments)}}zo.prototype.listen=function(n){this.cb=n},zo.prototype.onReady=function(n,e){this.ready?n():(this.readyCbs.push(n),e&&this.readyErrorCbs.push(e))},zo.prototype.onError=function(n){this.errorCbs.push(n)},zo.prototype.transitionTo=function(n,e,t){var a,r=this;try{a=this.router.match(n,this.current)}catch(n){throw this.errorCbs.forEach((function(e){e(n)})),n}var i=this.current;this.confirmTransition(a,(function(){r.updateRoute(a),e&&e(a),r.ensureURL(),r.router.afterHooks.forEach((function(n){n&&n(a,i)})),r.ready||(r.ready=!0,r.readyCbs.forEach((function(n){n(a)})))}),(function(n){t&&t(n),n&&!r.ready&&(_o(n,vo.redirected)&&i===mi||(r.ready=!0,r.readyErrorCbs.forEach((function(e){e(n)}))))}))},zo.prototype.confirmTransition=function(n,e,t){var a=this,r=this.current;this.pending=n;var i,o,l=function(n){!_o(n)&&To(n)&&(a.errorCbs.length?a.errorCbs.forEach((function(e){e(n)})):console.error(n)),t&&t(n)},s=n.matched.length-1,c=r.matched.length-1;if(gi(n,r)&&s===c&&n.matched[s]===r.matched[c])return this.ensureURL(),n.hash&&ro(this.router,r,n,!1),l(((o=xo(i=r,n,vo.duplicated,'Avoided redundant navigation to current location: "'+i.fullPath+'".')).name="NavigationDuplicated",o));var d=function(n,e){var t,a=Math.max(n.length,e.length);for(t=0;t<a&&n[t]===e[t];t++);return{updated:e.slice(0,t),activated:e.slice(t),deactivated:n.slice(t)}}(this.current.matched,n.matched),u=d.updated,p=d.deactivated,m=d.activated,h=[].concat(function(n){return Lo(n,"beforeRouteLeave",Mo,!0)}(p),this.router.beforeHooks,function(n){return Lo(n,"beforeRouteUpdate",Mo)}(u),m.map((function(n){return n.beforeEnter})),ko(m)),f=function(e,t){if(a.pending!==n)return l(yo(r,n));try{e(n,r,(function(e){!1===e?(a.ensureURL(!0),l(function(n,e){return xo(n,e,vo.aborted,'Navigation aborted from "'+n.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}(r,n))):To(e)?(a.ensureURL(!0),l(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(l(bo(r,n)),"object"==typeof e&&e.replace?a.replace(e):a.push(e)):t(e)}))}catch(n){l(n)}};So(h,f,(function(){So(function(n){return Lo(n,"beforeRouteEnter",(function(n,e,t,a){return function(n,e,t){return function(a,r,i){return n(a,r,(function(n){"function"==typeof n&&(e.enteredCbs[t]||(e.enteredCbs[t]=[]),e.enteredCbs[t].push(n)),i(n)}))}}(n,t,a)}))}(m).concat(a.router.resolveHooks),f,(function(){if(a.pending!==n)return l(yo(r,n));a.pending=null,e(n),a.router.app&&a.router.app.$nextTick((function(){bi(n)}))}))}))},zo.prototype.updateRoute=function(n){this.current=n,this.cb&&this.cb(n)},zo.prototype.setupListeners=function(){},zo.prototype.teardown=function(){this.listeners.forEach((function(n){n()})),this.listeners=[],this.current=mi,this.pending=null};var jo=function(n){function e(e,t){n.call(this,e,t),this._startLocation=Bo(this.base)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router,t=e.options.scrollBehavior,a=ho&&t;a&&this.listeners.push(ao());var r=function(){var t=n.current,r=Bo(n.base);n.current===mi&&r===n._startLocation||n.transitionTo(r,(function(n){a&&ro(e,n,t,!0)}))};window.addEventListener("popstate",r),this.listeners.push((function(){window.removeEventListener("popstate",r)}))}},e.prototype.go=function(n){window.history.go(n)},e.prototype.push=function(n,e,t){var a=this,r=this.current;this.transitionTo(n,(function(n){fo(Ti(a.base+n.fullPath)),ro(a.router,n,r,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var a=this,r=this.current;this.transitionTo(n,(function(n){go(Ti(a.base+n.fullPath)),ro(a.router,n,r,!1),e&&e(n)}),t)},e.prototype.ensureURL=function(n){if(Bo(this.base)!==this.current.fullPath){var e=Ti(this.base+this.current.fullPath);n?fo(e):go(e)}},e.prototype.getCurrentLocation=function(){return Bo(this.base)},e}(zo);function Bo(n){var e=window.location.pathname,t=e.toLowerCase(),a=n.toLowerCase();return!n||t!==a&&0!==t.indexOf(Ti(a+"/"))||(e=e.slice(n.length)),(e||"/")+window.location.search+window.location.hash}var Po=function(n){function e(e,t,a){n.call(this,e,t),a&&function(n){var e=Bo(n);if(!/^\/#/.test(e))return window.location.replace(Ti(n+"/#"+e)),!0}(this.base)||Oo()}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,t=ho&&e;t&&this.listeners.push(ao());var a=function(){var e=n.current;Oo()&&n.transitionTo(Ro(),(function(a){t&&ro(n.router,a,e,!0),ho||Fo(a.fullPath)}))},r=ho?"popstate":"hashchange";window.addEventListener(r,a),this.listeners.push((function(){window.removeEventListener(r,a)}))}},e.prototype.push=function(n,e,t){var a=this,r=this.current;this.transitionTo(n,(function(n){Jo(n.fullPath),ro(a.router,n,r,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var a=this,r=this.current;this.transitionTo(n,(function(n){Fo(n.fullPath),ro(a.router,n,r,!1),e&&e(n)}),t)},e.prototype.go=function(n){window.history.go(n)},e.prototype.ensureURL=function(n){var e=this.current.fullPath;Ro()!==e&&(n?Jo(e):Fo(e))},e.prototype.getCurrentLocation=function(){return Ro()},e}(zo);function Oo(){var n=Ro();return"/"===n.charAt(0)||(Fo("/"+n),!1)}function Ro(){var n=window.location.href,e=n.indexOf("#");return e<0?"":n=n.slice(e+1)}function Do(n){var e=window.location.href,t=e.indexOf("#");return(t>=0?e.slice(0,t):e)+"#"+n}function Jo(n){ho?fo(Do(n)):window.location.hash=n}function Fo(n){ho?go(Do(n)):window.location.replace(Do(n))}var qo=function(n){function e(e,t){n.call(this,e,t),this.stack=[],this.index=-1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.push=function(n,e,t){var a=this;this.transitionTo(n,(function(n){a.stack=a.stack.slice(0,a.index+1).concat(n),a.index++,e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var a=this;this.transitionTo(n,(function(n){a.stack=a.stack.slice(0,a.index).concat(n),e&&e(n)}),t)},e.prototype.go=function(n){var e=this,t=this.index+n;if(!(t<0||t>=this.stack.length)){var a=this.stack[t];this.confirmTransition(a,(function(){var n=e.current;e.index=t,e.updateRoute(a),e.router.afterHooks.forEach((function(e){e&&e(a,n)}))}),(function(n){_o(n,vo.duplicated)&&(e.index=t)}))}},e.prototype.getCurrentLocation=function(){var n=this.stack[this.stack.length-1];return n?n.fullPath:"/"},e.prototype.ensureURL=function(){},e}(zo),No=function(n){void 0===n&&(n={}),this.app=null,this.apps=[],this.options=n,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Xi(n.routes||[],this);var e=n.mode||"hash";switch(this.fallback="history"===e&&!ho&&!1!==n.fallback,this.fallback&&(e="hash"),Qi||(e="abstract"),this.mode=e,e){case"history":this.history=new jo(this,n.base);break;case"hash":this.history=new Po(this,n.base,this.fallback);break;case"abstract":this.history=new qo(this,n.base);break;default:0}},Uo={currentRoute:{configurable:!0}};No.prototype.match=function(n,e,t){return this.matcher.match(n,e,t)},Uo.currentRoute.get=function(){return this.history&&this.history.current},No.prototype.init=function(n){var e=this;if(this.apps.push(n),n.$once("hook:destroyed",(function(){var t=e.apps.indexOf(n);t>-1&&e.apps.splice(t,1),e.app===n&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=n;var t=this.history;if(t instanceof jo||t instanceof Po){var a=function(n){t.setupListeners(),function(n){var a=t.current,r=e.options.scrollBehavior;ho&&r&&"fullPath"in n&&ro(e,n,a,!1)}(n)};t.transitionTo(t.getCurrentLocation(),a,a)}t.listen((function(n){e.apps.forEach((function(e){e._route=n}))}))}},No.prototype.beforeEach=function(n){return Vo(this.beforeHooks,n)},No.prototype.beforeResolve=function(n){return Vo(this.resolveHooks,n)},No.prototype.afterEach=function(n){return Vo(this.afterHooks,n)},No.prototype.onReady=function(n,e){this.history.onReady(n,e)},No.prototype.onError=function(n){this.history.onError(n)},No.prototype.push=function(n,e,t){var a=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){a.history.push(n,e,t)}));this.history.push(n,e,t)},No.prototype.replace=function(n,e,t){var a=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){a.history.replace(n,e,t)}));this.history.replace(n,e,t)},No.prototype.go=function(n){this.history.go(n)},No.prototype.back=function(){this.go(-1)},No.prototype.forward=function(){this.go(1)},No.prototype.getMatchedComponents=function(n){var e=n?n.matched?n:this.resolve(n).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(n){return Object.keys(n.components).map((function(e){return n.components[e]}))}))):[]},No.prototype.resolve=function(n,e,t){var a=qi(n,e=e||this.history.current,t,this),r=this.match(a,e),i=r.redirectedFrom||r.fullPath;return{location:a,route:r,href:function(n,e,t){var a="hash"===t?"#"+e:e;return n?Ti(n+"/"+a):a}(this.history.base,i,this.mode),normalizedTo:a,resolved:r}},No.prototype.getRoutes=function(){return this.matcher.getRoutes()},No.prototype.addRoute=function(n,e){this.matcher.addRoute(n,e),this.history.current!==mi&&this.history.transitionTo(this.history.getCurrentLocation())},No.prototype.addRoutes=function(n){this.matcher.addRoutes(n),this.history.current!==mi&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(No.prototype,Uo);var Go=No;function Vo(n,e){return n.push(e),function(){var t=n.indexOf(e);t>-1&&n.splice(t,1)}}No.install=function n(e){if(!n.installed||Ni!==e){n.installed=!0,Ni=e;var t=function(n){return void 0!==n},a=function(n,e){var a=n.$options._parentVnode;t(a)&&t(a=a.data)&&t(a=a.registerRouteInstance)&&a(n,e)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,a(this,this)},destroyed:function(){a(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",yi),e.component("RouterLink",Gi);var r=e.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}},No.version="3.6.5",No.isNavigationFailure=_o,No.NavigationFailureType=vo,No.START_LOCATION=mi,Qi&&window.Vue&&window.Vue.use(No);t(107);t(16),t(132);var Qo={NotFound:()=>Promise.all([t.e(0),t.e(4)]).then(t.bind(null,334)),Layout:()=>Promise.all([t.e(0),t.e(2)]).then(t.bind(null,333))},Ho={"v-0752b88c":()=>t.e(5).then(t.bind(null,335)),"v-37120786":()=>t.e(6).then(t.bind(null,336)),"v-6b67a3c6":()=>t.e(8).then(t.bind(null,337)),"v-414ca65b":()=>t.e(11).then(t.bind(null,338)),"v-243cc8aa":()=>t.e(7).then(t.bind(null,339)),"v-59615ba1":()=>t.e(10).then(t.bind(null,340)),"v-90b1f352":()=>t.e(12).then(t.bind(null,341)),"v-73deb80f":()=>t.e(13).then(t.bind(null,342)),"v-618bf0bb":()=>t.e(9).then(t.bind(null,343)),"v-30655360":()=>t.e(15).then(t.bind(null,344)),"v-f91ab4be":()=>t.e(14).then(t.bind(null,345)),"v-f52dc942":()=>t.e(16).then(t.bind(null,346)),"v-558474a0":()=>t.e(17).then(t.bind(null,347)),"v-4d3b354d":()=>t.e(18).then(t.bind(null,348)),"v-f225e21e":()=>t.e(20).then(t.bind(null,349)),"v-09788617":()=>t.e(19).then(t.bind(null,350)),"v-8a778884":()=>t.e(21).then(t.bind(null,351)),"v-6cc42844":()=>t.e(22).then(t.bind(null,352)),"v-0322d41e":()=>t.e(23).then(t.bind(null,353)),"v-65476117":()=>t.e(24).then(t.bind(null,354)),"v-5ea26f44":()=>t.e(26).then(t.bind(null,355)),"v-7dc35ca5":()=>t.e(25).then(t.bind(null,356)),"v-770d0f42":()=>t.e(27).then(t.bind(null,357)),"v-854b12bc":()=>t.e(28).then(t.bind(null,358)),"v-76b6bfea":()=>t.e(30).then(t.bind(null,359)),"v-21848ec2":()=>t.e(31).then(t.bind(null,360)),"v-4cef543f":()=>t.e(34).then(t.bind(null,361)),"v-f445feb8":()=>t.e(29).then(t.bind(null,362)),"v-76d58b51":()=>t.e(33).then(t.bind(null,363)),"v-5c1cca71":()=>t.e(32).then(t.bind(null,364)),"v-17d22485":()=>t.e(35).then(t.bind(null,365)),"v-1b7e4ff2":()=>t.e(36).then(t.bind(null,366)),"v-4bab47ca":()=>t.e(37).then(t.bind(null,367)),"v-d97f40f6":()=>t.e(38).then(t.bind(null,368)),"v-3bafe364":()=>t.e(39).then(t.bind(null,369)),"v-af103070":()=>t.e(40).then(t.bind(null,370)),"v-0b8ed9f8":()=>t.e(42).then(t.bind(null,371)),"v-31eab8d8":()=>t.e(43).then(t.bind(null,372)),"v-d2430cca":()=>t.e(41).then(t.bind(null,373)),"v-2bf7dba4":()=>t.e(44).then(t.bind(null,374)),"v-2da3c232":()=>t.e(46).then(t.bind(null,375)),"v-27a25f92":()=>t.e(45).then(t.bind(null,376)),"v-d015cfc2":()=>t.e(48).then(t.bind(null,377)),"v-0173ec44":()=>t.e(47).then(t.bind(null,378)),"v-64b968d7":()=>t.e(49).then(t.bind(null,379)),"v-7cc9a2b6":()=>t.e(50).then(t.bind(null,380)),"v-39d6b1f3":()=>t.e(52).then(t.bind(null,381)),"v-193c5be4":()=>t.e(51).then(t.bind(null,382)),"v-8ad2cece":()=>t.e(54).then(t.bind(null,383)),"v-33cdacc0":()=>t.e(53).then(t.bind(null,384)),"v-6d7f8b89":()=>t.e(55).then(t.bind(null,385)),"v-6ced3d6b":()=>t.e(57).then(t.bind(null,386)),"v-01767fb0":()=>t.e(56).then(t.bind(null,387)),"v-74c22a5e":()=>t.e(58).then(t.bind(null,388)),"v-d4e3c634":()=>t.e(59).then(t.bind(null,389)),"v-4e4a101c":()=>t.e(60).then(t.bind(null,390)),"v-1b1c4248":()=>t.e(61).then(t.bind(null,391)),"v-23006aec":()=>t.e(63).then(t.bind(null,392)),"v-7550b988":()=>t.e(64).then(t.bind(null,393)),"v-4d5eaa9c":()=>t.e(62).then(t.bind(null,394)),"v-be1bac58":()=>t.e(65).then(t.bind(null,395)),"v-7fbbb95c":()=>t.e(66).then(t.bind(null,396)),"v-9499db24":()=>t.e(67).then(t.bind(null,397)),"v-4d6aaf62":()=>t.e(68).then(t.bind(null,398)),"v-9e602488":()=>t.e(69).then(t.bind(null,399)),"v-48671418":()=>t.e(70).then(t.bind(null,400)),"v-c049eb16":()=>t.e(71).then(t.bind(null,401)),"v-1f3e78d6":()=>t.e(72).then(t.bind(null,402)),"v-43b3065b":()=>t.e(74).then(t.bind(null,403)),"v-1d50b52b":()=>t.e(76).then(t.bind(null,404)),"v-0c243284":()=>t.e(73).then(t.bind(null,405)),"v-20089476":()=>t.e(77).then(t.bind(null,406)),"v-1ea7fe80":()=>t.e(75).then(t.bind(null,407)),"v-5ffddbde":()=>t.e(78).then(t.bind(null,408))};function $o(n){const e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}const Xo=/-(\w)/g,Ko=$o(n=>n.replace(Xo,(n,e)=>e?e.toUpperCase():"")),Wo=/\B([A-Z])/g,Zo=$o(n=>n.replace(Wo,"-$1").toLowerCase()),Yo=$o(n=>n.charAt(0).toUpperCase()+n.slice(1));function nl(n,e){if(!e)return;if(n(e))return n(e);return e.includes("-")?n(Yo(Ko(e))):n(Yo(e))||n(Zo(e))}const el=Object.assign({},Qo,Ho),tl=n=>el[n],al=n=>Ho[n],rl=n=>Qo[n],il=n=>Qt.component(n);function ol(n){return nl(al,n)}function ll(n){return nl(rl,n)}function sl(n){return nl(tl,n)}function cl(n){return nl(il,n)}function dl(...n){return Promise.all(n.filter(n=>n).map(async n=>{if(!cl(n)&&sl(n)){const e=await sl(n)();Qt.component(n,e.default)}}))}function ul(n,e){"undefined"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[n]=e)}var pl=t(93),ml=t.n(pl),hl=t(94),fl=t.n(hl),gl={created(){if(this.siteMeta=this.$site.headTags.filter(([n])=>"meta"===n).map(([n,e])=>e),this.$ssrContext){const e=this.getMergedMetaTags();this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.pageMeta=(n=e)?n.map(n=>{let e="<meta";return Object.keys(n).forEach(t=>{e+=` ${t}="${fl()(n[t])}"`}),e+">"}).join("\n    "):"",this.$ssrContext.canonicalLink=bl(this.$canonicalUrl)}var n},mounted(){this.currentMetaTags=[...document.querySelectorAll("meta")],this.updateMeta(),this.updateCanonicalLink()},methods:{updateMeta(){document.title=this.$title,document.documentElement.lang=this.$lang;const n=this.getMergedMetaTags();this.currentMetaTags=yl(n,this.currentMetaTags)},getMergedMetaTags(){const n=this.$page.frontmatter.meta||[];return ml()([{name:"description",content:this.$description}],n,this.siteMeta,xl)},updateCanonicalLink(){vl(),this.$canonicalUrl&&document.head.insertAdjacentHTML("beforeend",bl(this.$canonicalUrl))}},watch:{$page(){this.updateMeta(),this.updateCanonicalLink()}},beforeDestroy(){yl(null,this.currentMetaTags),vl()}};function vl(){const n=document.querySelector("link[rel='canonical']");n&&n.remove()}function bl(n=""){return n?`<link href="${n}" rel="canonical" />`:""}function yl(n,e){if(e&&[...e].filter(n=>n.parentNode===document.head).forEach(n=>document.head.removeChild(n)),n)return n.map(n=>{const e=document.createElement("meta");return Object.keys(n).forEach(t=>{e.setAttribute(t,n[t])}),document.head.appendChild(e),e})}function xl(n){for(const e of["name","property","itemprop"])if(n.hasOwnProperty(e))return n[e]+e;return JSON.stringify(n)}var El=t(50),Tl={mounted(){window.addEventListener("scroll",this.onScroll)},methods:{onScroll:t.n(El)()((function(){this.setActiveHash()}),300),setActiveHash(){const n=[].slice.call(document.querySelectorAll(".sidebar-link")),e=[].slice.call(document.querySelectorAll(".header-anchor")).filter(e=>n.some(n=>n.hash===e.hash)),t=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),a=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),r=window.innerHeight+t;for(let n=0;n<e.length;n++){const i=e[n],o=e[n+1],l=0===n&&0===t||t>=i.parentElement.offsetTop+10&&(!o||t<o.parentElement.offsetTop-10),s=decodeURIComponent(this.$route.hash);if(l&&s!==decodeURIComponent(i.hash)){const t=i;if(r===a)for(let t=n+1;t<e.length;t++)if(s===decodeURIComponent(e[t].hash))return;return this.$vuepress.$set("disableScrollBehavior",!0),void this.$router.replace(decodeURIComponent(t.hash),()=>{this.$nextTick(()=>{this.$vuepress.$set("disableScrollBehavior",!1)})})}}}},beforeDestroy(){window.removeEventListener("scroll",this.onScroll)}},_l=t(24),Sl=t.n(_l),kl={mounted(){Sl.a.configure({showSpinner:!1}),this.$router.beforeEach((n,e,t)=>{n.path===e.path||Qt.component(n.name)||Sl.a.start(),t()}),this.$router.afterEach(()=>{Sl.a.done(),this.isSidebarOpen=!1})}};t(240),t(241);class wl{constructor(){this.containerEl=document.getElementById("message-container"),this.containerEl||(this.containerEl=document.createElement("div"),this.containerEl.id="message-container",document.body.appendChild(this.containerEl))}show({text:n="",duration:e=3e3}){let t=document.createElement("div");t.className="message move-in",t.innerHTML=`\n      <i style="fill: #06a35a;font-size: 14px;display:inline-flex;align-items: center;">\n        <svg style="fill: #06a35a;font-size: 14px;" t="1572421810237" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2323" width="16" height="16"><path d="M822.811993 824.617989c-83.075838 81.99224-188.546032 124.613757-316.049383 127.86455-122.085362-3.250794-223.943563-45.87231-305.935802-127.86455s-124.613757-184.21164-127.86455-305.935802c3.250794-127.503351 45.87231-232.973545 127.86455-316.049383 81.99224-83.075838 184.21164-126.058554 305.935802-129.309347 127.503351 3.250794 232.973545 46.23351 316.049383 129.309347 83.075838 83.075838 126.058554 188.546032 129.309347 316.049383C949.231746 640.406349 905.887831 742.62575 822.811993 824.617989zM432.716755 684.111464c3.973192 3.973192 8.307584 5.779189 13.364374 6.140388 5.05679 0.361199 9.752381-1.444797 13.364374-5.417989l292.571429-287.514638c3.973192-3.973192 5.779189-8.307584 5.779189-13.364374 0-5.05679-1.805996-9.752381-5.779189-13.364374l1.805996 1.805996c-3.973192-3.973192-8.668783-5.779189-14.086772-6.140388-5.417989-0.361199-10.47478 1.444797-14.809171 5.417989l-264.397884 220.33157c-3.973192 3.250794-8.668783 4.695591-14.447972 4.695591-5.779189 0-10.835979-1.444797-15.53157-3.973192l-94.273016-72.962257c-4.334392-3.250794-9.391182-4.334392-14.447972-3.973192s-9.391182 3.250794-12.641975 7.585185l-2.889594 3.973192c-3.250794 4.334392-4.334392 9.391182-3.973192 14.809171 0.722399 5.417989 2.528395 10.11358 5.779189 14.086772L432.716755 684.111464z" p-id="2324"></path></svg>\n      </i>\n      <div class="text">${n}</div>\n    `,this.containerEl.appendChild(t),e>0&&setTimeout(()=>{this.close(t)},e)}close(n){n.className=n.className.replace("move-in",""),n.className+="move-out",n.addEventListener("animationend",()=>{n.remove()})}}var Cl={mounted(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},updated(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},methods:{updateCopy(){setTimeout(()=>{(['div[class*="language-"] pre','div[class*="aside-code"] aside']instanceof Array||Array.isArray(['div[class*="language-"] pre','div[class*="aside-code"] aside']))&&['div[class*="language-"] pre','div[class*="aside-code"] aside'].forEach(n=>{document.querySelectorAll(n).forEach(this.generateCopyButton)})},1e3)},generateCopyButton(n){if(n.classList.contains("codecopy-enabled"))return;const e=document.createElement("i");e.className="code-copy",e.innerHTML='<svg  style="color:#aaa;font-size:14px" t="1572422231464" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3201" width="14" height="14"><path d="M866.461538 39.384615H354.461538c-43.323077 0-78.769231 35.446154-78.76923 78.769231v39.384616h472.615384c43.323077 0 78.769231 35.446154 78.769231 78.76923v551.384616h39.384615c43.323077 0 78.769231-35.446154 78.769231-78.769231V118.153846c0-43.323077-35.446154-78.769231-78.769231-78.769231z m-118.153846 275.692308c0-43.323077-35.446154-78.769231-78.76923-78.769231H157.538462c-43.323077 0-78.769231 35.446154-78.769231 78.769231v590.769231c0 43.323077 35.446154 78.769231 78.769231 78.769231h512c43.323077 0 78.769231-35.446154 78.76923-78.769231V315.076923z m-354.461538 137.846154c0 11.815385-7.876923 19.692308-19.692308 19.692308h-157.538461c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h157.538461c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z m157.538461 315.076923c0 11.815385-7.876923 19.692308-19.692307 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h315.076923c11.815385 0 19.692308 7.876923 19.692307 19.692308v39.384615z m78.769231-157.538462c0 11.815385-7.876923 19.692308-19.692308 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h393.846153c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z" p-id="3202"></path></svg>',e.title="Copy to clipboard",e.addEventListener("click",()=>{this.copyToClipboard(n.innerText)}),n.appendChild(e),n.classList.add("codecopy-enabled")},copyToClipboard(n){const e=document.createElement("textarea");e.value=n,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);const t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);e.select(),document.execCommand("copy");(new wl).show({text:"å¤å¶æå",duration:1e3}),document.body.removeChild(e),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t))}}};!function(n,e){void 0===e&&(e={});var t=e.insertAt;if(n&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&a.firstChild?a.insertBefore(r,a.firstChild):a.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}}("@media (max-width: 1000px) {\n  .vuepress-plugin-demo-block__h_code {\n    display: none;\n  }\n  .vuepress-plugin-demo-block__app {\n    margin-left: auto !important;\n    margin-right: auto !important;\n  }\n}\n.vuepress-plugin-demo-block__wrapper {\n  margin-top: 10px;\n  border: 1px solid #ebebeb;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display {\n  height: 400px;\n  display: flex;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__app {\n  width: 300px;\n  border: 1px solid #ebebeb;\n  box-shadow: 1px 1px 3px #ebebeb;\n  margin-right: 5px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code {\n  flex: 1;\n  overflow: auto;\n  height: 100%;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code > pre {\n  overflow: visible;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  max-height: 400px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper div {\n  box-sizing: border-box;\n}\n.vuepress-plugin-demo-block__wrapper:hover {\n  box-shadow: 0 0 11px rgba(33, 33, 33, 0.2);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code {\n  overflow: hidden;\n  height: 0;\n  padding: 0 !important;\n  background-color: #282c34;\n  border-radius: 0 !important;\n  transition: height 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code pre {\n  margin: 0 !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  padding: 20px;\n  border-bottom: 1px solid #ebebeb;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer {\n  position: relative;\n  text-align: center;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__codepen {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__expand::before {\n  border-top: none;\n  border-right: 6px solid transparent;\n  border-bottom: 6px solid #ccc;\n  border-left: 6px solid transparent;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__codepen,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand span,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand::before {\n  border-top-color: #3eaf7c !important;\n  border-bottom-color: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover svg {\n  fill: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand-text {\n  transition: all 0.5s;\n  opacity: 0;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:nth-last-child(2) {\n  right: 50px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:last-child {\n  right: 10px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button {\n  border-color: transparent;\n  background-color: transparent;\n  font-size: 14px;\n  color: #3eaf7c;\n  cursor: pointer;\n  outline: none;\n  margin: 0;\n  width: 46px;\n  position: relative;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::before {\n  content: attr(data-tip);\n  white-space: nowrap;\n  position: absolute;\n  top: -30px;\n  left: 50%;\n  color: #eee;\n  line-height: 1;\n  z-index: 1000;\n  border-radius: 4px;\n  padding: 6px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  background-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::after {\n  content: '' !important;\n  display: block;\n  position: absolute;\n  left: 50%;\n  top: -5px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  border: 5px solid transparent;\n  border-top-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button svg {\n  width: 34px;\n  height: 20px;\n  fill: #ccc;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__codepen {\n  position: absolute;\n  top: 10px;\n  transition: all 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand {\n  position: relative;\n  width: 100px;\n  height: 40px;\n  margin: 0;\n  color: #3eaf7c;\n  font-size: 14px;\n  background-color: transparent;\n  border-color: transparent;\n  outline: none;\n  transition: all 0.5s;\n  cursor: pointer;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand::before {\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 0;\n  height: 0;\n  border-top: 6px solid #ccc;\n  border-right: 6px solid transparent;\n  border-left: 6px solid transparent;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n");var Al={jsLib:[],cssLib:[],jsfiddle:!0,codepen:!0,codepenLayout:"left",codepenJsProcessor:"babel",codepenEditors:"101",horizontal:!1,vue:"https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js",react:"https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js",reactDOM:"https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"},Il={},zl=function(n){return'<div id="app">\n'.concat(n,"\n</div>")},Ll=function(n){return window.$VUEPRESS_DEMO_BLOCK&&void 0!==window.$VUEPRESS_DEMO_BLOCK[n]?window.$VUEPRESS_DEMO_BLOCK[n]:Al[n]},Ml=function n(e,t,a){var r=document.createElement(e);return t&&Object.keys(t).forEach((function(n){if(n.indexOf("data"))r[n]=t[n];else{var e=n.replace("data","");r.dataset[e]=t[n]}})),a&&a.forEach((function(e){var t=e.tag,a=e.attrs,i=e.children;r.appendChild(n(t,a,i))})),r},jl=function(n,e,t){var a,r=(a=n.querySelectorAll(".".concat(e)),Array.prototype.slice.call(a));return 1!==r.length||t?r:r[0]},Bl=function(n,e){var t,a,r=n.match(/<style>([\s\S]+)<\/style>/),i=n.match(/<template>([\s\S]+)<\/template>/),o=n.match(/<script>([\s\S]+)<\/script>/),l={css:r&&r[1].replace(/^\n|\n$/g,""),html:i&&i[1].replace(/^\n|\n$/g,""),js:o&&o[1].replace(/^\n|\n$/g,""),jsLib:e.jsLib||[],cssLib:e.cssLib||[]};l.htmlTpl=zl(l.html),l.jsTpl=(t=l.js,a=t.replace(/export\s+default\s*?\{\n*/,"").replace(/\n*\}\s*$/,"").trim(),"new Vue({\n  el: '#app',\n  ".concat(a,"\n})")),l.script=function(n,e){var t=n.split(/export\s+default/),a="(function() {".concat(t[0]," ; return ").concat(t[1],"})()"),r=window.Babel?window.Babel.transform(a,{presets:["es2015"]}).code:a,i=[eval][0](r);return i.template=e,i}(l.js,l.html);var s=Ll("vue");return l.jsLib.unshift(s),l},Pl=function(n,e){var t,a=n.match(/<style>([\s\S]+)<\/style>/),r=n.match(/<html>([\s\S]+)<\/html>/),i=n.match(/<script>([\s\S]+)<\/script>/),o={css:a&&a[1].replace(/^\n|\n$/g,""),html:r&&r[1].replace(/^\n|\n$/g,""),js:i&&i[1].replace(/^\n|\n$/g,""),jsLib:e.jsLib||[],cssLib:e.cssLib||[]};return o.htmlTpl=o.html,o.jsTpl=o.js,o.script=(t=o.js,window.Babel?window.Babel.transform(t,{presets:["es2015"]}).code:t),o},Ol=function(n){return n=n.replace("export default ","").replace(/App\.__style__(\s*)=(\s*)`([\s\S]*)?`/,""),n+='ReactDOM.render(React.createElement(App), document.getElementById("app"))'};function Rl(){var n=jl(document,"vuepress-plugin-demo-block__wrapper",!0);n.length?n.forEach((function(n){if("true"!==n.dataset.created){n.style.display="block";var e=jl(n,"vuepress-plugin-demo-block__code"),t=jl(n,"vuepress-plugin-demo-block__display"),a=jl(n,"vuepress-plugin-demo-block__footer"),r=jl(t,"vuepress-plugin-demo-block__app"),i=decodeURIComponent(n.dataset.code),o=decodeURIComponent(n.dataset.config),l=decodeURIComponent(n.dataset.type);o=o?JSON.parse(o):{};var s=e.querySelector("div").clientHeight,c="react"===l?function(n,e){var t=(0,window.Babel.transform)(n,{presets:["es2015","react"]}).code,a="(function(exports){var module={};module.exports=exports;".concat(t,";return module.exports.__esModule?module.exports.default:module.exports;})({})"),r=new Function("return ".concat(a))(),i={js:r,css:r.__style__||"",jsLib:e.jsLib||[],cssLib:e.cssLib||[],jsTpl:Ol(n),htmlTpl:zl("")},o=Ll("react"),l=Ll("reactDOM");return i.jsLib.unshift(o,l),i}(i,o):"vanilla"===l?Pl(i,o):Bl(i,o),d=Ml("button",{className:"".concat("vuepress-plugin-demo-block__expand")});if(a.appendChild(d),d.addEventListener("click",Dl.bind(null,d,s,e,a)),Ll("jsfiddle")&&a.appendChild(function(n){var e=n.css,t=n.htmlTpl,a=n.jsTpl,r=n.jsLib,i=n.cssLib,o=r.concat(i).concat(Ll("cssLib")).concat(Ll("jsLib")).join(",");return Ml("form",{className:"vuepress-plugin-demo-block__jsfiddle",target:"_blank",action:"https://jsfiddle.net/api/post/library/pure/",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"css",value:e}},{tag:"input",attrs:{type:"hidden",name:"html",value:t}},{tag:"input",attrs:{type:"hidden",name:"js",value:a}},{tag:"input",attrs:{type:"hidden",name:"panel_js",value:3}},{tag:"input",attrs:{type:"hidden",name:"wrap",value:1}},{tag:"input",attrs:{type:"hidden",name:"resources",value:o}},{tag:"button",attrs:{type:"submit",className:"vuepress-plugin-demo-block__button",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088289967" class="icon" style="" viewBox="0 0 1170 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1952" xmlns:xlink="http://www.w3.org/1999/xlink" width="228.515625" height="200"><defs><style type="text/css"></style></defs><path d="M1028.571429 441.142857q63.428571 26.285714 102.571428 83.142857T1170.285714 650.857143q0 93.714286-67.428571 160.285714T940 877.714286q-2.285714 0-6.571429-0.285715t-6-0.285714H232q-97.142857-5.714286-164.571429-71.714286T0 645.142857q0-62.857143 31.428571-116t84-84q-6.857143-22.285714-6.857142-46.857143 0-65.714286 46.857142-112t113.714286-46.285714q54.285714 0 98.285714 33.142857 42.857143-88 127.142858-141.714286t186.571428-53.714285q94.857143 0 174.857143 46T982.571429 248.571429t46.571428 172q0 3.428571-0.285714 10.285714t-0.285714 10.285714zM267.428571 593.142857q0 69.714286 48 110.285714t118.857143 40.571429q78.285714 0 137.142857-56.571429-9.142857-11.428571-27.142857-32.285714T519.428571 626.285714q-38.285714 37.142857-82.285714 37.142857-31.428571 0-53.428571-19.142857T361.714286 594.285714q0-30.285714 22-49.714285t52.285714-19.428572q25.142857 0 48.285714 12t41.714286 31.428572 37.142857 42.857142 39.428572 46.857143 44 42.857143 55.428571 31.428572 69.428571 12q69.142857 0 116.857143-40.857143T936 594.857143q0-69.142857-48-109.714286t-118.285714-40.571428q-81.714286 0-137.714286 55.428571l53.142857 61.714286q37.714286-36.571429 81.142857-36.571429 29.714286 0 52.571429 18.857143t22.857143 48q0 32.571429-21.142857 52.285714t-53.714286 19.714286q-24.571429 0-47.142857-12t-41.142857-31.428571-37.428572-42.857143-39.714286-46.857143-44.285714-42.857143-55.142857-31.428571T434.285714 444.571429q-69.714286 0-118.285714 40.285714T267.428571 593.142857z" p-id="1953"></path></svg>',datatip:"JSFiddle"}}])}(c)),Ll("codepen")&&a.appendChild(function(n){var e=n.css,t=n.htmlTpl,a=n.jsTpl,r=n.jsLib,i=n.cssLib,o=JSON.stringify({css:e,html:t,js:a,js_external:r.concat(Ll("jsLib")).join(";"),css_external:i.concat(Ll("cssLib")).join(";"),layout:Ll("codepenLayout"),js_pre_processor:Ll("codepenJsProcessor"),editors:Ll("codepenEditors")});return Ml("form",{className:"vuepress-plugin-demo-block__codepen",target:"_blank",action:"https://codepen.io/pen/define",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"data",value:o}},{tag:"button",attrs:{type:"submit",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088271207" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1737" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M123.428571 668l344.571429 229.714286v-205.142857L277.142857 565.142857z m-35.428571-82.285714l110.285714-73.714286-110.285714-73.714286v147.428572z m468 312l344.571429-229.714286-153.714286-102.857143-190.857143 127.428572v205.142857z m-44-281.714286l155.428571-104-155.428571-104-155.428571 104zM277.142857 458.857143l190.857143-127.428572V126.285714L123.428571 356z m548.571429 53.142857l110.285714 73.714286V438.285714z m-78.857143-53.142857l153.714286-102.857143-344.571429-229.714286v205.142857z m277.142857-102.857143v312q0 23.428571-19.428571 36.571429l-468 312q-12 7.428571-24.571429 7.428571t-24.571429-7.428571L19.428571 704.571429q-19.428571-13.142857-19.428571-36.571429V356q0-23.428571 19.428571-36.571429L487.428571 7.428571q12-7.428571 24.571429-7.428571t24.571429 7.428571l468 312q19.428571 13.142857 19.428571 36.571429z" p-id="1738"></path></svg>',className:"vuepress-plugin-demo-block__button",datatip:"Codepen"}}])}(c)),void 0!==o.horizontal?o.horizontal:Ll("horizontal")){n.classList.add("vuepress-plugin-demo-block__horizontal");var u=e.firstChild.cloneNode(!0);u.classList.add("vuepress-plugin-demo-block__h_code"),t.appendChild(u)}if(c.css&&function(n){if(!Il[n]){var e=Ml("style",{innerHTML:n});document.body.appendChild(e),Il[n]=!0}}(c.css),"react"===l)ReactDOM.render(React.createElement(c.js),r);else if("vue"===l){var p=(new(Vue.extend(c.script))).$mount();r.appendChild(p.$el)}else"vanilla"===l&&(r.innerHTML=c.html,new Function("return (function(){".concat(c.script,"})()"))());n.dataset.created="true"}})):setTimeout((function(n){Rl()}),300)}function Dl(n,e,t,a){var r="1"!==n.dataset.isExpand;t.style.height=r?"".concat(e,"px"):0,r?a.classList.add("vuepress-plugin-demo-block__show-link"):a.classList.remove("vuepress-plugin-demo-block__show-link"),n.dataset.isExpand=r?"1":"0"}var Jl={mounted:function(){window.$VUEPRESS_DEMO_BLOCK={jsfiddle:!1,codepen:!0,horizontal:!1},Rl()},updated:function(){Rl()}},Fl="auto",ql="zoom-in",Nl="zoom-out",Ul="grab",Gl="move";function Vl(n,e,t){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r={passive:!1};a?n.addEventListener(e,t,r):n.removeEventListener(e,t,r)}function Ql(n,e){if(n){var t=new Image;t.onload=function(){e&&e(t)},t.src=n}}function Hl(n){return n.dataset.original?n.dataset.original:"A"===n.parentNode.tagName?n.parentNode.getAttribute("href"):null}function $l(n,e,t){!function(n){var e=Xl,t=Kl;if(n.transition){var a=n.transition;delete n.transition,n[e]=a}if(n.transform){var r=n.transform;delete n.transform,n[t]=r}}(e);var a=n.style,r={};for(var i in e)t&&(r[i]=a[i]||""),a[i]=e[i];return r}var Xl="transition",Kl="transform",Wl="transform",Zl="transitionend";var Yl=function(){},ns={enableGrab:!0,preloadImage:!1,closeOnWindowResize:!0,transitionDuration:.4,transitionTimingFunction:"cubic-bezier(0.4, 0, 0, 1)",bgColor:"rgb(255, 255, 255)",bgOpacity:1,scaleBase:1,scaleExtra:.5,scrollThreshold:40,zIndex:998,customSize:null,onOpen:Yl,onClose:Yl,onGrab:Yl,onMove:Yl,onRelease:Yl,onBeforeOpen:Yl,onBeforeClose:Yl,onBeforeGrab:Yl,onBeforeRelease:Yl,onImageLoading:Yl,onImageLoaded:Yl},es={init:function(n){var e,t;e=this,t=n,Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(n){e[n]=e[n].bind(t)}))},click:function(n){if(n.preventDefault(),as(n))return window.open(this.target.srcOriginal||n.currentTarget.src,"_blank");this.shown?this.released?this.close():this.release():this.open(n.currentTarget)},scroll:function(){var n=document.documentElement||document.body.parentNode||document.body,e=window.pageXOffset||n.scrollLeft,t=window.pageYOffset||n.scrollTop;null===this.lastScrollPosition&&(this.lastScrollPosition={x:e,y:t});var a=this.lastScrollPosition.x-e,r=this.lastScrollPosition.y-t,i=this.options.scrollThreshold;(Math.abs(r)>=i||Math.abs(a)>=i)&&(this.lastScrollPosition=null,this.close())},keydown:function(n){(function(n){return"Escape"===(n.key||n.code)||27===n.keyCode})(n)&&(this.released?this.close():this.release(this.close))},mousedown:function(n){if(ts(n)&&!as(n)){n.preventDefault();var e=n.clientX,t=n.clientY;this.pressTimer=setTimeout(function(){this.grab(e,t)}.bind(this),200)}},mousemove:function(n){this.released||this.move(n.clientX,n.clientY)},mouseup:function(n){ts(n)&&!as(n)&&(clearTimeout(this.pressTimer),this.released?this.close():this.release())},touchstart:function(n){n.preventDefault();var e=n.touches[0],t=e.clientX,a=e.clientY;this.pressTimer=setTimeout(function(){this.grab(t,a)}.bind(this),200)},touchmove:function(n){if(!this.released){var e=n.touches[0],t=e.clientX,a=e.clientY;this.move(t,a)}},touchend:function(n){(function(n){n.targetTouches.length})(n)||(clearTimeout(this.pressTimer),this.released?this.close():this.release())},clickOverlay:function(){this.close()},resizeWindow:function(){this.close()}};function ts(n){return 0===n.button}function as(n){return n.metaKey||n.ctrlKey}var rs={init:function(n){this.el=document.createElement("div"),this.instance=n,this.parent=document.body,$l(this.el,{position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0}),this.updateStyle(n.options),Vl(this.el,"click",n.handler.clickOverlay.bind(n))},updateStyle:function(n){$l(this.el,{zIndex:n.zIndex,backgroundColor:n.bgColor,transition:"opacity\n        "+n.transitionDuration+"s\n        "+n.transitionTimingFunction})},insert:function(){this.parent.appendChild(this.el)},remove:function(){this.parent.removeChild(this.el)},fadeIn:function(){this.el.offsetWidth,this.el.style.opacity=this.instance.options.bgOpacity},fadeOut:function(){this.el.style.opacity=0}},is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},os=function(){function n(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}(),ls=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},ss={init:function(n,e){this.el=n,this.instance=e,this.srcThumbnail=this.el.getAttribute("src"),this.srcset=this.el.getAttribute("srcset"),this.srcOriginal=Hl(this.el),this.rect=this.el.getBoundingClientRect(),this.translate=null,this.scale=null,this.styleOpen=null,this.styleClose=null},zoomIn:function(){var n=this.instance.options,e=n.zIndex,t=n.enableGrab,a=n.transitionDuration,r=n.transitionTimingFunction;this.translate=this.calculateTranslate(),this.scale=this.calculateScale(),this.styleOpen={position:"relative",zIndex:e+1,cursor:t?Ul:Nl,transition:Wl+"\n        "+a+"s\n        "+r,transform:"translate3d("+this.translate.x+"px, "+this.translate.y+"px, 0px)\n        scale("+this.scale.x+","+this.scale.y+")",height:this.rect.height+"px",width:this.rect.width+"px"},this.el.offsetWidth,this.styleClose=$l(this.el,this.styleOpen,!0)},zoomOut:function(){this.el.offsetWidth,$l(this.el,{transform:"none"})},grab:function(n,e,t){var a=cs(),r=a.x-n,i=a.y-e;$l(this.el,{cursor:Gl,transform:"translate3d(\n        "+(this.translate.x+r)+"px, "+(this.translate.y+i)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},move:function(n,e,t){var a=cs(),r=a.x-n,i=a.y-e;$l(this.el,{transition:Wl,transform:"translate3d(\n        "+(this.translate.x+r)+"px, "+(this.translate.y+i)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},restoreCloseStyle:function(){$l(this.el,this.styleClose)},restoreOpenStyle:function(){$l(this.el,this.styleOpen)},upgradeSource:function(){if(this.srcOriginal){var n=this.el.parentNode;this.srcset&&this.el.removeAttribute("srcset");var e=this.el.cloneNode(!1);e.setAttribute("src",this.srcOriginal),e.style.position="fixed",e.style.visibility="hidden",n.appendChild(e),setTimeout(function(){this.el.setAttribute("src",this.srcOriginal),n.removeChild(e)}.bind(this),50)}},downgradeSource:function(){this.srcOriginal&&(this.srcset&&this.el.setAttribute("srcset",this.srcset),this.el.setAttribute("src",this.srcThumbnail))},calculateTranslate:function(){var n=cs(),e=this.rect.left+this.rect.width/2,t=this.rect.top+this.rect.height/2;return{x:n.x-e,y:n.y-t}},calculateScale:function(){var n=this.el.dataset,e=n.zoomingHeight,t=n.zoomingWidth,a=this.instance.options,r=a.customSize,i=a.scaleBase;if(!r&&e&&t)return{x:t/this.rect.width,y:e/this.rect.height};if(r&&"object"===(void 0===r?"undefined":is(r)))return{x:r.width/this.rect.width,y:r.height/this.rect.height};var o=this.rect.width/2,l=this.rect.height/2,s=cs(),c={x:s.x-o,y:s.y-l},d=c.x/o,u=c.y/l,p=i+Math.min(d,u);if(r&&"string"==typeof r){var m=t||this.el.naturalWidth,h=e||this.el.naturalHeight,f=parseFloat(r)*m/(100*this.rect.width),g=parseFloat(r)*h/(100*this.rect.height);if(p>f||p>g)return{x:f,y:g}}return{x:p,y:p}}};function cs(){var n=document.documentElement;return{x:Math.min(n.clientWidth,window.innerWidth)/2,y:Math.min(n.clientHeight,window.innerHeight)/2}}function ds(n,e,t){["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"].forEach((function(a){Vl(n,a,e[a],t)}))}var us=function(){function n(e){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.target=Object.create(ss),this.overlay=Object.create(rs),this.handler=Object.create(es),this.body=document.body,this.shown=!1,this.lock=!1,this.released=!0,this.lastScrollPosition=null,this.pressTimer=null,this.options=ls({},ns,e),this.overlay.init(this),this.handler.init(this)}return os(n,[{key:"listen",value:function(n){if("string"==typeof n)for(var e=document.querySelectorAll(n),t=e.length;t--;)this.listen(e[t]);else"IMG"===n.tagName&&(n.style.cursor=ql,Vl(n,"click",this.handler.click),this.options.preloadImage&&Ql(Hl(n)));return this}},{key:"config",value:function(n){return n?(ls(this.options,n),this.overlay.updateStyle(this.options),this):this.options}},{key:"open",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.onOpen;if(!this.shown&&!this.lock){var a="string"==typeof n?document.querySelector(n):n;if("IMG"===a.tagName){if(this.options.onBeforeOpen(a),this.target.init(a,this),!this.options.preloadImage){var r=this.target.srcOriginal;null!=r&&(this.options.onImageLoading(a),Ql(r,this.options.onImageLoaded))}this.shown=!0,this.lock=!0,this.target.zoomIn(),this.overlay.insert(),this.overlay.fadeIn(),Vl(document,"scroll",this.handler.scroll),Vl(document,"keydown",this.handler.keydown),this.options.closeOnWindowResize&&Vl(window,"resize",this.handler.resizeWindow);var i=function n(){Vl(a,Zl,n,!1),e.lock=!1,e.target.upgradeSource(),e.options.enableGrab&&ds(document,e.handler,!0),t(a)};return Vl(a,Zl,i),this}}}},{key:"close",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onClose;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeClose(t),this.lock=!0,this.body.style.cursor=Fl,this.overlay.fadeOut(),this.target.zoomOut(),Vl(document,"scroll",this.handler.scroll,!1),Vl(document,"keydown",this.handler.keydown,!1),this.options.closeOnWindowResize&&Vl(window,"resize",this.handler.resizeWindow,!1);var a=function a(){Vl(t,Zl,a,!1),n.shown=!1,n.lock=!1,n.target.downgradeSource(),n.options.enableGrab&&ds(document,n.handler,!1),n.target.restoreCloseStyle(),n.overlay.remove(),e(t)};return Vl(t,Zl,a),this}}},{key:"grab",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onGrab;if(this.shown&&!this.lock){var r=this.target.el;this.options.onBeforeGrab(r),this.released=!1,this.target.grab(n,e,t);var i=function n(){Vl(r,Zl,n,!1),a(r)};return Vl(r,Zl,i),this}}},{key:"move",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onMove;if(this.shown&&!this.lock){this.released=!1,this.body.style.cursor=Gl,this.target.move(n,e,t);var r=this.target.el,i=function n(){Vl(r,Zl,n,!1),a(r)};return Vl(r,Zl,i),this}}},{key:"release",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onRelease;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeRelease(t),this.lock=!0,this.body.style.cursor=Fl,this.target.restoreOpenStyle();var a=function a(){Vl(t,Zl,a,!1),n.lock=!1,n.released=!0,e(t)};return Vl(t,Zl,a),this}}}]),n}();const ps=JSON.parse('{"bgColor":"rgba(0,0,0,0.6)"}'),ms=Number("500");class hs{constructor(){this.instance=new us(ps)}update(n=".theme-vdoing-content img:not(.no-zoom)"){"undefined"!=typeof window&&this.instance.listen(n)}updateDelay(n=".theme-vdoing-content img:not(.no-zoom)",e=ms){setTimeout(()=>this.update(n),e)}}var fs=[gl,Tl,kl,Cl,Jl,{watch:{"$page.path"(){void 0!==this.$vuepress.zooming&&this.$vuepress.zooming.updateDelay()}},mounted(){this.$vuepress.zooming=new hs,this.$vuepress.zooming.updateDelay()}}],gs={name:"GlobalLayout",computed:{layout(){const n=this.getLayout();return ul("layout",n),Qt.component(n)}},methods:{getLayout(){if(this.$page.path){const n=this.$page.frontmatter.layout;return n&&(this.$vuepress.getLayoutAsyncComponent(n)||this.$vuepress.getVueComponent(n))?n:"Layout"}return"NotFound"}}},vs=t(7),bs=Object(vs.a)(gs,(function(){return(0,this._self._c)(this.layout,{tag:"component"})}),[],!1,null,null,null).exports;!function(n,e,t){switch(e){case"components":n[e]||(n[e]={}),Object.assign(n[e],t);break;case"mixins":n[e]||(n[e]=[]),n[e].push(...t);break;default:throw new Error("Unknown option name.")}}(bs,"mixins",fs);const ys=[{name:"v-0752b88c",path:"/pages/0e35d1/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-0752b88c").then(t)}},{path:"/pages/0e35d1/index.html",redirect:"/pages/0e35d1/"},{path:"/01.Java ç¥è¯ä½ç³»/01.è®¡ç®æºåºç¡/01.æ°æ®ç»æ/01.çº¿æ§æ°æ®ç»æââæ°ç»ãé¾è¡¨ãæ ãéå.html",redirect:"/pages/0e35d1/"},{name:"v-37120786",path:"/pages/beb561/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-37120786").then(t)}},{path:"/pages/beb561/index.html",redirect:"/pages/beb561/"},{path:"/01.Java ç¥è¯ä½ç³»/01.è®¡ç®æºåºç¡/01.æ°æ®ç»æ/02.åå¸è¡¨.html",redirect:"/pages/beb561/"},{name:"v-6b67a3c6",path:"/pages/d2ac96/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-6b67a3c6").then(t)}},{path:"/pages/d2ac96/index.html",redirect:"/pages/d2ac96/"},{path:"/01.Java ç¥è¯ä½ç³»/01.è®¡ç®æºåºç¡/01.æ°æ®ç»æ/04.æ .html",redirect:"/pages/d2ac96/"},{name:"v-414ca65b",path:"/pages/74b53c/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-414ca65b").then(t)}},{path:"/pages/74b53c/index.html",redirect:"/pages/74b53c/"},{path:"/01.Java ç¥è¯ä½ç³»/01.è®¡ç®æºåºç¡/02.æä½ç³»ç»/01.Linux/02.Linux å¸¸ç¨å½ä»¤.html",redirect:"/pages/74b53c/"},{name:"v-243cc8aa",path:"/pages/8751ef/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-243cc8aa").then(t)}},{path:"/pages/8751ef/index.html",redirect:"/pages/8751ef/"},{path:"/01.Java ç¥è¯ä½ç³»/01.è®¡ç®æºåºç¡/01.æ°æ®ç»æ/03.å¾.html",redirect:"/pages/8751ef/"},{name:"v-59615ba1",path:"/pages/ee514b/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-59615ba1").then(t)}},{path:"/pages/ee514b/index.html",redirect:"/pages/ee514b/"},{path:"/01.Java ç¥è¯ä½ç³»/01.è®¡ç®æºåºç¡/02.æä½ç³»ç»/01.Linux/01.Linux.html",redirect:"/pages/ee514b/"},{name:"v-90b1f352",path:"/pages/67462f/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-90b1f352").then(t)}},{path:"/pages/67462f/index.html",redirect:"/pages/67462f/"},{path:"/01.Java ç¥è¯ä½ç³»/02.æ°æ®åº/01.æ°æ®åºåºç¡ä¸SQL.html",redirect:"/pages/67462f/"},{name:"v-73deb80f",path:"/pages/c9b13a/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-73deb80f").then(t)}},{path:"/pages/c9b13a/index.html",redirect:"/pages/c9b13a/"},{path:"/01.Java ç¥è¯ä½ç³»/02.æ°æ®åº/02.MySQL/01.MySQLç®ä».html",redirect:"/pages/c9b13a/"},{name:"v-618bf0bb",path:"/pages/b5322d/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-618bf0bb").then(t)}},{path:"/pages/b5322d/index.html",redirect:"/pages/b5322d/"},{path:"/01.Java ç¥è¯ä½ç³»/01.è®¡ç®æºåºç¡/01.æ°æ®ç»æ/05.çº¢é»æ .html",redirect:"/pages/b5322d/"},{name:"v-30655360",path:"/pages/17d468/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-30655360").then(t)}},{path:"/pages/17d468/index.html",redirect:"/pages/17d468/"},{path:"/01.Java ç¥è¯ä½ç³»/02.æ°æ®åº/02.MySQL/03.MySQLç´¢å¼.html",redirect:"/pages/17d468/"},{name:"v-f91ab4be",path:"/pages/198df0/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-f91ab4be").then(t)}},{path:"/pages/198df0/index.html",redirect:"/pages/198df0/"},{path:"/01.Java ç¥è¯ä½ç³»/02.æ°æ®åº/02.MySQL/02.MySQLä½ç³»ç»æ.html",redirect:"/pages/198df0/"},{name:"v-f52dc942",path:"/pages/ec5067/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-f52dc942").then(t)}},{path:"/pages/ec5067/index.html",redirect:"/pages/ec5067/"},{path:"/01.Java ç¥è¯ä½ç³»/02.æ°æ®åº/02.MySQL/04.MySQLè°ä¼.html",redirect:"/pages/ec5067/"},{name:"v-558474a0",path:"/pages/f7fcac/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-558474a0").then(t)}},{path:"/pages/f7fcac/index.html",redirect:"/pages/f7fcac/"},{path:"/01.Java ç¥è¯ä½ç³»/02.æ°æ®åº/02.MySQL/05.MySQLå½ä»¤å¤§å¨.html",redirect:"/pages/f7fcac/"},{name:"v-4d3b354d",path:"/pages/f7214d/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-4d3b354d").then(t)}},{path:"/pages/f7214d/index.html",redirect:"/pages/f7214d/"},{path:"/01.Java ç¥è¯ä½ç³»/03.Java/01.Java åºç¡/01.BigDecimal è¯¦è§£.html",redirect:"/pages/f7214d/"},{name:"v-f225e21e",path:"/pages/33fb2e/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-f225e21e").then(t)}},{path:"/pages/33fb2e/index.html",redirect:"/pages/33fb2e/"},{path:"/01.Java ç¥è¯ä½ç³»/03.Java/02.Java å®¹å¨/01.Java éåå¸¸ç¨ä½¿ç¨æå·§.html",redirect:"/pages/33fb2e/"},{name:"v-09788617",path:"/pages/8f19aa/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-09788617").then(t)}},{path:"/pages/8f19aa/index.html",redirect:"/pages/8f19aa/"},{path:"/01.Java ç¥è¯ä½ç³»/03.Java/01.Java åºç¡/02.Java å¼å¸¸ä½ç³».html",redirect:"/pages/8f19aa/"},{name:"v-8a778884",path:"/pages/528ca4/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-8a778884").then(t)}},{path:"/pages/528ca4/index.html",redirect:"/pages/528ca4/"},{path:"/01.Java ç¥è¯ä½ç³»/03.Java/02.Java å®¹å¨/02.ArrayList æºç åæåæ©å®¹æºå¶.html",redirect:"/pages/528ca4/"},{name:"v-6cc42844",path:"/pages/a794bb/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-6cc42844").then(t)}},{path:"/pages/a794bb/index.html",redirect:"/pages/a794bb/"},{path:"/01.Java ç¥è¯ä½ç³»/03.Java/02.Java å®¹å¨/03.HashMap æºç ååºå±æ°æ®ç»æåæ.html",redirect:"/pages/a794bb/"},{name:"v-0322d41e",path:"/pages/571a8d/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-0322d41e").then(t)}},{path:"/pages/571a8d/index.html",redirect:"/pages/571a8d/"},{path:"/01.Java ç¥è¯ä½ç³»/03.Java/03.Java å¹¶å/01.å¹¶åç¼ç¨åºç¡.html",redirect:"/pages/571a8d/"},{name:"v-65476117",path:"/pages/adbda5/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-65476117").then(t)}},{path:"/pages/adbda5/index.html",redirect:"/pages/adbda5/"},{path:"/01.Java ç¥è¯ä½ç³»/03.Java/03.Java å¹¶å/02.Java çº¿ç¨æ± è¯¦è§£.html",redirect:"/pages/adbda5/"},{name:"v-5ea26f44",path:"/pages/737a52/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-5ea26f44").then(t)}},{path:"/pages/737a52/index.html",redirect:"/pages/737a52/"},{path:"/01.Java ç¥è¯ä½ç³»/03.Java/03.Java å¹¶å/04.Java é.html",redirect:"/pages/737a52/"},{name:"v-7dc35ca5",path:"/pages/77c217/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-7dc35ca5").then(t)}},{path:"/pages/77c217/index.html",redirect:"/pages/77c217/"},{path:"/01.Java ç¥è¯ä½ç³»/03.Java/03.Java å¹¶å/03.CompletableFuture è¯¦è§£.html",redirect:"/pages/77c217/"},{name:"v-770d0f42",path:"/pages/b6b76e/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-770d0f42").then(t)}},{path:"/pages/b6b76e/index.html",redirect:"/pages/b6b76e/"},{path:"/01.Java ç¥è¯ä½ç³»/03.Java/04.Java æ°ç¹æ§/01.Java8 æ°ç¹æ§/01.Java 8 æ°ç¹æ§.html",redirect:"/pages/b6b76e/"},{name:"v-854b12bc",path:"/pages/f2f56b/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-854b12bc").then(t)}},{path:"/pages/f2f56b/index.html",redirect:"/pages/f2f56b/"},{path:"/01.Java ç¥è¯ä½ç³»/03.Java/04.Java æ°ç¹æ§/01.Java8 æ°ç¹æ§/02.Java 8 å¹¶è¡æµ.html",redirect:"/pages/f2f56b/"},{name:"v-76b6bfea",path:"/pages/5bf174/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-76b6bfea").then(t)}},{path:"/pages/5bf174/index.html",redirect:"/pages/5bf174/"},{path:"/01.Java ç¥è¯ä½ç³»/03.Java/05.JVM/02.JVM åå¾æ¶é.html",redirect:"/pages/5bf174/"},{name:"v-21848ec2",path:"/pages/c5dfa7/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-21848ec2").then(t)}},{path:"/pages/c5dfa7/index.html",redirect:"/pages/c5dfa7/"},{path:"/01.Java ç¥è¯ä½ç³»/03.Java/05.JVM/03.JVM å¸¸ç¨åæ°.html",redirect:"/pages/c5dfa7/"},{name:"v-4cef543f",path:"/pages/7bbf36/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-4cef543f").then(t)}},{path:"/pages/7bbf36/index.html",redirect:"/pages/7bbf36/"},{path:"/01.Java ç¥è¯ä½ç³»/03.Java/05.JVM/06.JVM é®é¢ææ¥åè°ä¼.html",redirect:"/pages/7bbf36/"},{name:"v-f445feb8",path:"/pages/ecd0f2/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-f445feb8").then(t)}},{path:"/pages/ecd0f2/index.html",redirect:"/pages/ecd0f2/"},{path:"/01.Java ç¥è¯ä½ç³»/03.Java/05.JVM/01.Java åå­åºå.html",redirect:"/pages/ecd0f2/"},{name:"v-76d58b51",path:"/pages/b8b917/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-76d58b51").then(t)}},{path:"/pages/b8b917/index.html",redirect:"/pages/b8b917/"},{path:"/01.Java ç¥è¯ä½ç³»/03.Java/05.JVM/05.JVM è°ä¼.html",redirect:"/pages/b8b917/"},{name:"v-5c1cca71",path:"/pages/2cdbc6/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-5c1cca71").then(t)}},{path:"/pages/2cdbc6/index.html",redirect:"/pages/2cdbc6/"},{path:"/01.Java ç¥è¯ä½ç³»/03.Java/05.JVM/04.JVM å¸¸ç¨çè°ä¼å·¥å·.html",redirect:"/pages/2cdbc6/"},{name:"v-17d22485",path:"/pages/47235b/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-17d22485").then(t)}},{path:"/pages/47235b/index.html",redirect:"/pages/47235b/"},{path:"/01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/01.å¸¸ç¨æ¡æ¶/01.Spring/01.Spring Bean.html",redirect:"/pages/47235b/"},{name:"v-1b7e4ff2",path:"/pages/5fcbaa/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-1b7e4ff2").then(t)}},{path:"/pages/5fcbaa/index.html",redirect:"/pages/5fcbaa/"},{path:"/01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/01.å¸¸ç¨æ¡æ¶/01.Spring/02.Springäºå¡æ»ç».html",redirect:"/pages/5fcbaa/"},{name:"v-4bab47ca",path:"/pages/4418d1/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-4bab47ca").then(t)}},{path:"/pages/4418d1/index.html",redirect:"/pages/4418d1/"},{path:"/01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/02.åå¸å¼/01.åå¸å¼é/01.åå¸å¼éä»ç».html",redirect:"/pages/4418d1/"},{name:"v-d97f40f6",path:"/pages/d51c58/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-d97f40f6").then(t)}},{path:"/pages/d51c58/index.html",redirect:"/pages/d51c58/"},{path:"/01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/02.åå¸å¼/01.åå¸å¼é/02.åå¸å¼éå¸¸è§å®ç°æ¹æ¡æ»ç».html",redirect:"/pages/d51c58/"},{name:"v-3bafe364",path:"/pages/8c09c7/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-3bafe364").then(t)}},{path:"/pages/8c09c7/index.html",redirect:"/pages/8c09c7/"},{path:"/01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/02.åå¸å¼/02.å¹ç­æ§/01.å¹ç­æ§ä»ç».html",redirect:"/pages/8c09c7/"},{name:"v-af103070",path:"/pages/126fc8/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-af103070").then(t)}},{path:"/pages/126fc8/index.html",redirect:"/pages/126fc8/"},{path:"/01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/02.åå¸å¼/03.RPCä»ç».html",redirect:"/pages/126fc8/"},{name:"v-0b8ed9f8",path:"/pages/d2a1d0/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-0b8ed9f8").then(t)}},{path:"/pages/d2a1d0/index.html",redirect:"/pages/d2a1d0/"},{path:"/01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/03.å¾®æå¡/01.SpringCloud/01.SpringCloud.html",redirect:"/pages/d2a1d0/"},{name:"v-31eab8d8",path:"/pages/a8e8ff/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-31eab8d8").then(t)}},{path:"/pages/a8e8ff/index.html",redirect:"/pages/a8e8ff/"},{path:"/01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/03.å¾®æå¡/02.SpringCloudAlibaba/01.SpringCloudAlibaba.html",redirect:"/pages/a8e8ff/"},{name:"v-d2430cca",path:"/pages/80c6b1/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-d2430cca").then(t)}},{path:"/pages/80c6b1/index.html",redirect:"/pages/80c6b1/"},{path:"/01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/02.åå¸å¼/04.Dubbo.html",redirect:"/pages/80c6b1/"},{name:"v-2bf7dba4",path:"/pages/01d62e/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-2bf7dba4").then(t)}},{path:"/pages/01d62e/index.html",redirect:"/pages/01d62e/"},{path:"/01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/03.å¾®æå¡/03.é¾è·¯è¿½è¸ªSkyWalking.html",redirect:"/pages/01d62e/"},{name:"v-2da3c232",path:"/pages/ada754/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-2da3c232").then(t)}},{path:"/pages/ada754/index.html",redirect:"/pages/ada754/"},{path:"/01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/04.å®æ¶ä»»å¡/02.åå¸å¼å®æ¶ä»»å¡ââQuartz.html",redirect:"/pages/ada754/"},{name:"v-27a25f92",path:"/pages/ae063e/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-27a25f92").then(t)}},{path:"/pages/ae063e/index.html",redirect:"/pages/ae063e/"},{path:"/01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/04.å®æ¶ä»»å¡/01.Java å®æ¶ä»»å¡å¤§å¨.html",redirect:"/pages/ae063e/"},{name:"v-d015cfc2",path:"/pages/56a50e/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-d015cfc2").then(t)}},{path:"/pages/56a50e/index.html",redirect:"/pages/56a50e/"},{path:"/01.Java ç¥è¯ä½ç³»/05.ä»£ç è´¨é/01.è®¾è®¡æ¨¡å¼/01.è®¾è®¡æ¨¡å¼ç®ä».html",redirect:"/pages/56a50e/"},{name:"v-0173ec44",path:"/pages/dd97c6/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-0173ec44").then(t)}},{path:"/pages/dd97c6/index.html",redirect:"/pages/dd97c6/"},{path:"/01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/05.Webæå¡å¨/01.Nginx.html",redirect:"/pages/dd97c6/"},{name:"v-64b968d7",path:"/pages/62b3c2/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-64b968d7").then(t)}},{path:"/pages/62b3c2/index.html",redirect:"/pages/62b3c2/"},{path:"/01.Java ç¥è¯ä½ç³»/05.ä»£ç è´¨é/01.è®¾è®¡æ¨¡å¼/02.è´£ä»»é¾æ¨¡å¼.html",redirect:"/pages/62b3c2/"},{name:"v-7cc9a2b6",path:"/pages/a2e658/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-7cc9a2b6").then(t)}},{path:"/pages/a2e658/index.html",redirect:"/pages/a2e658/"},{path:"/01.Java ç¥è¯ä½ç³»/05.ä»£ç è´¨é/01.è®¾è®¡æ¨¡å¼/03.æ¨¡çæ¹æ³æ¨¡å¼.html",redirect:"/pages/a2e658/"},{name:"v-39d6b1f3",path:"/pages/6281f2/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-39d6b1f3").then(t)}},{path:"/pages/6281f2/index.html",redirect:"/pages/6281f2/"},{path:"/01.Java ç¥è¯ä½ç³»/05.ä»£ç è´¨é/03.ä»£ç ä¼å.html",redirect:"/pages/6281f2/"},{name:"v-193c5be4",path:"/pages/d83c14/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-193c5be4").then(t)}},{path:"/pages/d83c14/index.html",redirect:"/pages/d83c14/"},{path:"/01.Java ç¥è¯ä½ç³»/05.ä»£ç è´¨é/02.Java å½åè§è.html",redirect:"/pages/d83c14/"},{name:"v-8ad2cece",path:"/pages/80654c/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-8ad2cece").then(t)}},{path:"/pages/80654c/index.html",redirect:"/pages/80654c/"},{path:"/02.Java é¢è¯å®å¸/01.é¢è¯åå¤/02.ç®åå¶ä½.html",redirect:"/pages/80654c/"},{name:"v-33cdacc0",path:"/pages/5547aa/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-33cdacc0").then(t)}},{path:"/pages/5547aa/index.html",redirect:"/pages/5547aa/"},{path:"/02.Java é¢è¯å®å¸/01.é¢è¯åå¤/01.é¢è¯åå¤.html",redirect:"/pages/5547aa/"},{name:"v-6d7f8b89",path:"/pages/5da9d3/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-6d7f8b89").then(t)}},{path:"/pages/5da9d3/index.html",redirect:"/pages/5da9d3/"},{path:"/02.Java é¢è¯å®å¸/01.é¢è¯åå¤/03.Boss ç´èæç®åæå·§.html",redirect:"/pages/5da9d3/"},{name:"v-6ced3d6b",path:"/pages/346648/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-6ced3d6b").then(t)}},{path:"/pages/346648/index.html",redirect:"/pages/346648/"},{path:"/02.Java é¢è¯å®å¸/02.Java å«è¡æ/02.Java éå é¢è¯é¢.html",redirect:"/pages/346648/"},{name:"v-01767fb0",path:"/pages/b4d599/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-01767fb0").then(t)}},{path:"/pages/b4d599/index.html",redirect:"/pages/b4d599/"},{path:"/02.Java é¢è¯å®å¸/02.Java å«è¡æ/01.Java åºç¡é¢è¯é¢.html",redirect:"/pages/b4d599/"},{name:"v-74c22a5e",path:"/pages/f4f268/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-74c22a5e").then(t)}},{path:"/pages/f4f268/index.html",redirect:"/pages/f4f268/"},{path:"/02.Java é¢è¯å®å¸/02.Java å«è¡æ/03.Java å¹¶åé¢è¯é¢.html",redirect:"/pages/f4f268/"},{name:"v-d4e3c634",path:"/pages/89ee48/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-d4e3c634").then(t)}},{path:"/pages/89ee48/index.html",redirect:"/pages/89ee48/"},{path:"/02.Java é¢è¯å®å¸/02.Java å«è¡æ/04.Java æ°ç¹æ§é¢è¯é¢.html",redirect:"/pages/89ee48/"},{name:"v-4e4a101c",path:"/pages/752c30/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-4e4a101c").then(t)}},{path:"/pages/752c30/index.html",redirect:"/pages/752c30/"},{path:"/02.Java é¢è¯å®å¸/02.Java å«è¡æ/05.JVM é¢è¯é¢.html",redirect:"/pages/752c30/"},{name:"v-1b1c4248",path:"/pages/b23391/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-1b1c4248").then(t)}},{path:"/pages/b23391/index.html",redirect:"/pages/b23391/"},{path:"/02.Java é¢è¯å®å¸/02.Java å«è¡æ/06.MySQL é¢è¯é¢.html",redirect:"/pages/b23391/"},{name:"v-23006aec",path:"/pages/330962/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-23006aec").then(t)}},{path:"/pages/330962/index.html",redirect:"/pages/330962/"},{path:"/02.Java é¢è¯å®å¸/02.Java å«è¡æ/08.Spring é¢è¯é¢.html",redirect:"/pages/330962/"},{name:"v-7550b988",path:"/pages/e68641/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-7550b988").then(t)}},{path:"/pages/e68641/index.html",redirect:"/pages/e68641/"},{path:"/02.Java é¢è¯å®å¸/02.Java å«è¡æ/09.Mybatis&MybatisPlus é¢è¯é¢.html",redirect:"/pages/e68641/"},{name:"v-4d5eaa9c",path:"/pages/b1ecc7/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-4d5eaa9c").then(t)}},{path:"/pages/b1ecc7/index.html",redirect:"/pages/b1ecc7/"},{path:"/02.Java é¢è¯å®å¸/02.Java å«è¡æ/07.Redis é¢è¯é¢.html",redirect:"/pages/b1ecc7/"},{name:"v-be1bac58",path:"/pages/663a49/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-be1bac58").then(t)}},{path:"/pages/663a49/index.html",redirect:"/pages/663a49/"},{path:"/02.Java é¢è¯å®å¸/02.Java å«è¡æ/10.SpringBoot é¢è¯é¢.html",redirect:"/pages/663a49/"},{name:"v-7fbbb95c",path:"/pages/3c9abe/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-7fbbb95c").then(t)}},{path:"/pages/3c9abe/index.html",redirect:"/pages/3c9abe/"},{path:"/02.Java é¢è¯å®å¸/02.Java å«è¡æ/11.SpringCloud é¢è¯é¢.html",redirect:"/pages/3c9abe/"},{name:"v-9499db24",path:"/pages/4a2429/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-9499db24").then(t)}},{path:"/pages/4a2429/index.html",redirect:"/pages/4a2429/"},{path:"/02.Java é¢è¯å®å¸/02.Java å«è¡æ/12.SpringCloudAlibaba é¢è¯é¢.html",redirect:"/pages/4a2429/"},{name:"v-4d6aaf62",path:"/pages/0d16b1/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-4d6aaf62").then(t)}},{path:"/pages/0d16b1/index.html",redirect:"/pages/0d16b1/"},{path:"/02.Java é¢è¯å®å¸/02.Java å«è¡æ/13.åå¸å¼.html",redirect:"/pages/0d16b1/"},{name:"v-9e602488",path:"/pages/d4abbd/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-9e602488").then(t)}},{path:"/pages/d4abbd/index.html",redirect:"/pages/d4abbd/"},{path:"/02.Java é¢è¯å®å¸/02.Java å«è¡æ/14.Nginx é¢è¯é¢.html",redirect:"/pages/d4abbd/"},{name:"v-48671418",path:"/pages/1eb629/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-48671418").then(t)}},{path:"/pages/1eb629/index.html",redirect:"/pages/1eb629/"},{path:"/03.è½¯æè½/01.æ¹æ³è®º/01.æèæ¡æ¶.html",redirect:"/pages/1eb629/"},{name:"v-c049eb16",path:"/pages/6fff61/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-c049eb16").then(t)}},{path:"/pages/6fff61/index.html",redirect:"/pages/6fff61/"},{path:"/03.è½¯æè½/01.æ¹æ³è®º/02.æ¶é´ç®¡çGTD.html",redirect:"/pages/6fff61/"},{name:"v-1f3e78d6",path:"/pages/15a2bc/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-1f3e78d6").then(t)}},{path:"/pages/15a2bc/index.html",redirect:"/pages/15a2bc/"},{path:"/03.è½¯æè½/02.ç¥è¯ç®¡ç/01.æ­å»ºä¸ªäººç¥è¯åº.html",redirect:"/pages/15a2bc/"},{name:"v-43b3065b",path:"/pages/11d0b0/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-43b3065b").then(t)}},{path:"/pages/11d0b0/index.html",redirect:"/pages/11d0b0/"},{path:"/03.è½¯æè½/02.ç¥è¯ç®¡ç/03.å¦ä½é«æçå­¦ä¹ ææ¯.html",redirect:"/pages/11d0b0/"},{name:"v-1d50b52b",path:"/pages/b7e1f4/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-1d50b52b").then(t)}},{path:"/pages/b7e1f4/index.html",redirect:"/pages/b7e1f4/"},{path:"/03.è½¯æè½/04.é¡¹ç®ç®¡ç/01.åæ¬¡èµ°ä¸ææ¯ç®¡çå²ä½çæèæ»ç» - ç¼ç ç å®¶ .html",redirect:"/pages/b7e1f4/"},{name:"v-0c243284",path:"/pages/feb22d/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-0c243284").then(t)}},{path:"/pages/feb22d/index.html",redirect:"/pages/feb22d/"},{path:"/03.è½¯æè½/02.ç¥è¯ç®¡ç/02.å¦ä½åä¸ç¯å¥½çææ¯åå®¢.html",redirect:"/pages/feb22d/"},{name:"v-20089476",path:"/blog/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-20089476").then(t)}},{path:"/blog/index.html",redirect:"/blog/"},{path:"/@pages/archivesPage.html",redirect:"/blog/"},{name:"v-1ea7fe80",path:"/pages/f28926/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-1ea7fe80").then(t)}},{path:"/pages/f28926/index.html",redirect:"/pages/f28926/"},{path:"/03.è½¯æè½/03.çæ´»ç®¡çå®ç¨æè½.html",redirect:"/pages/f28926/"},{name:"v-5ffddbde",path:"/",component:bs,beforeEnter:(n,e,t)=>{dl("Layout","v-5ffddbde").then(t)}},{path:"/index.html",redirect:"/"},{path:"*",component:bs}],xs={title:"",description:"ç¥è¯ç®¡ç",base:"/java-notes/",headTags:[["link",{rel:"icon",href:"/java-notes/img/favicon.ico"}],["meta",{name:"keywords",content:"vuepress,theme,blog,vdoing"}],["meta",{name:"theme-color",content:"#11a8cd"}]],pages:[{title:"çº¿æ§æ°æ®ç»æââæ°ç»ãé¾è¡¨ãæ ãéå",frontmatter:{title:"çº¿æ§æ°æ®ç»æââæ°ç»ãé¾è¡¨ãæ ãéå",date:"2023-10-24T03:03:59.000Z",permalink:"/pages/0e35d1/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/01.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/01.%E7%BA%BF%E6%80%A7%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E2%80%94%E2%80%94%E6%95%B0%E7%BB%84%E3%80%81%E9%93%BE%E8%A1%A8%E3%80%81%E6%A0%88%E3%80%81%E9%98%9F%E5%88%97.html",relativePath:"01.Java ç¥è¯ä½ç³»/01.è®¡ç®æºåºç¡/01.æ°æ®ç»æ/01.çº¿æ§æ°æ®ç»æââæ°ç»ãé¾è¡¨ãæ ãéå.md",key:"v-0752b88c",path:"/pages/0e35d1/",headers:[{level:2,title:"æ°ç»",slug:"æ°ç»",normalizedTitle:"æ°ç»",charIndex:2},{level:2,title:"é¾è¡¨",slug:"é¾è¡¨",normalizedTitle:"é¾è¡¨",charIndex:227},{level:3,title:"åé¾è¡¨",slug:"åé¾è¡¨",normalizedTitle:"åé¾è¡¨",charIndex:530},{level:3,title:"ååé¾è¡¨",slug:"ååé¾è¡¨",normalizedTitle:"ååé¾è¡¨",charIndex:677},{level:3,title:"å¾ªç¯é¾è¡¨",slug:"å¾ªç¯é¾è¡¨",normalizedTitle:"å¾ªç¯é¾è¡¨",charIndex:729},{level:3,title:"ååå¾ªç¯é¾è¡¨",slug:"ååå¾ªç¯é¾è¡¨",normalizedTitle:"ååå¾ªç¯é¾è¡¨",charIndex:740},{level:3,title:"é¾è¡¨ vs æ°ç»",slug:"é¾è¡¨-vs-æ°ç»",normalizedTitle:"é¾è¡¨ vs æ°ç»",charIndex:805},{level:2,title:"æ ",slug:"æ ",normalizedTitle:"æ ",charIndex:1081},{level:3,title:"æ çå¸¸è§åºç¨åºæ¯",slug:"æ çå¸¸è§åºç¨åºæ¯",normalizedTitle:"æ çå¸¸è§åºç¨åºæ¯",charIndex:1340},{level:4,title:"å®ç°æµè§å¨çåéååè¿åè½",slug:"å®ç°æµè§å¨çåéååè¿åè½",normalizedTitle:"å®ç°æµè§å¨çåéååè¿åè½",charIndex:1434},{level:4,title:"æ£æ¥ç¬¦å·æ¯å¦æå¯¹åºç°",slug:"æ£æ¥ç¬¦å·æ¯å¦æå¯¹åºç°",normalizedTitle:"æ£æ¥ç¬¦å·æ¯å¦æå¯¹åºç°",charIndex:1674},{level:4,title:"å­ç¬¦ä¸²åè½¬",slug:"å­ç¬¦ä¸²åè½¬",normalizedTitle:"å­ç¬¦ä¸²åè½¬",charIndex:2880},{level:4,title:"ç»´æ¤å½æ°è°ç¨",slug:"ç»´æ¤å½æ°è°ç¨",normalizedTitle:"ç»´æ¤å½æ°è°ç¨",charIndex:3340},{level:2,title:"éå",slug:"éå",normalizedTitle:"éå",charIndex:3409},{level:3,title:"éåç®ä»",slug:"éåç®ä»",normalizedTitle:"éåç®ä»",charIndex:3416},{level:3,title:"éååç±»",slug:"éååç±»",normalizedTitle:"éååç±»",charIndex:3676},{level:4,title:"åéå",slug:"åéå",normalizedTitle:"åéå",charIndex:3684},{level:4,title:"å¾ªç¯éå",slug:"å¾ªç¯éå",normalizedTitle:"å¾ªç¯éå",charIndex:4030},{level:4,title:"å¸¸è§åºç¨åºæ¯",slug:"å¸¸è§åºç¨åºæ¯",normalizedTitle:"å¸¸è§åºç¨åºæ¯",charIndex:1342}],headersStr:"æ°ç» é¾è¡¨ åé¾è¡¨ ååé¾è¡¨ å¾ªç¯é¾è¡¨ ååå¾ªç¯é¾è¡¨ é¾è¡¨ vs æ°ç» æ  æ çå¸¸è§åºç¨åºæ¯ å®ç°æµè§å¨çåéååè¿åè½ æ£æ¥ç¬¦å·æ¯å¦æå¯¹åºç° å­ç¬¦ä¸²åè½¬ ç»´æ¤å½æ°è°ç¨ éå éåç®ä» éååç±» åéå å¾ªç¯éå å¸¸è§åºç¨åºæ¯",content:"# æ°ç»\n\n**æ°ç»ï¼Arrayï¼**æ¯ä¸ç§å¸¸è§çæ°æ®ç»æãç±ç¸åç±»åçåç´ ç»æï¼å¹¶ä¸ä½¿ç¨ä¸åè¿ç»­çåå­æ¥å­å¨ã\n\nå¯ä»¥å©ç¨åç´ çç´¢å¼è®¡ç®åºè¯¥åç´ å¯¹åºçå­å¨å°åã\n\næ°ç»çç¹ç¹æ¯ï¼æä¾éæºè®¿é®ï¼å¹¶ä¸å®¹éæéã\n\nåå¦æ°ç»çé¿åº¦ä¸º nã\nè®¿é®ï¼Oï¼1ï¼//è®¿é®ç¹å®ä½ç½®çåç´ \næå¥ï¼Oï¼n ï¼//æåçæåµåçå¨æå¥åçå¨æ°ç»çé¦é¨å¹¶éè¦ç§»å¨ææåç´ æ¶\nå é¤ï¼Oï¼nï¼//æåçæåµåçå¨å é¤æ°ç»çå¼å¤´åçå¹¶éè¦ç§»å¨ç¬¬ä¸åç´ åé¢ææçåç´ æ¶\n\n\n\n\n\n# é¾è¡¨\n\n**é¾è¡¨ï¼LinkedListï¼**ä¸ä¼æçº¿æ§çé¡ºåºå­å¨æ°æ®ï¼ä½¿ç¨çä¸æ¯è¿ç»­çåå­ç©ºé´å­å¨æ°æ®ã\n\né¾è¡¨çæå¥åå é¤æä½çæ¶é´å¤æåº¦ä¸º O(1)ï¼åªéè¦ç¥éç®æ ä½ç½®åç´ ä¸ä¸ä¸ªåç´ å°±å¯ä»¥ãä½æ¯ï¼æ¥æ¾ä¸ä¸ªèç¹æèè®¿é®ç¹å®ä½ç½®çèç¹æ¶é´å¤æåº¦ä¸º O(n)ã\n\né¾è¡¨ç»æå¯ä»¥åææ°ç»éè¦é¢ç¥æ°æ®å¤§å°çç¼ºç¹ï¼ååå©ç¨è®¡ç®æºçåå­ç©ºé´ï¼å®ç°åå­å¨æç®¡çãä½é¾è¡¨ä¸ä¼èçç©ºé´ï¼ç¸æ¯äºæ°ç»ä¼å ç¨æ´å¤çç©ºé´ï¼å ä¸ºé¾è¡¨æ¯ä¸ªèç¹è¿å­æ¾æåå¶ä»èç¹çæéãé¤æ­¤ä¹å¤ï¼é¾è¡¨ä¸å·ææ°ç»éæºè¯»åçä¼ç¹ã\n\nåå¦é¾è¡¨ä¸­ænä¸ªåç´ ã\nè®¿é®ï¼Oï¼nï¼//è®¿é®ç¹å®ä½ç½®çåç´ \næå¥å é¤ï¼Oï¼1ï¼//å¿é¡»è¦è¦ç¥éæå¥åç´ çä½ç½®\n\n\n\n# åé¾è¡¨\n\nååé¾è¡¨åªæä¸ä¸ªæ¹åï¼ç»ç¹åªæä¸ä¸ªåç»§æé next æååé¢çèç¹ãå æ­¤ï¼é¾è¡¨è¿ç§æ°æ®ç»æéå¸¸å¨ç©çåå­ä¸æ¯ä¸è¿ç»­çãæä»¬ä¹ æ¯æ§å°æç¬¬ä¸ä¸ªç»ç¹å«ä½å¤´ç»ç¹ï¼é¾è¡¨éå¸¸æä¸ä¸ªä¸ä¿å­ä»»ä½å¼ç head èç¹(å¤´ç»ç¹)ï¼éè¿å¤´ç»ç¹æä»¬å¯ä»¥éåæ´ä¸ªé¾è¡¨ãå°¾ç»ç¹éå¸¸æå nullã\n\n\n\n\n# ååé¾è¡¨\n\nåå«ä¸¤ä¸ªæéï¼ä¸ä¸ª prev æååä¸ä¸ªèç¹ï¼ä¸ä¸ª next æååä¸ä¸ªèç¹ã\n\n\n\n\n# å¾ªç¯é¾è¡¨\n\n\n\n\n# ååå¾ªç¯é¾è¡¨\n\næåä¸ä¸ªèç¹ç next æå headï¼è head ç prev æåæåä¸ä¸ªèç¹ï¼ææä¸ä¸ªç¯ã\n\n\n\n\n# é¾è¡¨ vs æ°ç»\n\n * æ°ç»æ¯æéæºè®¿é®ï¼èé¾è¡¨ä¸æ¯æã\n * æ°ç»ä½¿ç¨çæ¯è¿ç»­åå­ç©ºé´å¯¹ CPU çç¼å­æºå¶åå¥½ï¼é¾è¡¨åç¸åã\n * æ°ç»çå¤§å°åºå®ï¼èé¾è¡¨åå¤©ç¶æ¯æå¨ææ©å®¹ãå¦æå£°æçæ°ç»è¿å°ï¼éè¦å¦å¤ç³è¯·ä¸ä¸ªæ´å¤§çåå­ç©ºé´å­æ¾æ°ç»åç´ ï¼ç¶åå°åæ°ç»æ·è´è¿å»ï¼è¿ä¸ªæä½æ¯æ¯è¾èæ¶çï¼\n\nåºç¨åºæ¯ï¼\n\n * å¦æéè¦æ¯æéæºè®¿é®çè¯ï¼é¾è¡¨æ²¡åæ³åå°ã\n * å¦æéè¦å­å¨çæ°æ®åç´ çä¸ªæ°ä¸ç¡®å®ï¼å¹¶ä¸éè¦ç»å¸¸æ·»å åå é¤æ°æ®çè¯ï¼ä½¿ç¨é¾è¡¨æ¯è¾åéã\n * å¦æéè¦å­å¨çæ°æ®åç´ çä¸ªæ°ç¡®å®ï¼å¹¶ä¸ä¸éè¦ç»å¸¸æ·»å åå é¤æ°æ®çè¯ï¼ä½¿ç¨æ°ç»æ¯è¾åéã\n\n\n# æ \n\næ  (stack)åªåè®¸å¨æåºççº¿æ§æ°æ®éåçä¸ç«¯ï¼ç§°ä¸ºæ é¡¶ topï¼è¿è¡å å¥æ°æ®ï¼pushï¼åç§»é¤æ°æ®ï¼popï¼ãå èæç§ åè¿ååºï¼LIFO, Last In First Outï¼ çåçè¿ä½ãå¨æ ä¸­ï¼push å pop çæä½é½åçå¨æ é¡¶ã\n\næ å¸¸ç¨ä¸ç»´æ°ç»æé¾è¡¨æ¥å®ç°ï¼ç¨æ°ç»å®ç°çæ å«ä½ é¡ºåºæ  ï¼ç¨é¾è¡¨å®ç°çæ å«ä½ é¾å¼æ  ãä¸ç®¡åºäºæ°ç»è¿æ¯é¾è¡¨ï¼å¥æ ãåºæ çæ¶é´å¤æåº¦é½ä¸º O(1)ã\n\nåè®¾å æ ä¸­ænä¸ªåç´ ã\nè®¿é®ï¼Oï¼nï¼//æåæåµ\næå¥å é¤ï¼Oï¼1ï¼//é¡¶ç«¯æå¥åå é¤åç´ \n\n\n\n\n\n# æ çå¸¸è§åºç¨åºæ¯\n\nå½æä»¬æä»¬è¦å¤ççæ°æ®åªæ¶åå¨ä¸ç«¯æå¥åå é¤æ°æ®ï¼å¹¶ä¸æ»¡è¶³ åè¿ååºï¼LIFO, Last In First Outï¼ çç¹æ§æ¶ï¼æä»¬å°±å¯ä»¥ä½¿ç¨æ è¿ä¸ªæ°æ®ç»æã\n\n# å®ç°æµè§å¨çåéååè¿åè½\n\næä»¬åªéè¦ä½¿ç¨ä¸¤ä¸ªæ (Stack1 å Stack2)åå°±è½å®ç°è¿ä¸ªåè½ãæ¯å¦ä½ æé¡ºåºæ¥çäº 1,2,3,4 è¿åä¸ªé¡µé¢ï¼æä»¬ä¾æ¬¡æ 1,2,3,4 è¿åä¸ªé¡µé¢åå¥ Stack1 ä¸­ãå½ä½ æ³åå¤´ç 2 è¿ä¸ªé¡µé¢çæ¶åï¼ä½ ç¹å»åéæé®ï¼æä»¬ä¾æ¬¡æ 4,3 è¿ä¸¤ä¸ªé¡µé¢ä» Stack1 å¼¹åºï¼ç¶ååå¥ Stack2 ä¸­ãåå¦ä½ åæ³åå°é¡µé¢ 3ï¼ä½ ç¹å»åè¿æé®ï¼æä»¬å° 3 é¡µé¢ä» Stack2 å¼¹åºï¼ç¶ååå¥å° Stack1 ä¸­ãç¤ºä¾å¾å¦ä¸:\n\n\n\n# æ£æ¥ç¬¦å·æ¯å¦æå¯¹åºç°\n\nç»å®ä¸ä¸ªåªåæ¬ '('ï¼')'ï¼'{'ï¼'}'ï¼'['ï¼']' çå­ç¬¦ä¸²ï¼å¤æ­è¯¥å­ç¬¦ä¸²æ¯å¦ææã\n\nææå­ç¬¦ä¸²éæ»¡è¶³ï¼\n\n 1. å·¦æ¬å·å¿é¡»ç¨ç¸åç±»åçå³æ¬å·é­åã\n 2. å·¦æ¬å·å¿é¡»ä»¥æ­£ç¡®çé¡ºåºé­åã\n\næ¯å¦ \"()\"ã\"()[]{}\"ã\"{[]}\" é½æ¯ææå­ç¬¦ä¸²ï¼è \"(]\" ã\"([)]\" åä¸æ¯ã\n\nè¿ä¸ªé®é¢å®éæ¯ Leetcode çä¸éé¢ç®ï¼æä»¬å¯ä»¥å©ç¨æ  Stack æ¥è§£å³è¿ä¸ªé®é¢ã\n\n 1. é¦åæä»¬å°æ¬å·é´çå¯¹åºè§åå­æ¾å¨ Map ä¸­ï¼è¿ä¸ç¹åºè¯¥æ¯å®¹ç½®çï¼\n 2. åå»ºä¸ä¸ªæ ãéåå­ç¬¦ä¸²ï¼å¦æå­ç¬¦æ¯å·¦æ¬å·å°±ç´æ¥å å¥stackä¸­ï¼å¦åå°stack çæ é¡¶åç´ ä¸è¿ä¸ªæ¬å·åæ¯è¾ï¼å¦æä¸ç¸ç­å°±ç´æ¥è¿å falseãéåç»æï¼å¦æstackä¸ºç©ºï¼è¿å trueã\n\n  public boolean isVaild(String s) {\n        HashMap<Character, Character> characterHashMap = new HashMap<>();\n        characterHashMap.put(')', '(');\n        characterHashMap.put('}', '{');\n        characterHashMap.put(']', '[');\n        Stack<Character> stack = new Stack<>();\n        char[] chars = s.toCharArray();\n        for (int i = 0; i < chars.length; i++) {\n            if(characterHashMap.containsKey(chars[i])) {\n                if(stack.isEmpty()) {\n                    return false;\n                }\n                Character character = characterHashMap.get(chars[i]);\n                Character pop = stack.pop();\n                if(!pop.equals(character)) {\n                    return false;\n                }\n            } else {\n                stack.push(chars[i]);\n            }\n        }\n        return stack.isEmpty();\n    }\n\n\n# å­ç¬¦ä¸²åè½¬\n\nå°å­ç¬¦ä¸²ä¸­çæ¯ä¸ªå­ç¬¦åå¥æ ååºæ å°±å¯ä»¥äºã\n\npublic String revise(String s) {\n        Stack<Character> stack = new Stack<>();\n        char[] chars = s.toCharArray();\n        for (int i = 0; i < chars.length; i++) {\n            stack.push(chars[i]);\n        }\n        int size = stack.size();\n        char[] copyChars = new char[size];\n        for (int i = 0; i < size; i++) {\n            copyChars[i] = stack.pop();\n        }\n\n        return new String(copyChars);\n    }\n\n\n# ç»´æ¤å½æ°è°ç¨\n\næåä¸ä¸ªè¢«è°ç¨çå½æ°å¿é¡»åå®ææ§è¡ï¼ç¬¦åæ ç åè¿ååºï¼LIFO, Last In First Outï¼ ç¹æ§ã\n\n\n# éå\n\n\n# éåç®ä»\n\néå æ¯ åè¿ååº( FIFOï¼First In, First Out) ççº¿æ§è¡¨ãå¨å·ä½åºç¨ä¸­éå¸¸ç¨é¾è¡¨æèæ°ç»æ¥å®ç°ï¼ç¨æ°ç»å®ç°çéåå«ä½ é¡ºåºéå ï¼ç¨é¾è¡¨å®ç°çéåå«ä½ é¾å¼éå ãéååªåè®¸å¨åç«¯ï¼rearï¼è¿è¡æå¥æä½ä¹å°±æ¯ å¥é enqueueï¼å¨åç«¯ï¼frontï¼è¿è¡å é¤æä½ä¹å°±æ¯åºé dequeue\n\néåçæä½æ¹å¼åå æ ç±»ä¼¼ï¼å¯ä¸çåºå«å¨äºéååªåè®¸æ°æ°æ®å¨åç«¯è¿è¡æ·»å ã\n\nåè®¾éåä¸­ænä¸ªåç´ ã\nè®¿é®ï¼Oï¼nï¼//æåæåµ\næå¥å é¤ï¼Oï¼1ï¼//åç«¯æå¥åç«¯å é¤åç´ \n\n\n\n\n\n# éååç±»\n\n# åéå\n\nåéåå°±æ¯å¸¸è§çéå, æ¯æ¬¡æ·»å åç´ æ¶ï¼é½æ¯æ·»å å°éå°¾ãåéåååä¸ºé¡ºåºéåï¼æ°ç»å®ç°ï¼ å é¾å¼éåï¼é¾è¡¨å®ç°ï¼ã\n\né¡ºåºéåå­å¨âåæº¢åºâçé®é¢ä¹å°±æ¯æææä½ç½®å´ä¸è½æ·»å çæåµã\n\nåè®¾ä¸å¾æ¯ä¸ä¸ªé¡ºåºéåï¼æä»¬å°åä¸¤ä¸ªåç´  1,2 åºéï¼å¹¶å¥éä¸¤ä¸ªåç´  7,8ãå½è¿è¡å¥éãåºéæä½çæ¶åï¼front å rear é½ä¼æç»­å¾åç§»å¨ï¼front æéæåå¯¹å¤´åç´ ï¼rear æéæåéåæåä¸ä¸ªåç´ çä¸ä¸ä½ç½®ï¼ï¼å½ rear ç§»å¨å°æåçæ¶å,æä»¬æ æ³åå¾éåä¸­æ·»å æ°æ®ï¼å³ä½¿æ°ç»ä¸­è¿æç©ºä½ç©ºé´ï¼è¿ç§ç°è±¡å°±æ¯ âåæº¢åºâ ãé¤äºåæº¢åºé®é¢ä¹å¤ï¼å¦ä¸å¾æç¤ºï¼å½æ·»å åç´  8 çæ¶åï¼rear æéç§»å¨å°æ°ç»ä¹å¤ï¼è¶çï¼ã\n\nå½ front==rear çæ¶åéåä¸ºç©ºã\n\n\n\n# å¾ªç¯éå\n\nå¾ªç¯éåå¯ä»¥è§£å³é¡ºåºéåçåæº¢åºåè¶çé®é¢ãè§£å³åæ³å°±æ¯ï¼ä»å¤´å¼å§ï¼è¿æ ·ä¹å°±ä¼å½¢æå¤´å°¾ç¸æ¥çå¾ªç¯ï¼è¿ä¹å°±æ¯å¾ªç¯éååå­çç±æ¥ã\n\nè¿æ¯ç¨ä¸é¢çå¾ï¼æä»¬å° rear æéæåæ°ç»ä¸æ ä¸º 0 çä½ç½®å°±ä¸ä¼æè¶çé®é¢äºãå½æä»¬ååéåä¸­æ·»å åç´ çæ¶åï¼ rear ååç§»å¨ã\n\n\n\né¡ºåºéåä¸­ï¼æä»¬è¯´ front==rear çæ¶åéåä¸ºç©ºï¼å¾ªç¯éåä¸­åä¸ä¸æ ·ï¼ä¹å¯è½ä¸ºæ»¡ã\n\n# å¸¸è§åºç¨åºæ¯\n\nå½æä»¬éè¦æç§ä¸å®é¡ºåºæ¥å¤çæ°æ®çæ¶åå¯ä»¥èèä½¿ç¨éåè¿ä¸ªæ°æ®ç»æã\n\n * é»å¡éåï¼ é»å¡éåå¯ä»¥çæå¨éååºç¡ä¸å äºé»å¡æä½çéåãå½éåä¸ºç©ºçæ¶åï¼åºéæä½é»å¡ï¼å½éåæ»¡çæ¶åï¼å¥éæä½é»å¡ãä½¿ç¨é»å¡éåæä»¬å¯ä»¥å¾å®¹æå®ç°âçäº§è - æ¶è´¹èâæ¨¡åã\n * çº¿ç¨æ± ä¸­çè¯·æ±/ä»»å¡éåï¼ çº¿ç¨æ± ä¸­æ²¡æç©ºé²çº¿ç¨æ¶ï¼æ°çä»»å¡è¯·æ±çº¿ç¨èµæºæ¶ï¼çº¿ç¨æ± è¯¥å¦ä½å¤çå¢ï¼ç­æ¡æ¯å°è¿äºè¯·æ±æ¾å¨éåä¸­ï¼å½æç©ºé²çº¿ç¨çæ¶åï¼ä¼å¾ªç¯ä¸­åå¤ä»éåä¸­è·åä»»å¡æ¥æ§è¡ãéååä¸ºæ çéå(åºäºé¾è¡¨)åæçéå(åºäºæ°ç»)ãæ çéåçç¹ç¹å°±æ¯å¯ä»¥ä¸ç´å¥åï¼é¤éç³»ç»èµæºèå°½ï¼æ¯å¦ ï¼FixedThreadPool ä½¿ç¨æ çéå LinkedBlockingQueueãä½æ¯æçéåå°±ä¸ä¸æ ·äºï¼å½éåæ»¡çè¯åé¢åæä»»å¡/è¯·æ±å°±ä¼æç»ï¼å¨ Java ä¸­çä½ç°å°±æ¯ä¼æåºjava.util.concurrent.RejectedExecutionException å¼å¸¸ã\n * Linux åæ ¸è¿ç¨éåï¼æä¼åçº§æéï¼\n * ç°å®çæ´»ä¸­çæ´¾å¯¹ï¼æ­æ¾å¨ä¸çæ­æ¾åè¡¨;\n * æ¶æ¯éå\n * ç­ç­......",normalizedContent:"# æ°ç»\n\n**æ°ç»ï¼arrayï¼**æ¯ä¸ç§å¸¸è§çæ°æ®ç»æãç±ç¸åç±»åçåç´ ç»æï¼å¹¶ä¸ä½¿ç¨ä¸åè¿ç»­çåå­æ¥å­å¨ã\n\nå¯ä»¥å©ç¨åç´ çç´¢å¼è®¡ç®åºè¯¥åç´ å¯¹åºçå­å¨å°åã\n\næ°ç»çç¹ç¹æ¯ï¼æä¾éæºè®¿é®ï¼å¹¶ä¸å®¹éæéã\n\nåå¦æ°ç»çé¿åº¦ä¸º nã\nè®¿é®ï¼oï¼1ï¼//è®¿é®ç¹å®ä½ç½®çåç´ \næå¥ï¼oï¼n ï¼//æåçæåµåçå¨æå¥åçå¨æ°ç»çé¦é¨å¹¶éè¦ç§»å¨ææåç´ æ¶\nå é¤ï¼oï¼nï¼//æåçæåµåçå¨å é¤æ°ç»çå¼å¤´åçå¹¶éè¦ç§»å¨ç¬¬ä¸åç´ åé¢ææçåç´ æ¶\n\n\n\n\n\n# é¾è¡¨\n\n**é¾è¡¨ï¼linkedlistï¼**ä¸ä¼æçº¿æ§çé¡ºåºå­å¨æ°æ®ï¼ä½¿ç¨çä¸æ¯è¿ç»­çåå­ç©ºé´å­å¨æ°æ®ã\n\né¾è¡¨çæå¥åå é¤æä½çæ¶é´å¤æåº¦ä¸º o(1)ï¼åªéè¦ç¥éç®æ ä½ç½®åç´ ä¸ä¸ä¸ªåç´ å°±å¯ä»¥ãä½æ¯ï¼æ¥æ¾ä¸ä¸ªèç¹æèè®¿é®ç¹å®ä½ç½®çèç¹æ¶é´å¤æåº¦ä¸º o(n)ã\n\né¾è¡¨ç»æå¯ä»¥åææ°ç»éè¦é¢ç¥æ°æ®å¤§å°çç¼ºç¹ï¼ååå©ç¨è®¡ç®æºçåå­ç©ºé´ï¼å®ç°åå­å¨æç®¡çãä½é¾è¡¨ä¸ä¼èçç©ºé´ï¼ç¸æ¯äºæ°ç»ä¼å ç¨æ´å¤çç©ºé´ï¼å ä¸ºé¾è¡¨æ¯ä¸ªèç¹è¿å­æ¾æåå¶ä»èç¹çæéãé¤æ­¤ä¹å¤ï¼é¾è¡¨ä¸å·ææ°ç»éæºè¯»åçä¼ç¹ã\n\nåå¦é¾è¡¨ä¸­ænä¸ªåç´ ã\nè®¿é®ï¼oï¼nï¼//è®¿é®ç¹å®ä½ç½®çåç´ \næå¥å é¤ï¼oï¼1ï¼//å¿é¡»è¦è¦ç¥éæå¥åç´ çä½ç½®\n\n\n\n# åé¾è¡¨\n\nååé¾è¡¨åªæä¸ä¸ªæ¹åï¼ç»ç¹åªæä¸ä¸ªåç»§æé next æååé¢çèç¹ãå æ­¤ï¼é¾è¡¨è¿ç§æ°æ®ç»æéå¸¸å¨ç©çåå­ä¸æ¯ä¸è¿ç»­çãæä»¬ä¹ æ¯æ§å°æç¬¬ä¸ä¸ªç»ç¹å«ä½å¤´ç»ç¹ï¼é¾è¡¨éå¸¸æä¸ä¸ªä¸ä¿å­ä»»ä½å¼ç head èç¹(å¤´ç»ç¹)ï¼éè¿å¤´ç»ç¹æä»¬å¯ä»¥éåæ´ä¸ªé¾è¡¨ãå°¾ç»ç¹éå¸¸æå nullã\n\n\n\n\n# ååé¾è¡¨\n\nåå«ä¸¤ä¸ªæéï¼ä¸ä¸ª prev æååä¸ä¸ªèç¹ï¼ä¸ä¸ª next æååä¸ä¸ªèç¹ã\n\n\n\n\n# å¾ªç¯é¾è¡¨\n\n\n\n\n# ååå¾ªç¯é¾è¡¨\n\næåä¸ä¸ªèç¹ç next æå headï¼è head ç prev æåæåä¸ä¸ªèç¹ï¼ææä¸ä¸ªç¯ã\n\n\n\n\n# é¾è¡¨ vs æ°ç»\n\n * æ°ç»æ¯æéæºè®¿é®ï¼èé¾è¡¨ä¸æ¯æã\n * æ°ç»ä½¿ç¨çæ¯è¿ç»­åå­ç©ºé´å¯¹ cpu çç¼å­æºå¶åå¥½ï¼é¾è¡¨åç¸åã\n * æ°ç»çå¤§å°åºå®ï¼èé¾è¡¨åå¤©ç¶æ¯æå¨ææ©å®¹ãå¦æå£°æçæ°ç»è¿å°ï¼éè¦å¦å¤ç³è¯·ä¸ä¸ªæ´å¤§çåå­ç©ºé´å­æ¾æ°ç»åç´ ï¼ç¶åå°åæ°ç»æ·è´è¿å»ï¼è¿ä¸ªæä½æ¯æ¯è¾èæ¶çï¼\n\nåºç¨åºæ¯ï¼\n\n * å¦æéè¦æ¯æéæºè®¿é®çè¯ï¼é¾è¡¨æ²¡åæ³åå°ã\n * å¦æéè¦å­å¨çæ°æ®åç´ çä¸ªæ°ä¸ç¡®å®ï¼å¹¶ä¸éè¦ç»å¸¸æ·»å åå é¤æ°æ®çè¯ï¼ä½¿ç¨é¾è¡¨æ¯è¾åéã\n * å¦æéè¦å­å¨çæ°æ®åç´ çä¸ªæ°ç¡®å®ï¼å¹¶ä¸ä¸éè¦ç»å¸¸æ·»å åå é¤æ°æ®çè¯ï¼ä½¿ç¨æ°ç»æ¯è¾åéã\n\n\n# æ \n\næ  (stack)åªåè®¸å¨æåºççº¿æ§æ°æ®éåçä¸ç«¯ï¼ç§°ä¸ºæ é¡¶ topï¼è¿è¡å å¥æ°æ®ï¼pushï¼åç§»é¤æ°æ®ï¼popï¼ãå èæç§ åè¿ååºï¼lifo, last in first outï¼ çåçè¿ä½ãå¨æ ä¸­ï¼push å pop çæä½é½åçå¨æ é¡¶ã\n\næ å¸¸ç¨ä¸ç»´æ°ç»æé¾è¡¨æ¥å®ç°ï¼ç¨æ°ç»å®ç°çæ å«ä½ é¡ºåºæ  ï¼ç¨é¾è¡¨å®ç°çæ å«ä½ é¾å¼æ  ãä¸ç®¡åºäºæ°ç»è¿æ¯é¾è¡¨ï¼å¥æ ãåºæ çæ¶é´å¤æåº¦é½ä¸º o(1)ã\n\nåè®¾å æ ä¸­ænä¸ªåç´ ã\nè®¿é®ï¼oï¼nï¼//æåæåµ\næå¥å é¤ï¼oï¼1ï¼//é¡¶ç«¯æå¥åå é¤åç´ \n\n\n\n\n\n# æ çå¸¸è§åºç¨åºæ¯\n\nå½æä»¬æä»¬è¦å¤ççæ°æ®åªæ¶åå¨ä¸ç«¯æå¥åå é¤æ°æ®ï¼å¹¶ä¸æ»¡è¶³ åè¿ååºï¼lifo, last in first outï¼ çç¹æ§æ¶ï¼æä»¬å°±å¯ä»¥ä½¿ç¨æ è¿ä¸ªæ°æ®ç»æã\n\n# å®ç°æµè§å¨çåéååè¿åè½\n\næä»¬åªéè¦ä½¿ç¨ä¸¤ä¸ªæ (stack1 å stack2)åå°±è½å®ç°è¿ä¸ªåè½ãæ¯å¦ä½ æé¡ºåºæ¥çäº 1,2,3,4 è¿åä¸ªé¡µé¢ï¼æä»¬ä¾æ¬¡æ 1,2,3,4 è¿åä¸ªé¡µé¢åå¥ stack1 ä¸­ãå½ä½ æ³åå¤´ç 2 è¿ä¸ªé¡µé¢çæ¶åï¼ä½ ç¹å»åéæé®ï¼æä»¬ä¾æ¬¡æ 4,3 è¿ä¸¤ä¸ªé¡µé¢ä» stack1 å¼¹åºï¼ç¶ååå¥ stack2 ä¸­ãåå¦ä½ åæ³åå°é¡µé¢ 3ï¼ä½ ç¹å»åè¿æé®ï¼æä»¬å° 3 é¡µé¢ä» stack2 å¼¹åºï¼ç¶ååå¥å° stack1 ä¸­ãç¤ºä¾å¾å¦ä¸:\n\n\n\n# æ£æ¥ç¬¦å·æ¯å¦æå¯¹åºç°\n\nç»å®ä¸ä¸ªåªåæ¬ '('ï¼')'ï¼'{'ï¼'}'ï¼'['ï¼']' çå­ç¬¦ä¸²ï¼å¤æ­è¯¥å­ç¬¦ä¸²æ¯å¦ææã\n\nææå­ç¬¦ä¸²éæ»¡è¶³ï¼\n\n 1. å·¦æ¬å·å¿é¡»ç¨ç¸åç±»åçå³æ¬å·é­åã\n 2. å·¦æ¬å·å¿é¡»ä»¥æ­£ç¡®çé¡ºåºé­åã\n\næ¯å¦ \"()\"ã\"()[]{}\"ã\"{[]}\" é½æ¯ææå­ç¬¦ä¸²ï¼è \"(]\" ã\"([)]\" åä¸æ¯ã\n\nè¿ä¸ªé®é¢å®éæ¯ leetcode çä¸éé¢ç®ï¼æä»¬å¯ä»¥å©ç¨æ  stack æ¥è§£å³è¿ä¸ªé®é¢ã\n\n 1. é¦åæä»¬å°æ¬å·é´çå¯¹åºè§åå­æ¾å¨ map ä¸­ï¼è¿ä¸ç¹åºè¯¥æ¯å®¹ç½®çï¼\n 2. åå»ºä¸ä¸ªæ ãéåå­ç¬¦ä¸²ï¼å¦æå­ç¬¦æ¯å·¦æ¬å·å°±ç´æ¥å å¥stackä¸­ï¼å¦åå°stack çæ é¡¶åç´ ä¸è¿ä¸ªæ¬å·åæ¯è¾ï¼å¦æä¸ç¸ç­å°±ç´æ¥è¿å falseãéåç»æï¼å¦æstackä¸ºç©ºï¼è¿å trueã\n\n  public boolean isvaild(string s) {\n        hashmap<character, character> characterhashmap = new hashmap<>();\n        characterhashmap.put(')', '(');\n        characterhashmap.put('}', '{');\n        characterhashmap.put(']', '[');\n        stack<character> stack = new stack<>();\n        char[] chars = s.tochararray();\n        for (int i = 0; i < chars.length; i++) {\n            if(characterhashmap.containskey(chars[i])) {\n                if(stack.isempty()) {\n                    return false;\n                }\n                character character = characterhashmap.get(chars[i]);\n                character pop = stack.pop();\n                if(!pop.equals(character)) {\n                    return false;\n                }\n            } else {\n                stack.push(chars[i]);\n            }\n        }\n        return stack.isempty();\n    }\n\n\n# å­ç¬¦ä¸²åè½¬\n\nå°å­ç¬¦ä¸²ä¸­çæ¯ä¸ªå­ç¬¦åå¥æ ååºæ å°±å¯ä»¥äºã\n\npublic string revise(string s) {\n        stack<character> stack = new stack<>();\n        char[] chars = s.tochararray();\n        for (int i = 0; i < chars.length; i++) {\n            stack.push(chars[i]);\n        }\n        int size = stack.size();\n        char[] copychars = new char[size];\n        for (int i = 0; i < size; i++) {\n            copychars[i] = stack.pop();\n        }\n\n        return new string(copychars);\n    }\n\n\n# ç»´æ¤å½æ°è°ç¨\n\næåä¸ä¸ªè¢«è°ç¨çå½æ°å¿é¡»åå®ææ§è¡ï¼ç¬¦åæ ç åè¿ååºï¼lifo, last in first outï¼ ç¹æ§ã\n\n\n# éå\n\n\n# éåç®ä»\n\néå æ¯ åè¿ååº( fifoï¼first in, first out) ççº¿æ§è¡¨ãå¨å·ä½åºç¨ä¸­éå¸¸ç¨é¾è¡¨æèæ°ç»æ¥å®ç°ï¼ç¨æ°ç»å®ç°çéåå«ä½ é¡ºåºéå ï¼ç¨é¾è¡¨å®ç°çéåå«ä½ é¾å¼éå ãéååªåè®¸å¨åç«¯ï¼rearï¼è¿è¡æå¥æä½ä¹å°±æ¯ å¥é enqueueï¼å¨åç«¯ï¼frontï¼è¿è¡å é¤æä½ä¹å°±æ¯åºé dequeue\n\néåçæä½æ¹å¼åå æ ç±»ä¼¼ï¼å¯ä¸çåºå«å¨äºéååªåè®¸æ°æ°æ®å¨åç«¯è¿è¡æ·»å ã\n\nåè®¾éåä¸­ænä¸ªåç´ ã\nè®¿é®ï¼oï¼nï¼//æåæåµ\næå¥å é¤ï¼oï¼1ï¼//åç«¯æå¥åç«¯å é¤åç´ \n\n\n\n\n\n# éååç±»\n\n# åéå\n\nåéåå°±æ¯å¸¸è§çéå, æ¯æ¬¡æ·»å åç´ æ¶ï¼é½æ¯æ·»å å°éå°¾ãåéåååä¸ºé¡ºåºéåï¼æ°ç»å®ç°ï¼ å é¾å¼éåï¼é¾è¡¨å®ç°ï¼ã\n\né¡ºåºéåå­å¨âåæº¢åºâçé®é¢ä¹å°±æ¯æææä½ç½®å´ä¸è½æ·»å çæåµã\n\nåè®¾ä¸å¾æ¯ä¸ä¸ªé¡ºåºéåï¼æä»¬å°åä¸¤ä¸ªåç´  1,2 åºéï¼å¹¶å¥éä¸¤ä¸ªåç´  7,8ãå½è¿è¡å¥éãåºéæä½çæ¶åï¼front å rear é½ä¼æç»­å¾åç§»å¨ï¼front æéæåå¯¹å¤´åç´ ï¼rear æéæåéåæåä¸ä¸ªåç´ çä¸ä¸ä½ç½®ï¼ï¼å½ rear ç§»å¨å°æåçæ¶å,æä»¬æ æ³åå¾éåä¸­æ·»å æ°æ®ï¼å³ä½¿æ°ç»ä¸­è¿æç©ºä½ç©ºé´ï¼è¿ç§ç°è±¡å°±æ¯ âåæº¢åºâ ãé¤äºåæº¢åºé®é¢ä¹å¤ï¼å¦ä¸å¾æç¤ºï¼å½æ·»å åç´  8 çæ¶åï¼rear æéç§»å¨å°æ°ç»ä¹å¤ï¼è¶çï¼ã\n\nå½ front==rear çæ¶åéåä¸ºç©ºã\n\n\n\n# å¾ªç¯éå\n\nå¾ªç¯éåå¯ä»¥è§£å³é¡ºåºéåçåæº¢åºåè¶çé®é¢ãè§£å³åæ³å°±æ¯ï¼ä»å¤´å¼å§ï¼è¿æ ·ä¹å°±ä¼å½¢æå¤´å°¾ç¸æ¥çå¾ªç¯ï¼è¿ä¹å°±æ¯å¾ªç¯éååå­çç±æ¥ã\n\nè¿æ¯ç¨ä¸é¢çå¾ï¼æä»¬å° rear æéæåæ°ç»ä¸æ ä¸º 0 çä½ç½®å°±ä¸ä¼æè¶çé®é¢äºãå½æä»¬ååéåä¸­æ·»å åç´ çæ¶åï¼ rear ååç§»å¨ã\n\n\n\né¡ºåºéåä¸­ï¼æä»¬è¯´ front==rear çæ¶åéåä¸ºç©ºï¼å¾ªç¯éåä¸­åä¸ä¸æ ·ï¼ä¹å¯è½ä¸ºæ»¡ã\n\n# å¸¸è§åºç¨åºæ¯\n\nå½æä»¬éè¦æç§ä¸å®é¡ºåºæ¥å¤çæ°æ®çæ¶åå¯ä»¥èèä½¿ç¨éåè¿ä¸ªæ°æ®ç»æã\n\n * é»å¡éåï¼ é»å¡éåå¯ä»¥çæå¨éååºç¡ä¸å äºé»å¡æä½çéåãå½éåä¸ºç©ºçæ¶åï¼åºéæä½é»å¡ï¼å½éåæ»¡çæ¶åï¼å¥éæä½é»å¡ãä½¿ç¨é»å¡éåæä»¬å¯ä»¥å¾å®¹æå®ç°âçäº§è - æ¶è´¹èâæ¨¡åã\n * çº¿ç¨æ± ä¸­çè¯·æ±/ä»»å¡éåï¼ çº¿ç¨æ± ä¸­æ²¡æç©ºé²çº¿ç¨æ¶ï¼æ°çä»»å¡è¯·æ±çº¿ç¨èµæºæ¶ï¼çº¿ç¨æ± è¯¥å¦ä½å¤çå¢ï¼ç­æ¡æ¯å°è¿äºè¯·æ±æ¾å¨éåä¸­ï¼å½æç©ºé²çº¿ç¨çæ¶åï¼ä¼å¾ªç¯ä¸­åå¤ä»éåä¸­è·åä»»å¡æ¥æ§è¡ãéååä¸ºæ çéå(åºäºé¾è¡¨)åæçéå(åºäºæ°ç»)ãæ çéåçç¹ç¹å°±æ¯å¯ä»¥ä¸ç´å¥åï¼é¤éç³»ç»èµæºèå°½ï¼æ¯å¦ ï¼fixedthreadpool ä½¿ç¨æ çéå linkedblockingqueueãä½æ¯æçéåå°±ä¸ä¸æ ·äºï¼å½éåæ»¡çè¯åé¢åæä»»å¡/è¯·æ±å°±ä¼æç»ï¼å¨ java ä¸­çä½ç°å°±æ¯ä¼æåºjava.util.concurrent.rejectedexecutionexception å¼å¸¸ã\n * linux åæ ¸è¿ç¨éåï¼æä¼åçº§æéï¼\n * ç°å®çæ´»ä¸­çæ´¾å¯¹ï¼æ­æ¾å¨ä¸çæ­æ¾åè¡¨;\n * æ¶æ¯éå\n * ç­ç­......",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"åå¸è¡¨",frontmatter:{title:"åå¸è¡¨",date:"2023-10-24T03:03:59.000Z",permalink:"/pages/beb561/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/01.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/02.%E5%93%88%E5%B8%8C%E8%A1%A8.html",relativePath:"01.Java ç¥è¯ä½ç³»/01.è®¡ç®æºåºç¡/01.æ°æ®ç»æ/02.åå¸è¡¨.md",key:"v-37120786",path:"/pages/beb561/",headersStr:null,content:"ä½¿ç¨åå¸è¡¨å¯ä»¥è¿è¡å¿«éçæ¥æ¾æä½ã\n\nåå¸ï¼æ£åï¼æ¯çµèç§å­¦ä¸­ä¸ç§å¯¹èµæçå¤çæ¹æ³ï¼éè¿æç§ç¹å®çå½æ°/ç®æ³ï¼ç§°ä¸ºæ£åå½æ°/ç®æ³ï¼å°è¦æ£ç´¢çé¡¹ä¸ç¨æ¥æ£ç´¢çç´¢å¼ï¼ç§°ä¸ºæ£åï¼æèæ£åå¼ï¼å³èèµ·æ¥ï¼çæä¸ç§ä¾¿äºæç´¢çæ°æ®ç»æï¼ç§°ä¸ºæ£åè¡¨ï¼ãä¹è¯ä¸ºæ£åï¼æ§è¯åå¸ï¼ã",normalizedContent:"ä½¿ç¨åå¸è¡¨å¯ä»¥è¿è¡å¿«éçæ¥æ¾æä½ã\n\nåå¸ï¼æ£åï¼æ¯çµèç§å­¦ä¸­ä¸ç§å¯¹èµæçå¤çæ¹æ³ï¼éè¿æç§ç¹å®çå½æ°/ç®æ³ï¼ç§°ä¸ºæ£åå½æ°/ç®æ³ï¼å°è¦æ£ç´¢çé¡¹ä¸ç¨æ¥æ£ç´¢çç´¢å¼ï¼ç§°ä¸ºæ£åï¼æèæ£åå¼ï¼å³èèµ·æ¥ï¼çæä¸ç§ä¾¿äºæç´¢çæ°æ®ç»æï¼ç§°ä¸ºæ£åè¡¨ï¼ãä¹è¯ä¸ºæ£åï¼æ§è¯åå¸ï¼ã",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"æ ",frontmatter:{title:"æ ",date:"2023-10-24T03:03:59.000Z",permalink:"/pages/d2ac96/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/01.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/04.%E6%A0%91.html",relativePath:"01.Java ç¥è¯ä½ç³»/01.è®¡ç®æºåºç¡/01.æ°æ®ç»æ/04.æ .md",key:"v-6b67a3c6",path:"/pages/d2ac96/",headers:[{level:1,title:"äºåæ çåç±»",slug:"äºåæ çåç±»",normalizedTitle:"äºåæ çåç±»",charIndex:567},{level:2,title:"æ»¡äºåæ ",slug:"æ»¡äºåæ ",normalizedTitle:"æ»¡äºåæ ",charIndex:734},{level:2,title:"å®å¨äºåæ ",slug:"å®å¨äºåæ ",normalizedTitle:"å®å¨äºåæ ",charIndex:862},{level:2,title:"å¹³è¡¡äºåæ ",slug:"å¹³è¡¡äºåæ ",normalizedTitle:"å¹³è¡¡äºåæ ",charIndex:1148}],headersStr:"äºåæ çåç±» æ»¡äºåæ  å®å¨äºåæ  å¹³è¡¡äºåæ ",content:"æ å°±æ¯ä¸ç§ç±»ä¼¼ç°å®çæ´»ä¸­çæ çæ°æ®ç»æï¼åç½®çæ ï¼ãä»»ä½ä¸é¢éç©ºæ åªæä¸ä¸ªæ ¹èç¹ã\n\nä¸æ£µæ å·æä»¥ä¸ç¹ç¹ï¼\n\n 1. ä¸æ£µæ ä¸­çä»»æä¸¤ä¸ªç»ç¹æä¸ä»æå¯ä¸çä¸æ¡è·¯å¾è¿éã\n 2. ä¸æ£µæ å¦ææ n ä¸ªç»ç¹ï¼é£ä¹å®ä¸å®æ°å¥½æ n-1 æ¡è¾¹ã\n 3. ä¸æ£µæ ä¸åå«åè·¯ã\n\nä¸å¾å°±æ¯ä¸é¢æ ï¼å¹¶ä¸æ¯ä¸é¢äºåæ ã\n\n\n\nå¦ä¸å¾æç¤ºï¼éè¿ä¸é¢è¿å¼ å¾è¯´æä¸ä¸æ ä¸­çå¸¸ç¨æ¦å¿µï¼\n\n * èç¹ ï¼æ ä¸­çæ¯ä¸ªåç´ é½å¯ä»¥ç»ç§°ä¸ºèç¹ã\n * æ ¹èç¹ ï¼é¡¶å±èç¹æèè¯´æ²¡æç¶èç¹çèç¹ãä¸å¾ä¸­ A èç¹å°±æ¯æ ¹èç¹ã\n * ç¶èç¹ ï¼è¥ä¸ä¸ªèç¹å«æå­èç¹ï¼åè¿ä¸ªèç¹ç§°ä¸ºå¶å­èç¹çç¶èç¹ãä¸å¾ä¸­ç B èç¹æ¯ D èç¹ãE èç¹çç¶èç¹ã\n * å­èç¹ ï¼ä¸ä¸ªèç¹å«æçå­æ çæ ¹èç¹ç§°ä¸ºè¯¥èç¹çå­èç¹ãä¸å¾ä¸­ D èç¹ãE èç¹æ¯ B èç¹çå­èç¹ã\n * åå¼èç¹ ï¼å·æç¸åç¶èç¹çèç¹äºç§°ä¸ºåå¼èç¹ãä¸å¾ä¸­ D èç¹ãE èç¹çå±åç¶èç¹æ¯ B èç¹ï¼æ D å E ä¸ºåå¼èç¹ã\n * å¶å­èç¹ ï¼æ²¡æå­èç¹çèç¹ãä¸å¾ä¸­ç DãFãHãI é½æ¯å¶å­èç¹ã\n * èç¹çé«åº¦ ï¼è¯¥èç¹å°å¶å­èç¹çæé¿è·¯å¾æåå«çè¾¹æ°ã\n * èç¹çæ·±åº¦ ï¼æ ¹èç¹å°è¯¥èç¹çè·¯å¾æåå«çè¾¹æ°\n * èç¹çå±æ° ï¼èç¹çæ·±åº¦+1ã\n * æ çé«åº¦ ï¼æ ¹èç¹çé«åº¦ã\n\n\n# äºåæ çåç±»\n\näºåæ ï¼Binary treeï¼æ¯æ¯ä¸ªèç¹æå¤åªæä¸¤ä¸ªåæ¯ï¼å³ä¸å­å¨åæ¯åº¦å¤§äº 2 çèç¹ï¼çæ ç»æã\n\näºåæ  çåæ¯éå¸¸è¢«ç§°ä½âå·¦å­æ âæâå³å­æ âãå¹¶ä¸ï¼äºåæ  çåæ¯å·æå·¦å³æ¬¡åºï¼ä¸è½éæé¢ åã\n\näºåæ  çç¬¬ i å±è³å¤æ¥æ 2^(i-1) ä¸ªèç¹ï¼æ·±åº¦ä¸º k çäºåæ è³å¤æ»å±æ 2^(k+1)-1ä¸ªèç¹ï¼æ»¡äºåæ çæåµï¼ï¼è³å°æ 2^(k)ä¸ªèç¹ã\n\n\n# æ»¡äºåæ \n\nä¸ä¸ªäºåæ ï¼å¦ææ¯ä¸ä¸ªå±çç»ç¹æ°é½è¾¾å°æå¤§å¼ï¼åè¿ä¸ªäºåæ å°±æ¯ æ»¡äºåæ ãä¹å°±æ¯è¯´ï¼å¦æä¸ä¸ªäºåæ çå±æ°ä¸º Kï¼ä¸ç»ç¹æ»æ°æ¯(2^k) -1 ï¼åå®å°±æ¯ æ»¡äºåæ ãå¦ä¸å¾æç¤ºï¼\n\n\n\n\n# å®å¨äºåæ \n\né¤æåä¸å±å¤ï¼è¥å¶ä½å±é½æ¯æ»¡çï¼å¹¶ä¸æåä¸å±å¯ä»¥æ¯æ»¡çä¹å¯ä»¥æ¯å³è¾¹ç¼ºå°è¿ç»­çè¥å¹²èç¹ï¼åè¿ä¸ªäºåæ å°±æ¯ å®å¨äºåæ  ã\n\nå¤§å®¶å¯ä»¥æ³è±¡ä¸ºä¸æ£µæ ä»æ ¹ç»ç¹å¼å§æ©å±ï¼æ©å±å®å·¦å­èç¹æè½å¼å§æ©å±å³å­èç¹ï¼æ¯æ©å±å®ä¸å±ï¼æè½ç»§ç»­æ©å±ä¸ä¸å±ãå¦ä¸å¾æç¤ºï¼\n\n\n\nå®å¨äºåæ æä¸ä¸ªå¾å¥½çæ§è´¨ï¼ç¶ç»ç¹åå­èç¹çåºå·æçå¯¹åºå³ç³»ã\n\nå¦ææ ¹èç¹çåºå·ä¸º1ï¼é£ä¹è¥ç¶ç»ç¹çåºå·æ¯ iï¼é£ä¹å·¦å­èç¹çåºå·å°±æ¯ 2iï¼å³å­èç¹çåºå·æ¯ 2i+1ãè¿ä¸ªæ§è´¨ä½¿å¾å®å¨äºåæ å©ç¨æ°ç»å­å¨æ¶å¯ä»¥æå¤§å°èçç©ºé´ï¼ä»¥åå©ç¨åºå·æ¾å°æä¸ªèç¹çç¶ç»ç¹åå­èç¹ï¼åç»­äºåæ çå­å¨ä¼è¯¦ç»ä»ç»ã\n\n\n# å¹³è¡¡äºåæ \n\nå¹³è¡¡äºåæ  æ¯ä¸æ£µäºåæåºæ ï¼ä¸å·æä»¥ä¸æ§è´¨ï¼\n\n 1. å¯ä»¥æ¯ä¸æ£µç©ºæ \n 2. å¦æä¸æ¯ç©ºæ ï¼å®çå·¦å³ä¸¤ä¸ªå­æ çé«åº¦å·®çç»å¯¹å¼ä¸è¶è¿ 1ï¼å¹¶ä¸å·¦å³ä¸¤ä¸ªå­æ é½æ¯ä¸æ£µå¹³è¡¡äºåæ ã\n\nå¹³è¡¡äºåæ çå¸¸ç¨å®ç°æ¹æ³æ çº¢é»æ ãAVL æ ãæ¿ç½ªç¾æ ãå æå¹³è¡¡æ ãä¼¸å±æ  ç­ã\n\n",normalizedContent:"æ å°±æ¯ä¸ç§ç±»ä¼¼ç°å®çæ´»ä¸­çæ çæ°æ®ç»æï¼åç½®çæ ï¼ãä»»ä½ä¸é¢éç©ºæ åªæä¸ä¸ªæ ¹èç¹ã\n\nä¸æ£µæ å·æä»¥ä¸ç¹ç¹ï¼\n\n 1. ä¸æ£µæ ä¸­çä»»æä¸¤ä¸ªç»ç¹æä¸ä»æå¯ä¸çä¸æ¡è·¯å¾è¿éã\n 2. ä¸æ£µæ å¦ææ n ä¸ªç»ç¹ï¼é£ä¹å®ä¸å®æ°å¥½æ n-1 æ¡è¾¹ã\n 3. ä¸æ£µæ ä¸åå«åè·¯ã\n\nä¸å¾å°±æ¯ä¸é¢æ ï¼å¹¶ä¸æ¯ä¸é¢äºåæ ã\n\n\n\nå¦ä¸å¾æç¤ºï¼éè¿ä¸é¢è¿å¼ å¾è¯´æä¸ä¸æ ä¸­çå¸¸ç¨æ¦å¿µï¼\n\n * èç¹ ï¼æ ä¸­çæ¯ä¸ªåç´ é½å¯ä»¥ç»ç§°ä¸ºèç¹ã\n * æ ¹èç¹ ï¼é¡¶å±èç¹æèè¯´æ²¡æç¶èç¹çèç¹ãä¸å¾ä¸­ a èç¹å°±æ¯æ ¹èç¹ã\n * ç¶èç¹ ï¼è¥ä¸ä¸ªèç¹å«æå­èç¹ï¼åè¿ä¸ªèç¹ç§°ä¸ºå¶å­èç¹çç¶èç¹ãä¸å¾ä¸­ç b èç¹æ¯ d èç¹ãe èç¹çç¶èç¹ã\n * å­èç¹ ï¼ä¸ä¸ªèç¹å«æçå­æ çæ ¹èç¹ç§°ä¸ºè¯¥èç¹çå­èç¹ãä¸å¾ä¸­ d èç¹ãe èç¹æ¯ b èç¹çå­èç¹ã\n * åå¼èç¹ ï¼å·æç¸åç¶èç¹çèç¹äºç§°ä¸ºåå¼èç¹ãä¸å¾ä¸­ d èç¹ãe èç¹çå±åç¶èç¹æ¯ b èç¹ï¼æ d å e ä¸ºåå¼èç¹ã\n * å¶å­èç¹ ï¼æ²¡æå­èç¹çèç¹ãä¸å¾ä¸­ç dãfãhãi é½æ¯å¶å­èç¹ã\n * èç¹çé«åº¦ ï¼è¯¥èç¹å°å¶å­èç¹çæé¿è·¯å¾æåå«çè¾¹æ°ã\n * èç¹çæ·±åº¦ ï¼æ ¹èç¹å°è¯¥èç¹çè·¯å¾æåå«çè¾¹æ°\n * èç¹çå±æ° ï¼èç¹çæ·±åº¦+1ã\n * æ çé«åº¦ ï¼æ ¹èç¹çé«åº¦ã\n\n\n# äºåæ çåç±»\n\näºåæ ï¼binary treeï¼æ¯æ¯ä¸ªèç¹æå¤åªæä¸¤ä¸ªåæ¯ï¼å³ä¸å­å¨åæ¯åº¦å¤§äº 2 çèç¹ï¼çæ ç»æã\n\näºåæ  çåæ¯éå¸¸è¢«ç§°ä½âå·¦å­æ âæâå³å­æ âãå¹¶ä¸ï¼äºåæ  çåæ¯å·æå·¦å³æ¬¡åºï¼ä¸è½éæé¢ åã\n\näºåæ  çç¬¬ i å±è³å¤æ¥æ 2^(i-1) ä¸ªèç¹ï¼æ·±åº¦ä¸º k çäºåæ è³å¤æ»å±æ 2^(k+1)-1ä¸ªèç¹ï¼æ»¡äºåæ çæåµï¼ï¼è³å°æ 2^(k)ä¸ªèç¹ã\n\n\n# æ»¡äºåæ \n\nä¸ä¸ªäºåæ ï¼å¦ææ¯ä¸ä¸ªå±çç»ç¹æ°é½è¾¾å°æå¤§å¼ï¼åè¿ä¸ªäºåæ å°±æ¯ æ»¡äºåæ ãä¹å°±æ¯è¯´ï¼å¦æä¸ä¸ªäºåæ çå±æ°ä¸º kï¼ä¸ç»ç¹æ»æ°æ¯(2^k) -1 ï¼åå®å°±æ¯ æ»¡äºåæ ãå¦ä¸å¾æç¤ºï¼\n\n\n\n\n# å®å¨äºåæ \n\né¤æåä¸å±å¤ï¼è¥å¶ä½å±é½æ¯æ»¡çï¼å¹¶ä¸æåä¸å±å¯ä»¥æ¯æ»¡çä¹å¯ä»¥æ¯å³è¾¹ç¼ºå°è¿ç»­çè¥å¹²èç¹ï¼åè¿ä¸ªäºåæ å°±æ¯ å®å¨äºåæ  ã\n\nå¤§å®¶å¯ä»¥æ³è±¡ä¸ºä¸æ£µæ ä»æ ¹ç»ç¹å¼å§æ©å±ï¼æ©å±å®å·¦å­èç¹æè½å¼å§æ©å±å³å­èç¹ï¼æ¯æ©å±å®ä¸å±ï¼æè½ç»§ç»­æ©å±ä¸ä¸å±ãå¦ä¸å¾æç¤ºï¼\n\n\n\nå®å¨äºåæ æä¸ä¸ªå¾å¥½çæ§è´¨ï¼ç¶ç»ç¹åå­èç¹çåºå·æçå¯¹åºå³ç³»ã\n\nå¦ææ ¹èç¹çåºå·ä¸º1ï¼é£ä¹è¥ç¶ç»ç¹çåºå·æ¯ iï¼é£ä¹å·¦å­èç¹çåºå·å°±æ¯ 2iï¼å³å­èç¹çåºå·æ¯ 2i+1ãè¿ä¸ªæ§è´¨ä½¿å¾å®å¨äºåæ å©ç¨æ°ç»å­å¨æ¶å¯ä»¥æå¤§å°èçç©ºé´ï¼ä»¥åå©ç¨åºå·æ¾å°æä¸ªèç¹çç¶ç»ç¹åå­èç¹ï¼åç»­äºåæ çå­å¨ä¼è¯¦ç»ä»ç»ã\n\n\n# å¹³è¡¡äºåæ \n\nå¹³è¡¡äºåæ  æ¯ä¸æ£µäºåæåºæ ï¼ä¸å·æä»¥ä¸æ§è´¨ï¼\n\n 1. å¯ä»¥æ¯ä¸æ£µç©ºæ \n 2. å¦æä¸æ¯ç©ºæ ï¼å®çå·¦å³ä¸¤ä¸ªå­æ çé«åº¦å·®çç»å¯¹å¼ä¸è¶è¿ 1ï¼å¹¶ä¸å·¦å³ä¸¤ä¸ªå­æ é½æ¯ä¸æ£µå¹³è¡¡äºåæ ã\n\nå¹³è¡¡äºåæ çå¸¸ç¨å®ç°æ¹æ³æ çº¢é»æ ãavl æ ãæ¿ç½ªç¾æ ãå æå¹³è¡¡æ ãä¼¸å±æ  ç­ã\n\n",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"Linux å¸¸ç¨å½ä»¤",frontmatter:{title:"Linux å¸¸ç¨å½ä»¤",date:"2023-10-24T07:42:33.000Z",permalink:"/pages/74b53c/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/02.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01.Linux/02.Linux%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html",relativePath:"01.Java ç¥è¯ä½ç³»/01.è®¡ç®æºåºç¡/02.æä½ç³»ç»/01.Linux/02.Linux å¸¸ç¨å½ä»¤.md",key:"v-414ca65b",path:"/pages/74b53c/",headers:[{level:1,title:"ç³»ç»ç®¡ç",slug:"ç³»ç»ç®¡ç",normalizedTitle:"ç³»ç»ç®¡ç",charIndex:2},{level:2,title:"å³æº&&éå¯",slug:"å³æº-éå¯",normalizedTitle:"å³æº&amp;&amp;éå¯",charIndex:null},{level:2,title:"init å½ä»¤",slug:"init-å½ä»¤",normalizedTitle:"init å½ä»¤",charIndex:162},{level:2,title:"echo",slug:"echo",normalizedTitle:"echo",charIndex:438},{level:2,title:"æ¥çåå²å½ä»¤ââhistory",slug:"æ¥çåå²å½ä»¤-history",normalizedTitle:"æ¥çåå²å½ä»¤ââhistory",charIndex:631},{level:2,title:"æ¥çè¿ç¨ââps",slug:"æ¥çè¿ç¨-ps",normalizedTitle:"æ¥çè¿ç¨ââps",charIndex:878},{level:2,title:"service å½ä»¤ââæ§å¶ç³»ç»æå¡",slug:"service-å½ä»¤-æ§å¶ç³»ç»æå¡",normalizedTitle:"service å½ä»¤ââæ§å¶ç³»ç»æå¡",charIndex:983},{level:2,title:"systemctl å½ä»¤ â ç®¡çç³»ç»æå¡",slug:"systemctl-å½ä»¤-ç®¡çç³»ç»æå¡",normalizedTitle:"systemctl å½ä»¤ â ç®¡çç³»ç»æå¡",charIndex:1124},{level:2,title:"ç«¯å£å¤ç",slug:"ç«¯å£å¤ç",normalizedTitle:"ç«¯å£å¤ç",charIndex:1505},{level:1,title:"ç£çç®¡ç",slug:"ç£çç®¡ç",normalizedTitle:"ç£çç®¡ç",charIndex:1709},{level:2,title:"sync",slug:"sync",normalizedTitle:"sync",charIndex:1718},{level:1,title:"ç¨æ·ç®¡ç",slug:"ç¨æ·ç®¡ç",normalizedTitle:"ç¨æ·ç®¡ç",charIndex:1748},{level:3,title:"æ·»å ç¨æ·",slug:"æ·»å ç¨æ·",normalizedTitle:"æ·»å ç¨æ·",charIndex:1889},{level:3,title:"æå®/ä¿®æ¹å¯ç ",slug:"æå®-ä¿®æ¹å¯ç ",normalizedTitle:"æå®/ä¿®æ¹å¯ç ",charIndex:1983},{level:3,title:"å é¤ç¨æ·",slug:"å é¤ç¨æ·",normalizedTitle:"å é¤ç¨æ·",charIndex:2008},{level:3,title:"æ¥è¯¢ç¨æ·ä¿¡æ¯",slug:"æ¥è¯¢ç¨æ·ä¿¡æ¯",normalizedTitle:"æ¥è¯¢ç¨æ·ä¿¡æ¯",charIndex:2116},{level:3,title:"åæ¢ç¨æ·",slug:"åæ¢ç¨æ·",normalizedTitle:"åæ¢ç¨æ·",charIndex:1880},{level:3,title:"æ¥çå½åç¨æ·/ç»å½ç¨æ·",slug:"æ¥çå½åç¨æ·-ç»å½ç¨æ·",normalizedTitle:"æ¥çå½åç¨æ·/ç»å½ç¨æ·",charIndex:2219},{level:3,title:"ç¨æ·ç»",slug:"ç¨æ·ç»",normalizedTitle:"ç¨æ·ç»",charIndex:1842},{level:3,title:"ç¨æ·åç»ç¸å³æä»¶",slug:"ç¨æ·åç»ç¸å³æä»¶",normalizedTitle:"ç¨æ·åç»ç¸å³æä»¶",charIndex:2461},{level:1,title:"ç®å½ç®¡ç",slug:"ç®å½ç®¡ç",normalizedTitle:"ç®å½ç®¡ç",charIndex:2573},{level:2,title:"ç®å½åæ¢å½ä»¤",slug:"ç®å½åæ¢å½ä»¤",normalizedTitle:"ç®å½åæ¢å½ä»¤",charIndex:2582},{level:2,title:"pwd",slug:"pwd",normalizedTitle:"pwd",charIndex:2738},{level:2,title:"æ¥çç®å½ââls",slug:"æ¥çç®å½-ls",normalizedTitle:"æ¥çç®å½ââls",charIndex:2790},{level:2,title:"åå»ºç®å½ââmkdir",slug:"åå»ºç®å½-mkdir",normalizedTitle:"åå»ºç®å½ââmkdir",charIndex:2876},{level:2,title:"å é¤ç©ºç®å½âârmdir",slug:"å é¤ç©ºç®å½-rmdir",normalizedTitle:"å é¤ç©ºç®å½âârmdir",charIndex:3045},{level:2,title:"æ¥æ¾ç®å½ââfind",slug:"æ¥æ¾ç®å½-find",normalizedTitle:"æ¥æ¾ç®å½ââfind",charIndex:3190},{level:1,title:"æä»¶ç®¡ç",slug:"æä»¶ç®¡ç",normalizedTitle:"æä»¶ç®¡ç",charIndex:3893},{level:2,title:"åå»ºç©ºæä»¶ââtouch",slug:"åå»ºç©ºæä»¶-touch",normalizedTitle:"åå»ºç©ºæä»¶ââtouch",charIndex:3902},{level:2,title:"æä»¶æ·è´ââcp",slug:"æä»¶æ·è´-cp",normalizedTitle:"æä»¶æ·è´ââcp",charIndex:4047},{level:2,title:"å é¤æä»¶âârm",slug:"å é¤æä»¶-rm",normalizedTitle:"å é¤æä»¶âârm",charIndex:4419},{level:2,title:"æä»¶éå½åææä»¶ç§»å¨ââmv",slug:"æä»¶éå½åææä»¶ç§»å¨-mv",normalizedTitle:"æä»¶éå½åææä»¶ç§»å¨ââmv",charIndex:4693},{level:2,title:"æä»¶æ¥çââcat/more/less/head/tail",slug:"æä»¶æ¥ç-cat-more-less-head-tail",normalizedTitle:"æä»¶æ¥çââcat/more/less/head/tail",charIndex:5020},{level:3,title:"cat",slug:"cat",normalizedTitle:"cat",charIndex:5026},{level:3,title:"more",slug:"more",normalizedTitle:"more",charIndex:5030},{level:3,title:"less",slug:"less",normalizedTitle:"less",charIndex:5035},{level:3,title:"head",slug:"head",normalizedTitle:"head",charIndex:5040},{level:3,title:"tail",slug:"tail",normalizedTitle:"tail",charIndex:5045},{level:2,title:"æç´¢å½ä»¤ââgrep",slug:"æç´¢å½ä»¤-grep",normalizedTitle:"æç´¢å½ä»¤ââgrep",charIndex:6579},{level:2,title:"ç¬¦å·é¾æ¥ââin",slug:"ç¬¦å·é¾æ¥-in",normalizedTitle:"ç¬¦å·é¾æ¥ââin",charIndex:6810},{level:2,title:"åç¼©/è§£åç¼©æä»¶",slug:"åç¼©-è§£åç¼©æä»¶",normalizedTitle:"åç¼©/è§£åç¼©æä»¶",charIndex:7056},{level:2,title:"wgetå½ä»¤ââä¸è½½ç½ç»æä»¶",slug:"wgetå½ä»¤-ä¸è½½ç½ç»æä»¶",normalizedTitle:"wgetå½ä»¤ââä¸è½½ç½ç»æä»¶",charIndex:7783},{level:2,title:"make å½ä»¤ââç¼è¯åæ ¸ææºç æä»¶",slug:"make-å½ä»¤-ç¼è¯åæ ¸ææºç æä»¶",normalizedTitle:"make å½ä»¤ââç¼è¯åæ ¸ææºç æä»¶",charIndex:8123},{level:1,title:"ææ¬ç¼è¾å¨ vi å vim",slug:"ææ¬ç¼è¾å¨-vi-å-vim",normalizedTitle:"ææ¬ç¼è¾å¨ vi å vim",charIndex:8319},{level:2,title:"ä¸è¬å½ä»¤æ¨¡å¼",slug:"ä¸è¬å½ä»¤æ¨¡å¼",normalizedTitle:"ä¸è¬å½ä»¤æ¨¡å¼",charIndex:8405},{level:2,title:"ç¼è¾æ¨¡å¼",slug:"ç¼è¾æ¨¡å¼",normalizedTitle:"ç¼è¾æ¨¡å¼",charIndex:8416},{level:2,title:"å½ä»¤è¡æ¨¡å¼",slug:"å½ä»¤è¡æ¨¡å¼",normalizedTitle:"å½ä»¤è¡æ¨¡å¼",charIndex:8425},{level:1,title:"yumå½ä»¤ââåºäºRPMçè½¯ä»¶åç®¡çå¨",slug:"yumå½ä»¤-åºäºrpmçè½¯ä»¶åç®¡çå¨",normalizedTitle:"yumå½ä»¤ââåºäºrpmçè½¯ä»¶åç®¡çå¨",charIndex:8923}],headersStr:"ç³»ç»ç®¡ç å³æº&&éå¯ init å½ä»¤ echo æ¥çåå²å½ä»¤ââhistory æ¥çè¿ç¨ââps service å½ä»¤ââæ§å¶ç³»ç»æå¡ systemctl å½ä»¤ â ç®¡çç³»ç»æå¡ ç«¯å£å¤ç ç£çç®¡ç sync ç¨æ·ç®¡ç æ·»å ç¨æ· æå®/ä¿®æ¹å¯ç  å é¤ç¨æ· æ¥è¯¢ç¨æ·ä¿¡æ¯ åæ¢ç¨æ· æ¥çå½åç¨æ·/ç»å½ç¨æ· ç¨æ·ç» ç¨æ·åç»ç¸å³æä»¶ ç®å½ç®¡ç ç®å½åæ¢å½ä»¤ pwd æ¥çç®å½ââls åå»ºç®å½ââmkdir å é¤ç©ºç®å½âârmdir æ¥æ¾ç®å½ââfind æä»¶ç®¡ç åå»ºç©ºæä»¶ââtouch æä»¶æ·è´ââcp å é¤æä»¶âârm æä»¶éå½åææä»¶ç§»å¨ââmv æä»¶æ¥çââcat/more/less/head/tail cat more less head tail æç´¢å½ä»¤ââgrep ç¬¦å·é¾æ¥ââin åç¼©/è§£åç¼©æä»¶ wgetå½ä»¤ââä¸è½½ç½ç»æä»¶ make å½ä»¤ââç¼è¯åæ ¸ææºç æä»¶ ææ¬ç¼è¾å¨ vi å vim ä¸è¬å½ä»¤æ¨¡å¼ ç¼è¾æ¨¡å¼ å½ä»¤è¡æ¨¡å¼ yumå½ä»¤ââåºäºRPMçè½¯ä»¶åç®¡çå¨",content:'# ç³»ç»ç®¡ç\n\n\n# å³æº&&éå¯\n\n * shutdown\n\n * \n * * shutdown -h nowï¼ è¡¨ç¤ºç«å³å³æº\n * \n * * shutdown -h 1ï¼ è¡¨ç¤º1åéåå³æº\n * \n * * shutdown -r nowï¼ç«å³éå¯\n\n * haltï¼ç«å³å³æº\n\n * rebootï¼éå¯ç³»ç»\n\n\n# init å½ä»¤\n\ninit å½ä»¤åæ¢ç³»ç»è¿è¡çº§å«ã\n\nè¿è¡çº§å«è¯´æï¼\n\n 1. å³æº\n\n 2. åç¨æ·ãæ¾åä¸¢å¤±å¯ç ã\n\n 3. å¤ç¨æ·ç¶ææ²¡æç½ç»æå¡\n\n 4. å¤ç¨æ·ç¶ææç½ç»æå¡\n\n 5. ç³»ç»æªä½¿ç¨ä¿çç»ç¨æ·\n\n 6. å¾å½¢çé¢\n\n 7. ç³»ç»éå¯\n\n\n\nå¸¸ç¨è¿è¡çº§å«æ¯3å5ï¼è¦ä¿®æ¹é»è®¤çè¿è¡çº§å«å¯ä¿®æ¹æä»¶/etc/inittab çåå®¹\n\nid:5:initdefault:\n\n\nä¹å¯ä»¥ä½¿ç¨init [012356]æä»¤åæ¢å°æå®çè¿è¡çº§å«ã\n\nä½¿ç¨æ¡ä¾ï¼\n\n * ä½¿ç¨initåæ¢ä¸åè¿è¡çº§å«ï¼ç¶åå³æº\n\n * æ¾årootå¯ç \n\n\n# echo\n\n * åºæ¬è¯­æ³\n\n * \n * * echo [éé¡¹] [è¾åºåå®¹]\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾ï¼ä½¿ç¨echoæä»¤è¾åºç¯å¢åé,è¾åºå½åçç¯å¢è·¯å¾ã\n * \n * * \n * * * echo $PATH\n * \n * * æ¡ä¾ï¼ä½¿ç¨echoæä»¤è¾åºhello,world!\n * \n * * \n * * * echo âhello,world!â\n\n\n# æ¥çåå²å½ä»¤ââhistory\n\næ¥çå·²è½»æ§è¡è¿åå²å½ä»¤,ä¹å¯ä»¥æ§è¡åå²æä»¤\n\n * åºæ¬è¯­æ³\n\n * \n * * historyï¼åè½æè¿°ï¼æ¥çå·²ç»æ§è¡è¿åå²å½ä»¤ï¼\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾1ï¼æ¾ç¤ºææçåå²å½ä»¤\n * \n * * \n * * * history\n * \n * * æ¡ä¾2ï¼æ¾ç¤ºæè¿ä½¿ç¨è¿ç10ä¸ªæä»¤ã\n * \n * * \n * * * history 10\n * \n * * æ¡ä¾3ï¼æ§è¡åå²ç¼å·ä¸º5çæä»¤\n * \n * * \n * * * !5\n\n\n# æ¥çè¿ç¨ââps\n\nps -ef å»è¿è¡æ¥çç³»ç»ä¸çè¿è¡çææè¿ç¨ã\n\nåªæ§è¡pså½ä»¤ï¼é»è®¤æ¯æ¾ç¤ºå½åæ§å¶å°ä¸å±äºå½åç¨æ·çè¿ç¨ï¼\n\n * -e æ¾ç¤ºè¿è¡å¨ç³»ç»ä¸çææè¿ç¨\n\n * -f æ©å±æ¾ç¤ºè¾åº\n\n\n# service å½ä»¤ââæ§å¶ç³»ç»æå¡\n\nserviceå½ä»¤å¯ä»¥å¯å¨ãåæ­¢ãéæ°å¯å¨åå³é­ç³»ç»æå¡ï¼è¿å¯ä»¥æ¾ç¤ºææç³»ç»æå¡çå½åç¶æã\n\n * æ¾ç¤ºæææå¡çç¶æï¼service --status-all\n\n * éå¯ç½ç»æå¡ï¼service network restart\n\n\n# systemctl å½ä»¤ â ç®¡çç³»ç»æå¡\n\nsystemctl æ¯ç¨äºç®¡çç³»ç»æå¡ãä»åè½ä¸æ¶µçäºä¹åserviceãchkconfigãinitãsetupç­å¤æ¡å½ä»¤çå¤§é¨ååè½ã\n\nè¯­æ³æ ¼å¼ï¼systemctl åæ° æå¡\n\nå¸¸ç¨åæ°ï¼\n\nSTART                        å¯å¨æå¡\nstop                         åæ­¢æå¡\nrestart                      éå¯æå¡\nenable                       ä½¿ææå¡å¼æºèªå¯\ndisable                      å³é­ææå¡å¼æºèªå¯\nstatus                       æ¥çæå¡ç¶æ\nlist -units --type=service   åä¸¾ææå·²å¯å¨æå¡\n\n\n# ç«¯å£å¤ç\n\nfirewall-cmd --list-ports #æ¥çææå·²å¼æ¾çä¸´æ¶ç«¯å£ï¼é»è®¤ä¸ºç©ºï¼ firewall-cmd --add-port=3306/tcp --permanent æ·»å æ°¸ä¹å¼æ¾çç«¯å£ï¼ä¾å¦ï¼3306ç«¯å£ï¼\n\néç½®ç»æåéè¦è¾å¥éè½½å½ä»¤å¹¶éå¯é²ç«å¢ä»¥çæéç½®ï¼\n\nfirewall-cmd --reload  \n\nsystemctl restart firewalld\n\n\n\n# ç£çç®¡ç\n\n\n# sync\n\n * syncï¼å°åå­çæ°æ®åæ­¥å°ç£ç\n\n\n# ç¨æ·ç®¡ç\n\nLinux ç³»ç»æ¯ä¸ä¸ªå¤ç¨æ·å¤ä»»å¡çåæ¶æä½ç³»ç»ï¼ä»»ä½ä¸ä¸ªè¦ä½¿ç¨ç³»ç»èµæºçç¨æ·ï¼é½å¿é¡»é¦ååç³»ç»ç®¡çåç³è¯·ä¸ä¸ªè´¦å·ï¼ç¶åä»¥è¿ä¸ªè´¦å·çèº«ä»½è¿å¥ç³»ç»ã\n\nLinuxç¨æ·è³å°å±äºä¸ä¸ªç¨æ·ç»ã\n\nloginï¼ç¨æ·ç»å¥ç³»ç»\n\nlogoutï¼ç¨æ·éåºç³»ç»\n\nsuï¼åæ¢ç¨æ·\n\n\n# æ·»å ç¨æ·\n\nuseradd [éé¡¹] ç¨æ·å\n\n\nå½åå»ºç¨æ·æååï¼ä¼èªå¨åå»ºåç¨æ·ååçå®¶ç®å½ãä¹å¯ä»¥éè¿ï¼useradd -d æå®ç®å½ æ°çç¨æ·åç»æ°åå»ºçç¨æ·æå®å®¶ç®å½ã\n\n\n# æå®/ä¿®æ¹å¯ç \n\npasswd ç¨æ·å\n\n\n\n# å é¤ç¨æ·\n\nuserdel ç¨æ·å\n\n\n * å é¤ç¨æ·ï¼ä¿çå®¶ç®å½\n\n * \n * * \n\nuserdel ç¨æ·å\n\n\n * å é¤ç¨æ·ï¼åæ¶å é¤å®¶ç®å½\n\n * \n * * \n\nuserdel -r ç¨æ·å\n\n\n\n# æ¥è¯¢ç¨æ·ä¿¡æ¯\n\nid ç¨æ·å\n\n\n\n# åæ¢ç¨æ·\n\nsu - ç¨æ·å\n\n\n 1. æéé«çç¨æ·åæ¢å°æéä½çç¨æ·ï¼ä¸éè¦è¾å¥å¯ç ï¼åä¹éè¦ã\n\n 2. å½éè¦è¿åå°åæ¥çç¨æ·æ¶ï¼ä½¿ç¨exitå½ä»¤ã\n\n\n# æ¥çå½åç¨æ·/ç»å½ç¨æ·\n\nwhoami/who am l\n\n\n\n# ç¨æ·ç»\n\næ¯ä¸ªç¨æ·é½æä¸ä¸ªç¨æ·ç»ï¼ç³»ç»å¯ä»¥å¯¹ä¸ä¸ªç¨æ·ç»ä¸­çææç¨æ·è¿è¡éä¸­ç®¡çãä¸å Linux ç³»ç»å¯¹ç¨æ·ç»çè§å®ææä¸åï¼å¦ Linux ä¸çç¨æ·å±äºä¸å®ååçç¨æ·ç»ï¼è¿ä¸ªç¨æ·ç»å¨åå»ºç¨æ·æ¶åæ¶åå»ºã\n\n * å¢å ç»ï¼groupadd ç»å\n\n * å¢å ç¨æ·æ¶å ä¸ç»ï¼useradd -g ç¨æ·ç» ç¨æ·å\n\n * å é¤ç»ï¼groupdel ç»å\n\n * ä¿®æ¹ç¨æ·ç»ï¼usermod -g ç¨æ·ç» ç¨æ·å\n\n\n# ç¨æ·åç»ç¸å³æä»¶\n\n * /ect/passwdæä»¶ï¼ç¨æ·éç½®æä»¶ï¼è®°å½ç¨æ·åç§ä¿¡æ¯\n\n * /ect/shadowæä»¶ï¼å£å½éç½®æä»¶\n\n * /ect/groupæä»¶ï¼ç»çéç½®æä»¶ï¼è®°å½Linuxåå«çç»çä¿¡æ¯ã\n\n\n# ç®å½ç®¡ç\n\n\n# ç®å½åæ¢å½ä»¤\n\ncdï¼change directoryï¼\n\nåºæ¬è¯­æ³\n\n * cd[åæ°] ï¼åè½æè¿°ãåæ¢å°æå®ç®å½ï¼\n\nå¸¸ç¨åæ°ï¼\n\n * ç»å¯¹è·¯å¾åç¸å¯¹è·¯å¾\n\n * cd ~æècd ï¼åå°èªå·±çå®¶ç®å½\n\n * cd .. ï¼åå°å½åç®å½çä¸ä¸çº§ç®å½\n\n * cd -ï¼ åæ¢å°ä¸ä¸ä¸ªæä½æå¨ç®å½\n\n\n# pwd\n\npwdï¼print working directoryï¼æ¾ç¤ºå½åå·¥ä½ç®å½çç»å¯¹è·¯å¾ã\n\n\n# æ¥çç®å½ââls\n\nls [éé¡¹] [ç®å½ææ¯æä»¶]\n\n\nå¸¸ç¨éé¡¹ï¼\n\n * -aï¼æ¾ç¤ºå½åç®å½ææçæä»¶åç®å½ï¼åæ¬éèçã\n\n * -lï¼ä»¥åè¡¨çæ¹å¼æ¾ç¤ºä¿¡æ¯\n\n\n# åå»ºç®å½ââmkdir\n\nåºæ¬è¯­æ³\n\nmkdir [éé¡¹] è¦åå»ºçç®å½\n\n\nå¸¸ç¨éé¡¹\n\n-pï¼åå»ºå¤çº§ç®å½\n\n\nåºç¨å®ä¾\n\næ¡ä¾1ï¼åå»ºä¸ä¸ªç®å½/home/dog\n    mkdir /home/dog\næ¡ä¾2ï¼åå»ºå¤çº§ç®å½/home/animal/tiger\n    mkdir -p /home/animal/tiger\n\n\n\n# å é¤ç©ºç®å½âârmdir\n\nrmdiræä»¤å é¤ç©ºç®å½\n\n * åºæ¬è¯­æ³\n\n * \n * * rmdir [éé¡¹] è¦åé¤çç©ºç®å½\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾1ï¼å é¤ä¸ä¸ªç®å½/home/dogä½¿ç¨ç»è\n\n * rmdirå é¤çæ¯ç©ºç®å½ï¼å¦æç®å½ä¸æåå®¹æ¶æ æ³å é¤çã\n\n\n# æ¥æ¾ç®å½ââfind\n\nfindæä»¤å°ä»æå®ç®å½åä¸éå½å°éåå¶åä¸ªå­ç®å½ï¼å°æ»¡è¶³æ¡ä»¶çæä»¶æèç®å½æ¾ç¤ºå¨ç»ç«¯ã\n\n * åºæ¬è¯­æ³\n\n * \n * * find [æç´¢èå´] [éé¡¹]\n\n * éé¡¹è¯´æ\n\n * \n * * \n\néé¡¹                                åè½\n-name <æ¥è¯¢æ¹å¼>                      æç§æå®çæä»¶åæ¥æ¾æ¨¡å¼æ¥æ¾æä»¶\n-user <ç¨æ·å>                       æ¥æ¾å±äºæå®ç¨æ·åæææä»¶\n-size <æä»¶å¤§å°>ï¼+nå¤§äº-nå°äºnç­äºï¼nä¸ºæ°ç®ï¼ï¼   æç§æå®çæä»¶å¤§å°æ¥æ¾æä»¶\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾1ï¼ææä»¶åï¼æ ¹æ®åç§°æ¥æ¾/homeç®å½ä¸çhello.txtæä»¶\n * \n * * \n * * * find /home -name hello.txt\n * \n * * æ¡ä¾2ï¼ææ¥æèï¼æ¥æ¾/optç®å½ä¸ï¼ç¨æ·åç§°ä¸ºnobodyçæä»¶\n * \n * * \n * * * find /opt -user nobody\n * \n * * æ¡ä¾3ï¼æ¥æ¾æ´ä¸ªlinuxç³»ç»ä¸å¤§äºãç­äºãå°äº20mçæä»¶\n * \n * * \n * * * find / -size +20M\n * \n * * \n * * * find / -size 20M\n * \n * * \n * * * find / -size -20M\n * \n * * æ¡ä¾4ï¼ææä»¶åï¼æ ¹æ®åç§°æ¥æ¾/ç®å½ä¸çä»¥txtç»å°¾çæä»¶\n * \n * * \n * * * find / -name *.txt\n\n\n# æä»¶ç®¡ç\n\n\n# åå»ºç©ºæä»¶ââtouch\n\ntouchæä»¤åå»ºç©ºæä»¶\n\n * åºæ¬è¯­æ³\n\n * \n * * touch æä»¶åç§°sï¼å¯åå»ºå¤ä¸ªç©ºæä»¶ï¼\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾1ï¼åå»ºä¸ä¸ªç©ºæä»¶hello.txt\n * \n * * \n * * * touch hello.txt\n\n\n# æä»¶æ·è´ââcp\n\ncpæä»¤æ·è´æä»¶å°æå®ç®å½ãæ³¨æï¼cp å½ä»¤ä¸ä»å¯ä»¥æ·è´æä»¶è¿å¯ä»¥æ·è´ç®å½ï¼åç¼©åç­ï¼æ·è´æä»¶ååç¼©åæ¶ä¸ ç¨å-r éå½ã\n\n * åºæ¬è¯­æ³\n\n * \n * * cp [éé¡¹] (source) (dest)\n\n * å¸¸ç¨éé¡¹\n\n * \n * * -rï¼éå½å¤å¶æ´ä¸ªæä»¶å¤¹\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾1ï¼å°/home/aaa.txtæ·è´å°/home/bbbç®å½ä¸ï¼å½åå·¥ä½ç®å½ä¸º/homeï¼\n * \n * * \n * * * cp aaa.txt /home/bbb\n * \n * * æ¡ä¾2ï¼éå½å¤å¶æ´ä¸ªæä»¶å¤¹ï¼ä¸¾ä¾\n * \n * * \n * * * cp -r src/ target/\n * \n * * \n * * * æ³¨æä¸å®è¦æ³¨æ ä½ å½åçå·¥ä½ç®å½ä½ç½®ï¼ç¶ååç¡®å°å®ä½æºç®å½åç®æ ç®å½ã\n\n\n# å é¤æä»¶âârm\n\nrmæä»¤ç§»é¤æä»¶æç®å½\n\n * åºæ¬è¯­æ³\n\n * \n * * rm [éé¡¹] (è¦å é¤çæä»¶æç®å½)\n\n * å¸¸ç¨éé¡¹\n\n * \n * * -rï¼éå½å é¤æ´ä¸ªæä»¶å¤¹\n * \n * * -fï¼å¼ºå¶åé¤ä¸æç¤º\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾1ï¼å°/home/aaa.txtå é¤ï¼å½åå·¥ä½ç®å½ä¸º/homeï¼\n * \n * * \n * * * rm aaa.txt\n * \n * * æ¡ä¾2ï¼éå½å é¤æ´ä¸ªæä»¶å¤¹/home/bbbï¼å½åå·¥ä½ç®å½ä¸º/homeï¼\n * \n * * \n * * * rm -rf bbb/\n\n\n# æä»¶éå½åææä»¶ç§»å¨ââmv\n\n * åºæ¬è¯­æ³\n\n * \n * * mv (oldNameFile) (newNameFile)ï¼(åè½æè¿°:éå½å)\n * \n * * mv (/temp/movefile) (/targetFolder)ï¼(åè½æè¿°:ç§»å¨æä»¶)\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾1ï¼å°/home/aaa.txtæä»¶éæ°å½åä¸ºpig.txtï¼å½åå·¥ä½ç®å½ä¸º/homeï¼\n * \n * * \n * * * mv aaa.txt pig.txt\n * \n * * æ¡ä¾2ï¼å°/home/pig.txtæä»¶ç§»å¨å°rootç®å½ä¸ï¼å½åå·¥ä½ç®å½ä¸º/homeï¼\n * \n * * \n * * * mv pig.txt /root\n\n\n# æä»¶æ¥çââcat/more/less/head/tail\n\n\n# cat\n\ncatæ¥çæä»¶åå®¹ï¼æ¯ä»¥åªè¯»çæ¹å¼\n\n * åºæ¬è¯­æ³\n\n * \n * * cat [éé¡¹] è¦æ¥ççæä»¶\n\n * å¸¸ç¨éé¡¹\n\n * \n * * -nï¼æ¾ç¤ºè¡å·\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾1: /ect/profileæä»¶åå®¹ï¼å¹¶æ¾ç¤ºè¡å·\n * \n * * \n * * * cat -n /ect/profile\n\n\n# more\n\nmoreæä»¤æ¯ä¸ä¸ªåºäºviç¼è¾å¨çææ¬è¿æ»¤å¨ï¼å®ä»¥å¨å±å¹çæ¹å¼æé¡µæ¾ç¤ºææ¬æä»¶çåå®¹ã\n\nmoreæä»¤ä¸­åç½®äºè¥å¹²å¿«æ·é®ï¼è¯¦è§æä½è¯´æï¼\n\næä½       åè½è¯´æ\nç©ºç½é®      åä¸ç¿»ä¸é¡µ\nEnter    åä¸ç¿»ä¸è¡\nq        ç¦»å¼more\nCtrl+F   åä¸æ»å¨ä¸å±\nCtrl+B   è¿åä¸ä¸å±\n=        è¾åºå½åè¡å·\n:f       è¾åºæä»¶ååå½åçè¡å·\n\n * åºæ¬è¯­æ³\n\n * \n * * more è¦æ¥ççæä»¶æä½è¯´æ\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾ï¼éç¨moreæ¥çæä»¶/etc/profile\n * \n * * \n * * * more /etc/profile\n\n\n# less\n\nlessæä»¤ç¨æ¥åå±æ¥çæä»¶åå®¹ï¼å®çåè½ä¸moreæä»¤ç±»ä¼¼ï¼ä½æ¯æ¯moreæä»¤æ´å å¼ºå¤§ï¼æ¯æåç§æ¾ç¤ºç»ç«¯ãlessæä»¤å¨æ¾ç¤ºæä»¶åå®¹æ¶ï¼å¹¶ä¸æ¯ä¸æ¬¡å°æ´ä¸ªæä»¶å è½½ä¹åææ¾ç¤ºï¼èæ¯æ ¹æ®æ¾ç¤ºéè¦å è½½åå®¹ï¼å¯¹äºæ¾ç¤ºå¤§åæä»¶å·æè¾é«çæçã\n\n * åºæ¬è¯­æ³\n\n * \n * * less è¦æ¥ççæä»¶\n\n * æä½è¯´æ\n\n * \n * * \n\næä½           åè½è¯´æ\nç©ºç½é®          åä¸ç¿»å¨ä¸é¡µ\n[PageDown]   åä¸ç¿»å¨ä¸é¡µ\n[PageUp]     åä¸ç¿»å¨ä¸é¡µ\n/å­ä¸²          åä¸æå¯»âå­ä¸²âçåè½ï¼nï¼åä¸æ¥æï¼Nï¼åä¸æ¥æ¾ï¼\n?å­ä¸²          åä¸æå¯»âå­ä¸²âçåè½ï¼nï¼åä¸æ¥æï¼Nï¼åä¸æ¥æ¾ï¼\nq            ç¦»å¼lessè¿ä¸ªç¨åº\n\n\n# head\n\nheadç¨äºæ¾ç¤ºæä»¶çå¼å¤´é¨ååå®¹ï¼é»è®¤æåµä¸headæä»¤æ¾ç¤ºæä»¶çå10è¡åå®¹\n\n * åºæ¬è¯­æ³\n\n * \n * * head æä»¶è·¯å¾ï¼åè½æè¿°ï¼æ¥çæä»¶å¤´10è¡åå®¹ï¼\n * \n * * head -n 5 æä»¶è·¯å¾ï¼åè½æè¿°ï¼æ¥çæä»¶å¤´5è¡åå®¹ï¼5å¯ä»¥æ¯ä»»æè¡æ°ï¼\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾ï¼æ¥ç/etc/profileçåé¢5è¡ä»£ç \n * \n * * \n * * * head -n 5 /etc/profile\n\n\n# tail\n\ntailç¨äºè¾åºæä»¶ä¸­å°¾é¨çåå®¹ï¼é»è®¤æåµä¸tailæä»¤æ¾ç¤ºæä»¶çå10è¡åå®¹ã\n\n * åºæ¬è¯­æ³\n\n * \n * * tail æä»¶è·¯å¾ï¼åè½æè¿°:æ¥çæä»¶å10è¡åå®¹ï¼\n * \n * * tail -n 5 æä»¶è·¯å¾ï¼åè½æè¿°:æ¥çæä»¶å5è¡åå®¹ï¼5å¯ä»¥æ¯ä»»æè¡æ°ï¼\n * \n * * tail -f æä»¶è·¯å¾ï¼åè½æè¿°ï¼å®æ¶è¿½è¸ªè¯¥ææ¡£çæææ´æ°ï¼\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾1ï¼æ¥ç/etc/profileæå5è¡çä»£ç \n * \n * * \n * * * tail -n 5 /etc/profile\n * \n * * æ¡ä¾2ï¼å®æ¶çæ§mydate.txtï¼ççå°æä»¶æååæ¶ï¼æ¯å¦çå°ï¼å®æ¶çè¿½å æ¥æ\n * \n * * \n * * * tail -f mydate.txt\n * \n * * æ¡ä¾3ï¼å®æ¶çæ§tomcat çæ¥å¿æä»¶\n * \n * * \n * * * tail -f catalina-2016-11-11.log\n\n\n# æç´¢å½ä»¤ââgrep\n\ngrepè¿æ»¤æ¥æ¾\n\n * åºæ¬è¯­æ³\n\n * \n * * grep [éé¡¹] æ¥æ¾åå®¹ æºæä»¶\n\n * å¸¸ç¨éé¡¹\n\n * \n * * \n\néé¡¹   åè½\n-n   æ¾ç¤ºå¹éè¡åè¡å·ã\n-i   å¿½ç¥å­æ¯å¤§å°å\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾1ï¼è¯·å¨hello.txtæä»¶ä¸­ï¼æ¥æ¾"yesâæå¨è¡ï¼å¹¶ä¸æ¾ç¤ºè¡å·ã--color ä»£è¡¨é«äº®æ¾ç¤º\n * \n * * grep -n yes hello.txt --colorr\n\n\n# ç¬¦å·é¾æ¥ââin\n\nè½¯é¾æ¥ä¹å«ç¬¦å·é¾æ¥ï¼ç±»ä¼¼äºwindowséçå¿«æ·æ¹å¼ï¼ä¸»è¦å­æ¾äºé¾æ¥å¶ä»æä»¶çè·¯å¾ã\n\n * åºæ¬è¯­æ³\n\n * \n * * ln -s [åæä»¶æç®å½] [è½¯é¾æ¥å] ï¼åè½æè¿°ï¼ç»åæä»¶åå»ºä¸ä¸ªè½¯é¾æ¥ï¼ï¼å¦æè½¯é¾æ¥åæ¶ç®å½è·¯å¾ï¼cd è½¯é¾æ¥å å°±è½è·³å°ç®å½ï¼\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾1ï¼å¨/homeç®å½ä¸åå»ºä¸ä¸ªè½¯è¿æ¥linkToRootï¼è¿æ¥å°/rootç®å½\n * \n * * \n * * * ln -s /root linkToRoot\n\n\n# åç¼©/è§£åç¼©æä»¶\n\ntaræä»¤æ¯æåæä»¤ï¼æåæååçæä»¶æ¯.tar.gzçæä»¶ã\n\n * åºæ¬è¯­æ³\n\n * \n * * tar [éé¡¹] XXX.tar.gz æåçåå®¹ï¼åè½æè¿°ï¼æåç®å½ï¼åç¼©åçæä»¶æ ¼å¼.tar.gzï¼ã\n\n * éé¡¹è¯´æ\n\n * \n * * \n\néé¡¹   åè½\n-c   äº§ç.taræåæä»¶\n-v   æ¾ç¤ºè¯¦ç»ä¿¡æ¯\n-f   æå®åç¼©åçæä»¶å\n-z   éè¿gzipæ¯æåç¼©æè§£åç¼©\n-x   è§£å.taræä»¶\n\n * åºç¨å®ä¾\n\n * \n * * æåå¹¶åç¼©æä»¶\n * \n * * \n * * * å½ä»¤ï¼tar -zcvf æååç¼©åçæä»¶å è¦æååç¼©çæä»¶\n * \n * * \n * * * åå¦ test ç®å½ä¸æä¸ä¸ªæä»¶åå«æ¯ï¼aaa.txt bbb.txt ccc.txtï¼å¦ææä»¬è¦æå test ç®å½å¹¶æå®åç¼©åçåç¼©ååç§°ä¸º test.tar.gz å¯ä»¥ä½¿ç¨å½ä»¤ï¼**tar -zcvf test.tar.gz aaa.txt bbb.txt ccc.txt** æ **tar -zcvf test.tar.gz /test/**\n * \n * * è§£ååç¼©å\n * \n * * \n * * * å½ä»¤ï¼tar [-xvf] åç¼©æä»¶\n * \n * * \n * * * å° /test ä¸ç test.tar.gz è§£åå°å½åç®å½ä¸å¯ä»¥ä½¿ç¨å½ä»¤ï¼**tar -xvf test.tar.gz**\n * \n * * \n * * * å° /test ä¸ç test.tar.gz è§£åå°æ ¹ç®å½/usr ä¸:**tar -xvf test.tar.gz -C /usr**ï¼- C ä»£è¡¨æå®è§£åçä½ç½®ï¼\n\n\n# wgetå½ä»¤ââä¸è½½ç½ç»æä»¶\n\nwget æ¯ç¨äºä»æå®ç½åä¸è½½ç½ç»æä»¶ãwget å½ä»¤éå¸¸ç¨³å®ï¼ä¸è¬å³ä¾¿ç½ç»æ³¢å¨ä¹ä¸ä¼å¯¼è´ä¸è½½å¤±è´¥ï¼èæ¯ä¸æ­çå°è¯éè¿ï¼ç´è³æ´ä¸ªæä»¶ä¸è½½å®æ¯ãéä½¿ç¨ yum -y install wget å®è£\n\nè¯­æ³æ ¼å¼ï¼ wget [åæ°] ç½å\n\nå¸¸ç¨åæ°ï¼\n\n-V                  æ¾ç¤ºçæ¬ä¿¡æ¯\n-h                  æ¾ç¤ºå¸®å©ä¿¡æ¯\n-b                  å¯å¨åè½¬å¥åå°æ§è¡\n-c                  æ¯ææ­ç¹ç»­ä¼ \n-O                  å®ä¹æ¬å°æä»¶å\n-e <å½ä»¤>             æ§è¡æå®çå½ä»¤\n--limit-rate=<éç>   éå¶ä¸è½½éåº¦\n\n\n# make å½ä»¤ââç¼è¯åæ ¸ææºç æä»¶\n\nmake å½ä»¤çåè½æ¯ç¨äºç¼è¯åæ ¸ææºç æä»¶ãmakeæ¯GNUå·¥ç¨åç¼è¯å·¥å·ï¼ç¨äºç¼è¯ä¼å¤ç¸äºå³èçæºä»£ç æä»¶ï¼ä¹å¯ä»¥ç¼è¯åæ ¸ææ¨¡ååè½ï¼ä»¥å·¥ç¨åçå·¥ä½æ¹å¼ï¼æé«å¼åæçã\n\nåæ¬¡è¿è¡ make å½ä»¤æ¶ï¼å®ä¼éè¿æ«æMakefileæä»¶æ¾å°ç®æ åå¶ä¾èµå³ç³»ï¼å¹¶å¨å»ºç«ä¾èµå³ç³»åä¾æ¬¡ç¼è¯æå¯¹åºçæºç ç¨åºã\n\nè¯­æ³æ ¼å¼: make [åæ°] æä»¶\n\n\n# ææ¬ç¼è¾å¨ vi å vim\n\nææçLinuxç³»ç»é½ä¼åå»º vi ææ¬ç¼è¾å¨ãvim å·æç¨åºç¼è¾çè½åï¼æ¯ vi çå¢å¼ºçæ¬ã\n\nåºæ¬ä¸æ vi æ3ç§æ¨¡å¼ï¼\n\n * ä¸è¬å½ä»¤æ¨¡å¼\n\n * ç¼è¾æ¨¡å¼\n\n * å½ä»¤è¡æ¨¡å¼\n\n\n\n\n# ä¸è¬å½ä»¤æ¨¡å¼\n\nä¸è¬å½ä»¤æ¨¡å¼ï¼å¯ä»¥ä½¿ç¨å¿«æ·é®ï¼å¶ä»æ¨¡å¼ä¸è½ä½¿ç¨å¿«æ·é®ã\n\nä»¥ vi æ¹å¼æå¼ä¸ä¸ªæä»¶é»è®¤è¿å¥æ­£å¸¸æ¨¡å¼ãå¨æ­£å¸¸æ¨¡å¼ä¸­ï¼å¯ä»¥ä½¿ç¨ä¸ä¸å·¦å³æ¥ç§»å¨åæ ï¼å¯ä»¥å é¤å­ç¬¦æèæ´è¡æ¥å¤çææ¡£åå®¹ï¼å¯ä»¥ä½¿ç¨å¤å¶ç²è´´å¤çæä»¶æ°æ®ã\n\næ­£å¸¸æ¨¡å¼çå¿«æ·é®ï¼\n\n * dd å é¤åæ æå¨çè¡\n\n * delete å é¤åä¸ªå­ç¬¦\n\n * yy å¤å¶åæ æå¨çè¡\n\n * p ç²è´´å¤å¶çåå®¹å¨åæ æå¨çè¡çä¸ä¸è¡ã\n\n\n# ç¼è¾æ¨¡å¼\n\nå¨æ­£å¸¸æ¨¡å¼ï¼æä¸ IãiãAãaãOãoãRãrç­ç­ä¸äºå­æ¯å°±å¯ä»¥è¿å¥å°ç¼è¾æ¨¡å¼ï¼ä¸è¬é½æä¸iè¿å¥ç¼è¾æ¨¡å¼ãç¼è¾å®æä¹åæESCé®è¿åä¸è¬å½ä»¤æ¨¡å¼ã\n\n\n# å½ä»¤è¡æ¨¡å¼\n\nä¸è¬å½ä»¤æ¨¡å¼è¾å¥ : è¿å¥å½ä»¤è¡æ¨¡å¼ãå½ä»¤è¡æ¨¡å¼å¯ä»¥ä½¿ç¨å½ä»¤æ¥å®æè¯»åãä¿å­ãæ¿æ¢ãéåºãæ¾ç¤ºè¡å·ç­å¨ä½ãå¸¸ç¨çå½ä»¤æï¼\n\n * w : è¡¨ç¤ºä¿å­\n\n * wqï¼è¡¨ç¤ºä¿å­å¹¶éåº\n\n * qï¼è¡¨ç¤ºç´ æ¥éåº\n\n * q! ï¼ è¡¨ç¤ºå¼ºå¶é åº\n\n * æç´¢/æ¥æ¾ï¼ /å³é®è¯ãå¨æç´¢ç»æä¸­åæ¢ä¸/ä¸ä¸ä¸ªç»æï¼N(ä¸ä¸ä¸ª)ãnï¼ä¸ä¸ä¸ªï¼ï¼å¦æéè¦åæ¶é«äº®ï¼éè¦è¾å¥:nohl\n\n\n# yumå½ä»¤ââåºäºRPMçè½¯ä»¶åç®¡çå¨\n\nyum åºäº RPM åç®¡çï¼è½å¤ä»æå®çæå¡å¨èªå¨ä¸è½½ RPM åå¹¶ä¸å®è£ï¼å¯ä»¥èªå¨å¤çä¾èµæ§å³ç³»ï¼å¹¶ä¸ä¸æ¬¡å®è£ææä¾èµçè½¯ä»¶åï¼æ é¡»ç¹çå°ä¸æ¬¡æ¬¡ä¸è½½ãå®è£ã\n\nå¸¸ç¨å½ä»¤ï¼\n\n * ä»å®è£æå®çè½¯ä»¶å½ä»¤ï¼yum install <package_name>\n\n * ååºææå¯å®è£çè½¯ä»¶æ¸åå½ä»¤ï¼yum list\n\n * å é¤è½¯ä»¶åå½ä»¤ï¼yum remove <package_name>\n\n * æ¥æ¾è½¯ä»¶åå½ä»¤ï¼yum search',normalizedContent:'# ç³»ç»ç®¡ç\n\n\n# å³æº&&éå¯\n\n * shutdown\n\n * \n * * shutdown -h nowï¼ è¡¨ç¤ºç«å³å³æº\n * \n * * shutdown -h 1ï¼ è¡¨ç¤º1åéåå³æº\n * \n * * shutdown -r nowï¼ç«å³éå¯\n\n * haltï¼ç«å³å³æº\n\n * rebootï¼éå¯ç³»ç»\n\n\n# init å½ä»¤\n\ninit å½ä»¤åæ¢ç³»ç»è¿è¡çº§å«ã\n\nè¿è¡çº§å«è¯´æï¼\n\n 1. å³æº\n\n 2. åç¨æ·ãæ¾åä¸¢å¤±å¯ç ã\n\n 3. å¤ç¨æ·ç¶ææ²¡æç½ç»æå¡\n\n 4. å¤ç¨æ·ç¶ææç½ç»æå¡\n\n 5. ç³»ç»æªä½¿ç¨ä¿çç»ç¨æ·\n\n 6. å¾å½¢çé¢\n\n 7. ç³»ç»éå¯\n\n\n\nå¸¸ç¨è¿è¡çº§å«æ¯3å5ï¼è¦ä¿®æ¹é»è®¤çè¿è¡çº§å«å¯ä¿®æ¹æä»¶/etc/inittab çåå®¹\n\nid:5:initdefault:\n\n\nä¹å¯ä»¥ä½¿ç¨init [012356]æä»¤åæ¢å°æå®çè¿è¡çº§å«ã\n\nä½¿ç¨æ¡ä¾ï¼\n\n * ä½¿ç¨initåæ¢ä¸åè¿è¡çº§å«ï¼ç¶åå³æº\n\n * æ¾årootå¯ç \n\n\n# echo\n\n * åºæ¬è¯­æ³\n\n * \n * * echo [éé¡¹] [è¾åºåå®¹]\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾ï¼ä½¿ç¨echoæä»¤è¾åºç¯å¢åé,è¾åºå½åçç¯å¢è·¯å¾ã\n * \n * * \n * * * echo $path\n * \n * * æ¡ä¾ï¼ä½¿ç¨echoæä»¤è¾åºhello,world!\n * \n * * \n * * * echo âhello,world!â\n\n\n# æ¥çåå²å½ä»¤ââhistory\n\næ¥çå·²è½»æ§è¡è¿åå²å½ä»¤,ä¹å¯ä»¥æ§è¡åå²æä»¤\n\n * åºæ¬è¯­æ³\n\n * \n * * historyï¼åè½æè¿°ï¼æ¥çå·²ç»æ§è¡è¿åå²å½ä»¤ï¼\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾1ï¼æ¾ç¤ºææçåå²å½ä»¤\n * \n * * \n * * * history\n * \n * * æ¡ä¾2ï¼æ¾ç¤ºæè¿ä½¿ç¨è¿ç10ä¸ªæä»¤ã\n * \n * * \n * * * history 10\n * \n * * æ¡ä¾3ï¼æ§è¡åå²ç¼å·ä¸º5çæä»¤\n * \n * * \n * * * !5\n\n\n# æ¥çè¿ç¨ââps\n\nps -ef å»è¿è¡æ¥çç³»ç»ä¸çè¿è¡çææè¿ç¨ã\n\nåªæ§è¡pså½ä»¤ï¼é»è®¤æ¯æ¾ç¤ºå½åæ§å¶å°ä¸å±äºå½åç¨æ·çè¿ç¨ï¼\n\n * -e æ¾ç¤ºè¿è¡å¨ç³»ç»ä¸çææè¿ç¨\n\n * -f æ©å±æ¾ç¤ºè¾åº\n\n\n# service å½ä»¤ââæ§å¶ç³»ç»æå¡\n\nserviceå½ä»¤å¯ä»¥å¯å¨ãåæ­¢ãéæ°å¯å¨åå³é­ç³»ç»æå¡ï¼è¿å¯ä»¥æ¾ç¤ºææç³»ç»æå¡çå½åç¶æã\n\n * æ¾ç¤ºæææå¡çç¶æï¼service --status-all\n\n * éå¯ç½ç»æå¡ï¼service network restart\n\n\n# systemctl å½ä»¤ â ç®¡çç³»ç»æå¡\n\nsystemctl æ¯ç¨äºç®¡çç³»ç»æå¡ãä»åè½ä¸æ¶µçäºä¹åserviceãchkconfigãinitãsetupç­å¤æ¡å½ä»¤çå¤§é¨ååè½ã\n\nè¯­æ³æ ¼å¼ï¼systemctl åæ° æå¡\n\nå¸¸ç¨åæ°ï¼\n\nstart                        å¯å¨æå¡\nstop                         åæ­¢æå¡\nrestart                      éå¯æå¡\nenable                       ä½¿ææå¡å¼æºèªå¯\ndisable                      å³é­ææå¡å¼æºèªå¯\nstatus                       æ¥çæå¡ç¶æ\nlist -units --type=service   åä¸¾ææå·²å¯å¨æå¡\n\n\n# ç«¯å£å¤ç\n\nfirewall-cmd --list-ports #æ¥çææå·²å¼æ¾çä¸´æ¶ç«¯å£ï¼é»è®¤ä¸ºç©ºï¼ firewall-cmd --add-port=3306/tcp --permanent æ·»å æ°¸ä¹å¼æ¾çç«¯å£ï¼ä¾å¦ï¼3306ç«¯å£ï¼\n\néç½®ç»æåéè¦è¾å¥éè½½å½ä»¤å¹¶éå¯é²ç«å¢ä»¥çæéç½®ï¼\n\nfirewall-cmd --reload  \n\nsystemctl restart firewalld\n\n\n\n# ç£çç®¡ç\n\n\n# sync\n\n * syncï¼å°åå­çæ°æ®åæ­¥å°ç£ç\n\n\n# ç¨æ·ç®¡ç\n\nlinux ç³»ç»æ¯ä¸ä¸ªå¤ç¨æ·å¤ä»»å¡çåæ¶æä½ç³»ç»ï¼ä»»ä½ä¸ä¸ªè¦ä½¿ç¨ç³»ç»èµæºçç¨æ·ï¼é½å¿é¡»é¦ååç³»ç»ç®¡çåç³è¯·ä¸ä¸ªè´¦å·ï¼ç¶åä»¥è¿ä¸ªè´¦å·çèº«ä»½è¿å¥ç³»ç»ã\n\nlinuxç¨æ·è³å°å±äºä¸ä¸ªç¨æ·ç»ã\n\nloginï¼ç¨æ·ç»å¥ç³»ç»\n\nlogoutï¼ç¨æ·éåºç³»ç»\n\nsuï¼åæ¢ç¨æ·\n\n\n# æ·»å ç¨æ·\n\nuseradd [éé¡¹] ç¨æ·å\n\n\nå½åå»ºç¨æ·æååï¼ä¼èªå¨åå»ºåç¨æ·ååçå®¶ç®å½ãä¹å¯ä»¥éè¿ï¼useradd -d æå®ç®å½ æ°çç¨æ·åç»æ°åå»ºçç¨æ·æå®å®¶ç®å½ã\n\n\n# æå®/ä¿®æ¹å¯ç \n\npasswd ç¨æ·å\n\n\n\n# å é¤ç¨æ·\n\nuserdel ç¨æ·å\n\n\n * å é¤ç¨æ·ï¼ä¿çå®¶ç®å½\n\n * \n * * \n\nuserdel ç¨æ·å\n\n\n * å é¤ç¨æ·ï¼åæ¶å é¤å®¶ç®å½\n\n * \n * * \n\nuserdel -r ç¨æ·å\n\n\n\n# æ¥è¯¢ç¨æ·ä¿¡æ¯\n\nid ç¨æ·å\n\n\n\n# åæ¢ç¨æ·\n\nsu - ç¨æ·å\n\n\n 1. æéé«çç¨æ·åæ¢å°æéä½çç¨æ·ï¼ä¸éè¦è¾å¥å¯ç ï¼åä¹éè¦ã\n\n 2. å½éè¦è¿åå°åæ¥çç¨æ·æ¶ï¼ä½¿ç¨exitå½ä»¤ã\n\n\n# æ¥çå½åç¨æ·/ç»å½ç¨æ·\n\nwhoami/who am l\n\n\n\n# ç¨æ·ç»\n\næ¯ä¸ªç¨æ·é½æä¸ä¸ªç¨æ·ç»ï¼ç³»ç»å¯ä»¥å¯¹ä¸ä¸ªç¨æ·ç»ä¸­çææç¨æ·è¿è¡éä¸­ç®¡çãä¸å linux ç³»ç»å¯¹ç¨æ·ç»çè§å®ææä¸åï¼å¦ linux ä¸çç¨æ·å±äºä¸å®ååçç¨æ·ç»ï¼è¿ä¸ªç¨æ·ç»å¨åå»ºç¨æ·æ¶åæ¶åå»ºã\n\n * å¢å ç»ï¼groupadd ç»å\n\n * å¢å ç¨æ·æ¶å ä¸ç»ï¼useradd -g ç¨æ·ç» ç¨æ·å\n\n * å é¤ç»ï¼groupdel ç»å\n\n * ä¿®æ¹ç¨æ·ç»ï¼usermod -g ç¨æ·ç» ç¨æ·å\n\n\n# ç¨æ·åç»ç¸å³æä»¶\n\n * /ect/passwdæä»¶ï¼ç¨æ·éç½®æä»¶ï¼è®°å½ç¨æ·åç§ä¿¡æ¯\n\n * /ect/shadowæä»¶ï¼å£å½éç½®æä»¶\n\n * /ect/groupæä»¶ï¼ç»çéç½®æä»¶ï¼è®°å½linuxåå«çç»çä¿¡æ¯ã\n\n\n# ç®å½ç®¡ç\n\n\n# ç®å½åæ¢å½ä»¤\n\ncdï¼change directoryï¼\n\nåºæ¬è¯­æ³\n\n * cd[åæ°] ï¼åè½æè¿°ãåæ¢å°æå®ç®å½ï¼\n\nå¸¸ç¨åæ°ï¼\n\n * ç»å¯¹è·¯å¾åç¸å¯¹è·¯å¾\n\n * cd ~æècd ï¼åå°èªå·±çå®¶ç®å½\n\n * cd .. ï¼åå°å½åç®å½çä¸ä¸çº§ç®å½\n\n * cd -ï¼ åæ¢å°ä¸ä¸ä¸ªæä½æå¨ç®å½\n\n\n# pwd\n\npwdï¼print working directoryï¼æ¾ç¤ºå½åå·¥ä½ç®å½çç»å¯¹è·¯å¾ã\n\n\n# æ¥çç®å½ââls\n\nls [éé¡¹] [ç®å½ææ¯æä»¶]\n\n\nå¸¸ç¨éé¡¹ï¼\n\n * -aï¼æ¾ç¤ºå½åç®å½ææçæä»¶åç®å½ï¼åæ¬éèçã\n\n * -lï¼ä»¥åè¡¨çæ¹å¼æ¾ç¤ºä¿¡æ¯\n\n\n# åå»ºç®å½ââmkdir\n\nåºæ¬è¯­æ³\n\nmkdir [éé¡¹] è¦åå»ºçç®å½\n\n\nå¸¸ç¨éé¡¹\n\n-pï¼åå»ºå¤çº§ç®å½\n\n\nåºç¨å®ä¾\n\næ¡ä¾1ï¼åå»ºä¸ä¸ªç®å½/home/dog\n    mkdir /home/dog\næ¡ä¾2ï¼åå»ºå¤çº§ç®å½/home/animal/tiger\n    mkdir -p /home/animal/tiger\n\n\n\n# å é¤ç©ºç®å½âârmdir\n\nrmdiræä»¤å é¤ç©ºç®å½\n\n * åºæ¬è¯­æ³\n\n * \n * * rmdir [éé¡¹] è¦åé¤çç©ºç®å½\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾1ï¼å é¤ä¸ä¸ªç®å½/home/dogä½¿ç¨ç»è\n\n * rmdirå é¤çæ¯ç©ºç®å½ï¼å¦æç®å½ä¸æåå®¹æ¶æ æ³å é¤çã\n\n\n# æ¥æ¾ç®å½ââfind\n\nfindæä»¤å°ä»æå®ç®å½åä¸éå½å°éåå¶åä¸ªå­ç®å½ï¼å°æ»¡è¶³æ¡ä»¶çæä»¶æèç®å½æ¾ç¤ºå¨ç»ç«¯ã\n\n * åºæ¬è¯­æ³\n\n * \n * * find [æç´¢èå´] [éé¡¹]\n\n * éé¡¹è¯´æ\n\n * \n * * \n\néé¡¹                                åè½\n-name <æ¥è¯¢æ¹å¼>                      æç§æå®çæä»¶åæ¥æ¾æ¨¡å¼æ¥æ¾æä»¶\n-user <ç¨æ·å>                       æ¥æ¾å±äºæå®ç¨æ·åæææä»¶\n-size <æä»¶å¤§å°>ï¼+nå¤§äº-nå°äºnç­äºï¼nä¸ºæ°ç®ï¼ï¼   æç§æå®çæä»¶å¤§å°æ¥æ¾æä»¶\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾1ï¼ææä»¶åï¼æ ¹æ®åç§°æ¥æ¾/homeç®å½ä¸çhello.txtæä»¶\n * \n * * \n * * * find /home -name hello.txt\n * \n * * æ¡ä¾2ï¼ææ¥æèï¼æ¥æ¾/optç®å½ä¸ï¼ç¨æ·åç§°ä¸ºnobodyçæä»¶\n * \n * * \n * * * find /opt -user nobody\n * \n * * æ¡ä¾3ï¼æ¥æ¾æ´ä¸ªlinuxç³»ç»ä¸å¤§äºãç­äºãå°äº20mçæä»¶\n * \n * * \n * * * find / -size +20m\n * \n * * \n * * * find / -size 20m\n * \n * * \n * * * find / -size -20m\n * \n * * æ¡ä¾4ï¼ææä»¶åï¼æ ¹æ®åç§°æ¥æ¾/ç®å½ä¸çä»¥txtç»å°¾çæä»¶\n * \n * * \n * * * find / -name *.txt\n\n\n# æä»¶ç®¡ç\n\n\n# åå»ºç©ºæä»¶ââtouch\n\ntouchæä»¤åå»ºç©ºæä»¶\n\n * åºæ¬è¯­æ³\n\n * \n * * touch æä»¶åç§°sï¼å¯åå»ºå¤ä¸ªç©ºæä»¶ï¼\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾1ï¼åå»ºä¸ä¸ªç©ºæä»¶hello.txt\n * \n * * \n * * * touch hello.txt\n\n\n# æä»¶æ·è´ââcp\n\ncpæä»¤æ·è´æä»¶å°æå®ç®å½ãæ³¨æï¼cp å½ä»¤ä¸ä»å¯ä»¥æ·è´æä»¶è¿å¯ä»¥æ·è´ç®å½ï¼åç¼©åç­ï¼æ·è´æä»¶ååç¼©åæ¶ä¸ ç¨å-r éå½ã\n\n * åºæ¬è¯­æ³\n\n * \n * * cp [éé¡¹] (source) (dest)\n\n * å¸¸ç¨éé¡¹\n\n * \n * * -rï¼éå½å¤å¶æ´ä¸ªæä»¶å¤¹\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾1ï¼å°/home/aaa.txtæ·è´å°/home/bbbç®å½ä¸ï¼å½åå·¥ä½ç®å½ä¸º/homeï¼\n * \n * * \n * * * cp aaa.txt /home/bbb\n * \n * * æ¡ä¾2ï¼éå½å¤å¶æ´ä¸ªæä»¶å¤¹ï¼ä¸¾ä¾\n * \n * * \n * * * cp -r src/ target/\n * \n * * \n * * * æ³¨æä¸å®è¦æ³¨æ ä½ å½åçå·¥ä½ç®å½ä½ç½®ï¼ç¶ååç¡®å°å®ä½æºç®å½åç®æ ç®å½ã\n\n\n# å é¤æä»¶âârm\n\nrmæä»¤ç§»é¤æä»¶æç®å½\n\n * åºæ¬è¯­æ³\n\n * \n * * rm [éé¡¹] (è¦å é¤çæä»¶æç®å½)\n\n * å¸¸ç¨éé¡¹\n\n * \n * * -rï¼éå½å é¤æ´ä¸ªæä»¶å¤¹\n * \n * * -fï¼å¼ºå¶åé¤ä¸æç¤º\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾1ï¼å°/home/aaa.txtå é¤ï¼å½åå·¥ä½ç®å½ä¸º/homeï¼\n * \n * * \n * * * rm aaa.txt\n * \n * * æ¡ä¾2ï¼éå½å é¤æ´ä¸ªæä»¶å¤¹/home/bbbï¼å½åå·¥ä½ç®å½ä¸º/homeï¼\n * \n * * \n * * * rm -rf bbb/\n\n\n# æä»¶éå½åææä»¶ç§»å¨ââmv\n\n * åºæ¬è¯­æ³\n\n * \n * * mv (oldnamefile) (newnamefile)ï¼(åè½æè¿°:éå½å)\n * \n * * mv (/temp/movefile) (/targetfolder)ï¼(åè½æè¿°:ç§»å¨æä»¶)\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾1ï¼å°/home/aaa.txtæä»¶éæ°å½åä¸ºpig.txtï¼å½åå·¥ä½ç®å½ä¸º/homeï¼\n * \n * * \n * * * mv aaa.txt pig.txt\n * \n * * æ¡ä¾2ï¼å°/home/pig.txtæä»¶ç§»å¨å°rootç®å½ä¸ï¼å½åå·¥ä½ç®å½ä¸º/homeï¼\n * \n * * \n * * * mv pig.txt /root\n\n\n# æä»¶æ¥çââcat/more/less/head/tail\n\n\n# cat\n\ncatæ¥çæä»¶åå®¹ï¼æ¯ä»¥åªè¯»çæ¹å¼\n\n * åºæ¬è¯­æ³\n\n * \n * * cat [éé¡¹] è¦æ¥ççæä»¶\n\n * å¸¸ç¨éé¡¹\n\n * \n * * -nï¼æ¾ç¤ºè¡å·\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾1: /ect/profileæä»¶åå®¹ï¼å¹¶æ¾ç¤ºè¡å·\n * \n * * \n * * * cat -n /ect/profile\n\n\n# more\n\nmoreæä»¤æ¯ä¸ä¸ªåºäºviç¼è¾å¨çææ¬è¿æ»¤å¨ï¼å®ä»¥å¨å±å¹çæ¹å¼æé¡µæ¾ç¤ºææ¬æä»¶çåå®¹ã\n\nmoreæä»¤ä¸­åç½®äºè¥å¹²å¿«æ·é®ï¼è¯¦è§æä½è¯´æï¼\n\næä½       åè½è¯´æ\nç©ºç½é®      åä¸ç¿»ä¸é¡µ\nenter    åä¸ç¿»ä¸è¡\nq        ç¦»å¼more\nctrl+f   åä¸æ»å¨ä¸å±\nctrl+b   è¿åä¸ä¸å±\n=        è¾åºå½åè¡å·\n:f       è¾åºæä»¶ååå½åçè¡å·\n\n * åºæ¬è¯­æ³\n\n * \n * * more è¦æ¥ççæä»¶æä½è¯´æ\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾ï¼éç¨moreæ¥çæä»¶/etc/profile\n * \n * * \n * * * more /etc/profile\n\n\n# less\n\nlessæä»¤ç¨æ¥åå±æ¥çæä»¶åå®¹ï¼å®çåè½ä¸moreæä»¤ç±»ä¼¼ï¼ä½æ¯æ¯moreæä»¤æ´å å¼ºå¤§ï¼æ¯æåç§æ¾ç¤ºç»ç«¯ãlessæä»¤å¨æ¾ç¤ºæä»¶åå®¹æ¶ï¼å¹¶ä¸æ¯ä¸æ¬¡å°æ´ä¸ªæä»¶å è½½ä¹åææ¾ç¤ºï¼èæ¯æ ¹æ®æ¾ç¤ºéè¦å è½½åå®¹ï¼å¯¹äºæ¾ç¤ºå¤§åæä»¶å·æè¾é«çæçã\n\n * åºæ¬è¯­æ³\n\n * \n * * less è¦æ¥ççæä»¶\n\n * æä½è¯´æ\n\n * \n * * \n\næä½           åè½è¯´æ\nç©ºç½é®          åä¸ç¿»å¨ä¸é¡µ\n[pagedown]   åä¸ç¿»å¨ä¸é¡µ\n[pageup]     åä¸ç¿»å¨ä¸é¡µ\n/å­ä¸²          åä¸æå¯»âå­ä¸²âçåè½ï¼nï¼åä¸æ¥æï¼nï¼åä¸æ¥æ¾ï¼\n?å­ä¸²          åä¸æå¯»âå­ä¸²âçåè½ï¼nï¼åä¸æ¥æï¼nï¼åä¸æ¥æ¾ï¼\nq            ç¦»å¼lessè¿ä¸ªç¨åº\n\n\n# head\n\nheadç¨äºæ¾ç¤ºæä»¶çå¼å¤´é¨ååå®¹ï¼é»è®¤æåµä¸headæä»¤æ¾ç¤ºæä»¶çå10è¡åå®¹\n\n * åºæ¬è¯­æ³\n\n * \n * * head æä»¶è·¯å¾ï¼åè½æè¿°ï¼æ¥çæä»¶å¤´10è¡åå®¹ï¼\n * \n * * head -n 5 æä»¶è·¯å¾ï¼åè½æè¿°ï¼æ¥çæä»¶å¤´5è¡åå®¹ï¼5å¯ä»¥æ¯ä»»æè¡æ°ï¼\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾ï¼æ¥ç/etc/profileçåé¢5è¡ä»£ç \n * \n * * \n * * * head -n 5 /etc/profile\n\n\n# tail\n\ntailç¨äºè¾åºæä»¶ä¸­å°¾é¨çåå®¹ï¼é»è®¤æåµä¸tailæä»¤æ¾ç¤ºæä»¶çå10è¡åå®¹ã\n\n * åºæ¬è¯­æ³\n\n * \n * * tail æä»¶è·¯å¾ï¼åè½æè¿°:æ¥çæä»¶å10è¡åå®¹ï¼\n * \n * * tail -n 5 æä»¶è·¯å¾ï¼åè½æè¿°:æ¥çæä»¶å5è¡åå®¹ï¼5å¯ä»¥æ¯ä»»æè¡æ°ï¼\n * \n * * tail -f æä»¶è·¯å¾ï¼åè½æè¿°ï¼å®æ¶è¿½è¸ªè¯¥ææ¡£çæææ´æ°ï¼\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾1ï¼æ¥ç/etc/profileæå5è¡çä»£ç \n * \n * * \n * * * tail -n 5 /etc/profile\n * \n * * æ¡ä¾2ï¼å®æ¶çæ§mydate.txtï¼ççå°æä»¶æååæ¶ï¼æ¯å¦çå°ï¼å®æ¶çè¿½å æ¥æ\n * \n * * \n * * * tail -f mydate.txt\n * \n * * æ¡ä¾3ï¼å®æ¶çæ§tomcat çæ¥å¿æä»¶\n * \n * * \n * * * tail -f catalina-2016-11-11.log\n\n\n# æç´¢å½ä»¤ââgrep\n\ngrepè¿æ»¤æ¥æ¾\n\n * åºæ¬è¯­æ³\n\n * \n * * grep [éé¡¹] æ¥æ¾åå®¹ æºæä»¶\n\n * å¸¸ç¨éé¡¹\n\n * \n * * \n\néé¡¹   åè½\n-n   æ¾ç¤ºå¹éè¡åè¡å·ã\n-i   å¿½ç¥å­æ¯å¤§å°å\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾1ï¼è¯·å¨hello.txtæä»¶ä¸­ï¼æ¥æ¾"yesâæå¨è¡ï¼å¹¶ä¸æ¾ç¤ºè¡å·ã--color ä»£è¡¨é«äº®æ¾ç¤º\n * \n * * grep -n yes hello.txt --colorr\n\n\n# ç¬¦å·é¾æ¥ââin\n\nè½¯é¾æ¥ä¹å«ç¬¦å·é¾æ¥ï¼ç±»ä¼¼äºwindowséçå¿«æ·æ¹å¼ï¼ä¸»è¦å­æ¾äºé¾æ¥å¶ä»æä»¶çè·¯å¾ã\n\n * åºæ¬è¯­æ³\n\n * \n * * ln -s [åæä»¶æç®å½] [è½¯é¾æ¥å] ï¼åè½æè¿°ï¼ç»åæä»¶åå»ºä¸ä¸ªè½¯é¾æ¥ï¼ï¼å¦æè½¯é¾æ¥åæ¶ç®å½è·¯å¾ï¼cd è½¯é¾æ¥å å°±è½è·³å°ç®å½ï¼\n\n * åºç¨å®ä¾\n\n * \n * * æ¡ä¾1ï¼å¨/homeç®å½ä¸åå»ºä¸ä¸ªè½¯è¿æ¥linktorootï¼è¿æ¥å°/rootç®å½\n * \n * * \n * * * ln -s /root linktoroot\n\n\n# åç¼©/è§£åç¼©æä»¶\n\ntaræä»¤æ¯æåæä»¤ï¼æåæååçæä»¶æ¯.tar.gzçæä»¶ã\n\n * åºæ¬è¯­æ³\n\n * \n * * tar [éé¡¹] xxx.tar.gz æåçåå®¹ï¼åè½æè¿°ï¼æåç®å½ï¼åç¼©åçæä»¶æ ¼å¼.tar.gzï¼ã\n\n * éé¡¹è¯´æ\n\n * \n * * \n\néé¡¹   åè½\n-c   äº§ç.taræåæä»¶\n-v   æ¾ç¤ºè¯¦ç»ä¿¡æ¯\n-f   æå®åç¼©åçæä»¶å\n-z   éè¿gzipæ¯æåç¼©æè§£åç¼©\n-x   è§£å.taræä»¶\n\n * åºç¨å®ä¾\n\n * \n * * æåå¹¶åç¼©æä»¶\n * \n * * \n * * * å½ä»¤ï¼tar -zcvf æååç¼©åçæä»¶å è¦æååç¼©çæä»¶\n * \n * * \n * * * åå¦ test ç®å½ä¸æä¸ä¸ªæä»¶åå«æ¯ï¼aaa.txt bbb.txt ccc.txtï¼å¦ææä»¬è¦æå test ç®å½å¹¶æå®åç¼©åçåç¼©ååç§°ä¸º test.tar.gz å¯ä»¥ä½¿ç¨å½ä»¤ï¼**tar -zcvf test.tar.gz aaa.txt bbb.txt ccc.txt** æ **tar -zcvf test.tar.gz /test/**\n * \n * * è§£ååç¼©å\n * \n * * \n * * * å½ä»¤ï¼tar [-xvf] åç¼©æä»¶\n * \n * * \n * * * å° /test ä¸ç test.tar.gz è§£åå°å½åç®å½ä¸å¯ä»¥ä½¿ç¨å½ä»¤ï¼**tar -xvf test.tar.gz**\n * \n * * \n * * * å° /test ä¸ç test.tar.gz è§£åå°æ ¹ç®å½/usr ä¸:**tar -xvf test.tar.gz -c /usr**ï¼- c ä»£è¡¨æå®è§£åçä½ç½®ï¼\n\n\n# wgetå½ä»¤ââä¸è½½ç½ç»æä»¶\n\nwget æ¯ç¨äºä»æå®ç½åä¸è½½ç½ç»æä»¶ãwget å½ä»¤éå¸¸ç¨³å®ï¼ä¸è¬å³ä¾¿ç½ç»æ³¢å¨ä¹ä¸ä¼å¯¼è´ä¸è½½å¤±è´¥ï¼èæ¯ä¸æ­çå°è¯éè¿ï¼ç´è³æ´ä¸ªæä»¶ä¸è½½å®æ¯ãéä½¿ç¨ yum -y install wget å®è£\n\nè¯­æ³æ ¼å¼ï¼ wget [åæ°] ç½å\n\nå¸¸ç¨åæ°ï¼\n\n-v                  æ¾ç¤ºçæ¬ä¿¡æ¯\n-h                  æ¾ç¤ºå¸®å©ä¿¡æ¯\n-b                  å¯å¨åè½¬å¥åå°æ§è¡\n-c                  æ¯ææ­ç¹ç»­ä¼ \n-o                  å®ä¹æ¬å°æä»¶å\n-e <å½ä»¤>             æ§è¡æå®çå½ä»¤\n--limit-rate=<éç>   éå¶ä¸è½½éåº¦\n\n\n# make å½ä»¤ââç¼è¯åæ ¸ææºç æä»¶\n\nmake å½ä»¤çåè½æ¯ç¨äºç¼è¯åæ ¸ææºç æä»¶ãmakeæ¯gnuå·¥ç¨åç¼è¯å·¥å·ï¼ç¨äºç¼è¯ä¼å¤ç¸äºå³èçæºä»£ç æä»¶ï¼ä¹å¯ä»¥ç¼è¯åæ ¸ææ¨¡ååè½ï¼ä»¥å·¥ç¨åçå·¥ä½æ¹å¼ï¼æé«å¼åæçã\n\nåæ¬¡è¿è¡ make å½ä»¤æ¶ï¼å®ä¼éè¿æ«æmakefileæä»¶æ¾å°ç®æ åå¶ä¾èµå³ç³»ï¼å¹¶å¨å»ºç«ä¾èµå³ç³»åä¾æ¬¡ç¼è¯æå¯¹åºçæºç ç¨åºã\n\nè¯­æ³æ ¼å¼: make [åæ°] æä»¶\n\n\n# ææ¬ç¼è¾å¨ vi å vim\n\nææçlinuxç³»ç»é½ä¼åå»º vi ææ¬ç¼è¾å¨ãvim å·æç¨åºç¼è¾çè½åï¼æ¯ vi çå¢å¼ºçæ¬ã\n\nåºæ¬ä¸æ vi æ3ç§æ¨¡å¼ï¼\n\n * ä¸è¬å½ä»¤æ¨¡å¼\n\n * ç¼è¾æ¨¡å¼\n\n * å½ä»¤è¡æ¨¡å¼\n\n\n\n\n# ä¸è¬å½ä»¤æ¨¡å¼\n\nä¸è¬å½ä»¤æ¨¡å¼ï¼å¯ä»¥ä½¿ç¨å¿«æ·é®ï¼å¶ä»æ¨¡å¼ä¸è½ä½¿ç¨å¿«æ·é®ã\n\nä»¥ vi æ¹å¼æå¼ä¸ä¸ªæä»¶é»è®¤è¿å¥æ­£å¸¸æ¨¡å¼ãå¨æ­£å¸¸æ¨¡å¼ä¸­ï¼å¯ä»¥ä½¿ç¨ä¸ä¸å·¦å³æ¥ç§»å¨åæ ï¼å¯ä»¥å é¤å­ç¬¦æèæ´è¡æ¥å¤çææ¡£åå®¹ï¼å¯ä»¥ä½¿ç¨å¤å¶ç²è´´å¤çæä»¶æ°æ®ã\n\næ­£å¸¸æ¨¡å¼çå¿«æ·é®ï¼\n\n * dd å é¤åæ æå¨çè¡\n\n * delete å é¤åä¸ªå­ç¬¦\n\n * yy å¤å¶åæ æå¨çè¡\n\n * p ç²è´´å¤å¶çåå®¹å¨åæ æå¨çè¡çä¸ä¸è¡ã\n\n\n# ç¼è¾æ¨¡å¼\n\nå¨æ­£å¸¸æ¨¡å¼ï¼æä¸ iãiãaãaãoãoãrãrç­ç­ä¸äºå­æ¯å°±å¯ä»¥è¿å¥å°ç¼è¾æ¨¡å¼ï¼ä¸è¬é½æä¸iè¿å¥ç¼è¾æ¨¡å¼ãç¼è¾å®æä¹åæescé®è¿åä¸è¬å½ä»¤æ¨¡å¼ã\n\n\n# å½ä»¤è¡æ¨¡å¼\n\nä¸è¬å½ä»¤æ¨¡å¼è¾å¥ : è¿å¥å½ä»¤è¡æ¨¡å¼ãå½ä»¤è¡æ¨¡å¼å¯ä»¥ä½¿ç¨å½ä»¤æ¥å®æè¯»åãä¿å­ãæ¿æ¢ãéåºãæ¾ç¤ºè¡å·ç­å¨ä½ãå¸¸ç¨çå½ä»¤æï¼\n\n * w : è¡¨ç¤ºä¿å­\n\n * wqï¼è¡¨ç¤ºä¿å­å¹¶éåº\n\n * qï¼è¡¨ç¤ºç´ æ¥éåº\n\n * q! ï¼ è¡¨ç¤ºå¼ºå¶é åº\n\n * æç´¢/æ¥æ¾ï¼ /å³é®è¯ãå¨æç´¢ç»æä¸­åæ¢ä¸/ä¸ä¸ä¸ªç»æï¼n(ä¸ä¸ä¸ª)ãnï¼ä¸ä¸ä¸ªï¼ï¼å¦æéè¦åæ¶é«äº®ï¼éè¦è¾å¥:nohl\n\n\n# yumå½ä»¤ââåºäºrpmçè½¯ä»¶åç®¡çå¨\n\nyum åºäº rpm åç®¡çï¼è½å¤ä»æå®çæå¡å¨èªå¨ä¸è½½ rpm åå¹¶ä¸å®è£ï¼å¯ä»¥èªå¨å¤çä¾èµæ§å³ç³»ï¼å¹¶ä¸ä¸æ¬¡å®è£ææä¾èµçè½¯ä»¶åï¼æ é¡»ç¹çå°ä¸æ¬¡æ¬¡ä¸è½½ãå®è£ã\n\nå¸¸ç¨å½ä»¤ï¼\n\n * ä»å®è£æå®çè½¯ä»¶å½ä»¤ï¼yum install <package_name>\n\n * ååºææå¯å®è£çè½¯ä»¶æ¸åå½ä»¤ï¼yum list\n\n * å é¤è½¯ä»¶åå½ä»¤ï¼yum remove <package_name>\n\n * æ¥æ¾è½¯ä»¶åå½ä»¤ï¼yum search',charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"å¾",frontmatter:{title:"å¾",date:"2023-10-24T03:03:59.000Z",permalink:"/pages/8751ef/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/01.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/03.%E5%9B%BE.html",relativePath:"01.Java ç¥è¯ä½ç³»/01.è®¡ç®æºåºç¡/01.æ°æ®ç»æ/03.å¾.md",key:"v-243cc8aa",path:"/pages/8751ef/",headers:[{level:3,title:"åºæ¬æ¦å¿µ",slug:"åºæ¬æ¦å¿µ",normalizedTitle:"åºæ¬æ¦å¿µ",charIndex:146},{level:4,title:"é¡¶ç¹",slug:"é¡¶ç¹",normalizedTitle:"é¡¶ç¹",charIndex:9},{level:4,title:"è¾¹",slug:"è¾¹",normalizedTitle:"è¾¹",charIndex:24},{level:4,title:"åº¦",slug:"åº¦",normalizedTitle:"åº¦",charIndex:270},{level:4,title:"æ åå¾åæåå¾",slug:"æ åå¾åæåå¾",normalizedTitle:"æ åå¾åæåå¾",charIndex:362},{level:4,title:"æ æå¾åå¸¦æå¾",slug:"æ æå¾åå¸¦æå¾",normalizedTitle:"æ æå¾åå¸¦æå¾",charIndex:561},{level:3,title:"å¾çå­å¨",slug:"å¾çå­å¨",normalizedTitle:"å¾çå­å¨",charIndex:728},{level:4,title:"é»æ¥ç©éµå­å¨",slug:"é»æ¥ç©éµå­å¨",normalizedTitle:"é»æ¥ç©éµå­å¨",charIndex:736},{level:4,title:"é»æ¥è¡¨å­å¨",slug:"é»æ¥è¡¨å­å¨",normalizedTitle:"é»æ¥è¡¨å­å¨",charIndex:1056},{level:3,title:"å¾çæç´¢",slug:"å¾çæç´¢",normalizedTitle:"å¾çæç´¢",charIndex:1346},{level:4,title:"å¹¿åº¦ä¼åæç´¢",slug:"å¹¿åº¦ä¼åæç´¢",normalizedTitle:"å¹¿åº¦ä¼åæç´¢",charIndex:1354},{level:4,title:"æ·±åº¦ä¼åæç´¢",slug:"æ·±åº¦ä¼åæç´¢",normalizedTitle:"æ·±åº¦ä¼åæç´¢",charIndex:1491}],headersStr:"åºæ¬æ¦å¿µ é¡¶ç¹ è¾¹ åº¦ æ åå¾åæåå¾ æ æå¾åå¸¦æå¾ å¾çå­å¨ é»æ¥ç©éµå­å¨ é»æ¥è¡¨å­å¨ å¾çæç´¢ å¹¿åº¦ä¼åæç´¢ æ·±åº¦ä¼åæç´¢",content:"ç®åæ¥è¯´ï¼å¾å°±æ¯ç±é¡¶ç¹çæç©·éç©ºéååé¡¶ç¹ä¹é´çè¾¹ç»æçéåãéå¸¸è¡¨ç¤ºä¸ºï¼G(V,E)ï¼å¶ä¸­ï¼Gè¡¨ç¤ºä¸ä¸ªå¾ï¼Vè¡¨ç¤ºé¡¶ç¹çéåï¼Eè¡¨ç¤ºè¾¹çéåã\n\nä¸å¾æå±ç¤ºçå°±æ¯å¾è¿ç§æ°æ®ç»æï¼å¹¶ä¸è¿æ¯ä¸å¼ æåå¾ã\n\n\n\nå¾å¨æä»¬æ¥å¸¸çæ´»ä¸­çä¾å­å¾å¤ï¼æ¯å¦æä»¬å¨ç¤¾äº¤è½¯ä»¶ä¸å¥½åå³ç³»å°±å¯ä»¥ç¨å¾æ¥è¡¨ç¤ºã\n\n\n# åºæ¬æ¦å¿µ\n\n# é¡¶ç¹\n\nå¾ä¸­çæ°æ®åç´ ï¼æä»¬ç§°ä¹ä¸ºé¡¶ç¹ï¼å¾è³å°æä¸ä¸ªé¡¶ç¹ï¼éç©ºæç©·éåï¼\n\nå¯¹åºå°å¥½åå³ç³»å¾ï¼æ¯ä¸ä¸ªç¨æ·å°±ä»£è¡¨ä¸ä¸ªé¡¶ç¹ã\n\n# è¾¹\n\né¡¶ç¹ä¹é´çå³ç³»ç¨è¾¹è¡¨ç¤ºã\n\nå¯¹åºå°å¥½åå³ç³»å¾ï¼ä¸¤ä¸ªç¨æ·æ¯å¥½åçè¯ï¼é£ä¸¤èä¹é´å°±å­å¨ä¸æ¡è¾¹ã\n\n# åº¦\n\nåº¦è¡¨ç¤ºä¸ä¸ªé¡¶ç¹åå«å¤å°æ¡è¾¹ï¼å¨æåå¾ä¸­ï¼è¿åä¸ºåºåº¦åå¥åº¦ï¼åºåº¦è¡¨ç¤ºä»è¯¥é¡¶ç¹åºå»çè¾¹çæ¡æ°ï¼å¥åº¦è¡¨ç¤ºè¿å¥è¯¥é¡¶ç¹çè¾¹çæ¡æ°ã\n\nå¯¹åºå°å¥½åå³ç³»å¾ï¼åº¦å°±ä»£è¡¨äºæä¸ªäººçå¥½åæ°éã\n\n# æ åå¾åæåå¾\n\nè¾¹è¡¨ç¤ºçæ¯é¡¶ç¹ä¹é´çå³ç³»ï¼æçå³ç³»æ¯ååçï¼æ¯å¦åå­¦å³ç³»ï¼Aæ¯Bçåå­¦ï¼é£ä¹Bä¹è¯å®æ¯Açåå­¦ï¼é£ä¹å¨è¡¨ç¤ºAåBçå³ç³»æ¶ï¼å°±ä¸ç¨å³æ³¨æ¹åï¼ç¨ä¸å¸¦ç®­å¤´çè¾¹è¡¨ç¤ºï¼è¿æ ·çå¾å°±æ¯æ åå¾ã\n\næçå³ç³»æ¯ææ¹åçï¼æ¯å¦ç¶å­å³ç³»ï¼å¸çå³ç³»ï¼å¾®åçå³æ³¨å³ç³»ï¼Aæ¯Bçç¸ç¸ï¼ä½Bè¯å®ä¸æ¯Açç¸ç¸ï¼Aå³æ³¨Bï¼Bä¸ä¸å®å³æ³¨Aãå¨è¿ç§æåµä¸ï¼æä»¬å°±ç¨å¸¦ç®­å¤´çè¾¹è¡¨ç¤ºäºèçå³ç³»ï¼è¿æ ·çå¾å°±æ¯æåå¾ã\n\n# æ æå¾åå¸¦æå¾\n\nå¯¹äºä¸ä¸ªå³ç³»ï¼å¦ææä»¬åªå³å¿å³ç³»çææ ï¼èä¸å³å¿å³ç³»æå¤å¼ºï¼é£ä¹å°±å¯ä»¥ç¨æ æå¾è¡¨ç¤ºäºèçå³ç³»ã\n\nå¯¹äºä¸ä¸ªå³ç³»ï¼å¦ææä»¬æ¢å³å¿å³ç³»çææ ï¼ä¹å³å¿å³ç³»çå¼ºåº¦ï¼æ¯å¦æè¿°å°å¾ä¸ä¸¤ä¸ªåå¸çå³ç³»ï¼éè¦ç¨å°è·ç¦»ï¼é£ä¹å°±ç¨å¸¦æå¾æ¥è¡¨ç¤ºï¼å¸¦æå¾ä¸­çæ¯ä¸æ¡è¾¹ä¸ä¸ªæ°å¼è¡¨ç¤ºæå¼ï¼ä»£è¡¨å³ç³»çå¼ºåº¦ã\n\nä¸å¾å°±æ¯ä¸ä¸ªå¸¦ææåå¾ã\n\n\n\n\n# å¾çå­å¨\n\n# é»æ¥ç©éµå­å¨\n\né»æ¥ç©éµå°å¾ç¨äºç»´ç©éµå­å¨ï¼æ¯ä¸ç§è¾ä¸ºç´è§çè¡¨ç¤ºæ¹å¼ã\n\nå¦æç¬¬iä¸ªé¡¶ç¹åç¬¬jä¸ªé¡¶ç¹ä¹é´æå³ç³»ï¼ä¸å³ç³»æå¼ä¸ºnï¼å A[i][j]=n ã\n\nå¨æ åå¾ä¸­ï¼æä»¬åªå³å¿å³ç³»çææ ï¼æä»¥å½é¡¶ç¹iåé¡¶ç¹jæå³ç³»æ¶ï¼A[i][j]=1ï¼å½é¡¶ç¹iåé¡¶ç¹jæ²¡æå³ç³»æ¶ï¼A[i][j]=0ãå¦ä¸å¾æç¤ºï¼\n\n\n\nå¼å¾æ³¨æçæ¯ï¼æ åå¾çé»æ¥ç©éµæ¯ä¸ä¸ªå¯¹ç§°ç©éµï¼å ä¸ºå¨æ åå¾ä¸­ï¼é¡¶ç¹iåé¡¶ç¹jæå³ç³»ï¼åé¡¶ç¹jåé¡¶ç¹iå¿æå³ç³»ã\n\n\n\né»æ¥ç©éµå­å¨çæ¹å¼ä¼ç¹æ¯ç®åç´æ¥ï¼ç´æ¥ä½¿ç¨ä¸ä¸ªäºç»´æ°ç»å³å¯ï¼ï¼å¹¶ä¸ï¼å¨è·åä¸¤ä¸ªå®ç¹ä¹é´çå³ç³»çæ¶åä¹éå¸¸é«æï¼ç´æ¥è·åæå®ä½ç½®çæ°ç»åç´ çå¼å³å¯ï¼ãä½æ¯ï¼è¿ç§å­å¨æ¹å¼çç¼ºç¹ä¹æ¯è¾ææ¾ï¼é£å°±æ¯æ¯è¾æµªè´¹ç©ºé´ã\n\n# é»æ¥è¡¨å­å¨\n\néå¯¹ä¸é¢é»æ¥ç©éµæ¯è¾æµªè´¹åå­ç©ºé´çé®é¢ï¼è¯çäºå¾çå¦å¤ä¸ç§å­å¨æ¹æ³âé»æ¥è¡¨ ã\n\né»æ¥é¾è¡¨ä½¿ç¨ä¸ä¸ªé¾è¡¨æ¥å­å¨æä¸ªé¡¶ç¹çææåç»§ç¸é»é¡¶ç¹ãå¯¹äºå¾ä¸­æ¯ä¸ªé¡¶ç¹Viï¼æææé»æ¥äºViçé¡¶ç¹Vjé¾æä¸ä¸ªåé¾è¡¨ï¼è¿ä¸ªåé¾è¡¨ç§°ä¸ºé¡¶ç¹Viç é»æ¥è¡¨ãå¦ä¸å¾æç¤ºï¼\n\n\n\n\n\nå¤§å®¶å¯ä»¥æ°ä¸æ°é»æ¥è¡¨ä¸­æå­å¨çåç´ çä¸ªæ°ä»¥åå¾ä¸­è¾¹çæ¡æ°ï¼ä½ ä¼åç°ï¼\n\n * å¨æ åå¾ä¸­ï¼é»æ¥è¡¨åç´ ä¸ªæ°ç­äºè¾¹çæ¡æ°çä¸¤åï¼å¦å·¦å¾æç¤ºçæ åå¾ä¸­ï¼è¾¹çæ¡æ°ä¸º7ï¼é»æ¥è¡¨å­å¨çåç´ ä¸ªæ°ä¸º14ã\n * å¨æåå¾ä¸­ï¼é»æ¥è¡¨åç´ ä¸ªæ°ç­äºè¾¹çæ¡æ°ï¼å¦å³å¾æç¤ºçæåå¾ä¸­ï¼è¾¹çæ¡æ°ä¸º8ï¼é»æ¥è¡¨å­å¨çåç´ ä¸ªæ°ä¸º8ã\n\n\n# å¾çæç´¢\n\n# å¹¿åº¦ä¼åæç´¢\n\nå¹¿åº¦ä¼åæç´¢å°±åæ°´é¢ä¸çæ³¢çº¹ä¸æ ·ä¸å±ä¸å±åå¤æ©å±ï¼å¦ä¸å¾æç¤ºï¼\n\n\n\nå¹¿åº¦ä¼åæç´¢çå·ä½å®ç°æ¹å¼ç¨å°äºä¹åæå­¦è¿ççº¿æ§æ°æ®ç»æââéå ãå·ä½è¿ç¨å¦ä¸å¾æç¤ºï¼\n\nç¬¬1æ­¥ï¼\n\nç¬¬2æ­¥ï¼\n\n\n\nç¬¬3æ­¥ï¼\n\n\n\nç¬¬4æ­¥ï¼\n\n\n\nç¬¬5æ­¥ï¼\n\n\n\nç¬¬6æ­¥ï¼\n\n\n\n# æ·±åº¦ä¼åæç´¢\n\næ·±åº¦ä¼åæç´¢å°±æ¯âä¸æ¡è·¯èµ°å°é»âï¼ä»æºé¡¶ç¹å¼å§ï¼ä¸ç´èµ°å°æ²¡æåç»§èç¹ï¼æåæº¯å°ä¸ä¸é¡¶ç¹ï¼ç¶åç»§ç»­âä¸æ¡è·¯èµ°å°é»âï¼å¦ä¸å¾æç¤ºï¼\n\nåå¹¿åº¦ä¼åæç´¢ç±»ä¼¼ï¼æ·±åº¦ä¼åæç´¢çå·ä½å®ç°ç¨å°äºå¦ä¸ç§çº¿æ§æ°æ®ç»æââæ  ãå·ä½è¿ç¨å¦ä¸å¾æç¤ºï¼\n\nç¬¬1æ­¥ï¼\n\n\n\nç¬¬2æ­¥ï¼\n\n\n\nç¬¬3æ­¥ï¼\n\n\n\nç¬¬4æ­¥ï¼\n\n\n\nç¬¬5æ­¥ï¼\n\n\n\nç¬¬6æ­¥ï¼\n\n",normalizedContent:"ç®åæ¥è¯´ï¼å¾å°±æ¯ç±é¡¶ç¹çæç©·éç©ºéååé¡¶ç¹ä¹é´çè¾¹ç»æçéåãéå¸¸è¡¨ç¤ºä¸ºï¼g(v,e)ï¼å¶ä¸­ï¼gè¡¨ç¤ºä¸ä¸ªå¾ï¼vè¡¨ç¤ºé¡¶ç¹çéåï¼eè¡¨ç¤ºè¾¹çéåã\n\nä¸å¾æå±ç¤ºçå°±æ¯å¾è¿ç§æ°æ®ç»æï¼å¹¶ä¸è¿æ¯ä¸å¼ æåå¾ã\n\n\n\nå¾å¨æä»¬æ¥å¸¸çæ´»ä¸­çä¾å­å¾å¤ï¼æ¯å¦æä»¬å¨ç¤¾äº¤è½¯ä»¶ä¸å¥½åå³ç³»å°±å¯ä»¥ç¨å¾æ¥è¡¨ç¤ºã\n\n\n# åºæ¬æ¦å¿µ\n\n# é¡¶ç¹\n\nå¾ä¸­çæ°æ®åç´ ï¼æä»¬ç§°ä¹ä¸ºé¡¶ç¹ï¼å¾è³å°æä¸ä¸ªé¡¶ç¹ï¼éç©ºæç©·éåï¼\n\nå¯¹åºå°å¥½åå³ç³»å¾ï¼æ¯ä¸ä¸ªç¨æ·å°±ä»£è¡¨ä¸ä¸ªé¡¶ç¹ã\n\n# è¾¹\n\né¡¶ç¹ä¹é´çå³ç³»ç¨è¾¹è¡¨ç¤ºã\n\nå¯¹åºå°å¥½åå³ç³»å¾ï¼ä¸¤ä¸ªç¨æ·æ¯å¥½åçè¯ï¼é£ä¸¤èä¹é´å°±å­å¨ä¸æ¡è¾¹ã\n\n# åº¦\n\nåº¦è¡¨ç¤ºä¸ä¸ªé¡¶ç¹åå«å¤å°æ¡è¾¹ï¼å¨æåå¾ä¸­ï¼è¿åä¸ºåºåº¦åå¥åº¦ï¼åºåº¦è¡¨ç¤ºä»è¯¥é¡¶ç¹åºå»çè¾¹çæ¡æ°ï¼å¥åº¦è¡¨ç¤ºè¿å¥è¯¥é¡¶ç¹çè¾¹çæ¡æ°ã\n\nå¯¹åºå°å¥½åå³ç³»å¾ï¼åº¦å°±ä»£è¡¨äºæä¸ªäººçå¥½åæ°éã\n\n# æ åå¾åæåå¾\n\nè¾¹è¡¨ç¤ºçæ¯é¡¶ç¹ä¹é´çå³ç³»ï¼æçå³ç³»æ¯ååçï¼æ¯å¦åå­¦å³ç³»ï¼aæ¯bçåå­¦ï¼é£ä¹bä¹è¯å®æ¯açåå­¦ï¼é£ä¹å¨è¡¨ç¤ºaåbçå³ç³»æ¶ï¼å°±ä¸ç¨å³æ³¨æ¹åï¼ç¨ä¸å¸¦ç®­å¤´çè¾¹è¡¨ç¤ºï¼è¿æ ·çå¾å°±æ¯æ åå¾ã\n\næçå³ç³»æ¯ææ¹åçï¼æ¯å¦ç¶å­å³ç³»ï¼å¸çå³ç³»ï¼å¾®åçå³æ³¨å³ç³»ï¼aæ¯bçç¸ç¸ï¼ä½bè¯å®ä¸æ¯açç¸ç¸ï¼aå³æ³¨bï¼bä¸ä¸å®å³æ³¨aãå¨è¿ç§æåµä¸ï¼æä»¬å°±ç¨å¸¦ç®­å¤´çè¾¹è¡¨ç¤ºäºèçå³ç³»ï¼è¿æ ·çå¾å°±æ¯æåå¾ã\n\n# æ æå¾åå¸¦æå¾\n\nå¯¹äºä¸ä¸ªå³ç³»ï¼å¦ææä»¬åªå³å¿å³ç³»çææ ï¼èä¸å³å¿å³ç³»æå¤å¼ºï¼é£ä¹å°±å¯ä»¥ç¨æ æå¾è¡¨ç¤ºäºèçå³ç³»ã\n\nå¯¹äºä¸ä¸ªå³ç³»ï¼å¦ææä»¬æ¢å³å¿å³ç³»çææ ï¼ä¹å³å¿å³ç³»çå¼ºåº¦ï¼æ¯å¦æè¿°å°å¾ä¸ä¸¤ä¸ªåå¸çå³ç³»ï¼éè¦ç¨å°è·ç¦»ï¼é£ä¹å°±ç¨å¸¦æå¾æ¥è¡¨ç¤ºï¼å¸¦æå¾ä¸­çæ¯ä¸æ¡è¾¹ä¸ä¸ªæ°å¼è¡¨ç¤ºæå¼ï¼ä»£è¡¨å³ç³»çå¼ºåº¦ã\n\nä¸å¾å°±æ¯ä¸ä¸ªå¸¦ææåå¾ã\n\n\n\n\n# å¾çå­å¨\n\n# é»æ¥ç©éµå­å¨\n\né»æ¥ç©éµå°å¾ç¨äºç»´ç©éµå­å¨ï¼æ¯ä¸ç§è¾ä¸ºç´è§çè¡¨ç¤ºæ¹å¼ã\n\nå¦æç¬¬iä¸ªé¡¶ç¹åç¬¬jä¸ªé¡¶ç¹ä¹é´æå³ç³»ï¼ä¸å³ç³»æå¼ä¸ºnï¼å a[i][j]=n ã\n\nå¨æ åå¾ä¸­ï¼æä»¬åªå³å¿å³ç³»çææ ï¼æä»¥å½é¡¶ç¹iåé¡¶ç¹jæå³ç³»æ¶ï¼a[i][j]=1ï¼å½é¡¶ç¹iåé¡¶ç¹jæ²¡æå³ç³»æ¶ï¼a[i][j]=0ãå¦ä¸å¾æç¤ºï¼\n\n\n\nå¼å¾æ³¨æçæ¯ï¼æ åå¾çé»æ¥ç©éµæ¯ä¸ä¸ªå¯¹ç§°ç©éµï¼å ä¸ºå¨æ åå¾ä¸­ï¼é¡¶ç¹iåé¡¶ç¹jæå³ç³»ï¼åé¡¶ç¹jåé¡¶ç¹iå¿æå³ç³»ã\n\n\n\né»æ¥ç©éµå­å¨çæ¹å¼ä¼ç¹æ¯ç®åç´æ¥ï¼ç´æ¥ä½¿ç¨ä¸ä¸ªäºç»´æ°ç»å³å¯ï¼ï¼å¹¶ä¸ï¼å¨è·åä¸¤ä¸ªå®ç¹ä¹é´çå³ç³»çæ¶åä¹éå¸¸é«æï¼ç´æ¥è·åæå®ä½ç½®çæ°ç»åç´ çå¼å³å¯ï¼ãä½æ¯ï¼è¿ç§å­å¨æ¹å¼çç¼ºç¹ä¹æ¯è¾ææ¾ï¼é£å°±æ¯æ¯è¾æµªè´¹ç©ºé´ã\n\n# é»æ¥è¡¨å­å¨\n\néå¯¹ä¸é¢é»æ¥ç©éµæ¯è¾æµªè´¹åå­ç©ºé´çé®é¢ï¼è¯çäºå¾çå¦å¤ä¸ç§å­å¨æ¹æ³âé»æ¥è¡¨ ã\n\né»æ¥é¾è¡¨ä½¿ç¨ä¸ä¸ªé¾è¡¨æ¥å­å¨æä¸ªé¡¶ç¹çææåç»§ç¸é»é¡¶ç¹ãå¯¹äºå¾ä¸­æ¯ä¸ªé¡¶ç¹viï¼æææé»æ¥äºviçé¡¶ç¹vjé¾æä¸ä¸ªåé¾è¡¨ï¼è¿ä¸ªåé¾è¡¨ç§°ä¸ºé¡¶ç¹viç é»æ¥è¡¨ãå¦ä¸å¾æç¤ºï¼\n\n\n\n\n\nå¤§å®¶å¯ä»¥æ°ä¸æ°é»æ¥è¡¨ä¸­æå­å¨çåç´ çä¸ªæ°ä»¥åå¾ä¸­è¾¹çæ¡æ°ï¼ä½ ä¼åç°ï¼\n\n * å¨æ åå¾ä¸­ï¼é»æ¥è¡¨åç´ ä¸ªæ°ç­äºè¾¹çæ¡æ°çä¸¤åï¼å¦å·¦å¾æç¤ºçæ åå¾ä¸­ï¼è¾¹çæ¡æ°ä¸º7ï¼é»æ¥è¡¨å­å¨çåç´ ä¸ªæ°ä¸º14ã\n * å¨æåå¾ä¸­ï¼é»æ¥è¡¨åç´ ä¸ªæ°ç­äºè¾¹çæ¡æ°ï¼å¦å³å¾æç¤ºçæåå¾ä¸­ï¼è¾¹çæ¡æ°ä¸º8ï¼é»æ¥è¡¨å­å¨çåç´ ä¸ªæ°ä¸º8ã\n\n\n# å¾çæç´¢\n\n# å¹¿åº¦ä¼åæç´¢\n\nå¹¿åº¦ä¼åæç´¢å°±åæ°´é¢ä¸çæ³¢çº¹ä¸æ ·ä¸å±ä¸å±åå¤æ©å±ï¼å¦ä¸å¾æç¤ºï¼\n\n\n\nå¹¿åº¦ä¼åæç´¢çå·ä½å®ç°æ¹å¼ç¨å°äºä¹åæå­¦è¿ççº¿æ§æ°æ®ç»æââéå ãå·ä½è¿ç¨å¦ä¸å¾æç¤ºï¼\n\nç¬¬1æ­¥ï¼\n\nç¬¬2æ­¥ï¼\n\n\n\nç¬¬3æ­¥ï¼\n\n\n\nç¬¬4æ­¥ï¼\n\n\n\nç¬¬5æ­¥ï¼\n\n\n\nç¬¬6æ­¥ï¼\n\n\n\n# æ·±åº¦ä¼åæç´¢\n\næ·±åº¦ä¼åæç´¢å°±æ¯âä¸æ¡è·¯èµ°å°é»âï¼ä»æºé¡¶ç¹å¼å§ï¼ä¸ç´èµ°å°æ²¡æåç»§èç¹ï¼æåæº¯å°ä¸ä¸é¡¶ç¹ï¼ç¶åç»§ç»­âä¸æ¡è·¯èµ°å°é»âï¼å¦ä¸å¾æç¤ºï¼\n\nåå¹¿åº¦ä¼åæç´¢ç±»ä¼¼ï¼æ·±åº¦ä¼åæç´¢çå·ä½å®ç°ç¨å°äºå¦ä¸ç§çº¿æ§æ°æ®ç»æââæ  ãå·ä½è¿ç¨å¦ä¸å¾æç¤ºï¼\n\nç¬¬1æ­¥ï¼\n\n\n\nç¬¬2æ­¥ï¼\n\n\n\nç¬¬3æ­¥ï¼\n\n\n\nç¬¬4æ­¥ï¼\n\n\n\nç¬¬5æ­¥ï¼\n\n\n\nç¬¬6æ­¥ï¼\n\n",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"Linux",frontmatter:{title:"Linux",date:"2023-10-24T07:42:33.000Z",permalink:"/pages/ee514b/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/02.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/01.Linux/01.Linux.html",relativePath:"01.Java ç¥è¯ä½ç³»/01.è®¡ç®æºåºç¡/02.æä½ç³»ç»/01.Linux/01.Linux.md",key:"v-59615ba1",path:"/pages/ee514b/",headers:[{level:1,title:"Linuxç®ä»",slug:"linuxç®ä»",normalizedTitle:"linuxç®ä»",charIndex:2},{level:2,title:"å¸¸è§çLinuxåè¡çæ¬",slug:"å¸¸è§çlinuxåè¡çæ¬",normalizedTitle:"å¸¸è§çlinuxåè¡çæ¬",charIndex:83},{level:2,title:"å¸¸è§çæä½ç³»ç»",slug:"å¸¸è§çæä½ç³»ç»",normalizedTitle:"å¸¸è§çæä½ç³»ç»",charIndex:222},{level:3,title:"Windows",slug:"windows",normalizedTitle:"windows",charIndex:234},{level:3,title:"Unix",slug:"unix",normalizedTitle:"unix",charIndex:30},{level:3,title:"Linux",slug:"linux",normalizedTitle:"linux",charIndex:2},{level:3,title:"Mac OS",slug:"mac-os",normalizedTitle:"mac os",charIndex:439},{level:1,title:"Linux æä»¶ç³»ç»",slug:"linux-æä»¶ç³»ç»",normalizedTitle:"linux æä»¶ç³»ç»",charIndex:512},{level:2,title:"Linuxæä»¶ç³»ç»ç®ä»",slug:"linuxæä»¶ç³»ç»ç®ä»",normalizedTitle:"linuxæä»¶ç³»ç»ç®ä»",charIndex:527},{level:2,title:"Linuxç®å½æ ",slug:"linuxç®å½æ ",normalizedTitle:"linuxç®å½æ ",charIndex:718}],headersStr:"Linuxç®ä» å¸¸è§çLinuxåè¡çæ¬ å¸¸è§çæä½ç³»ç» Windows Unix Linux Mac OS Linux æä»¶ç³»ç» Linuxæä»¶ç³»ç»ç®ä» Linuxç®å½æ ",content:"# Linuxç®ä»\n\nLinux æ¯ä¸å¥åè´¹ä½¿ç¨ãå¼æºçç±» Unix æä½ç³»ç»ã Linux å­å¨çè®¸å¤ä¸åçåè¡çæ¬ï¼ä½å®ä»¬é½ä½¿ç¨äº Linux åæ ¸ ã\n\n\n# å¸¸è§çLinuxåè¡çæ¬\n\nLinux çåè¡çæ¬å¯ä»¥å¤§ä½åä¸ºä¸¤ç±»ï¼\n\n * åä¸å¬å¸ç»´æ¤çåè¡çæ¬ï¼ä»¥èåç Red Hat ä¸ºä»£è¡¨ï¼æ¯è¾å¸åçæ CentOS ã\n\n * ç¤¾åºç»ç»ç»´æ¤çåè¡çæ¬ï¼ä»¥ Debian ä¸ºä»£è¡¨ï¼æ¯è¾å¸åçæ UbuntuãDebianã\n\n\n# å¸¸è§çæä½ç³»ç»\n\n\n# Windows\n\nç®åææµè¡çä¸ªäººæ¡é¢æä½ç³»ç» ãçé¢ç®åææä½ï¼è½¯ä»¶çæéå¸¸å¥½ã\n\n\n# Unix\n\nææ©çå¤ç¨æ·ãå¤ä»»å¡æä½ç³»ç» ãåé¢å´èµ·ç Linux å¨å¾å¤æ¹é¢é½åèäº Unixã\n\nç®åè¿æ¬¾æä½ç³»ç»å·²ç»éæ¸éæ¸éåºæä½ç³»ç»çèå°ã\n\n\n# Linux\n\nLinux æ¯ä¸å¥åè´¹ä½¿ç¨ãå¼æºçç±» Unix æä½ç³»ç»ã Linux å­å¨çè®¸å¤ä¸åçåè¡çæ¬ï¼ä½å®ä»¬é½ä½¿ç¨äº Linux åæ ¸ ã\n\n\n# Mac OS\n\nè¹æèªå®¶çæä½ç³»ç»ï¼ç¼ç¨ä½éªå Linux ç¸å½ï¼ä½æ¯çé¢ãè½¯ä»¶çæä»¥åç¨æ·ä½éªåæ¹é¢é½è¦æ¯ Linux æä½ç³»ç»æ´å¥½ã\n\n\n# Linux æä»¶ç³»ç»\n\n\n# Linuxæä»¶ç³»ç»ç®ä»\n\nå¨ Linux æä½ç³»ç»ä¸­ï¼ææè¢«æä½ç³»ç»ç®¡ççèµæºï¼ä¾å¦ç½ç»æ¥å£å¡ãç£çé©±å¨å¨ãæå°æºãè¾å¥è¾åºè®¾å¤ãæ®éæä»¶ææ¯ç®å½é½è¢«çä½æ¯ä¸ä¸ªæä»¶ã ä¹å°±æ¯è¯´å¨ Linux ç³»ç»ä¸­æä¸ä¸ªéè¦çæ¦å¿µï¼ä¸åé½æ¯æä»¶ã\n\nå¶å®è¿æ¯ UNIX å²å­¦çä¸ä¸ªä½ç°ï¼å¨ UNIX ç³»ç»ä¸­ï¼æä¸åèµæºé½çä½æ¯æä»¶ï¼Linux çæä»¶ç³»ç»ä¹æ¯åé´ UNIX æä»¶ç³»ç»èæ¥ã\n\n\n# Linuxç®å½æ \n\nææå¯æä½çè®¡ç®æºèµæºé½å­å¨äºç®å½æ è¿ä¸ªç»æä¸­ï¼å¯¹è®¡ç®èµæºçè®¿é®ï¼å¯ä»¥çåæ¯å¯¹è¿æ£µç®å½æ çè®¿é®ã\n\nLinux çç®å½ç»æå¦ä¸ï¼\n\nLinux æä»¶ç³»ç»çç»æå±æ¬¡é²æï¼å°±åä¸æ£µåç«çæ ï¼æé¡¶å±æ¯å¶æ ¹ç®å½ï¼\n\n\n\nå¸¸è§ç®å½è¯´æï¼\n\n * /binï¼ å­æ¾äºè¿å¶å¯æ§è¡æä»¶(lsãcatãmkdir ç­)ï¼å¸¸ç¨å½ä»¤ä¸è¬é½å¨è¿éï¼\n\n * /etcï¼ å­æ¾ç³»ç»ç®¡çåéç½®æä»¶ï¼\n\n * /homeï¼ å­æ¾ææç¨æ·æä»¶çæ ¹ç®å½ï¼æ¯ç¨æ·ä¸»ç®å½çåºç¹ï¼æ¯å¦ç¨æ· user çä¸»ç®å½å°±æ¯/home/userï¼å¯ä»¥ç¨~user è¡¨ç¤ºï¼\n\n * /usr ï¼ ç¨äºå­æ¾ç³»ç»åºç¨ç¨åºï¼\n\n * /optï¼ é¢å¤å®è£çå¯éåºç¨ç¨åºåææ¾ç½®çä½ç½®ãä¸è¬æåµä¸ï¼æä»¬å¯ä»¥æ tomcat ç­é½å®è£å°è¿éï¼\n\n * /procï¼ èææä»¶ç³»ç»ç®å½ï¼æ¯ç³»ç»åå­çæ å°ãå¯ç´æ¥è®¿é®è¿ä¸ªç®å½æ¥è·åç³»ç»ä¿¡æ¯ï¼\n\n * /rootï¼ è¶çº§ç¨æ·ï¼ç³»ç»ç®¡çåï¼çä¸»ç®å½ï¼\n\n * /sbin: å­æ¾äºè¿å¶å¯æ§è¡æä»¶ï¼åªæ root æè½è®¿é®ãè¿éå­æ¾çæ¯ç³»ç»ç®¡çåä½¿ç¨çç³»ç»çº§å«çç®¡çå½ä»¤åç¨åºãå¦ ifconfig ç­ï¼\n\n * /devï¼ ç¨äºå­æ¾è®¾å¤æä»¶ï¼ç±»ä¼¼äºwindwosçè®¾å¤ç®¡çå¨ï¼\n\n * /mntï¼ ç³»ç»ç®¡çåå®è£ä¸´æ¶æä»¶ç³»ç»çå®è£ç¹ï¼ç³»ç»æä¾è¿ä¸ªç®å½æ¯è®©ç¨æ·ä¸´æ¶æè½½å¶ä»çæä»¶ç³»ç»ï¼\n\n * /bootï¼ å­æ¾ç¨äºç³»ç»å¼å¯¼æ¶ä½¿ç¨çåç§æä»¶ï¼\n\n * /lib ï¼ å­æ¾çåç³»ç»è¿è¡ç¸å³çåºæä»¶ ï¼\n\n * /tmpï¼ ç¨äºå­æ¾åç§ä¸´æ¶æä»¶ï¼æ¯å¬ç¨çä¸´æ¶æä»¶å­å¨ç¹ï¼\n\n * /varï¼ ç¨äºå­æ¾è¿è¡æ¶éè¦æ¹åæ°æ®çæä»¶ï¼ä¹æ¯æäºå¤§æä»¶çæº¢åºåºï¼æ¯æ¹è¯´åç§æå¡çæ¥å¿æä»¶ï¼ç³»ç»å¯å¨æ¥å¿ç­ãï¼ç­ï¼\n\n * /lost+foundï¼ è¿ä¸ªç®å½å¹³æ¶æ¯ç©ºçï¼ç³»ç»éæ­£å¸¸å³æºèçä¸âæ å®¶å¯å½âçæä»¶ï¼windows ä¸å«ä»ä¹.chkï¼å°±å¨è¿éã",normalizedContent:"# linuxç®ä»\n\nlinux æ¯ä¸å¥åè´¹ä½¿ç¨ãå¼æºçç±» unix æä½ç³»ç»ã linux å­å¨çè®¸å¤ä¸åçåè¡çæ¬ï¼ä½å®ä»¬é½ä½¿ç¨äº linux åæ ¸ ã\n\n\n# å¸¸è§çlinuxåè¡çæ¬\n\nlinux çåè¡çæ¬å¯ä»¥å¤§ä½åä¸ºä¸¤ç±»ï¼\n\n * åä¸å¬å¸ç»´æ¤çåè¡çæ¬ï¼ä»¥èåç red hat ä¸ºä»£è¡¨ï¼æ¯è¾å¸åçæ centos ã\n\n * ç¤¾åºç»ç»ç»´æ¤çåè¡çæ¬ï¼ä»¥ debian ä¸ºä»£è¡¨ï¼æ¯è¾å¸åçæ ubuntuãdebianã\n\n\n# å¸¸è§çæä½ç³»ç»\n\n\n# windows\n\nç®åææµè¡çä¸ªäººæ¡é¢æä½ç³»ç» ãçé¢ç®åææä½ï¼è½¯ä»¶çæéå¸¸å¥½ã\n\n\n# unix\n\nææ©çå¤ç¨æ·ãå¤ä»»å¡æä½ç³»ç» ãåé¢å´èµ·ç linux å¨å¾å¤æ¹é¢é½åèäº unixã\n\nç®åè¿æ¬¾æä½ç³»ç»å·²ç»éæ¸éæ¸éåºæä½ç³»ç»çèå°ã\n\n\n# linux\n\nlinux æ¯ä¸å¥åè´¹ä½¿ç¨ãå¼æºçç±» unix æä½ç³»ç»ã linux å­å¨çè®¸å¤ä¸åçåè¡çæ¬ï¼ä½å®ä»¬é½ä½¿ç¨äº linux åæ ¸ ã\n\n\n# mac os\n\nè¹æèªå®¶çæä½ç³»ç»ï¼ç¼ç¨ä½éªå linux ç¸å½ï¼ä½æ¯çé¢ãè½¯ä»¶çæä»¥åç¨æ·ä½éªåæ¹é¢é½è¦æ¯ linux æä½ç³»ç»æ´å¥½ã\n\n\n# linux æä»¶ç³»ç»\n\n\n# linuxæä»¶ç³»ç»ç®ä»\n\nå¨ linux æä½ç³»ç»ä¸­ï¼ææè¢«æä½ç³»ç»ç®¡ççèµæºï¼ä¾å¦ç½ç»æ¥å£å¡ãç£çé©±å¨å¨ãæå°æºãè¾å¥è¾åºè®¾å¤ãæ®éæä»¶ææ¯ç®å½é½è¢«çä½æ¯ä¸ä¸ªæä»¶ã ä¹å°±æ¯è¯´å¨ linux ç³»ç»ä¸­æä¸ä¸ªéè¦çæ¦å¿µï¼ä¸åé½æ¯æä»¶ã\n\nå¶å®è¿æ¯ unix å²å­¦çä¸ä¸ªä½ç°ï¼å¨ unix ç³»ç»ä¸­ï¼æä¸åèµæºé½çä½æ¯æä»¶ï¼linux çæä»¶ç³»ç»ä¹æ¯åé´ unix æä»¶ç³»ç»èæ¥ã\n\n\n# linuxç®å½æ \n\nææå¯æä½çè®¡ç®æºèµæºé½å­å¨äºç®å½æ è¿ä¸ªç»æä¸­ï¼å¯¹è®¡ç®èµæºçè®¿é®ï¼å¯ä»¥çåæ¯å¯¹è¿æ£µç®å½æ çè®¿é®ã\n\nlinux çç®å½ç»æå¦ä¸ï¼\n\nlinux æä»¶ç³»ç»çç»æå±æ¬¡é²æï¼å°±åä¸æ£µåç«çæ ï¼æé¡¶å±æ¯å¶æ ¹ç®å½ï¼\n\n\n\nå¸¸è§ç®å½è¯´æï¼\n\n * /binï¼ å­æ¾äºè¿å¶å¯æ§è¡æä»¶(lsãcatãmkdir ç­)ï¼å¸¸ç¨å½ä»¤ä¸è¬é½å¨è¿éï¼\n\n * /etcï¼ å­æ¾ç³»ç»ç®¡çåéç½®æä»¶ï¼\n\n * /homeï¼ å­æ¾ææç¨æ·æä»¶çæ ¹ç®å½ï¼æ¯ç¨æ·ä¸»ç®å½çåºç¹ï¼æ¯å¦ç¨æ· user çä¸»ç®å½å°±æ¯/home/userï¼å¯ä»¥ç¨~user è¡¨ç¤ºï¼\n\n * /usr ï¼ ç¨äºå­æ¾ç³»ç»åºç¨ç¨åºï¼\n\n * /optï¼ é¢å¤å®è£çå¯éåºç¨ç¨åºåææ¾ç½®çä½ç½®ãä¸è¬æåµä¸ï¼æä»¬å¯ä»¥æ tomcat ç­é½å®è£å°è¿éï¼\n\n * /procï¼ èææä»¶ç³»ç»ç®å½ï¼æ¯ç³»ç»åå­çæ å°ãå¯ç´æ¥è®¿é®è¿ä¸ªç®å½æ¥è·åç³»ç»ä¿¡æ¯ï¼\n\n * /rootï¼ è¶çº§ç¨æ·ï¼ç³»ç»ç®¡çåï¼çä¸»ç®å½ï¼\n\n * /sbin: å­æ¾äºè¿å¶å¯æ§è¡æä»¶ï¼åªæ root æè½è®¿é®ãè¿éå­æ¾çæ¯ç³»ç»ç®¡çåä½¿ç¨çç³»ç»çº§å«çç®¡çå½ä»¤åç¨åºãå¦ ifconfig ç­ï¼\n\n * /devï¼ ç¨äºå­æ¾è®¾å¤æä»¶ï¼ç±»ä¼¼äºwindwosçè®¾å¤ç®¡çå¨ï¼\n\n * /mntï¼ ç³»ç»ç®¡çåå®è£ä¸´æ¶æä»¶ç³»ç»çå®è£ç¹ï¼ç³»ç»æä¾è¿ä¸ªç®å½æ¯è®©ç¨æ·ä¸´æ¶æè½½å¶ä»çæä»¶ç³»ç»ï¼\n\n * /bootï¼ å­æ¾ç¨äºç³»ç»å¼å¯¼æ¶ä½¿ç¨çåç§æä»¶ï¼\n\n * /lib ï¼ å­æ¾çåç³»ç»è¿è¡ç¸å³çåºæä»¶ ï¼\n\n * /tmpï¼ ç¨äºå­æ¾åç§ä¸´æ¶æä»¶ï¼æ¯å¬ç¨çä¸´æ¶æä»¶å­å¨ç¹ï¼\n\n * /varï¼ ç¨äºå­æ¾è¿è¡æ¶éè¦æ¹åæ°æ®çæä»¶ï¼ä¹æ¯æäºå¤§æä»¶çæº¢åºåºï¼æ¯æ¹è¯´åç§æå¡çæ¥å¿æä»¶ï¼ç³»ç»å¯å¨æ¥å¿ç­ãï¼ç­ï¼\n\n * /lost+foundï¼ è¿ä¸ªç®å½å¹³æ¶æ¯ç©ºçï¼ç³»ç»éæ­£å¸¸å³æºèçä¸âæ å®¶å¯å½âçæä»¶ï¼windows ä¸å«ä»ä¹.chkï¼å°±å¨è¿éã",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"æ°æ®åºåºç¡ä¸SQL",frontmatter:{title:"æ°æ®åºåºç¡ä¸SQL",date:"2023-10-24T03:12:19.000Z",permalink:"/pages/67462f/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/02.%E6%95%B0%E6%8D%AE%E5%BA%93/01.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80%E4%B8%8ESQL.html",relativePath:"01.Java ç¥è¯ä½ç³»/02.æ°æ®åº/01.æ°æ®åºåºç¡ä¸SQL.md",key:"v-90b1f352",path:"/pages/67462f/",headers:[{level:1,title:"æ°æ®åºåºç¡",slug:"æ°æ®åºåºç¡",normalizedTitle:"æ°æ®åºåºç¡",charIndex:2},{level:1,title:"SQL",slug:"sql",normalizedTitle:"sql",charIndex:453},{level:2,title:"ä»ä¹æ¯SQL",slug:"ä»ä¹æ¯sql",normalizedTitle:"ä»ä¹æ¯sql",charIndex:461},{level:2,title:"äºå¡",slug:"äºå¡",normalizedTitle:"äºå¡",charIndex:670},{level:3,title:"ACIDç¹æ§",slug:"acidç¹æ§",normalizedTitle:"acidç¹æ§",charIndex:712},{level:3,title:"éç¦»çº§å«",slug:"éç¦»çº§å«",normalizedTitle:"éç¦»çº§å«",charIndex:992},{level:4,title:"å¯éå¤è¯»åå¹»è¯»",slug:"å¯éå¤è¯»åå¹»è¯»",normalizedTitle:"å¯éå¤è¯»åå¹»è¯»",charIndex:1363}],headersStr:"æ°æ®åºåºç¡ SQL ä»ä¹æ¯SQL äºå¡ ACIDç¹æ§ éç¦»çº§å« å¯éå¤è¯»åå¹»è¯»",content:"# æ°æ®åºåºç¡\n\næ°æ®åºï¼databaseï¼ï¼ä¿å­æç»ç»çæ°æ®çå®¹å¨ï¼éå¸¸æ¯ä¸ä¸ªæä»¶æèä¸ç»æä»¶ï¼\n\næ°æ®åºç®¡çç³»ç»ï¼æä»¬å¹¶ä¸è½ç´æ¥è®¿é®æ°æ®åºï¼èæ¯éè¿DBMSï¼æ°æ®åºç®¡çç³»ç»ï¼è®¿é®æ°æ®åºã\n\nè¡¨ï¼tableï¼ï¼æç§ç¹å®ç±»åæ°æ®çç»æåæ¸åã\n\næ°æ®åºä¸­çæ¯ä¸ªè¡¨é½æä¸ä¸ªè¡¨åï¼ç¨æ¥æ è¯èªå·±ãè¿ä¸ªè¡¨åå¨ç¸åæ°æ®åºä¸­æ¯å¯ä¸çï¼å¨ä¸åæ°æ®åºå¯ä»¥ä½¿ç¨ç¸åçè¡¨åã\n\næ¨¡å¼ï¼schemaï¼ï¼å³äºæ°æ®åºåè¡¨çå¸å±åç¹æ§çä¿¡æ¯ã\n\nåï¼columnï¼ï¼è¡¨ä¸­çä¸ä¸ªå­æ®µãææè¡¨é½æ¯ç±ä¸ä¸ªæå¤ä¸ªåç»æçãæ°æ®åºä¸­æ¯ä¸ªåé½æç¸åºçæ°æ®ç±»åã\n\næ°æ®ç±»åï¼datatypeï¼ï¼æå®¹è®¸çæ°æ®çç±»åãæ¯ä¸ªè¡¨åé½æç¸åºçæ°æ®ç±»åï¼éå¶ï¼æå®¹è®¸ï¼è¯¥åå­å¨çæ°æ®ã\n\nè¡ï¼rowï¼ï¼è¡¨ä¸­çä¸ä¸ªè®°å½ãè¡¨ä¸­çæ°æ®æè¡å­å¨ï¼æ¯ä¸ªè®°å½é½å­å¨å¨èªå·±çè¡åã\n\nä¸»é®ï¼primary keyï¼ï¼ä¸åï¼æä¸ç»åï¼ï¼å¶å¼è½å¤åºåè¡¨ä¸­æ¯ä¸ªè¡ã\n\nå¤é®ï¼foreign keyï¼ï¼å¤é®ä¸ºæä¸ªè¡¨ä¸­çä¸åï¼åå«å¦ä¸ä¸ªè¡¨çä¸»é®å¼ï¼å®ä¹äºä¸¤ä¸ªè¡¨ä¹é´çå³ç³»ã\n\n\n# SQL\n\n\n# ä»ä¹æ¯SQL\n\nSQLæ¯ç»æåæ¥è¯¢è¯­è¨ï¼Structured Query Languageï¼çç¼©åï¼æ¯ä¸ç§ä¸é¨ç¨æ¥ä¸æ°æ®åºéä¿¡çè¯­è¨ã\n\nSQLæä¾äºä¸ç§ä»æ°æ®åºä¸­è¯»åæ°æ®çç®åæææ¹æ³ã\n\nSQLä¼ç¹ï¼\n\n * SQLä¸æ¯ç¹å®æ°æ®åºä¾åºåä¸æçè¯­è¨ãå ä¹ææéè¦çDBMSé½æ¯æSQLãä½æ¯ä»»æä¸¤ä¸ªDBMSå®ç°çSQLé½ä¸å®å¨ç¸åã\n * SQLç®åæå­¦ã\n * SQLå¯ä»¥è¿è¡éå¸¸å¤æåé«çº§çæ°æ®åºæä½ã\n\n\n# äºå¡\n\näºå¡æ¯é»è¾ä¸çä¸ç»æä½ï¼äºå¡ä¸­çæä½è¦ä¹å¨é½æåï¼è¦ä¹å¨é½ä¸æåã\n\n\n# ACIDç¹æ§\n\näºå¡ACIDç¹æ§æçæ¯ï¼\n\n * åå­æ§ï¼atomicityï¼:äºå¡æ¯ä¸ä¸ªä¸å¯åå²çæå°å·¥ä½ååï¼äºå¡ä¸­çæææä½è¦ä¹å¨é¨æäº¤æåï¼è¦ä¹å¨é¨å¤±è´¥åæ»ã\n * ä¸è´æ§ï¼consistencyï¼:æ°æ®åºæ»æ¯ä»ä¸ä¸ªä¸è´æ§ç¶æè½¬æ¢å°å¦ä¸ä¸ªä¸è´æ§ç¶æãä¹å°±è¯´äºå¡ååæ°æ®è¦ä¿æä¸è´ã\n * éç¦»æ§ï¼isolationï¼:ä¸ä¸ªäºå¡æåçä¿®æ¹å¨æç»æäº¤ä¹åï¼å¯¹å¶ä»äºå¡æ¯ä¸å¯è§ã\n * æä¹æ§ï¼durabilityï¼:äºå¡ä¸æ¦æäº¤ï¼æåçä¿®æ¹å°ä¼æ°¸ä¹ä¿å­å°æ°æ®åºä¸­ãå³ä½¿ç³»ç»å¥æºï¼ä¿®æ¹çæ°æ®ä¹ä¸ä¼ä¸¢å¤±ã\n\nACID ä¸­ï¼C æ¯ç®çï¼AID æ¯ææ®µã\n\n\n# éç¦»çº§å«\n\nSQLæ åå®ä¹äºåç§éç¦»çº§å«ï¼\n\n * READ UNCOMMITTED(æªæäº¤è¯»)ï¼äºå¡ä¸­çä¿®æ¹ï¼å³ä½¿æ²¡ææäº¤ãå¯¹å¶ä»äºå¡ä¹æ¯å¯è§çãäºå¡å¯ä»¥è¯»åæªæäº¤çæ°æ®ï¼è¿ä¹è¢«ç§°ä¸ºèè¯»ã\n * READ COMMITTEDï¼æäº¤è¯»ï¼ï¼ä¸ä¸ªäºå¡ä»å¼å§ç´å°æäº¤ä¹åï¼æåçä¿®æ¹å¯¹å¶ä»äºå¡é½æ¯ä¸å¯è§çãè¿ä¸ªçº§å«ä¼å¯¼è´ä¸å¯éå¤è¯»ï¼å³ä¸¤æ¬¡æ§è¡åæ ·çæ¥è¯¢ï¼å¯è½ä¼å¾å°ä¸ä¸æ ·çç»æã\n * REPEATABLE READï¼å¯éå¤è¯»ï¼ï¼è¿ä¸ªçº§å«è§£å³äºèè¯»åä¸å¯éå¤è¯»é®é¢ãä¿è¯äºå¨åä¸äºå¡å¤æ¬¡è¯»ååæ ·çè®°å½ç»ææ¯ä¸è´çãä½è¿æ¯æ æ³è§£å³å¹»è¯»é®é¢ï¼å¹»è¯»ææä¸ªäºå¡å¨è¯»åæä¸ªèå´åè®°å½æ¶ï¼å¦ä¸ä¸ªäºå¡åå¨è¯¥èå´åæå¥äºæ°çè®°å½ï¼å½ä¹åçäºå¡åæ¬¡è¯»åè¯¥èå´è®°å½æ¶ï¼ä¼äº§çå¹»è¡ã\n * SERIALIZABLEï¼å¯ä¸²è¡åï¼ï¼æé«çéç¦»çº§å«ãå¼ºå¶äºå¡ä¸²è¡æ§è¡ã\n\n# å¯éå¤è¯»åå¹»è¯»\n\n> å¨å¯éå¤è¯»ä¸­ï¼è¯¥sqlç¬¬ä¸æ¬¡è¯»åå°æ°æ®åï¼å°±å°è¿äºæ°æ®å éï¼æ²è§éï¼ï¼å¶å®äºå¡æ æ³ä¿®æ¹è¿äºæ°æ®ï¼å°±å¯ä»¥å®ç°å¯éå¤è¯»äºãä½è¿ç§æ¹æ³å´æ æ³éä½insertçæ°æ®ï¼æä»¥å½äºå¡Aååè¯»åäºæ°æ®ï¼æèä¿®æ¹äºå¨é¨æ°æ®ï¼äºå¡Bè¿æ¯å¯ä»¥insertæ°æ®æäº¤ï¼è¿æ¶äºå¡Aå°±ä¼åç°è«åå¶å¦å¤äºä¸æ¡ä¹åæ²¡æçæ°æ®ï¼è¿å°±æ¯å¹»è¯»ï¼ä¸è½éè¿è¡éæ¥é¿åãéè¦Serializableéç¦»çº§å« ï¼è¯»ç¨è¯»éï¼åç¨åéï¼è¯»éååéäºæ¥ï¼è¿ä¹åå¯ä»¥ææçé¿åå¹»è¯»ãä¸å¯éå¤è¯»ãèè¯»ç­é®é¢ï¼ä½ä¼æå¤§çéä½æ°æ®åºçå¹¶åè½åã\n> \n> ä½æ¯MySQLãORACLEãPostgreSQLç­æççæ°æ®åºï¼åºäºæ§è½èèï¼é½æ¯ä½¿ç¨äºä»¥ä¹è§éä¸ºçè®ºåºç¡çMVCCï¼å¤çæ¬å¹¶åæ§å¶ï¼æ¥å®ç°ã\n> \n> è½¬èªï¼https://www.cnblogs.com/catmelo/p/8878961.html",normalizedContent:"# æ°æ®åºåºç¡\n\næ°æ®åºï¼databaseï¼ï¼ä¿å­æç»ç»çæ°æ®çå®¹å¨ï¼éå¸¸æ¯ä¸ä¸ªæä»¶æèä¸ç»æä»¶ï¼\n\næ°æ®åºç®¡çç³»ç»ï¼æä»¬å¹¶ä¸è½ç´æ¥è®¿é®æ°æ®åºï¼èæ¯éè¿dbmsï¼æ°æ®åºç®¡çç³»ç»ï¼è®¿é®æ°æ®åºã\n\nè¡¨ï¼tableï¼ï¼æç§ç¹å®ç±»åæ°æ®çç»æåæ¸åã\n\næ°æ®åºä¸­çæ¯ä¸ªè¡¨é½æä¸ä¸ªè¡¨åï¼ç¨æ¥æ è¯èªå·±ãè¿ä¸ªè¡¨åå¨ç¸åæ°æ®åºä¸­æ¯å¯ä¸çï¼å¨ä¸åæ°æ®åºå¯ä»¥ä½¿ç¨ç¸åçè¡¨åã\n\næ¨¡å¼ï¼schemaï¼ï¼å³äºæ°æ®åºåè¡¨çå¸å±åç¹æ§çä¿¡æ¯ã\n\nåï¼columnï¼ï¼è¡¨ä¸­çä¸ä¸ªå­æ®µãææè¡¨é½æ¯ç±ä¸ä¸ªæå¤ä¸ªåç»æçãæ°æ®åºä¸­æ¯ä¸ªåé½æç¸åºçæ°æ®ç±»åã\n\næ°æ®ç±»åï¼datatypeï¼ï¼æå®¹è®¸çæ°æ®çç±»åãæ¯ä¸ªè¡¨åé½æç¸åºçæ°æ®ç±»åï¼éå¶ï¼æå®¹è®¸ï¼è¯¥åå­å¨çæ°æ®ã\n\nè¡ï¼rowï¼ï¼è¡¨ä¸­çä¸ä¸ªè®°å½ãè¡¨ä¸­çæ°æ®æè¡å­å¨ï¼æ¯ä¸ªè®°å½é½å­å¨å¨èªå·±çè¡åã\n\nä¸»é®ï¼primary keyï¼ï¼ä¸åï¼æä¸ç»åï¼ï¼å¶å¼è½å¤åºåè¡¨ä¸­æ¯ä¸ªè¡ã\n\nå¤é®ï¼foreign keyï¼ï¼å¤é®ä¸ºæä¸ªè¡¨ä¸­çä¸åï¼åå«å¦ä¸ä¸ªè¡¨çä¸»é®å¼ï¼å®ä¹äºä¸¤ä¸ªè¡¨ä¹é´çå³ç³»ã\n\n\n# sql\n\n\n# ä»ä¹æ¯sql\n\nsqlæ¯ç»æåæ¥è¯¢è¯­è¨ï¼structured query languageï¼çç¼©åï¼æ¯ä¸ç§ä¸é¨ç¨æ¥ä¸æ°æ®åºéä¿¡çè¯­è¨ã\n\nsqlæä¾äºä¸ç§ä»æ°æ®åºä¸­è¯»åæ°æ®çç®åæææ¹æ³ã\n\nsqlä¼ç¹ï¼\n\n * sqlä¸æ¯ç¹å®æ°æ®åºä¾åºåä¸æçè¯­è¨ãå ä¹ææéè¦çdbmsé½æ¯æsqlãä½æ¯ä»»æä¸¤ä¸ªdbmså®ç°çsqlé½ä¸å®å¨ç¸åã\n * sqlç®åæå­¦ã\n * sqlå¯ä»¥è¿è¡éå¸¸å¤æåé«çº§çæ°æ®åºæä½ã\n\n\n# äºå¡\n\näºå¡æ¯é»è¾ä¸çä¸ç»æä½ï¼äºå¡ä¸­çæä½è¦ä¹å¨é½æåï¼è¦ä¹å¨é½ä¸æåã\n\n\n# acidç¹æ§\n\näºå¡acidç¹æ§æçæ¯ï¼\n\n * åå­æ§ï¼atomicityï¼:äºå¡æ¯ä¸ä¸ªä¸å¯åå²çæå°å·¥ä½ååï¼äºå¡ä¸­çæææä½è¦ä¹å¨é¨æäº¤æåï¼è¦ä¹å¨é¨å¤±è´¥åæ»ã\n * ä¸è´æ§ï¼consistencyï¼:æ°æ®åºæ»æ¯ä»ä¸ä¸ªä¸è´æ§ç¶æè½¬æ¢å°å¦ä¸ä¸ªä¸è´æ§ç¶æãä¹å°±è¯´äºå¡ååæ°æ®è¦ä¿æä¸è´ã\n * éç¦»æ§ï¼isolationï¼:ä¸ä¸ªäºå¡æåçä¿®æ¹å¨æç»æäº¤ä¹åï¼å¯¹å¶ä»äºå¡æ¯ä¸å¯è§ã\n * æä¹æ§ï¼durabilityï¼:äºå¡ä¸æ¦æäº¤ï¼æåçä¿®æ¹å°ä¼æ°¸ä¹ä¿å­å°æ°æ®åºä¸­ãå³ä½¿ç³»ç»å¥æºï¼ä¿®æ¹çæ°æ®ä¹ä¸ä¼ä¸¢å¤±ã\n\nacid ä¸­ï¼c æ¯ç®çï¼aid æ¯ææ®µã\n\n\n# éç¦»çº§å«\n\nsqlæ åå®ä¹äºåç§éç¦»çº§å«ï¼\n\n * read uncommitted(æªæäº¤è¯»)ï¼äºå¡ä¸­çä¿®æ¹ï¼å³ä½¿æ²¡ææäº¤ãå¯¹å¶ä»äºå¡ä¹æ¯å¯è§çãäºå¡å¯ä»¥è¯»åæªæäº¤çæ°æ®ï¼è¿ä¹è¢«ç§°ä¸ºèè¯»ã\n * read committedï¼æäº¤è¯»ï¼ï¼ä¸ä¸ªäºå¡ä»å¼å§ç´å°æäº¤ä¹åï¼æåçä¿®æ¹å¯¹å¶ä»äºå¡é½æ¯ä¸å¯è§çãè¿ä¸ªçº§å«ä¼å¯¼è´ä¸å¯éå¤è¯»ï¼å³ä¸¤æ¬¡æ§è¡åæ ·çæ¥è¯¢ï¼å¯è½ä¼å¾å°ä¸ä¸æ ·çç»æã\n * repeatable readï¼å¯éå¤è¯»ï¼ï¼è¿ä¸ªçº§å«è§£å³äºèè¯»åä¸å¯éå¤è¯»é®é¢ãä¿è¯äºå¨åä¸äºå¡å¤æ¬¡è¯»ååæ ·çè®°å½ç»ææ¯ä¸è´çãä½è¿æ¯æ æ³è§£å³å¹»è¯»é®é¢ï¼å¹»è¯»ææä¸ªäºå¡å¨è¯»åæä¸ªèå´åè®°å½æ¶ï¼å¦ä¸ä¸ªäºå¡åå¨è¯¥èå´åæå¥äºæ°çè®°å½ï¼å½ä¹åçäºå¡åæ¬¡è¯»åè¯¥èå´è®°å½æ¶ï¼ä¼äº§çå¹»è¡ã\n * serializableï¼å¯ä¸²è¡åï¼ï¼æé«çéç¦»çº§å«ãå¼ºå¶äºå¡ä¸²è¡æ§è¡ã\n\n# å¯éå¤è¯»åå¹»è¯»\n\n> å¨å¯éå¤è¯»ä¸­ï¼è¯¥sqlç¬¬ä¸æ¬¡è¯»åå°æ°æ®åï¼å°±å°è¿äºæ°æ®å éï¼æ²è§éï¼ï¼å¶å®äºå¡æ æ³ä¿®æ¹è¿äºæ°æ®ï¼å°±å¯ä»¥å®ç°å¯éå¤è¯»äºãä½è¿ç§æ¹æ³å´æ æ³éä½insertçæ°æ®ï¼æä»¥å½äºå¡aååè¯»åäºæ°æ®ï¼æèä¿®æ¹äºå¨é¨æ°æ®ï¼äºå¡bè¿æ¯å¯ä»¥insertæ°æ®æäº¤ï¼è¿æ¶äºå¡aå°±ä¼åç°è«åå¶å¦å¤äºä¸æ¡ä¹åæ²¡æçæ°æ®ï¼è¿å°±æ¯å¹»è¯»ï¼ä¸è½éè¿è¡éæ¥é¿åãéè¦serializableéç¦»çº§å« ï¼è¯»ç¨è¯»éï¼åç¨åéï¼è¯»éååéäºæ¥ï¼è¿ä¹åå¯ä»¥ææçé¿åå¹»è¯»ãä¸å¯éå¤è¯»ãèè¯»ç­é®é¢ï¼ä½ä¼æå¤§çéä½æ°æ®åºçå¹¶åè½åã\n> \n> ä½æ¯mysqlãoracleãpostgresqlç­æççæ°æ®åºï¼åºäºæ§è½èèï¼é½æ¯ä½¿ç¨äºä»¥ä¹è§éä¸ºçè®ºåºç¡çmvccï¼å¤çæ¬å¹¶åæ§å¶ï¼æ¥å®ç°ã\n> \n> è½¬èªï¼https://www.cnblogs.com/catmelo/p/8878961.html",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"MySQLç®ä»",frontmatter:{title:"MySQLç®ä»",date:"2023-10-24T03:12:56.000Z",permalink:"/pages/c9b13a/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/02.%E6%95%B0%E6%8D%AE%E5%BA%93/02.MySQL/01.MySQL%E7%AE%80%E4%BB%8B.html",relativePath:"01.Java ç¥è¯ä½ç³»/02.æ°æ®åº/02.MySQL/01.MySQLç®ä».md",key:"v-73deb80f",path:"/pages/c9b13a/",headers:[{level:1,title:"å¹¶åæ§å¶",slug:"å¹¶åæ§å¶",normalizedTitle:"å¹¶åæ§å¶",charIndex:175},{level:1,title:"äºå¡",slug:"äºå¡",normalizedTitle:"äºå¡",charIndex:415},{level:1,title:"å¤çæ¬å¹¶åæ§å¶",slug:"å¤çæ¬å¹¶åæ§å¶",normalizedTitle:"å¤çæ¬å¹¶åæ§å¶",charIndex:830}],headersStr:"å¹¶åæ§å¶ äºå¡ å¤çæ¬å¹¶åæ§å¶",content:"MySQLæ¯åºäºå®¢æ·æºââæå¡å¨çDBMSãæå¡å¨é¨åè´è´£æææ°æ®è®¿é®åå¤ççä¸ä¸ªè½¯ä»¶ãå®¢æ·æºæ¯ä¸ç¨æ·æäº¤éçè½¯ä»¶ã\n\nä½¿ç¨MySQLçåå ï¼\n\n * ææ¬ï¼MySQLå¼æºï¼å¯ä»¥åè´¹ä½¿ç¨ã\n * æ§è½ï¼MySQLæ§è¡éå¸¸å¿«ã\n * å¯ä¿¡èµï¼æäºéå¸¸éè¦åå£°æé«çå¬å¸ãç«ç¹ä½¿ç¨MySQLå¤çéè¦æ°æ®ã\n * ç®åï¼MySQLå®¹æå®è£åä½¿ç¨ã\n\n\n# å¹¶åæ§å¶\n\nMySQLæä¸¤ä¸ªå±é¢çå¹¶åæ§å¶ï¼æå¡å¨å±ä¸å­å¨å¼æå±ã\n\néç¨ä½¿ç¨éè§£å³å¹¶åé®é¢ãæä¸¤ç§ç±»åçéï¼å±äº«éåæä»éï¼ä¹å«è¯»éååéãè¯»éæ¯å±äº«çï¼ç¸äºä¸é»å¡ï¼åéæ¯æä»çï¼ä¸ä¸ªåéä¼é»å¡å¶ä»çè¯»ååæä½ã\n\næä¸¤ç§æéè¦çéç­ç¥ï¼è¡¨éåè¡çº§éã\n\nè¡¨éæ¯æåºæ¬çéç­ç¥ï¼å¹¶ä¸æ¯å¼éæå°çç­ç¥ï¼å éä¹æ¯éè¦æ¶èèµæºçï¼ãè¡¨éä¼éå®æ´å¼ è¡¨ã\n\nè¡çº§éå¯ä»¥æå¤§ç¨åº¦æ¯æå¹¶åå¤çï¼åæ¶ä¹å¸¦æ¥æå¤§çéå¼éãè¡çº§éåªå¨å­å¨å¼æå®ç°ãæ¯å¦InnoDBå­å¨å¼æå°±å®ç°äºè¡æ¥éã\n\n\n# äºå¡\n\nMySQLçInnoDBå­å¨å¼ææ¯æäºå¡ã\n\nMySQLé»è®¤èªå¨æäº¤äºå¡ãå¯ä»¥éè¿è®¾ç½®AUTOCOMMITåéæ¥å¯ç¨æèç¦ç¨èªå¨æäº¤äºå¡ã\n\nshow VARIABLES like 'AUTOCOMMIT'; //æ¥çæ¯å¦æ¯èªå¨æäº¤æ¨¡å¼ï¼ONå¯ç¨ï¼OFFç¦ç¨\nSET AUTOCOMMIT=1; //1å¯ç¨èªå¨æäº¤æ¨¡å¼ï¼0ç¦ç¨\n\n\nå¯ä»¥éè¿SET TRANSACTION ISOLATION LEVEL å½ä»¤è®¾ç½®éç¦»çº§å«,æ°çéç¦»çº§å«å¨ä¸ä¸ä¸ªäºå¡å¼å§çæ¶åçæãMySQLçInnoDBå­å¨å¼ææ¯æææéç¦»çº§å«ã\n\nSET TRANSACTION ISOLATION LEVEL READ COMMITED\n\n\nMySQLäºå¡æ¯ç±ä¸å±çå­å¨å¼æå®ç°çï¼æä»¥é¿åå¨åä¸ä¸ªäºå¡ä¸­ï¼ä½¿ç¨å¤ç§å­å¨å¼æãåå¦å¨ä¸ä¸ªäºå¡ä¸­æ··åä½¿ç¨äºäºå¡ååéäºå¡åè¡¨ï¼æ¯å¦InnoDBåMyISAMè¡¨ï¼ï¼åæ»æ¶éäºå¡åè¡¨çæ°æ®æ¯æ æ³åæ»çã\n\n\n# å¤çæ¬å¹¶åæ§å¶\n\nMySQLçå¤§å¤æ°äºå¡åå­å¨å¼æå®ç°çé½ä¸æ¯ç®åçè¡çº§éãä¸ºäºæé«å¹¶åæ§è½ï¼ä¸è¬é½åæ¶å®ç°äºå¤çæ¬å¹¶åæ§å¶ï¼MVCCï¼ã\n\nMVCCæ¯è¡çº§éçä¸ä¸ªåç§ï¼å¨å¤§å¤æ°æåµä¸é¿åäºå éæä½ï¼å æ­¤å¼éæ´ä½ãMVCCçå®ç°ï¼æ¯éè¿ä¿å­æ°æ®å¨æä¸ªæ¶é´ç¹çå¿«ç§æ¥å®ç°çãä¸åå­å¨å¼æçMVCCå®ç°ä¸åï¼å¸åçæä¹è§å¹¶åæ§å¶åæ²è§å¹¶åæ§å¶ã\n\nInnoDBå­å¨å¼æçMVCCæ¯éè¿å¨æ¯è¡è®°å½åé¢ä¿å­ä¸¤ä¸ªéèçåå®ç°çãè¿ä¸¤ä¸ªåï¼ä¸ä¸ªä¿å­è¡çåå»ºæ¶é´ï¼ä¸ä¸ªä¿å­è¡çè¿ææ¶é´ï¼æå é¤æ¶é´ï¼ãå­å¨çä¸æ¯å®éæ¶é´å¼èæ¯ç³»ç»çæ¬å·ãæ¯å¼å§ä¸ä¸ªæ°çäºå¡ï¼ç³»ç»çæ¬å·é½ä¼èªå¨éå¢ã\n\nMVCCå·ä½å®ç°ï¼\n\n * SELECTï¼InnoDBä¼æ ¹æ®ä»¥ä¸ä¸¤ä¸ªæ¡ä»¶æ£æ¥æ¯è¡è®°å½\n   * InnoDBåªæ¥æ¾çæ¬æ©äºå½åäºå¡çæ¬çæ°æ®è¡ï¼ä¹å°±æ¯ï¼è¡çç³»ç»çæ¬å·å°äºæç­äºäºå¡çç³»ç»çæ¬å·ï¼\n   * è¡çå é¤çæ¬è¦ä¹æªå®ä¹ï¼è¦ä¹å¤§äºå½åäºå¡çæ¬å·ã\n * INSERTï¼InnoDBä¸ºæ°æå¥çæ¯ä¸è¡ä¿å­å½åç³»ç»çæ¬å·ä½ä¸ºè¡çæ¬å·\n * DELETEï¼InnoDBä¸ºå é¤çæ¯ä¸è¡ä¿å­å½åç³»ç»çæ¬å·ä½ä¸ºè¡å é¤æ è¯ã\n * UPDATEï¼InnoDBä¸ºæå¥ä¸è¡æ°è®°å½ï¼ä¿å­å½åç³»ç»çæ¬å·ä½ä¸ºè¡çæ¬å·ï¼åæ¶ä¿å­å½åç³»ç»çæ¬å·å°åæ¥çè¡ä½ä¸ºè¡å é¤æ è¯ã\n\nMVCCåªå¨REPEATABLE READ åREAD COMMITTED ä¸¤ä¸ªéç¦»çº§å«ä¸å·¥ä½ãå¶ä»ä¸¤ä¸ªéç¦»çº§å«é½åMVCCä¸å¼å®¹ã",normalizedContent:"mysqlæ¯åºäºå®¢æ·æºââæå¡å¨çdbmsãæå¡å¨é¨åè´è´£æææ°æ®è®¿é®åå¤ççä¸ä¸ªè½¯ä»¶ãå®¢æ·æºæ¯ä¸ç¨æ·æäº¤éçè½¯ä»¶ã\n\nä½¿ç¨mysqlçåå ï¼\n\n * ææ¬ï¼mysqlå¼æºï¼å¯ä»¥åè´¹ä½¿ç¨ã\n * æ§è½ï¼mysqlæ§è¡éå¸¸å¿«ã\n * å¯ä¿¡èµï¼æäºéå¸¸éè¦åå£°æé«çå¬å¸ãç«ç¹ä½¿ç¨mysqlå¤çéè¦æ°æ®ã\n * ç®åï¼mysqlå®¹æå®è£åä½¿ç¨ã\n\n\n# å¹¶åæ§å¶\n\nmysqlæä¸¤ä¸ªå±é¢çå¹¶åæ§å¶ï¼æå¡å¨å±ä¸å­å¨å¼æå±ã\n\néç¨ä½¿ç¨éè§£å³å¹¶åé®é¢ãæä¸¤ç§ç±»åçéï¼å±äº«éåæä»éï¼ä¹å«è¯»éååéãè¯»éæ¯å±äº«çï¼ç¸äºä¸é»å¡ï¼åéæ¯æä»çï¼ä¸ä¸ªåéä¼é»å¡å¶ä»çè¯»ååæä½ã\n\næä¸¤ç§æéè¦çéç­ç¥ï¼è¡¨éåè¡çº§éã\n\nè¡¨éæ¯æåºæ¬çéç­ç¥ï¼å¹¶ä¸æ¯å¼éæå°çç­ç¥ï¼å éä¹æ¯éè¦æ¶èèµæºçï¼ãè¡¨éä¼éå®æ´å¼ è¡¨ã\n\nè¡çº§éå¯ä»¥æå¤§ç¨åº¦æ¯æå¹¶åå¤çï¼åæ¶ä¹å¸¦æ¥æå¤§çéå¼éãè¡çº§éåªå¨å­å¨å¼æå®ç°ãæ¯å¦innodbå­å¨å¼æå°±å®ç°äºè¡æ¥éã\n\n\n# äºå¡\n\nmysqlçinnodbå­å¨å¼ææ¯æäºå¡ã\n\nmysqlé»è®¤èªå¨æäº¤äºå¡ãå¯ä»¥éè¿è®¾ç½®autocommitåéæ¥å¯ç¨æèç¦ç¨èªå¨æäº¤äºå¡ã\n\nshow variables like 'autocommit'; //æ¥çæ¯å¦æ¯èªå¨æäº¤æ¨¡å¼ï¼onå¯ç¨ï¼offç¦ç¨\nset autocommit=1; //1å¯ç¨èªå¨æäº¤æ¨¡å¼ï¼0ç¦ç¨\n\n\nå¯ä»¥éè¿set transaction isolation level å½ä»¤è®¾ç½®éç¦»çº§å«,æ°çéç¦»çº§å«å¨ä¸ä¸ä¸ªäºå¡å¼å§çæ¶åçæãmysqlçinnodbå­å¨å¼ææ¯æææéç¦»çº§å«ã\n\nset transaction isolation level read commited\n\n\nmysqläºå¡æ¯ç±ä¸å±çå­å¨å¼æå®ç°çï¼æä»¥é¿åå¨åä¸ä¸ªäºå¡ä¸­ï¼ä½¿ç¨å¤ç§å­å¨å¼æãåå¦å¨ä¸ä¸ªäºå¡ä¸­æ··åä½¿ç¨äºäºå¡ååéäºå¡åè¡¨ï¼æ¯å¦innodbåmyisamè¡¨ï¼ï¼åæ»æ¶éäºå¡åè¡¨çæ°æ®æ¯æ æ³åæ»çã\n\n\n# å¤çæ¬å¹¶åæ§å¶\n\nmysqlçå¤§å¤æ°äºå¡åå­å¨å¼æå®ç°çé½ä¸æ¯ç®åçè¡çº§éãä¸ºäºæé«å¹¶åæ§è½ï¼ä¸è¬é½åæ¶å®ç°äºå¤çæ¬å¹¶åæ§å¶ï¼mvccï¼ã\n\nmvccæ¯è¡çº§éçä¸ä¸ªåç§ï¼å¨å¤§å¤æ°æåµä¸é¿åäºå éæä½ï¼å æ­¤å¼éæ´ä½ãmvccçå®ç°ï¼æ¯éè¿ä¿å­æ°æ®å¨æä¸ªæ¶é´ç¹çå¿«ç§æ¥å®ç°çãä¸åå­å¨å¼æçmvccå®ç°ä¸åï¼å¸åçæä¹è§å¹¶åæ§å¶åæ²è§å¹¶åæ§å¶ã\n\ninnodbå­å¨å¼æçmvccæ¯éè¿å¨æ¯è¡è®°å½åé¢ä¿å­ä¸¤ä¸ªéèçåå®ç°çãè¿ä¸¤ä¸ªåï¼ä¸ä¸ªä¿å­è¡çåå»ºæ¶é´ï¼ä¸ä¸ªä¿å­è¡çè¿ææ¶é´ï¼æå é¤æ¶é´ï¼ãå­å¨çä¸æ¯å®éæ¶é´å¼èæ¯ç³»ç»çæ¬å·ãæ¯å¼å§ä¸ä¸ªæ°çäºå¡ï¼ç³»ç»çæ¬å·é½ä¼èªå¨éå¢ã\n\nmvccå·ä½å®ç°ï¼\n\n * selectï¼innodbä¼æ ¹æ®ä»¥ä¸ä¸¤ä¸ªæ¡ä»¶æ£æ¥æ¯è¡è®°å½\n   * innodbåªæ¥æ¾çæ¬æ©äºå½åäºå¡çæ¬çæ°æ®è¡ï¼ä¹å°±æ¯ï¼è¡çç³»ç»çæ¬å·å°äºæç­äºäºå¡çç³»ç»çæ¬å·ï¼\n   * è¡çå é¤çæ¬è¦ä¹æªå®ä¹ï¼è¦ä¹å¤§äºå½åäºå¡çæ¬å·ã\n * insertï¼innodbä¸ºæ°æå¥çæ¯ä¸è¡ä¿å­å½åç³»ç»çæ¬å·ä½ä¸ºè¡çæ¬å·\n * deleteï¼innodbä¸ºå é¤çæ¯ä¸è¡ä¿å­å½åç³»ç»çæ¬å·ä½ä¸ºè¡å é¤æ è¯ã\n * updateï¼innodbä¸ºæå¥ä¸è¡æ°è®°å½ï¼ä¿å­å½åç³»ç»çæ¬å·ä½ä¸ºè¡çæ¬å·ï¼åæ¶ä¿å­å½åç³»ç»çæ¬å·å°åæ¥çè¡ä½ä¸ºè¡å é¤æ è¯ã\n\nmvccåªå¨repeatable read åread committed ä¸¤ä¸ªéç¦»çº§å«ä¸å·¥ä½ãå¶ä»ä¸¤ä¸ªéç¦»çº§å«é½åmvccä¸å¼å®¹ã",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"çº¢é»æ ",frontmatter:{title:"çº¢é»æ ",date:"2023-10-24T03:03:59.000Z",permalink:"/pages/b5322d/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/01.%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/01.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/05.%E7%BA%A2%E9%BB%91%E6%A0%91.html",relativePath:"01.Java ç¥è¯ä½ç³»/01.è®¡ç®æºåºç¡/01.æ°æ®ç»æ/05.çº¢é»æ .md",key:"v-618bf0bb",path:"/pages/b5322d/",headers:[{level:1,title:"äºåæ¥æ¾æ ",slug:"äºåæ¥æ¾æ ",normalizedTitle:"äºåæ¥æ¾æ ",charIndex:2},{level:1,title:"çº¢é»æ ",slug:"çº¢é»æ ",normalizedTitle:"çº¢é»æ ",charIndex:159}],headersStr:"äºåæ¥æ¾æ  çº¢é»æ ",content:"# äºåæ¥æ¾æ \n\näºåæ¥æ¾æ ï¼BSTï¼å·å¤ä»ä¹ç¹æ§å¢ï¼\n\n 1. å·¦å­æ ä¸ææç»ç¹çå¼åå°äºæç­äºå®çæ ¹ç»ç¹çå¼ã\n 2. å³å­æ ä¸ææç»ç¹çå¼åå¤§äºæç­äºå®çæ ¹ç»ç¹çå¼ã\n 3. å·¦ãå³å­æ ä¹åå«ä¸ºäºåæåºæ ã\n\nä¸å¾ä¸­è¿æ£µæ ï¼å°±æ¯ä¸é¢å¸åçäºåæ¥æ¾æ ï¼\n\n\n\näºåæ¥æ¾æ ç¬¦åäºåæ³æ¥æ¾ææ³ï¼å©äºæ¥æ¾æ°æ®ã\n\n\n# çº¢é»æ \n\nçº¢é»æ æ¯ä¸ç§èªå¹³è¡¡çäºåæ¥æ¾æ ãé¤äºç¬¦åäºåæ¥æ¾æ çç¹ç¹ï¼è¿å·æä¸åçç¹æ§ï¼\n\n 1. èç¹æ¯çº¢è²æé»è²ã\n 2. æ ¹èç¹æ¯é»è²ã\n 3. æ¯ä¸ªå¶å­èç¹é½æ¯é»è²çç©ºèç¹ï¼NILèç¹ï¼ã\n 4. æ¯ä¸ªçº¢è²èç¹çä¸¤ä¸ªå­èç¹é½æ¯é»è²ã(ä»æ¯ä¸ªå¶å­å°æ ¹çææè·¯å¾ä¸ä¸è½æä¸¤ä¸ªè¿ç»­ççº¢è²èç¹)\n 5. ä»ä»»ä¸èç¹å°å¶æ¯ä¸ªå¶å­çææè·¯å¾é½åå«ç¸åæ°ç®çé»è²èç¹ã\n\nä¸å¾ä¸­è¿æ£µæ ï¼å°±æ¯ä¸é¢å¸åççº¢é»æ ï¼\n\n\n\nçº¢é»æ æ¯éè¿åè²åæè½¬ä¿è¯èªå¹³è¡¡çï¼ä¿è¯çº¢é»æ å§ç»æ¯çº¢é»æ ï¼ãæè½¬ååä¸ºå·¦æè½¬åå³æè½¬ã",normalizedContent:"# äºåæ¥æ¾æ \n\näºåæ¥æ¾æ ï¼bstï¼å·å¤ä»ä¹ç¹æ§å¢ï¼\n\n 1. å·¦å­æ ä¸ææç»ç¹çå¼åå°äºæç­äºå®çæ ¹ç»ç¹çå¼ã\n 2. å³å­æ ä¸ææç»ç¹çå¼åå¤§äºæç­äºå®çæ ¹ç»ç¹çå¼ã\n 3. å·¦ãå³å­æ ä¹åå«ä¸ºäºåæåºæ ã\n\nä¸å¾ä¸­è¿æ£µæ ï¼å°±æ¯ä¸é¢å¸åçäºåæ¥æ¾æ ï¼\n\n\n\näºåæ¥æ¾æ ç¬¦åäºåæ³æ¥æ¾ææ³ï¼å©äºæ¥æ¾æ°æ®ã\n\n\n# çº¢é»æ \n\nçº¢é»æ æ¯ä¸ç§èªå¹³è¡¡çäºåæ¥æ¾æ ãé¤äºç¬¦åäºåæ¥æ¾æ çç¹ç¹ï¼è¿å·æä¸åçç¹æ§ï¼\n\n 1. èç¹æ¯çº¢è²æé»è²ã\n 2. æ ¹èç¹æ¯é»è²ã\n 3. æ¯ä¸ªå¶å­èç¹é½æ¯é»è²çç©ºèç¹ï¼nilèç¹ï¼ã\n 4. æ¯ä¸ªçº¢è²èç¹çä¸¤ä¸ªå­èç¹é½æ¯é»è²ã(ä»æ¯ä¸ªå¶å­å°æ ¹çææè·¯å¾ä¸ä¸è½æä¸¤ä¸ªè¿ç»­ççº¢è²èç¹)\n 5. ä»ä»»ä¸èç¹å°å¶æ¯ä¸ªå¶å­çææè·¯å¾é½åå«ç¸åæ°ç®çé»è²èç¹ã\n\nä¸å¾ä¸­è¿æ£µæ ï¼å°±æ¯ä¸é¢å¸åççº¢é»æ ï¼\n\n\n\nçº¢é»æ æ¯éè¿åè²åæè½¬ä¿è¯èªå¹³è¡¡çï¼ä¿è¯çº¢é»æ å§ç»æ¯çº¢é»æ ï¼ãæè½¬ååä¸ºå·¦æè½¬åå³æè½¬ã",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"MySQLç´¢å¼",frontmatter:{title:"MySQLç´¢å¼",date:"2023-10-24T03:12:56.000Z",permalink:"/pages/17d468/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/02.%E6%95%B0%E6%8D%AE%E5%BA%93/02.MySQL/03.MySQL%E7%B4%A2%E5%BC%95.html",relativePath:"01.Java ç¥è¯ä½ç³»/02.æ°æ®åº/02.MySQL/03.MySQLç´¢å¼.md",key:"v-30655360",path:"/pages/17d468/",headers:[{level:1,title:"ç´¢å¼å®ç°æ¹æ¡",slug:"ç´¢å¼å®ç°æ¹æ¡",normalizedTitle:"ç´¢å¼å®ç°æ¹æ¡",charIndex:290},{level:2,title:"B+æ ",slug:"b-æ ",normalizedTitle:"b+æ ",charIndex:301},{level:1,title:"InnoDBé»è¾å­å¨ç»æ",slug:"innodbé»è¾å­å¨ç»æ",normalizedTitle:"innodbé»è¾å­å¨ç»æ",charIndex:392},{level:2,title:"è¡¨ç©ºé´",slug:"è¡¨ç©ºé´",normalizedTitle:"è¡¨ç©ºé´",charIndex:418},{level:2,title:"æ®µ",slug:"æ®µ",normalizedTitle:"æ®µ",charIndex:439},{level:2,title:"åº",slug:"åº",normalizedTitle:"åº",charIndex:450},{level:2,title:"é¡µ",slug:"é¡µ",normalizedTitle:"é¡µ",charIndex:313},{level:2,title:"è¡",slug:"è¡",normalizedTitle:"è¡",charIndex:112},{level:2,title:"è¡è®°å½æ ¼å¼",slug:"è¡è®°å½æ ¼å¼",normalizedTitle:"è¡è®°å½æ ¼å¼",charIndex:1383},{level:3,title:"Compactè¡è®°å½æ ¼å¼",slug:"compactè¡è®°å½æ ¼å¼",normalizedTitle:"compactè¡è®°å½æ ¼å¼",charIndex:1583},{level:3,title:"Redundantè¡è®°å½æ ¼å¼",slug:"redundantè¡è®°å½æ ¼å¼",normalizedTitle:"redundantè¡è®°å½æ ¼å¼",charIndex:2057},{level:3,title:"è¡æº¢åºæ°æ®",slug:"è¡æº¢åºæ°æ®",normalizedTitle:"è¡æº¢åºæ°æ®",charIndex:2418},{level:3,title:"CompressedåDynamicè¡è®°å½æ ¼å¼",slug:"compressedådynamicè¡è®°å½æ ¼å¼",normalizedTitle:"compressedådynamicè¡è®°å½æ ¼å¼",charIndex:2750},{level:2,title:"InnoDBæ°æ®é¡µç»æ",slug:"innodbæ°æ®é¡µç»æ",normalizedTitle:"innodbæ°æ®é¡µç»æ",charIndex:3068},{level:3,title:"File Header",slug:"file-header",normalizedTitle:"file header",charIndex:3107},{level:3,title:"Page Header",slug:"page-header",normalizedTitle:"page header",charIndex:3127},{level:3,title:"InfimumåSupremum Record",slug:"infimumåsupremum-record",normalizedTitle:"infimumåsupremum record",charIndex:3555},{level:3,title:"User RecordåFree Space",slug:"user-recordåfree-space",normalizedTitle:"user recordåfree space",charIndex:3765},{level:3,title:"Page Directory",slug:"page-directory",normalizedTitle:"page directory",charIndex:3221},{level:3,title:"File Trailer",slug:"file-trailer",normalizedTitle:"file trailer",charIndex:3244},{level:1,title:"ç´¢å¼åç±»",slug:"ç´¢å¼åç±»",normalizedTitle:"ç´¢å¼åç±»",charIndex:4228},{level:2,title:"åè½é»è¾åç±»",slug:"åè½é»è¾åç±»",normalizedTitle:"åè½é»è¾åç±»",charIndex:4237},{level:2,title:"ä½ç¨å­æ®µä¸ªæ°åç±»",slug:"ä½ç¨å­æ®µä¸ªæ°åç±»",normalizedTitle:"ä½ç¨å­æ®µä¸ªæ°åç±»",charIndex:4270},{level:2,title:"ç©çå®ç°æ¹å¼åç±»",slug:"ç©çå®ç°æ¹å¼åç±»",normalizedTitle:"ç©çå®ç°æ¹å¼åç±»",charIndex:4295},{level:3,title:"èç°ç´¢å¼",slug:"èç°ç´¢å¼",normalizedTitle:"èç°ç´¢å¼",charIndex:4308},{level:3,title:"éèç°ç´¢å¼",slug:"éèç°ç´¢å¼",normalizedTitle:"éèç°ç´¢å¼",charIndex:4632},{level:4,title:"è¦çç´¢å¼",slug:"è¦çç´¢å¼",normalizedTitle:"è¦çç´¢å¼",charIndex:4703},{level:1,title:"ç´¢å¼è¯­æ³",slug:"ç´¢å¼è¯­æ³",normalizedTitle:"ç´¢å¼è¯­æ³",charIndex:4762},{level:2,title:"åå»ºç´¢å¼",slug:"åå»ºç´¢å¼",normalizedTitle:"åå»ºç´¢å¼",charIndex:77},{level:3,title:"åå»ºè¡¨æ¶åå»ºç´¢å¼",slug:"åå»ºè¡¨æ¶åå»ºç´¢å¼",normalizedTitle:"åå»ºè¡¨æ¶åå»ºç´¢å¼",charIndex:4884},{level:3,title:"å¨å·²å­å¨çè¡¨ä¸åå»ºç´¢å¼",slug:"å¨å·²å­å¨çè¡¨ä¸åå»ºç´¢å¼",normalizedTitle:"å¨å·²å­å¨çè¡¨ä¸åå»ºç´¢å¼",charIndex:5338},{level:2,title:"æ¥çç´¢å¼",slug:"æ¥çç´¢å¼",normalizedTitle:"æ¥çç´¢å¼",charIndex:5768},{level:2,title:"å é¤ç´¢å¼",slug:"å é¤ç´¢å¼",normalizedTitle:"å é¤ç´¢å¼",charIndex:5803},{level:1,title:"ç´¢å¼è®¾è®¡åå",slug:"ç´¢å¼è®¾è®¡åå",normalizedTitle:"ç´¢å¼è®¾è®¡åå",charIndex:6021},{level:2,title:"åªäºæåµéååå»ºç´¢å¼",slug:"åªäºæåµéååå»ºç´¢å¼",normalizedTitle:"åªäºæåµéååå»ºç´¢å¼",charIndex:6032},{level:3,title:"1.å­æ®µçæ°å¼æå¯ä¸æ§çéå¶",slug:"_1-å­æ®µçæ°å¼æå¯ä¸æ§çéå¶",normalizedTitle:"1.å­æ®µçæ°å¼æå¯ä¸æ§çéå¶",charIndex:6047},{level:3,title:"2.é¢ç¹ä½ä¸ºWHEREæ¥è¯¢æ¡ä»¶çå­æ®µ",slug:"_2-é¢ç¹ä½ä¸ºwhereæ¥è¯¢æ¡ä»¶çå­æ®µ",normalizedTitle:"2.é¢ç¹ä½ä¸ºwhereæ¥è¯¢æ¡ä»¶çå­æ®µ",charIndex:6162},{level:3,title:"3.ç»å¸¸GROUP BY åORDER BY çå",slug:"_3-ç»å¸¸group-by-åorder-by-çå",normalizedTitle:"3.ç»å¸¸group by åorder by çå",charIndex:6268},{level:3,title:"4.UPDATEãDELETEçWHEREæ¡ä»¶å",slug:"_4-updateãdeleteçwhereæ¡ä»¶å",normalizedTitle:"4.updateãdeleteçwhereæ¡ä»¶å",charIndex:6422},{level:3,title:"5.DISTINCTå­æ®µéè¦åå»ºç´¢å¼",slug:"_5-distinctå­æ®µéè¦åå»ºç´¢å¼",normalizedTitle:"5.distinctå­æ®µéè¦åå»ºç´¢å¼",charIndex:6616},{level:3,title:"6.å¤è¡¨JOINè¿æ¥æ¶ï¼å¯¹è¿æ¥çå­æ®µåWHEREæ¡ä»¶åå»ºç´¢å¼",slug:"_6-å¤è¡¨joinè¿æ¥æ¶-å¯¹è¿æ¥çå­æ®µåwhereæ¡ä»¶åå»ºç´¢å¼",normalizedTitle:"6.å¤è¡¨joinè¿æ¥æ¶ï¼å¯¹è¿æ¥çå­æ®µåwhereæ¡ä»¶åå»ºç´¢å¼",charIndex:6672},{level:3,title:"7.ä½¿ç¨åçç±»åå°çåå»ºç´¢å¼",slug:"_7-ä½¿ç¨åçç±»åå°çåå»ºç´¢å¼",normalizedTitle:"7.ä½¿ç¨åçç±»åå°çåå»ºç´¢å¼",charIndex:6707},{level:3,title:"8.ä½¿ç¨å­ç¬¦ä¸²åç¼åå»ºç´¢å¼",slug:"_8-ä½¿ç¨å­ç¬¦ä¸²åç¼åå»ºç´¢å¼",normalizedTitle:"8.ä½¿ç¨å­ç¬¦ä¸²åç¼åå»ºç´¢å¼",charIndex:6726},{level:3,title:"9.åºååº¦é«(æ£åæ§é«)çåéåä½ä¸ºç´¢å¼",slug:"_9-åºååº¦é«-æ£åæ§é«-çåéåä½ä¸ºç´¢å¼",normalizedTitle:"9.åºååº¦é«(æ£åæ§é«)çåéåä½ä¸ºç´¢å¼",charIndex:6915},{level:3,title:"10.ä½¿ç¨æé¢ç¹çåæ¾å°èåç´¢å¼çå·¦ä¾§",slug:"_10-ä½¿ç¨æé¢ç¹çåæ¾å°èåç´¢å¼çå·¦ä¾§",normalizedTitle:"10.ä½¿ç¨æé¢ç¹çåæ¾å°èåç´¢å¼çå·¦ä¾§",charIndex:6940},{level:3,title:"11.å¨å¤ä¸ªå­æ®µé½è¦åå»ºç´¢å¼çæåµä¸ï¼èåç´¢å¼ä¼äºåå¼ç´¢å¼",slug:"_11-å¨å¤ä¸ªå­æ®µé½è¦åå»ºç´¢å¼çæåµä¸-èåç´¢å¼ä¼äºåå¼ç´¢å¼",normalizedTitle:"11.å¨å¤ä¸ªå­æ®µé½è¦åå»ºç´¢å¼çæåµä¸ï¼èåç´¢å¼ä¼äºåå¼ç´¢å¼",charIndex:7008},{level:2,title:"åªäºæåµä¸éååå»ºç´¢å¼",slug:"åªäºæåµä¸éååå»ºç´¢å¼",normalizedTitle:"åªäºæåµä¸éååå»ºç´¢å¼",charIndex:7042},{level:3,title:"1.WHEREä¸­ä½¿ç¨ä¸å°çå­æ®µï¼ä¸è¦è®¾ç½®ç´¢å¼",slug:"_1-whereä¸­ä½¿ç¨ä¸å°çå­æ®µ-ä¸è¦è®¾ç½®ç´¢å¼",normalizedTitle:"1.whereä¸­ä½¿ç¨ä¸å°çå­æ®µï¼ä¸è¦è®¾ç½®ç´¢å¼",charIndex:7058},{level:3,title:"2.æ°æ®éå°çè¡¨æå¥½ä¸è¦ä½¿ç¨ç´¢å¼",slug:"_2-æ°æ®éå°çè¡¨æå¥½ä¸è¦ä½¿ç¨ç´¢å¼",normalizedTitle:"2.æ°æ®éå°çè¡¨æå¥½ä¸è¦ä½¿ç¨ç´¢å¼",charIndex:7085},{level:3,title:"3.æå¤§ééå¤æ°æ®çåä¸ä¸è¦å»ºç«ç´¢å¼",slug:"_3-æå¤§ééå¤æ°æ®çåä¸ä¸è¦å»ºç«ç´¢å¼",normalizedTitle:"3.æå¤§ééå¤æ°æ®çåä¸ä¸è¦å»ºç«ç´¢å¼",charIndex:7106},{level:3,title:"4.é¿åå¯¹ç»å¸¸æ´æ°çè¡¨åå»ºè¿å¤çç´¢å¼",slug:"_4-é¿åå¯¹ç»å¸¸æ´æ°çè¡¨åå»ºè¿å¤çç´¢å¼",normalizedTitle:"4.é¿åå¯¹ç»å¸¸æ´æ°çè¡¨åå»ºè¿å¤çç´¢å¼",charIndex:7129},{level:3,title:"5.ä¸å»ºè®®ç¨æ åºçå¼ä½ä¸ºç´¢å¼",slug:"_5-ä¸å»ºè®®ç¨æ åºçå¼ä½ä¸ºç´¢å¼",normalizedTitle:"5.ä¸å»ºè®®ç¨æ åºçå¼ä½ä¸ºç´¢å¼",charIndex:7152},{level:3,title:"6.å é¤ä¸åä½¿ç¨æèå¾å°ä½¿ç¨çç´¢å¼",slug:"_6-å é¤ä¸åä½¿ç¨æèå¾å°ä½¿ç¨çç´¢å¼",normalizedTitle:"6.å é¤ä¸åä½¿ç¨æèå¾å°ä½¿ç¨çç´¢å¼",charIndex:7232},{level:3,title:"7.ä¸è¦å®ä¹åä½æéå¤çç´¢å¼",slug:"_7-ä¸è¦å®ä¹åä½æéå¤çç´¢å¼",normalizedTitle:"7.ä¸è¦å®ä¹åä½æéå¤çç´¢å¼",charIndex:7254}],headersStr:"ç´¢å¼å®ç°æ¹æ¡ B+æ  InnoDBé»è¾å­å¨ç»æ è¡¨ç©ºé´ æ®µ åº é¡µ è¡ è¡è®°å½æ ¼å¼ Compactè¡è®°å½æ ¼å¼ Redundantè¡è®°å½æ ¼å¼ è¡æº¢åºæ°æ® CompressedåDynamicè¡è®°å½æ ¼å¼ InnoDBæ°æ®é¡µç»æ File Header Page Header InfimumåSupremum Record User RecordåFree Space Page Directory File Trailer ç´¢å¼åç±» åè½é»è¾åç±» ä½ç¨å­æ®µä¸ªæ°åç±» ç©çå®ç°æ¹å¼åç±» èç°ç´¢å¼ éèç°ç´¢å¼ è¦çç´¢å¼ ç´¢å¼è¯­æ³ åå»ºç´¢å¼ åå»ºè¡¨æ¶åå»ºç´¢å¼ å¨å·²å­å¨çè¡¨ä¸åå»ºç´¢å¼ æ¥çç´¢å¼ å é¤ç´¢å¼ ç´¢å¼è®¾è®¡åå åªäºæåµéååå»ºç´¢å¼ 1.å­æ®µçæ°å¼æå¯ä¸æ§çéå¶ 2.é¢ç¹ä½ä¸ºWHEREæ¥è¯¢æ¡ä»¶çå­æ®µ 3.ç»å¸¸GROUP BY åORDER BY çå 4.UPDATEãDELETEçWHEREæ¡ä»¶å 5.DISTINCTå­æ®µéè¦åå»ºç´¢å¼ 6.å¤è¡¨JOINè¿æ¥æ¶ï¼å¯¹è¿æ¥çå­æ®µåWHEREæ¡ä»¶åå»ºç´¢å¼ 7.ä½¿ç¨åçç±»åå°çåå»ºç´¢å¼ 8.ä½¿ç¨å­ç¬¦ä¸²åç¼åå»ºç´¢å¼ 9.åºååº¦é«(æ£åæ§é«)çåéåä½ä¸ºç´¢å¼ 10.ä½¿ç¨æé¢ç¹çåæ¾å°èåç´¢å¼çå·¦ä¾§ 11.å¨å¤ä¸ªå­æ®µé½è¦åå»ºç´¢å¼çæåµä¸ï¼èåç´¢å¼ä¼äºåå¼ç´¢å¼ åªäºæåµä¸éååå»ºç´¢å¼ 1.WHEREä¸­ä½¿ç¨ä¸å°çå­æ®µï¼ä¸è¦è®¾ç½®ç´¢å¼ 2.æ°æ®éå°çè¡¨æå¥½ä¸è¦ä½¿ç¨ç´¢å¼ 3.æå¤§ééå¤æ°æ®çåä¸ä¸è¦å»ºç«ç´¢å¼ 4.é¿åå¯¹ç»å¸¸æ´æ°çè¡¨åå»ºè¿å¤çç´¢å¼ 5.ä¸å»ºè®®ç¨æ åºçå¼ä½ä¸ºç´¢å¼ 6.å é¤ä¸åä½¿ç¨æèå¾å°ä½¿ç¨çç´¢å¼ 7.ä¸è¦å®ä¹åä½æéå¤çç´¢å¼",content:"ç´¢å¼ï¼Indexï¼æ¯å¸®å©MySQLé«æè·åæ°æ®çæ°æ®ç»æãç±å·ä½çå­å¨å¼æå®ç°ã\n\nç´¢å¼çä¼ç¹ï¼\n\n 1. æé«æ°æ®æ£ç´¢çæçï¼éä½æ°æ®åºçIOææ¬ãè¿æ¯åå»ºç´¢å¼æä¸»è¦çåå ã\n\n 2. éè¿åå»ºå¯ä¸ç´¢å¼ï¼ä¿è¯æ°æ®åºè¡¨ä¸­æ¯ä¸è¡æ°æ®çå¯ä¸æ§ã\n\n 3. å¯ä»¥å éè¡¨åè¡¨ä¹é´çè¿æ¥ãå¯¹äºæä¾èµå³ç³»çå­è¡¨åç¶è¡¨èåæ¥è¯¢æ¶ï¼å¯ä»¥æé«æ¥è¯¢éåº¦ã\n\n 4. å¯ä»¥æ¾èåå°æ¥è¯¢ä¸­åç»åæåºçæ¶é´ã\n\nç´¢å¼çç¼ºç¹ï¼\n\n 1. åå»ºç´¢å¼åç»´æ¤ç´¢å¼è¦èè´¹æ¶é´ï¼å¹¶ä¸éçæ°æ®éçå¢å ï¼èè´¹çæ¶é´ä¹ä¼å¢å ã\n 2. ç´¢å¼éè¦å ç£çç©ºé´ã\n 3. ç´¢å¼å¨æé«æ¥è¯¢éåº¦çåæ¶ï¼ä¹ä¼éä½æ´æ°è¡¨çéåº¦ã\n\n\n# ç´¢å¼å®ç°æ¹æ¡\n\n\n# B+æ \n\n\n\nB+æ çæ ¹é¡µé¢ä½ç½®ä¸å¹´ä¸å¨ãInnoDBåMyISAMé»è®¤å®ç°B+æ å®ç°ç´¢å¼ãä½æ¯InnoDBå¶å­èç¹å­å¨çæ¯å®æ´æ°æ®ï¼èMyISAMå­å¨çæ¯æ°æ®è®°å½çå°åã\n\n\n# InnoDBé»è¾å­å¨ç»æ\n\næææ°æ®é½è¢«é»è¾å°å­æ¾å°è¡¨ç©ºé´ï¼tablespaceï¼ãè¡¨ç©ºé´åç±æ®µï¼segmentï¼ãåºï¼extentï¼ãé¡µï¼pageï¼ç»æãå¦ä¸å¾æç¤º\n\n\n\n\n# è¡¨ç©ºé´\n\nè¡¨ç©ºé´æ¯InnoDBå­å¨å¼æé»è¾ç»æçæé«å±ï¼æææ°æ®é½å­æ¾å¨è¡¨ç©ºé´ä¸­ã\n\né»è®¤æåµä¸InnoDBå­å¨å¼ææä¸ä¸ªå±äº«è¡¨ç©ºé´ibdata1ï¼æææ°æ®é½ä¼å­æ¾å¨è¿ä¸ªè¡¨ç©ºé´åãå¦æå¯ç¨äºåæ°innodb_file_per_tableï¼åæ¯å¼ è¡¨åçæ°æ®é½å¯ä»¥å­æ¾å¨åç¬çè¡¨ç©ºé´åï¼ä½æ¯ç´¢å¼ãæå¥ç¼å²Bitmapé¡µï¼å¶ä»ç±»çæ°æ®ï¼å¦åæ»ä¿¡æ¯ï¼æå¥ç¼å²ç´¢å¼é¡µãç³»ç»äºå¡ä¿¡æ¯ï¼äºæ¬¡åç¼å²ç­ï¼è¿æ¯å­æ¾å¨åæ¥çå±äº«è¡¨ç©ºé´ãå³ä½¿å¯ç¨äºåæ°innodb_file_per_tableï¼å±äº«è¡¨ç©ºé´è¿æ¯ä¼ä¸æ­å°å¢å å¶å¤§å°ã\n\næ§è¡rollbackæ¶å¹¶ä¸ä¼åæ¶ç¼©è¡¨ç©ºé´ï¼ä½æ¯ä¼æ ¹æ®éæ±å¤æ­è¿äºç©ºé´æ¯å¦ä¸ºå¯ç¨ç©ºé´ï¼æ¯çè¯è¿äºå¯ç¨ç©ºé´å°ä¼è¢«åæ¬¡ä½¿ç¨ã\n\n\n# æ®µ\n\nè¡¨ç©ºé´ç±åä¸ªæ®µç»æçï¼å¸¸è§çæ®µææ°æ®æ®µãç´¢å¼æ®µãåæ»æ®µç­ã\n\n\n# åº\n\nåºæ¯ç±è¿ç»­é¡µç»æçç©ºé´ï¼å¨ä»»ä½æåµä¸æ¯ä¸ªåºçå¤§å°é½ä¸º1MBã\n\nä¸ºäºä¿è¯åºä¸­é¡µçè¿ç»­æ§ï¼InnoDBå­å¨å¼æä¸æ¬¡ä»ç£çç³è¯·4ï½5ä¸ªåºãå¨é»è®¤æåµä¸ï¼InnoDBå­å¨å¼æé¡µçå¤§å°ä¸º16KBï¼å³ä¸ä¸ªåºä¸­ä¸å±æ64ä¸ªè¿ç»­çé¡µã\n\n\n# é¡µ\n\né¡µæ¯InnoDBç£çç®¡ççæå°åä½ãå¨InnoDBå­å¨å¼æä¸­ï¼é»è®¤æ¯ä¸ªé¡µçå¤§å°ä¸º16KBã\n\nInnoDB 1.2çæ¬åå¯ä»¥éè¿åæ°innodb_page_sizeå°é¡µçå¤§å°è®¾ç½®ä¸º4Kã8Kã16Kã\n\nInnoDBå­å¨å¼æå¸¸è§çé¡µç±»åï¼\n\n * æ°æ®é¡µï¼B-tree Nodeï¼\n * undoé¡µï¼undo Log Pageï¼\n * ç³»ç»é¡µï¼System Pageï¼\n * äºå¡æ°æ®é¡µï¼Transaction system Pageï¼\n * æå¥ç¼å²ä½å¾é¡µï¼Insert Buffer Bitmapï¼\n * æå¥ç¼å²ç©ºé²åè¡¨é¡µï¼Insert Buffer Free Listï¼\n * æªåç¼©çäºè¿å¶å¤§å¯¹è±¡é¡µï¼Uncompressed BLOB Pageï¼\n * åç¼©çäºè¿å¶å¤§å¯¹è±¡é¡µï¼compressed BLOB Pageï¼\n\n\n# è¡\n\nInnoDBå­å¨å¼ææ°æ®æè¡å­æ¾ï¼æå¤åè®¸å­æ¾16KB/2-200è¡çè®°å½ï¼å³7992è¡è®°å½ã\n\n\n# è¡è®°å½æ ¼å¼\n\né¡µä¸­ä¿å­çè¡¨ä¸­ä¸è¡è¡çæ°æ®ãå¨InnoDB 1.0.xçæ¬ä¹åï¼InnoDBå­å¨å¼ææä¾äºCompactåRedundantä¸¤ç§æ ¼å¼æ¥å­æ¾è¡è®°å½æ°æ®ãå¨MySQL 5.1çæ¬ä¸­ï¼é»è®¤è®¾ç½®ä¸ºCompactè¡æ ¼å¼ãå¯ä»¥éè¿å½ä»¤SHOW TABLE STATUS LIKE'table_name'æ¥æ¥çå½åè¡¨ä½¿ç¨çè¡æ ¼å¼ï¼å¶ä¸­row_formatå±æ§è¡¨ç¤ºå½åæä½¿ç¨çè¡è®°å½ç»æç±»åã\n\n\n# Compactè¡è®°å½æ ¼å¼\n\nCompactè¡è®°å½å¨MySQL5.0å¼å¥ï¼è®¾è®¡ç®æ æ¯é«æå­å¨æ°æ®ãå­å¨æ¹å¼å¦ä¸å¾ï¼\n\n\n\nCompactè¡è®°å½æ ¼å¼é¦é¨æ¯ä¸ä¸ªéNULLåé¿å­æ®µé¿åº¦åè¡¨ï¼æç§åçé¡ºåºéåºæ¾ç½®ãé¿åº¦ä¸ºï¼\n\n * è¥åçé¿åº¦å°äº255å­èï¼ç¨1å­èè¡¨ç¤ºï¼\n * è¥å¤§äº255ä¸ªå­èï¼ç¨2å­èè¡¨ç¤ºã\n\nåé¿å­æ®µçé¿åº¦æå¤§ä¸å¯ä»¥è¶è¿2å­èï¼è¿æ¯å å¨MySQLæ°æ®åºä¸­VARCHARç±»åçæå¤§é¿åº¦éå¶ä¸º65535ã\n\nåé¿å­æ®µä¹åçç¬¬äºä¸ªé¨åæ¯NULLæ å¿ä½ï¼è¯¥ä½æç¤ºäºè¯¥è¡æ°æ®ä¸­æ¯å¦æNULLå¼ï¼æåç¨1è¡¨ç¤ºãè¯¥é¨åæå çå­èåºè¯¥ä¸º1å­èã\n\næ¥ä¸æ¥çé¨åæ¯è®°å½å¤´ä¿¡æ¯ï¼record headerï¼ï¼åºå®å ç¨5å­èï¼40ä½ï¼ï¼æ¯ä½çå«ä¹å¦ä¸å¾ï¼\n\n\n\næåé¨åæ¯å®éå­å¨æ¯ä¸ªåçæ°æ®ãNULLä¸å è¯¥é¨åä»»ä½ç©ºé´ï¼å³NULLé¤äºå æNULLæ å¿ä½ï¼å®éå­å¨ä¸å æä»»ä½ç©ºé´ãæ¯è¡æ°æ®é¤äºç¨æ·å®ä¹çåå¤ï¼è¿æä¸¤ä¸ªéèåï¼äºå¡IDåååæ»æéåï¼åå«ä¸º6å­èå7å­èçå¤§å°ãè¥InnoDBè¡¨æ²¡æå®ä¹ä¸»é®ï¼æ¯è¡è¿ä¼å¢å ä¸ä¸ª6å­èçrowidåã\n\n\n# Redundantè¡è®°å½æ ¼å¼\n\nRedundantæ¯MySQL 5.0çæ¬ä¹åInnoDBçè¡è®°å½å­å¨æ¹å¼ï¼MySQL 5.0æ¯æRedundantæ¯ä¸ºäºå¼å®¹ä¹åçæ¬çé¡µæ ¼å¼ãRedundantè¡è®°å½å¦å¾ï¼\n\n\n\nRedundantè¡è®°å½æ ¼å¼çé¦é¨æ¯ä¸ä¸ªå­æ®µé¿åº¦åç§»åè¡¨ï¼åæ ·æ¯æç§åçé¡ºåºéåºæ¾ç½®çãè¥åçé¿åº¦å°äº255å­èï¼ç¨1å­èè¡¨ç¤ºï¼è¥å¤§äº255å­èï¼ç¨2å­èè¡¨ç¤ºã\n\nç¬¬äºä¸ªé¨åä¸ºè®°å½å¤´ä¿¡æ¯ï¼record headerï¼ï¼ä¸åäºCompactè¡è®°å½æ ¼å¼ï¼Redundantè¡è®°å½æ ¼å¼çè®°å½å¤´å ç¨6å­èï¼48ä½ï¼ï¼æ¯ä½å«ä¹å¦å¾ï¼\n\n\n\næåçé¨åä¸ºå®éå­å¨çæ¯ä¸ªåçæ°æ®ã\n\nå¯¹äºVARCHARç±»åçNULLå¼ï¼Redundantè¡è®°å½æ ¼å¼åæ ·ä¸å ç¨ä»»ä½å­å¨ç©ºé´ï¼èCHARç±»åçNULLå¼éè¦å ç¨ç©ºé´ã\n\n\n# è¡æº¢åºæ°æ®\n\nè¡æº¢åºæçæ¯å½é¡µä¸­åªè½å­æ¾ä¸ä¸æ¡è®°å½ï¼InnoDBå­å¨å¼æä¼èªå¨å°è¡æ°æ®å­æ¾å°æº¢åºé¡µã\n\nMySQLå®æ¹æåå®ä¹çVARCHARç±»åæ¯ææå¤§65532å­èï¼ä½å®éè½å­æ¾VARCHARç±»åçæå¤§é¿åº¦ä¸º65532ï¼å ä¸ºè¿æå«çå¼éãåå»ºè¡¨æ¶VARCHARï¼Nï¼ä¸­çNæçæ¯å­ç¬¦çé¿åº¦ãè¿ä¸ªé¿åº¦æ¯æææVARCHARåçé¿åº¦æ»åï¼å¦æåçé¿åº¦æ»åè¶åºè¿ä¸ªé¿åº¦ï¼ä¾ç¶æ æ³åå»ºã\n\nå¨ä¸è¬æåµä¸ï¼InnoDBå­å¨å¼æçæ°æ®é½æ¯å­æ¾å¨é¡µç±»åä¸ºB-tree nodeä¸­ãä½æ¯å½åçè¡æº¢åºæ¶ï¼æ°æ®å­æ¾å¨é¡µç±»åä¸ºUncompress BLOBé¡µä¸­ãè¡æº¢åºæ°æ®å­æ¾æ¹å¼å¦ä¸\n\n\n\nå½åçè¡æº¢åºæ¶ï¼æ°æ®é¡µåªä¿å­åä¸é¨åå­èæ°æ®ï¼åé¢ä¿å­çæ¯åç§»éï¼æåè¡æº¢åºé¡µã\n\n\n# CompressedåDynamicè¡è®°å½æ ¼å¼\n\nInnoDB 1.0.xçæ¬å¼å¥æ°çæä»¶æ ¼å¼Barracudaæä»¶æ ¼å¼ãBarracudaæä»¶æ ¼å¼ä¸æ¥æä¸¤ç§æ°çè¡è®°å½æ ¼å¼ï¼CompressedåDynamicã\n\næ°çä¸¤ç§è®°å½æ ¼å¼å¯¹äºå­æ¾å¨BLOBä¸­çæ°æ®éç¨äºå®å¨çè¡æº¢åºçæ¹å¼ï¼å¦å¾\n\n\n\nå¨æ°æ®é¡µä¸­åªå­æ¾20ä¸ªå­èçæéï¼å®éçæ°æ®é½å­æ¾å¨Off Pageä¸­ï¼èä¹åçCompactåRedundantä¸¤ç§æ ¼å¼ä¼å­æ¾768ä¸ªåç¼å­èã\n\nCompressedè¡è®°å½æ ¼å¼çå¦ä¸ä¸ªåè½å°±æ¯ï¼å­å¨å¨å¶ä¸­çè¡æ°æ®ä¼ä»¥zlibçç®æ³è¿è¡åç¼©ï¼å æ­¤å¯¹äºBLOBãTEXTãVARCHARè¿ç±»å¤§é¿åº¦ç±»åçæ°æ®è½å¤è¿è¡éå¸¸ææçå­å¨ã\n\n\n# InnoDBæ°æ®é¡µç»æ\n\nInnoDBæ°æ®é¡µç±7ä¸ªé¨åç»æï¼å¦å¾æç¤º\n\n * File Headerï¼æä»¶å¤´ï¼\n * Page Headerï¼é¡µå¤´ï¼\n * InfimunåSupremum Records\n * User Recordsï¼ç¨æ·è®°å½ï¼å³è¡è®°å½ï¼\n * Free Spaceï¼ç©ºé²ç©ºé´ï¼\n * Page Directoryï¼é¡µç®å½ï¼\n * File Trailerï¼æä»¶ç»å°¾ä¿¡æ¯ï¼\n\n\n\nå¶ä¸­File HeaderãPage HeaderãFile Trailerçå¤§å°æ¯åºå®çï¼åå«ä¸º38ã56ã8å­èãUser RecordsãFree SpaceãPage Directoryè¿äºé¨åä¸ºå®éçè¡è®°å½å­å¨ç©ºé´ï¼å æ­¤å¤§å°æ¯å¨æçã\n\n\n# File Header\n\nFile Headerç¨æ¥è®°å½ä¸äºå¤´ä¿¡æ¯ï¼å±å ç¨38å­èãç»æé¨åå¦å¾ï¼\n\n\n\nFIL_PAGE_TYPEæ¯InnoDBå­å¨å¼æçç±»åï¼å¸¸è§çç±»åå¦å¾\n\n\n\n\n# Page Header\n\nPage Headerç¨æ¥è®°å½æ°æ®é¡µçç¶æä¿¡æ¯ï¼ç±14é¨åç»æï¼å ç¨56å­èï¼å¦å¾æç¤º\n\n\n\n\n\n\n# InfimumåSupremum Record\n\nInnoDBå­å¨å¼æä¸­ï¼æ¯ä¸ªæ°æ®é¡µä¸­æä¸¤ä¸ªèæçè¡è®°å½ï¼ç¨æ¥éå®è®°å½çè¾¹çãInfimumè®°å½æ¯æ¯è¯¥é¡µä¸­ä»»ä½ä¸»é®å¼é½è¦å°çå¼ï¼Supremumææ¯ä»»ä½å¯è½å¤§çå¼è¿è¦å¤§çå¼ãè¿ä¸¤ä¸ªå¼å¨é¡µåå»ºæ¶è¢«å»ºç«ï¼å¹¶ä¸å¨ä»»ä½æåµä¸ä¸ä¼è¢«å é¤ãå¨Compactè¡æ ¼å¼åRedundantè¡æ ¼å¼ä¸ï¼ä¸¤èå ç¨çå­èæ°åä¸ç¸åãå¾4-7æ¾ç¤ºäºInfimumåSupremumè®°å½ã\n\n\n\n\n# User RecordåFree Space\n\nUser Recordæ¯å®éå­å¨è¡è®°å½çåå®¹ãFree Spaceæ¯ç©ºé²ç©ºé´ï¼ä¹æ¯ä¸ªé¾è¡¨æ°æ®ç»æãä¸æ¡è®°å½è¢«å é¤åï¼è¯¥ç©ºé´ä¼å å¥å°ç©ºé²é¾è¡¨ä¸­ã\n\n\n# Page Directory\n\nPage Directoryï¼é¡µç®å½ï¼å­æ¾äºè®°å½çç¸å¯¹ä½ç½®ï¼é¡µçç¸å¯¹ä½ç½®ï¼èä¸æ¯åç§»éï¼ï¼ææ¶è¿äºè®°å½æéè¢«ç§°ä¸ºSlotsï¼æ§½ï¼æèç®å½æ§½ï¼Directory Slotsï¼\n\n\n# File Trailer\n\nFile Traileråªæä¸ä¸ªFIL_PAGE_END_LSNé¨åï¼å ç¨8å­èãå4å­èä»£è¡¨è¯¥é¡µçchecksumå¼ï¼æå4å­èåFile Headerä¸­çFIL_PAGE_LSNç¸åãå°è¿ä¸¤ä¸ªå¼ä¸File Headerä¸­çFIL_PAGE_SPACE_OR_CHKSUMåFIL_PAGE_LSNå¼è¿è¡æ¯è¾ï¼çæ¯å¦ä¸è´ï¼checksumçæ¯è¾éè¦éè¿InnoDBçchecksumå½æ°æ¥è¿è¡æ¯è¾ï¼ä¸æ¯ç®åçç­å¼æ¯è¾ï¼ï¼ä»¥æ­¤æ¥ä¿è¯é¡µçå®æ´æ§ï¼not corruptedï¼ã\n\n\n# ç´¢å¼åç±»\n\n\n# åè½é»è¾åç±»\n\næ®éç´¢å¼ãå¯ä¸ç´¢å¼ãä¸»é®ç´¢å¼ãå¨æç´¢å¼ã\n\n\n# ä½ç¨å­æ®µä¸ªæ°åç±»\n\nååç´¢å¼åèåç´¢å¼ã\n\n\n# ç©çå®ç°æ¹å¼åç±»\n\n\n# èç°ç´¢å¼\n\nç¹ç¹ï¼\n\n 1. ä½¿ç¨è®°å½ä¸»é®å¼çå¤§å°è¿è¡è®°å½åé¡µçæåºã\n    * é¡µåçè®°å½æç§ä¸»é®é¡ºåºæåºæä¸ä¸ªååé¾è¡¨ã\n    * åä¸ªå­æ¾ç¨æ·è®°å½çé¡µæ ¹æ®é¡µä¸­ç¨æ·è®°å½çä¸»é®å¤§å°ææä¸ä¸ªååé¾è¡¨ã\n    * å­æ¾ç®å½é¡¹è®°å½çé¡µåä¸ºä¸åçå±æ¬¡ï¼å¨åä¸å±æ¬¡ä¸­çé¡µæ ¹æ®ç®å½é¡¹çä¸»é®å¤§å°é¡ºåºææä¸ä¸ªååé¾è¡¨ã\n 2. B+æ çå¶å­èç¹å­å¨çæ¯å®æ´çç¨æ·è®°å½ãå³å­å¨äºææåçå¼ï¼åæ¬éèåï¼\n\nä¼ç¹ï¼\n\n * æ°æ®è®¿é®å¿«ãå ä¸ºç´¢å¼åæ°æ®ä¿å­å¨åä¸ä¸ªB+æ ä¸­ã\n * å¯¹ä¸»é®çæåºæ¥æ¾åèå´æ¥æ¾éåº¦éå¸¸å¿«ã\n\nç¼ºç¹ï¼\n\n * æå¥éåº¦ä¸¥éä¾èµäºæå¥é¡ºåºï¼æç§ä¸»é®çé¡ºåºæå¥æ¯æå¿«çæ¹å¼ã\n * æ´æ°ä¸»é®çä»£ä»·é«ï¼å ä¸ºä¼å¯¼è´è¢«æ´æ°çè¡ç§»å¨ã\n\n\n# éèç°ç´¢å¼\n\néèç°ç´¢å¼å¨èªå·±çB+æ ä¸­åªè½æ¥æ¾å°è®°å½çä¸»é®å¼ãè¦æ¥æ¾å®æ´çç¨æ·è®°å½çè¯ï¼éè¦å°èç°ç´¢å¼ä¸­åæ¥ä¸éï¼è¿ä¸ªè¿ç¨ç§°ä¸ºåè¡¨ã\n\n# è¦çç´¢å¼\n\nä½¿ç¨éèç°ç´¢å¼æ¶ï¼æ¥è¯¢éç¨å°çååå«å¨ç´¢å¼å+ä¸»é®å½ä¸­ãæ­¤æ¶æ é¡»è¿è¡åè¡¨ï¼å°±å¯ä»¥å°æ¥è¯¢æ°æ®è¿åã\n\n\n# ç´¢å¼è¯­æ³\n\n\n# åå»ºç´¢å¼\n\nMySQLæ¯æå¤ç§æ¹æ³å¨åä¸ªæå¤ä¸ªååå»ºç´¢å¼ï¼å¨åå»ºè¡¨çå®ä¹è¯­å¥CREATE TABLEæå®ç´¢å¼åï¼ä½¿ç¨ALTER TABLEè¯­å¥å·²å­å¨è¡¨ä¸åå»ºç´¢å¼ï¼ä½¿ç¨CREATE INDEXè¯­å¥å¨å·²å­å¨è¡¨ä¸æ·»å ç´¢å¼ã\n\n\n# åå»ºè¡¨æ¶åå»ºç´¢å¼\n\nä¸»é®é»è®¤æ·»å ä¸»é®ç´¢å¼ã\n\næ¾ç¤ºåå»ºè¡¨æ¶åå»ºç´¢å¼ï¼è¯­æ³æ ¼å¼å¦ä¸ï¼\n\nCREATE TABLE table_name [col_name data_type]\n[UNIQUE | FULLTEXT | SPATIAL] [INDEX | KEY] [index_name] (col_name [length]) [ASC |\nDESC]\n\n\n * UNIQUE ã FULLTEXT å SPATIAL ä¸ºå¯éåæ°ï¼åå«è¡¨ç¤ºå¯ä¸ç´¢å¼ãå¨æç´¢å¼åç©ºé´ç´¢å¼ï¼\n * INDEX ä¸ KEY ä¸ºåä¹è¯ï¼ä¸¤èçä½ç¨ç¸åï¼ç¨æ¥æå®åå»ºç´¢å¼ï¼\n * index_name æå®ç´¢å¼çåç§°ï¼ä¸ºå¯éåæ°ï¼å¦æä¸æå®ï¼é£ä¹MySQLé»è®¤col_nameä¸ºç´¢å¼åï¼\n * col_name ä¸ºéè¦åå»ºç´¢å¼çå­æ®µåï¼è¯¥åå¿é¡»ä»æ°æ®è¡¨ä¸­å®ä¹çå¤ä¸ªåä¸­éæ©ï¼\n * length ä¸ºå¯éåæ°ï¼è¡¨ç¤ºç´¢å¼çé¿åº¦ï¼åªæå­ç¬¦ä¸²ç±»åçå­æ®µæè½æå®ç´¢å¼é¿åº¦ï¼\n * ASC æ DESC æå®ååºæèéåºçç´¢å¼å¼å­å¨ã\n\n\n# å¨å·²å­å¨çè¡¨ä¸åå»ºç´¢å¼\n\n 1. ä½¿ç¨ALTER TABLEè¯­å¥åå»ºç´¢å¼ ALTER TABLEè¯­å¥åå»ºç´¢å¼çåºæ¬è¯­æ³å¦ä¸ï¼\n    \n    ALTER TABLE table_name ADD [UNIQUE | FULLTEXT | SPATIAL] [INDEX | KEY]\n    [index_name] (col_name[length],...) [ASC | DESC]\n    \n\n 2. ä½¿ç¨CREATE INDEXåå»ºç´¢å¼ CREATE INDEXè¯­å¥å¯ä»¥å¨å·²ç»å­å¨çè¡¨ä¸æ·»å ç´¢å¼ï¼å¨MySQLä¸­ï¼CREATE INDEXè¢«æ å°å°ä¸ä¸ªALTER TABLEè¯­å¥ä¸ï¼åºæ¬è¯­æ³ç»æä¸ºï¼\n    \n    CREATE [UNIQUE | FULLTEXT | SPATIAL] INDEX index_name\n    ON table_name (col_name[length],...) [ASC | DESC]\n    \n\n\n# æ¥çç´¢å¼\n\nSHOW INDEX FROM [TABLE]\n\n\n\n# å é¤ç´¢å¼\n\n 1. ä½¿ç¨ALTER TABLEå é¤ç´¢å¼ ALTER TABLEå é¤ç´¢å¼çåºæ¬è¯­æ³æ ¼å¼å¦ä¸ï¼\n    \n    ALTER TABLE table_name DROP INDEX index_name;\n    \n\n 2. ä½¿ç¨DROP INDEXè¯­å¥å é¤ç´¢å¼ DROP INDEXå é¤ç´¢å¼çåºæ¬è¯­æ³æ ¼å¼å¦ä¸ï¼\n    \n    DROP INDEX index_name ON table_name;\n    \n\n\n# ç´¢å¼è®¾è®¡åå\n\n\n# åªäºæåµéååå»ºç´¢å¼\n\n\n# 1.å­æ®µçæ°å¼æå¯ä¸æ§çéå¶\n\n> ä¸å¡ä¸å·æå¯ä¸ç¹æ§çå­æ®µï¼å³ä½¿æ¯ç»åå­æ®µï¼ä¹å¿é¡»å»ºæå¯ä¸ç´¢å¼ãï¼æ¥æºï¼Alibabaï¼ è¯´æï¼ä¸è¦ä»¥ä¸ºå¯ä¸ç´¢å¼å½±åäº insert éåº¦ï¼è¿ä¸ªéåº¦æèå¯ä»¥å¿½ç¥ï¼ä½æé«æ¥æ¾éåº¦æ¯ææ¾çã\n\n\n# 2.é¢ç¹ä½ä¸ºWHEREæ¥è¯¢æ¡ä»¶çå­æ®µ\n\næä¸ªå­æ®µå¨SELECTè¯­å¥ç WHERE æ¡ä»¶ä¸­ç»å¸¸è¢«ä½¿ç¨å°ï¼é£ä¹å°±éè¦ç»è¿ä¸ªå­æ®µåå»ºç´¢å¼äºãå°¤å¶æ¯å¨æ°æ®éå¤§çæåµä¸ï¼åå»ºæ®éç´¢å¼å°±å¯ä»¥å¤§å¹æåæ°æ®æ¥è¯¢çæçã\n\n\n# 3.ç»å¸¸GROUP BY åORDER BY çå\n\nç´¢å¼å°±æ¯è®©æ°æ®æç§æç§é¡ºåºè¿è¡å­å¨ææ£ç´¢ï¼å æ­¤å½æä»¬ä½¿ç¨ GROUP BY å¯¹æ°æ®è¿è¡åç»æ¥è¯¢ï¼æèä½¿ç¨ ORDER BY å¯¹æ°æ®è¿è¡æåºçæ¶åï¼å°±éè¦ å¯¹åç»æèæåºçå­æ®µè¿è¡ç´¢å¼ ãå¦æå¾æåºçåæå¤ä¸ªï¼é£ä¹å¯ä»¥å¨è¿äºåä¸å»ºç« ç»åç´¢å¼ ã\n\n\n# 4.UPDATEãDELETEçWHEREæ¡ä»¶å\n\nå¯¹æ°æ®æç§æä¸ªæ¡ä»¶è¿è¡æ¥è¯¢ååè¿è¡ UPDATE æ DELETE çæä½ï¼å¦æå¯¹ WHERE å­æ®µåå»ºäºç´¢å¼ï¼å°±è½å¤§å¹æåæçãåçæ¯å ä¸ºæä»¬éè¦åæ ¹æ® WHERE æ¡ä»¶åæ£ç´¢åºæ¥è¿æ¡è®°å½ï¼ç¶ååå¯¹å®è¿è¡æ´æ°æå é¤ãå¦æè¿è¡æ´æ°çæ¶åï¼æ´æ°çå­æ®µæ¯éç´¢å¼å­æ®µï¼æåçæçä¼æ´ææ¾ï¼è¿æ¯å ä¸ºéç´¢å¼å­æ®µæ´æ°ä¸éè¦å¯¹ç´¢å¼è¿è¡ç»´æ¤ã\n\n\n# 5.DISTINCTå­æ®µéè¦åå»ºç´¢å¼\n\nç´¢å¼ä¼å¯¹æ°æ®æç§æç§é¡ºåºè¿è¡æåºï¼æä»¥å¨å»éçæ¶åä¹ä¼å¿«å¾å¤ã\n\n\n# 6.å¤è¡¨JOINè¿æ¥æ¶ï¼å¯¹è¿æ¥çå­æ®µåWHEREæ¡ä»¶åå»ºç´¢å¼\n\n\n# 7.ä½¿ç¨åçç±»åå°çåå»ºç´¢å¼\n\n\n# 8.ä½¿ç¨å­ç¬¦ä¸²åç¼åå»ºç´¢å¼\n\n> å¨ varchar å­æ®µä¸å»ºç«ç´¢å¼æ¶ï¼å¿é¡»æå®ç´¢å¼é¿åº¦ï¼æ²¡å¿è¦å¯¹å¨å­æ®µå»ºç«ç´¢å¼ï¼æ ¹æ®å®éææ¬ åºååº¦å³å®ç´¢å¼é¿åº¦ã è¯´æï¼ç´¢å¼çé¿åº¦ä¸åºååº¦æ¯ä¸å¯¹çç¾ä½ï¼ä¸è¬å¯¹å­ç¬¦ä¸²ç±»åæ°æ®ï¼é¿åº¦ä¸º 20 çç´¢å¼ï¼åºååº¦ä¼ é«è¾¾ 90% ä»¥ä¸ ï¼å¯ä»¥ä½¿ç¨ count(distinct left(åå, ç´¢å¼é¿åº¦))/count(*)çåºååº¦æ¥ç¡®å®ã\n\n\n# 9.åºååº¦é«(æ£åæ§é«)çåéåä½ä¸ºç´¢å¼\n\n\n# 10.ä½¿ç¨æé¢ç¹çåæ¾å°èåç´¢å¼çå·¦ä¾§\n\nè¿æ ·ä¹å¯ä»¥è¾å°çå»ºç«ä¸äºç´¢å¼ãåæ¶ï¼ç±äº\"æå·¦åç¼åå\"ï¼å¯ä»¥å¢å èåç´¢å¼çä½¿ç¨çã\n\n\n# 11.å¨å¤ä¸ªå­æ®µé½è¦åå»ºç´¢å¼çæåµä¸ï¼èåç´¢å¼ä¼äºåå¼ç´¢å¼\n\n\n# åªäºæåµä¸éååå»ºç´¢å¼\n\n\n# 1.WHEREä¸­ä½¿ç¨ä¸å°çå­æ®µï¼ä¸è¦è®¾ç½®ç´¢å¼\n\n\n# 2.æ°æ®éå°çè¡¨æå¥½ä¸è¦ä½¿ç¨ç´¢å¼\n\n\n# 3.æå¤§ééå¤æ°æ®çåä¸ä¸è¦å»ºç«ç´¢å¼\n\n\n# 4.é¿åå¯¹ç»å¸¸æ´æ°çè¡¨åå»ºè¿å¤çç´¢å¼\n\n\n# 5.ä¸å»ºè®®ç¨æ åºçå¼ä½ä¸ºç´¢å¼\n\nä¾å¦èº«ä»½è¯ãUUID(å¨ç´¢å¼æ¯è¾æ¶éè¦è½¬ä¸ºASCIIï¼å¹¶ä¸æå¥æ¶å¯è½é æé¡µåè£)ãMD5ãHASHãæ åºé¿å­ ç¬¦ä¸²ç­ã\n\n\n# 6.å é¤ä¸åä½¿ç¨æèå¾å°ä½¿ç¨çç´¢å¼\n\n\n# 7.ä¸è¦å®ä¹åä½æéå¤çç´¢å¼",normalizedContent:"ç´¢å¼ï¼indexï¼æ¯å¸®å©mysqlé«æè·åæ°æ®çæ°æ®ç»æãç±å·ä½çå­å¨å¼æå®ç°ã\n\nç´¢å¼çä¼ç¹ï¼\n\n 1. æé«æ°æ®æ£ç´¢çæçï¼éä½æ°æ®åºçioææ¬ãè¿æ¯åå»ºç´¢å¼æä¸»è¦çåå ã\n\n 2. éè¿åå»ºå¯ä¸ç´¢å¼ï¼ä¿è¯æ°æ®åºè¡¨ä¸­æ¯ä¸è¡æ°æ®çå¯ä¸æ§ã\n\n 3. å¯ä»¥å éè¡¨åè¡¨ä¹é´çè¿æ¥ãå¯¹äºæä¾èµå³ç³»çå­è¡¨åç¶è¡¨èåæ¥è¯¢æ¶ï¼å¯ä»¥æé«æ¥è¯¢éåº¦ã\n\n 4. å¯ä»¥æ¾èåå°æ¥è¯¢ä¸­åç»åæåºçæ¶é´ã\n\nç´¢å¼çç¼ºç¹ï¼\n\n 1. åå»ºç´¢å¼åç»´æ¤ç´¢å¼è¦èè´¹æ¶é´ï¼å¹¶ä¸éçæ°æ®éçå¢å ï¼èè´¹çæ¶é´ä¹ä¼å¢å ã\n 2. ç´¢å¼éè¦å ç£çç©ºé´ã\n 3. ç´¢å¼å¨æé«æ¥è¯¢éåº¦çåæ¶ï¼ä¹ä¼éä½æ´æ°è¡¨çéåº¦ã\n\n\n# ç´¢å¼å®ç°æ¹æ¡\n\n\n# b+æ \n\n\n\nb+æ çæ ¹é¡µé¢ä½ç½®ä¸å¹´ä¸å¨ãinnodbåmyisamé»è®¤å®ç°b+æ å®ç°ç´¢å¼ãä½æ¯innodbå¶å­èç¹å­å¨çæ¯å®æ´æ°æ®ï¼èmyisamå­å¨çæ¯æ°æ®è®°å½çå°åã\n\n\n# innodbé»è¾å­å¨ç»æ\n\næææ°æ®é½è¢«é»è¾å°å­æ¾å°è¡¨ç©ºé´ï¼tablespaceï¼ãè¡¨ç©ºé´åç±æ®µï¼segmentï¼ãåºï¼extentï¼ãé¡µï¼pageï¼ç»æãå¦ä¸å¾æç¤º\n\n\n\n\n# è¡¨ç©ºé´\n\nè¡¨ç©ºé´æ¯innodbå­å¨å¼æé»è¾ç»æçæé«å±ï¼æææ°æ®é½å­æ¾å¨è¡¨ç©ºé´ä¸­ã\n\né»è®¤æåµä¸innodbå­å¨å¼ææä¸ä¸ªå±äº«è¡¨ç©ºé´ibdata1ï¼æææ°æ®é½ä¼å­æ¾å¨è¿ä¸ªè¡¨ç©ºé´åãå¦æå¯ç¨äºåæ°innodb_file_per_tableï¼åæ¯å¼ è¡¨åçæ°æ®é½å¯ä»¥å­æ¾å¨åç¬çè¡¨ç©ºé´åï¼ä½æ¯ç´¢å¼ãæå¥ç¼å²bitmapé¡µï¼å¶ä»ç±»çæ°æ®ï¼å¦åæ»ä¿¡æ¯ï¼æå¥ç¼å²ç´¢å¼é¡µãç³»ç»äºå¡ä¿¡æ¯ï¼äºæ¬¡åç¼å²ç­ï¼è¿æ¯å­æ¾å¨åæ¥çå±äº«è¡¨ç©ºé´ãå³ä½¿å¯ç¨äºåæ°innodb_file_per_tableï¼å±äº«è¡¨ç©ºé´è¿æ¯ä¼ä¸æ­å°å¢å å¶å¤§å°ã\n\næ§è¡rollbackæ¶å¹¶ä¸ä¼åæ¶ç¼©è¡¨ç©ºé´ï¼ä½æ¯ä¼æ ¹æ®éæ±å¤æ­è¿äºç©ºé´æ¯å¦ä¸ºå¯ç¨ç©ºé´ï¼æ¯çè¯è¿äºå¯ç¨ç©ºé´å°ä¼è¢«åæ¬¡ä½¿ç¨ã\n\n\n# æ®µ\n\nè¡¨ç©ºé´ç±åä¸ªæ®µç»æçï¼å¸¸è§çæ®µææ°æ®æ®µãç´¢å¼æ®µãåæ»æ®µç­ã\n\n\n# åº\n\nåºæ¯ç±è¿ç»­é¡µç»æçç©ºé´ï¼å¨ä»»ä½æåµä¸æ¯ä¸ªåºçå¤§å°é½ä¸º1mbã\n\nä¸ºäºä¿è¯åºä¸­é¡µçè¿ç»­æ§ï¼innodbå­å¨å¼æä¸æ¬¡ä»ç£çç³è¯·4ï½5ä¸ªåºãå¨é»è®¤æåµä¸ï¼innodbå­å¨å¼æé¡µçå¤§å°ä¸º16kbï¼å³ä¸ä¸ªåºä¸­ä¸å±æ64ä¸ªè¿ç»­çé¡µã\n\n\n# é¡µ\n\né¡µæ¯innodbç£çç®¡ççæå°åä½ãå¨innodbå­å¨å¼æä¸­ï¼é»è®¤æ¯ä¸ªé¡µçå¤§å°ä¸º16kbã\n\ninnodb 1.2çæ¬åå¯ä»¥éè¿åæ°innodb_page_sizeå°é¡µçå¤§å°è®¾ç½®ä¸º4kã8kã16kã\n\ninnodbå­å¨å¼æå¸¸è§çé¡µç±»åï¼\n\n * æ°æ®é¡µï¼b-tree nodeï¼\n * undoé¡µï¼undo log pageï¼\n * ç³»ç»é¡µï¼system pageï¼\n * äºå¡æ°æ®é¡µï¼transaction system pageï¼\n * æå¥ç¼å²ä½å¾é¡µï¼insert buffer bitmapï¼\n * æå¥ç¼å²ç©ºé²åè¡¨é¡µï¼insert buffer free listï¼\n * æªåç¼©çäºè¿å¶å¤§å¯¹è±¡é¡µï¼uncompressed blob pageï¼\n * åç¼©çäºè¿å¶å¤§å¯¹è±¡é¡µï¼compressed blob pageï¼\n\n\n# è¡\n\ninnodbå­å¨å¼ææ°æ®æè¡å­æ¾ï¼æå¤åè®¸å­æ¾16kb/2-200è¡çè®°å½ï¼å³7992è¡è®°å½ã\n\n\n# è¡è®°å½æ ¼å¼\n\né¡µä¸­ä¿å­çè¡¨ä¸­ä¸è¡è¡çæ°æ®ãå¨innodb 1.0.xçæ¬ä¹åï¼innodbå­å¨å¼ææä¾äºcompactåredundantä¸¤ç§æ ¼å¼æ¥å­æ¾è¡è®°å½æ°æ®ãå¨mysql 5.1çæ¬ä¸­ï¼é»è®¤è®¾ç½®ä¸ºcompactè¡æ ¼å¼ãå¯ä»¥éè¿å½ä»¤show table status like'table_name'æ¥æ¥çå½åè¡¨ä½¿ç¨çè¡æ ¼å¼ï¼å¶ä¸­row_formatå±æ§è¡¨ç¤ºå½åæä½¿ç¨çè¡è®°å½ç»æç±»åã\n\n\n# compactè¡è®°å½æ ¼å¼\n\ncompactè¡è®°å½å¨mysql5.0å¼å¥ï¼è®¾è®¡ç®æ æ¯é«æå­å¨æ°æ®ãå­å¨æ¹å¼å¦ä¸å¾ï¼\n\n\n\ncompactè¡è®°å½æ ¼å¼é¦é¨æ¯ä¸ä¸ªénullåé¿å­æ®µé¿åº¦åè¡¨ï¼æç§åçé¡ºåºéåºæ¾ç½®ãé¿åº¦ä¸ºï¼\n\n * è¥åçé¿åº¦å°äº255å­èï¼ç¨1å­èè¡¨ç¤ºï¼\n * è¥å¤§äº255ä¸ªå­èï¼ç¨2å­èè¡¨ç¤ºã\n\nåé¿å­æ®µçé¿åº¦æå¤§ä¸å¯ä»¥è¶è¿2å­èï¼è¿æ¯å å¨mysqlæ°æ®åºä¸­varcharç±»åçæå¤§é¿åº¦éå¶ä¸º65535ã\n\nåé¿å­æ®µä¹åçç¬¬äºä¸ªé¨åæ¯nullæ å¿ä½ï¼è¯¥ä½æç¤ºäºè¯¥è¡æ°æ®ä¸­æ¯å¦ænullå¼ï¼æåç¨1è¡¨ç¤ºãè¯¥é¨åæå çå­èåºè¯¥ä¸º1å­èã\n\næ¥ä¸æ¥çé¨åæ¯è®°å½å¤´ä¿¡æ¯ï¼record headerï¼ï¼åºå®å ç¨5å­èï¼40ä½ï¼ï¼æ¯ä½çå«ä¹å¦ä¸å¾ï¼\n\n\n\næåé¨åæ¯å®éå­å¨æ¯ä¸ªåçæ°æ®ãnullä¸å è¯¥é¨åä»»ä½ç©ºé´ï¼å³nullé¤äºå ænullæ å¿ä½ï¼å®éå­å¨ä¸å æä»»ä½ç©ºé´ãæ¯è¡æ°æ®é¤äºç¨æ·å®ä¹çåå¤ï¼è¿æä¸¤ä¸ªéèåï¼äºå¡idåååæ»æéåï¼åå«ä¸º6å­èå7å­èçå¤§å°ãè¥innodbè¡¨æ²¡æå®ä¹ä¸»é®ï¼æ¯è¡è¿ä¼å¢å ä¸ä¸ª6å­èçrowidåã\n\n\n# redundantè¡è®°å½æ ¼å¼\n\nredundantæ¯mysql 5.0çæ¬ä¹åinnodbçè¡è®°å½å­å¨æ¹å¼ï¼mysql 5.0æ¯æredundantæ¯ä¸ºäºå¼å®¹ä¹åçæ¬çé¡µæ ¼å¼ãredundantè¡è®°å½å¦å¾ï¼\n\n\n\nredundantè¡è®°å½æ ¼å¼çé¦é¨æ¯ä¸ä¸ªå­æ®µé¿åº¦åç§»åè¡¨ï¼åæ ·æ¯æç§åçé¡ºåºéåºæ¾ç½®çãè¥åçé¿åº¦å°äº255å­èï¼ç¨1å­èè¡¨ç¤ºï¼è¥å¤§äº255å­èï¼ç¨2å­èè¡¨ç¤ºã\n\nç¬¬äºä¸ªé¨åä¸ºè®°å½å¤´ä¿¡æ¯ï¼record headerï¼ï¼ä¸åäºcompactè¡è®°å½æ ¼å¼ï¼redundantè¡è®°å½æ ¼å¼çè®°å½å¤´å ç¨6å­èï¼48ä½ï¼ï¼æ¯ä½å«ä¹å¦å¾ï¼\n\n\n\næåçé¨åä¸ºå®éå­å¨çæ¯ä¸ªåçæ°æ®ã\n\nå¯¹äºvarcharç±»åçnullå¼ï¼redundantè¡è®°å½æ ¼å¼åæ ·ä¸å ç¨ä»»ä½å­å¨ç©ºé´ï¼ècharç±»åçnullå¼éè¦å ç¨ç©ºé´ã\n\n\n# è¡æº¢åºæ°æ®\n\nè¡æº¢åºæçæ¯å½é¡µä¸­åªè½å­æ¾ä¸ä¸æ¡è®°å½ï¼innodbå­å¨å¼æä¼èªå¨å°è¡æ°æ®å­æ¾å°æº¢åºé¡µã\n\nmysqlå®æ¹æåå®ä¹çvarcharç±»åæ¯ææå¤§65532å­èï¼ä½å®éè½å­æ¾varcharç±»åçæå¤§é¿åº¦ä¸º65532ï¼å ä¸ºè¿æå«çå¼éãåå»ºè¡¨æ¶varcharï¼nï¼ä¸­çnæçæ¯å­ç¬¦çé¿åº¦ãè¿ä¸ªé¿åº¦æ¯ææævarcharåçé¿åº¦æ»åï¼å¦æåçé¿åº¦æ»åè¶åºè¿ä¸ªé¿åº¦ï¼ä¾ç¶æ æ³åå»ºã\n\nå¨ä¸è¬æåµä¸ï¼innodbå­å¨å¼æçæ°æ®é½æ¯å­æ¾å¨é¡µç±»åä¸ºb-tree nodeä¸­ãä½æ¯å½åçè¡æº¢åºæ¶ï¼æ°æ®å­æ¾å¨é¡µç±»åä¸ºuncompress blobé¡µä¸­ãè¡æº¢åºæ°æ®å­æ¾æ¹å¼å¦ä¸\n\n\n\nå½åçè¡æº¢åºæ¶ï¼æ°æ®é¡µåªä¿å­åä¸é¨åå­èæ°æ®ï¼åé¢ä¿å­çæ¯åç§»éï¼æåè¡æº¢åºé¡µã\n\n\n# compressedådynamicè¡è®°å½æ ¼å¼\n\ninnodb 1.0.xçæ¬å¼å¥æ°çæä»¶æ ¼å¼barracudaæä»¶æ ¼å¼ãbarracudaæä»¶æ ¼å¼ä¸æ¥æä¸¤ç§æ°çè¡è®°å½æ ¼å¼ï¼compressedådynamicã\n\næ°çä¸¤ç§è®°å½æ ¼å¼å¯¹äºå­æ¾å¨blobä¸­çæ°æ®éç¨äºå®å¨çè¡æº¢åºçæ¹å¼ï¼å¦å¾\n\n\n\nå¨æ°æ®é¡µä¸­åªå­æ¾20ä¸ªå­èçæéï¼å®éçæ°æ®é½å­æ¾å¨off pageä¸­ï¼èä¹åçcompactåredundantä¸¤ç§æ ¼å¼ä¼å­æ¾768ä¸ªåç¼å­èã\n\ncompressedè¡è®°å½æ ¼å¼çå¦ä¸ä¸ªåè½å°±æ¯ï¼å­å¨å¨å¶ä¸­çè¡æ°æ®ä¼ä»¥zlibçç®æ³è¿è¡åç¼©ï¼å æ­¤å¯¹äºblobãtextãvarcharè¿ç±»å¤§é¿åº¦ç±»åçæ°æ®è½å¤è¿è¡éå¸¸ææçå­å¨ã\n\n\n# innodbæ°æ®é¡µç»æ\n\ninnodbæ°æ®é¡µç±7ä¸ªé¨åç»æï¼å¦å¾æç¤º\n\n * file headerï¼æä»¶å¤´ï¼\n * page headerï¼é¡µå¤´ï¼\n * infimunåsupremum records\n * user recordsï¼ç¨æ·è®°å½ï¼å³è¡è®°å½ï¼\n * free spaceï¼ç©ºé²ç©ºé´ï¼\n * page directoryï¼é¡µç®å½ï¼\n * file trailerï¼æä»¶ç»å°¾ä¿¡æ¯ï¼\n\n\n\nå¶ä¸­file headerãpage headerãfile trailerçå¤§å°æ¯åºå®çï¼åå«ä¸º38ã56ã8å­èãuser recordsãfree spaceãpage directoryè¿äºé¨åä¸ºå®éçè¡è®°å½å­å¨ç©ºé´ï¼å æ­¤å¤§å°æ¯å¨æçã\n\n\n# file header\n\nfile headerç¨æ¥è®°å½ä¸äºå¤´ä¿¡æ¯ï¼å±å ç¨38å­èãç»æé¨åå¦å¾ï¼\n\n\n\nfil_page_typeæ¯innodbå­å¨å¼æçç±»åï¼å¸¸è§çç±»åå¦å¾\n\n\n\n\n# page header\n\npage headerç¨æ¥è®°å½æ°æ®é¡µçç¶æä¿¡æ¯ï¼ç±14é¨åç»æï¼å ç¨56å­èï¼å¦å¾æç¤º\n\n\n\n\n\n\n# infimumåsupremum record\n\ninnodbå­å¨å¼æä¸­ï¼æ¯ä¸ªæ°æ®é¡µä¸­æä¸¤ä¸ªèæçè¡è®°å½ï¼ç¨æ¥éå®è®°å½çè¾¹çãinfimumè®°å½æ¯æ¯è¯¥é¡µä¸­ä»»ä½ä¸»é®å¼é½è¦å°çå¼ï¼supremumææ¯ä»»ä½å¯è½å¤§çå¼è¿è¦å¤§çå¼ãè¿ä¸¤ä¸ªå¼å¨é¡µåå»ºæ¶è¢«å»ºç«ï¼å¹¶ä¸å¨ä»»ä½æåµä¸ä¸ä¼è¢«å é¤ãå¨compactè¡æ ¼å¼åredundantè¡æ ¼å¼ä¸ï¼ä¸¤èå ç¨çå­èæ°åä¸ç¸åãå¾4-7æ¾ç¤ºäºinfimumåsupremumè®°å½ã\n\n\n\n\n# user recordåfree space\n\nuser recordæ¯å®éå­å¨è¡è®°å½çåå®¹ãfree spaceæ¯ç©ºé²ç©ºé´ï¼ä¹æ¯ä¸ªé¾è¡¨æ°æ®ç»æãä¸æ¡è®°å½è¢«å é¤åï¼è¯¥ç©ºé´ä¼å å¥å°ç©ºé²é¾è¡¨ä¸­ã\n\n\n# page directory\n\npage directoryï¼é¡µç®å½ï¼å­æ¾äºè®°å½çç¸å¯¹ä½ç½®ï¼é¡µçç¸å¯¹ä½ç½®ï¼èä¸æ¯åç§»éï¼ï¼ææ¶è¿äºè®°å½æéè¢«ç§°ä¸ºslotsï¼æ§½ï¼æèç®å½æ§½ï¼directory slotsï¼\n\n\n# file trailer\n\nfile traileråªæä¸ä¸ªfil_page_end_lsné¨åï¼å ç¨8å­èãå4å­èä»£è¡¨è¯¥é¡µçchecksumå¼ï¼æå4å­èåfile headerä¸­çfil_page_lsnç¸åãå°è¿ä¸¤ä¸ªå¼ä¸file headerä¸­çfil_page_space_or_chksumåfil_page_lsnå¼è¿è¡æ¯è¾ï¼çæ¯å¦ä¸è´ï¼checksumçæ¯è¾éè¦éè¿innodbçchecksumå½æ°æ¥è¿è¡æ¯è¾ï¼ä¸æ¯ç®åçç­å¼æ¯è¾ï¼ï¼ä»¥æ­¤æ¥ä¿è¯é¡µçå®æ´æ§ï¼not corruptedï¼ã\n\n\n# ç´¢å¼åç±»\n\n\n# åè½é»è¾åç±»\n\næ®éç´¢å¼ãå¯ä¸ç´¢å¼ãä¸»é®ç´¢å¼ãå¨æç´¢å¼ã\n\n\n# ä½ç¨å­æ®µä¸ªæ°åç±»\n\nååç´¢å¼åèåç´¢å¼ã\n\n\n# ç©çå®ç°æ¹å¼åç±»\n\n\n# èç°ç´¢å¼\n\nç¹ç¹ï¼\n\n 1. ä½¿ç¨è®°å½ä¸»é®å¼çå¤§å°è¿è¡è®°å½åé¡µçæåºã\n    * é¡µåçè®°å½æç§ä¸»é®é¡ºåºæåºæä¸ä¸ªååé¾è¡¨ã\n    * åä¸ªå­æ¾ç¨æ·è®°å½çé¡µæ ¹æ®é¡µä¸­ç¨æ·è®°å½çä¸»é®å¤§å°ææä¸ä¸ªååé¾è¡¨ã\n    * å­æ¾ç®å½é¡¹è®°å½çé¡µåä¸ºä¸åçå±æ¬¡ï¼å¨åä¸å±æ¬¡ä¸­çé¡µæ ¹æ®ç®å½é¡¹çä¸»é®å¤§å°é¡ºåºææä¸ä¸ªååé¾è¡¨ã\n 2. b+æ çå¶å­èç¹å­å¨çæ¯å®æ´çç¨æ·è®°å½ãå³å­å¨äºææåçå¼ï¼åæ¬éèåï¼\n\nä¼ç¹ï¼\n\n * æ°æ®è®¿é®å¿«ãå ä¸ºç´¢å¼åæ°æ®ä¿å­å¨åä¸ä¸ªb+æ ä¸­ã\n * å¯¹ä¸»é®çæåºæ¥æ¾åèå´æ¥æ¾éåº¦éå¸¸å¿«ã\n\nç¼ºç¹ï¼\n\n * æå¥éåº¦ä¸¥éä¾èµäºæå¥é¡ºåºï¼æç§ä¸»é®çé¡ºåºæå¥æ¯æå¿«çæ¹å¼ã\n * æ´æ°ä¸»é®çä»£ä»·é«ï¼å ä¸ºä¼å¯¼è´è¢«æ´æ°çè¡ç§»å¨ã\n\n\n# éèç°ç´¢å¼\n\néèç°ç´¢å¼å¨èªå·±çb+æ ä¸­åªè½æ¥æ¾å°è®°å½çä¸»é®å¼ãè¦æ¥æ¾å®æ´çç¨æ·è®°å½çè¯ï¼éè¦å°èç°ç´¢å¼ä¸­åæ¥ä¸éï¼è¿ä¸ªè¿ç¨ç§°ä¸ºåè¡¨ã\n\n# è¦çç´¢å¼\n\nä½¿ç¨éèç°ç´¢å¼æ¶ï¼æ¥è¯¢éç¨å°çååå«å¨ç´¢å¼å+ä¸»é®å½ä¸­ãæ­¤æ¶æ é¡»è¿è¡åè¡¨ï¼å°±å¯ä»¥å°æ¥è¯¢æ°æ®è¿åã\n\n\n# ç´¢å¼è¯­æ³\n\n\n# åå»ºç´¢å¼\n\nmysqlæ¯æå¤ç§æ¹æ³å¨åä¸ªæå¤ä¸ªååå»ºç´¢å¼ï¼å¨åå»ºè¡¨çå®ä¹è¯­å¥create tableæå®ç´¢å¼åï¼ä½¿ç¨alter tableè¯­å¥å·²å­å¨è¡¨ä¸åå»ºç´¢å¼ï¼ä½¿ç¨create indexè¯­å¥å¨å·²å­å¨è¡¨ä¸æ·»å ç´¢å¼ã\n\n\n# åå»ºè¡¨æ¶åå»ºç´¢å¼\n\nä¸»é®é»è®¤æ·»å ä¸»é®ç´¢å¼ã\n\næ¾ç¤ºåå»ºè¡¨æ¶åå»ºç´¢å¼ï¼è¯­æ³æ ¼å¼å¦ä¸ï¼\n\ncreate table table_name [col_name data_type]\n[unique | fulltext | spatial] [index | key] [index_name] (col_name [length]) [asc |\ndesc]\n\n\n * unique ã fulltext å spatial ä¸ºå¯éåæ°ï¼åå«è¡¨ç¤ºå¯ä¸ç´¢å¼ãå¨æç´¢å¼åç©ºé´ç´¢å¼ï¼\n * index ä¸ key ä¸ºåä¹è¯ï¼ä¸¤èçä½ç¨ç¸åï¼ç¨æ¥æå®åå»ºç´¢å¼ï¼\n * index_name æå®ç´¢å¼çåç§°ï¼ä¸ºå¯éåæ°ï¼å¦æä¸æå®ï¼é£ä¹mysqlé»è®¤col_nameä¸ºç´¢å¼åï¼\n * col_name ä¸ºéè¦åå»ºç´¢å¼çå­æ®µåï¼è¯¥åå¿é¡»ä»æ°æ®è¡¨ä¸­å®ä¹çå¤ä¸ªåä¸­éæ©ï¼\n * length ä¸ºå¯éåæ°ï¼è¡¨ç¤ºç´¢å¼çé¿åº¦ï¼åªæå­ç¬¦ä¸²ç±»åçå­æ®µæè½æå®ç´¢å¼é¿åº¦ï¼\n * asc æ desc æå®ååºæèéåºçç´¢å¼å¼å­å¨ã\n\n\n# å¨å·²å­å¨çè¡¨ä¸åå»ºç´¢å¼\n\n 1. ä½¿ç¨alter tableè¯­å¥åå»ºç´¢å¼ alter tableè¯­å¥åå»ºç´¢å¼çåºæ¬è¯­æ³å¦ä¸ï¼\n    \n    alter table table_name add [unique | fulltext | spatial] [index | key]\n    [index_name] (col_name[length],...) [asc | desc]\n    \n\n 2. ä½¿ç¨create indexåå»ºç´¢å¼ create indexè¯­å¥å¯ä»¥å¨å·²ç»å­å¨çè¡¨ä¸æ·»å ç´¢å¼ï¼å¨mysqlä¸­ï¼create indexè¢«æ å°å°ä¸ä¸ªalter tableè¯­å¥ä¸ï¼åºæ¬è¯­æ³ç»æä¸ºï¼\n    \n    create [unique | fulltext | spatial] index index_name\n    on table_name (col_name[length],...) [asc | desc]\n    \n\n\n# æ¥çç´¢å¼\n\nshow index from [table]\n\n\n\n# å é¤ç´¢å¼\n\n 1. ä½¿ç¨alter tableå é¤ç´¢å¼ alter tableå é¤ç´¢å¼çåºæ¬è¯­æ³æ ¼å¼å¦ä¸ï¼\n    \n    alter table table_name drop index index_name;\n    \n\n 2. ä½¿ç¨drop indexè¯­å¥å é¤ç´¢å¼ drop indexå é¤ç´¢å¼çåºæ¬è¯­æ³æ ¼å¼å¦ä¸ï¼\n    \n    drop index index_name on table_name;\n    \n\n\n# ç´¢å¼è®¾è®¡åå\n\n\n# åªäºæåµéååå»ºç´¢å¼\n\n\n# 1.å­æ®µçæ°å¼æå¯ä¸æ§çéå¶\n\n> ä¸å¡ä¸å·æå¯ä¸ç¹æ§çå­æ®µï¼å³ä½¿æ¯ç»åå­æ®µï¼ä¹å¿é¡»å»ºæå¯ä¸ç´¢å¼ãï¼æ¥æºï¼alibabaï¼ è¯´æï¼ä¸è¦ä»¥ä¸ºå¯ä¸ç´¢å¼å½±åäº insert éåº¦ï¼è¿ä¸ªéåº¦æèå¯ä»¥å¿½ç¥ï¼ä½æé«æ¥æ¾éåº¦æ¯ææ¾çã\n\n\n# 2.é¢ç¹ä½ä¸ºwhereæ¥è¯¢æ¡ä»¶çå­æ®µ\n\næä¸ªå­æ®µå¨selectè¯­å¥ç where æ¡ä»¶ä¸­ç»å¸¸è¢«ä½¿ç¨å°ï¼é£ä¹å°±éè¦ç»è¿ä¸ªå­æ®µåå»ºç´¢å¼äºãå°¤å¶æ¯å¨æ°æ®éå¤§çæåµä¸ï¼åå»ºæ®éç´¢å¼å°±å¯ä»¥å¤§å¹æåæ°æ®æ¥è¯¢çæçã\n\n\n# 3.ç»å¸¸group by åorder by çå\n\nç´¢å¼å°±æ¯è®©æ°æ®æç§æç§é¡ºåºè¿è¡å­å¨ææ£ç´¢ï¼å æ­¤å½æä»¬ä½¿ç¨ group by å¯¹æ°æ®è¿è¡åç»æ¥è¯¢ï¼æèä½¿ç¨ order by å¯¹æ°æ®è¿è¡æåºçæ¶åï¼å°±éè¦ å¯¹åç»æèæåºçå­æ®µè¿è¡ç´¢å¼ ãå¦æå¾æåºçåæå¤ä¸ªï¼é£ä¹å¯ä»¥å¨è¿äºåä¸å»ºç« ç»åç´¢å¼ ã\n\n\n# 4.updateãdeleteçwhereæ¡ä»¶å\n\nå¯¹æ°æ®æç§æä¸ªæ¡ä»¶è¿è¡æ¥è¯¢ååè¿è¡ update æ delete çæä½ï¼å¦æå¯¹ where å­æ®µåå»ºäºç´¢å¼ï¼å°±è½å¤§å¹æåæçãåçæ¯å ä¸ºæä»¬éè¦åæ ¹æ® where æ¡ä»¶åæ£ç´¢åºæ¥è¿æ¡è®°å½ï¼ç¶ååå¯¹å®è¿è¡æ´æ°æå é¤ãå¦æè¿è¡æ´æ°çæ¶åï¼æ´æ°çå­æ®µæ¯éç´¢å¼å­æ®µï¼æåçæçä¼æ´ææ¾ï¼è¿æ¯å ä¸ºéç´¢å¼å­æ®µæ´æ°ä¸éè¦å¯¹ç´¢å¼è¿è¡ç»´æ¤ã\n\n\n# 5.distinctå­æ®µéè¦åå»ºç´¢å¼\n\nç´¢å¼ä¼å¯¹æ°æ®æç§æç§é¡ºåºè¿è¡æåºï¼æä»¥å¨å»éçæ¶åä¹ä¼å¿«å¾å¤ã\n\n\n# 6.å¤è¡¨joinè¿æ¥æ¶ï¼å¯¹è¿æ¥çå­æ®µåwhereæ¡ä»¶åå»ºç´¢å¼\n\n\n# 7.ä½¿ç¨åçç±»åå°çåå»ºç´¢å¼\n\n\n# 8.ä½¿ç¨å­ç¬¦ä¸²åç¼åå»ºç´¢å¼\n\n> å¨ varchar å­æ®µä¸å»ºç«ç´¢å¼æ¶ï¼å¿é¡»æå®ç´¢å¼é¿åº¦ï¼æ²¡å¿è¦å¯¹å¨å­æ®µå»ºç«ç´¢å¼ï¼æ ¹æ®å®éææ¬ åºååº¦å³å®ç´¢å¼é¿åº¦ã è¯´æï¼ç´¢å¼çé¿åº¦ä¸åºååº¦æ¯ä¸å¯¹çç¾ä½ï¼ä¸è¬å¯¹å­ç¬¦ä¸²ç±»åæ°æ®ï¼é¿åº¦ä¸º 20 çç´¢å¼ï¼åºååº¦ä¼ é«è¾¾ 90% ä»¥ä¸ ï¼å¯ä»¥ä½¿ç¨ count(distinct left(åå, ç´¢å¼é¿åº¦))/count(*)çåºååº¦æ¥ç¡®å®ã\n\n\n# 9.åºååº¦é«(æ£åæ§é«)çåéåä½ä¸ºç´¢å¼\n\n\n# 10.ä½¿ç¨æé¢ç¹çåæ¾å°èåç´¢å¼çå·¦ä¾§\n\nè¿æ ·ä¹å¯ä»¥è¾å°çå»ºç«ä¸äºç´¢å¼ãåæ¶ï¼ç±äº\"æå·¦åç¼åå\"ï¼å¯ä»¥å¢å èåç´¢å¼çä½¿ç¨çã\n\n\n# 11.å¨å¤ä¸ªå­æ®µé½è¦åå»ºç´¢å¼çæåµä¸ï¼èåç´¢å¼ä¼äºåå¼ç´¢å¼\n\n\n# åªäºæåµä¸éååå»ºç´¢å¼\n\n\n# 1.whereä¸­ä½¿ç¨ä¸å°çå­æ®µï¼ä¸è¦è®¾ç½®ç´¢å¼\n\n\n# 2.æ°æ®éå°çè¡¨æå¥½ä¸è¦ä½¿ç¨ç´¢å¼\n\n\n# 3.æå¤§ééå¤æ°æ®çåä¸ä¸è¦å»ºç«ç´¢å¼\n\n\n# 4.é¿åå¯¹ç»å¸¸æ´æ°çè¡¨åå»ºè¿å¤çç´¢å¼\n\n\n# 5.ä¸å»ºè®®ç¨æ åºçå¼ä½ä¸ºç´¢å¼\n\nä¾å¦èº«ä»½è¯ãuuid(å¨ç´¢å¼æ¯è¾æ¶éè¦è½¬ä¸ºasciiï¼å¹¶ä¸æå¥æ¶å¯è½é æé¡µåè£)ãmd5ãhashãæ åºé¿å­ ç¬¦ä¸²ç­ã\n\n\n# 6.å é¤ä¸åä½¿ç¨æèå¾å°ä½¿ç¨çç´¢å¼\n\n\n# 7.ä¸è¦å®ä¹åä½æéå¤çç´¢å¼",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"MySQLä½ç³»ç»æ",frontmatter:{title:"MySQLä½ç³»ç»æ",date:"2023-10-24T03:12:56.000Z",permalink:"/pages/198df0/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/02.%E6%95%B0%E6%8D%AE%E5%BA%93/02.MySQL/02.MySQL%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84.html",relativePath:"01.Java ç¥è¯ä½ç³»/02.æ°æ®åº/02.MySQL/02.MySQLä½ç³»ç»æ.md",key:"v-f91ab4be",path:"/pages/198df0/",headers:[{level:1,title:"MySQLé»è¾æ¶æ",slug:"mysqlé»è¾æ¶æ",normalizedTitle:"mysqlé»è¾æ¶æ",charIndex:2},{level:1,title:"SQLæ§è¡æµç¨",slug:"sqlæ§è¡æµç¨",normalizedTitle:"sqlæ§è¡æµç¨",charIndex:1058},{level:1,title:"MySQLå­å¨å¼æ",slug:"mysqlå­å¨å¼æ",normalizedTitle:"mysqlå­å¨å¼æ",charIndex:1627},{level:2,title:"InnoDBå­å¨å¼æ",slug:"innodbå­å¨å¼æ",normalizedTitle:"innodbå­å¨å¼æ",charIndex:1641},{level:2,title:"MyISAMå­å¨å¼æ",slug:"myisamå­å¨å¼æ",normalizedTitle:"myisamå­å¨å¼æ",charIndex:1792}],headersStr:"MySQLé»è¾æ¶æ SQLæ§è¡æµç¨ MySQLå­å¨å¼æ InnoDBå­å¨å¼æ MyISAMå­å¨å¼æ",content:"# MySQLé»è¾æ¶æ\n\nå¾ä¸ºMySQL5.7çæ¬å¸åçé»è¾æ¶æå¾\n\n\n\nMySQLé»è¾æ¶æåä¸ºä¸å±ï¼åå«æ¯è¿æ¥å±ãæå¡å±ãå­å¨å¼æå±ã\n\nç¬¬ä¸å±è¿æ¥å±æ¯è¿è¡è¿æ¥ç®¡ççï¼åæ¬è¿æ¥å¤çãèº«ä»½è®¤è¯ãæéè·åãå®å¨ç­åè½ãå®¢æ·ç«¯éè¿TCPè¿æ¥MySQLæå¡å¨ï¼MySQLæå¡å¨å¯¹ä¼ è¾è¿æ¥çè´¦å·å¯ç è¿è¡èº«ä»½è®¤è¯åæéè·åã\n\n * ç¨æ·ååå¯ç ä¸å¯¹ï¼ä¼æ¶å°ä¸ä¸ªAccess denied for useréè¯¯ï¼å®¢æ·ç«¯ç¨åºç»ææ§è¡\n * ç¨æ·åå¯ç è®¤è¯éè¿ï¼ä¼ä»æéè¡¨æ¥åºè´¦å·æ¥æçæéä¸è¿æ¥å³èï¼ä¹åçæéå¤æ­é»è¾ï¼é½å°ä¾èµäºæ­¤æ¶è¯»å°çæé\n\nMySQLä¼ä»çº¿ç¨æ± åéä¸ä¸ªçº¿ç¨ä¸é¨ä¸è¿ä¸ªå®¢æ·ç«¯è¿è¡äº¤äºï¼æ¯ä¸ªè¿æ¥é½ä»çº¿ç¨æ± è·åï¼çå»åå»ºåéæ¯çº¿ç¨çå¼éã\n\nç¬¬äºå±æ¯æå¡å±ï¼åæ¬SQLæ¥å£ãè§£æå¨ãä¼åå¨ãæ¥è¯¢ç¼å­ã\n\nSQLæ¥å£ï¼SQL Interfaceï¼ï¼æ¥æ¶ç¨æ·çSQLå½ä»¤ï¼å¹¶ä¸è¿åç¨æ·æ¥è¯¢çç»æãæ¯æDMLãDDLãå­å¨è¿ç¨ãè§å¾ãè§¦åå¨ãèªå®ä¹å½æ°ç­å¤ç§SQLè¯­è¨æ¥å£ã\n\nè§£æå¨ï¼Parserï¼ï¼å¯¹SQLå½ä»¤è¿è¡éªè¯åè§£æï¼å¹¶ä¸ºå¶åå»ºè¯­æ³æ ï¼æ ¹æ®æ°æ®å­å¸ä¸°å¯æ¥è¯¢è¯­æ³æ ï¼ä¼éªè¯è¯¥å®¢æ·ç«¯æ¯å¦å·ææ§è¡è¯¥æ¥è¯¢çæéãåç»­SQLè¯­å¥çä¼ éåå¤çé½æ¯åºäºè¿ä¸ªç»æçã\n\nä¼åå¨ï¼Optimizerï¼ï¼SQLè¯­å¥è§£æåï¼æ¥è¯¢ä¹åç¨æ¥è¯¢ä¼åå¨ç¡®å®SQLè¯­å¥çæ§è¡è·¯å¾ï¼çæä¸ä¸ªæ§è¡è®¡åãè¿ä¸ªæ§è¡è®¡åè¡¨æåºè¯¥ä½¿ç¨åªäºç´¢å¼è¿è¡æ¥è¯¢ï¼è¡¨ä¹é´çè¿æ¥é¡ºåºå¦ä½ï¼æåä¼å®è£æ§è¡è®¡åçæ­¥éª¤è°ç¨å­å¨å¼ææä¾çæ¹æ³æ¥çæ­£æ§è¡æ¥è¯¢ï¼å¹¶å°æ¥è¯¢ç»æè¿åç»ç¨æ·ãä½¿ç¨éå-æå½±-è¿æ¥ç­ç¥è¿è¡æ¥è¯¢ã\n\nSELECT id,name FROM student WHERE gender = 'å¥³';\n\n\nè¿ä¸ªSELECTæ¥è¯¢åæ ¹æ®WHEREè¯­å¥è¿è¡éåï¼èä¸æ¯å°è¡¨å¨é¨æ¥è¯¢åºæ¥ä»¥ååè¿è¡genderè¿æ»¤ãè¿ä¸ªSELECTæ¥è¯¢åæ ¹æ®idånameè¿è¡å±æ§æå½±ï¼èä¸æ¯å°å±æ§å¨é¨ååºä»¥ååè¿è¡è¿ æ»¤ï¼å°è¿ä¸¤ä¸ªæ¥è¯¢æ¡ä»¶è¿æ¥èµ·æ¥çææç»æ¥è¯¢ç»æã\n\næ¥è¯¢ç¼å­ï¼Caches&Buffersï¼ï¼æ¥è¯¢ç¼å­å¯ä»¥ç¨æ¥ç¼å­ä¸æ¡SELECTè¯­å¥çæ§è¡ç»æï¼å¦æè½æ¾å°å¯¹åºçæ§è¡ç»æï¼å°±ç´æ¥å°ç»æè¿åï¼ä¸å¿è¿è¡æ¥è¯¢è§£æãä¼åãæ§è¡ç­è¿ç¨ãæ¥è¯¢ç¼å­å¨ä¸åå®¢æ·ç«¯ä¹é´å±äº«ãæ¥è¯¢ç¼å­å¨MySQL8.0å é¤ã\n\nç¬¬ä¸å±æ¯å­å¨å¼æå±ï¼è´è´£æ°æ®çå­å¨åæåãæå¡å¨éè¿APIä¸å­å¨å¼æè¿è¡éä¿¡ãä¸åçå­å¨å¼æå·æçåè½ä¸åã\n\nMySQL 8.25é»è®¤çæ¯æçå­å¨å¼æå¦ä¸ï¼\n\n\n\n\n# SQLæ§è¡æµç¨\n\n\n\nMySQlä¸­çæ¥è¯¢æµç¨ï¼\n\n 1. æ¥è¯¢ç¼å­ï¼æå¡å¨å¦æå¨æ¥è¯¢ç¼å­ä¸­åç°è¿æ¡SQLè¯­å¥ï¼å°±ä¼ç´æ¥å°ç»æè¿åç»å®¢æ·ç«¯ï¼å¦ææ²¡æåç°ï¼å°±è¿å¥è§£æå¨é¶æ®µã\n\n 2. è§£æå¨ï¼å¯¹SQLè¯­å¥è¿è¡è¯­æ³åæãè¯­ä¹æ£æ¥ãåæå¨ååâè¯æ³åæâï¼è¾å¥çå¤ä¸ªå­ç¬¦ä¸²åç©ºæ ¼ç»æçä¸æ¡SQLè¯­å¥ï¼MySQLéè¦è¯å«éé¢å­ç¬¦ä¸²åå«æ¯ä»ä¹ï¼ä»£è¡¨ä»ä¹ãæ¯å¦âselectâå³é®å­è¯å«ææ¥è¯¢è¯­å¥ï¼å­ç¬¦ä¸²âTâè¯å«æè¡¨åãååè¯­æ³åæãæ ¹æ¬è¯æ³åæçç»æï¼è¯­æ³åæå¨ä¼æ ¹æ®è¯­æ³è§åï¼å¤æ­SQLè¯­å¥æ¯å¦æ»¡è¶³MySQLè¯­æ³ãå¦æSQLè¯­å¥æ­£ç¡®çè¯å°±ä¼çæä¸ä¸ªè¯­æ³æ ãæ¯å¦ï¼\n    \n    select username ismale from userinfo where age>20 and level>5 and 1=1\n    \n    \n    ä¼çæä¸ä¸ªè¿æ ·çè¯­æ³æ \n\n 3. ä¼åå¨ï¼ç¡®å®SQLè¯­å¥çæ§è¡è®¡åãæ¯å¦æ¯æ ¹æ®å¨è¡¨æ£ç´¢è¿æ¯æ ¹æ®ç´¢å¼æ£ç´¢ç­ãå¨æ¥è¯¢ä¼åå¨ä¸­ï¼å¯ä»¥åä¸ºé»è¾æ¥è¯¢ä¼åé¶æ®µåç©çæ¥è¯¢ä¼åé¶æ®µãç¡®å®æ§è¡è®¡ååè¿å¥æ§è¡å¨é¶æ®µ\n\n 4. æ§è¡å¨ï¼å¨æ§è¡ä¹åå¤æ­è¯¥ç¨æ·æ¯å¦å·å¤æéãå¦ææ²¡æï¼å°±ä¼è¿åæééè¯¯ãå¦æå·å¤æéï¼å°±æ§è¡SQLæ¥è¯¢å¹¶è¿åç»æãå¨MySQL8.0ä»¥ä¸ççæ¬ï¼å¦æè®¾ç½®æ¥è¯¢ç¼å­ï¼ä¼å°ç»æè¿è¡ç¼å­ã\n\n\n# MySQLå­å¨å¼æ\n\n\n# InnoDBå­å¨å¼æ\n\nMYSQL5.5çæ¬é»è®¤çå­å¨å¼æãInnoDBéç¨MVCCæ¥æ¯æé«å¹¶åï¼å¹¶ä¸å®ç°åä¸ªæ åçéç¦»çº§å«ãé»è®¤éç¦»çº§å«æ¯REPEATABLE READï¼å¯éå¤è¯»ï¼ï¼å¹¶ä¸éè¿é´ééç­ç¥é²æ­¢å¹»è¯»ã\n\nInnoDBè¡¨æ¯åºäºèç°ç´¢å¼å»ºç«çã\n\nInnoDBæ¯æäºå¡ãè¡çº§éãå¤é®ã\n\n\n# MyISAMå­å¨å¼æ\n\nMyISAMä¸æ¯æäºå¡ãè¡çº§éãå¤é®ã",normalizedContent:"# mysqlé»è¾æ¶æ\n\nå¾ä¸ºmysql5.7çæ¬å¸åçé»è¾æ¶æå¾\n\n\n\nmysqlé»è¾æ¶æåä¸ºä¸å±ï¼åå«æ¯è¿æ¥å±ãæå¡å±ãå­å¨å¼æå±ã\n\nç¬¬ä¸å±è¿æ¥å±æ¯è¿è¡è¿æ¥ç®¡ççï¼åæ¬è¿æ¥å¤çãèº«ä»½è®¤è¯ãæéè·åãå®å¨ç­åè½ãå®¢æ·ç«¯éè¿tcpè¿æ¥mysqlæå¡å¨ï¼mysqlæå¡å¨å¯¹ä¼ è¾è¿æ¥çè´¦å·å¯ç è¿è¡èº«ä»½è®¤è¯åæéè·åã\n\n * ç¨æ·ååå¯ç ä¸å¯¹ï¼ä¼æ¶å°ä¸ä¸ªaccess denied for useréè¯¯ï¼å®¢æ·ç«¯ç¨åºç»ææ§è¡\n * ç¨æ·åå¯ç è®¤è¯éè¿ï¼ä¼ä»æéè¡¨æ¥åºè´¦å·æ¥æçæéä¸è¿æ¥å³èï¼ä¹åçæéå¤æ­é»è¾ï¼é½å°ä¾èµäºæ­¤æ¶è¯»å°çæé\n\nmysqlä¼ä»çº¿ç¨æ± åéä¸ä¸ªçº¿ç¨ä¸é¨ä¸è¿ä¸ªå®¢æ·ç«¯è¿è¡äº¤äºï¼æ¯ä¸ªè¿æ¥é½ä»çº¿ç¨æ± è·åï¼çå»åå»ºåéæ¯çº¿ç¨çå¼éã\n\nç¬¬äºå±æ¯æå¡å±ï¼åæ¬sqlæ¥å£ãè§£æå¨ãä¼åå¨ãæ¥è¯¢ç¼å­ã\n\nsqlæ¥å£ï¼sql interfaceï¼ï¼æ¥æ¶ç¨æ·çsqlå½ä»¤ï¼å¹¶ä¸è¿åç¨æ·æ¥è¯¢çç»æãæ¯ædmlãddlãå­å¨è¿ç¨ãè§å¾ãè§¦åå¨ãèªå®ä¹å½æ°ç­å¤ç§sqlè¯­è¨æ¥å£ã\n\nè§£æå¨ï¼parserï¼ï¼å¯¹sqlå½ä»¤è¿è¡éªè¯åè§£æï¼å¹¶ä¸ºå¶åå»ºè¯­æ³æ ï¼æ ¹æ®æ°æ®å­å¸ä¸°å¯æ¥è¯¢è¯­æ³æ ï¼ä¼éªè¯è¯¥å®¢æ·ç«¯æ¯å¦å·ææ§è¡è¯¥æ¥è¯¢çæéãåç»­sqlè¯­å¥çä¼ éåå¤çé½æ¯åºäºè¿ä¸ªç»æçã\n\nä¼åå¨ï¼optimizerï¼ï¼sqlè¯­å¥è§£æåï¼æ¥è¯¢ä¹åç¨æ¥è¯¢ä¼åå¨ç¡®å®sqlè¯­å¥çæ§è¡è·¯å¾ï¼çæä¸ä¸ªæ§è¡è®¡åãè¿ä¸ªæ§è¡è®¡åè¡¨æåºè¯¥ä½¿ç¨åªäºç´¢å¼è¿è¡æ¥è¯¢ï¼è¡¨ä¹é´çè¿æ¥é¡ºåºå¦ä½ï¼æåä¼å®è£æ§è¡è®¡åçæ­¥éª¤è°ç¨å­å¨å¼ææä¾çæ¹æ³æ¥çæ­£æ§è¡æ¥è¯¢ï¼å¹¶å°æ¥è¯¢ç»æè¿åç»ç¨æ·ãä½¿ç¨éå-æå½±-è¿æ¥ç­ç¥è¿è¡æ¥è¯¢ã\n\nselect id,name from student where gender = 'å¥³';\n\n\nè¿ä¸ªselectæ¥è¯¢åæ ¹æ®whereè¯­å¥è¿è¡éåï¼èä¸æ¯å°è¡¨å¨é¨æ¥è¯¢åºæ¥ä»¥ååè¿è¡genderè¿æ»¤ãè¿ä¸ªselectæ¥è¯¢åæ ¹æ®idånameè¿è¡å±æ§æå½±ï¼èä¸æ¯å°å±æ§å¨é¨ååºä»¥ååè¿è¡è¿ æ»¤ï¼å°è¿ä¸¤ä¸ªæ¥è¯¢æ¡ä»¶è¿æ¥èµ·æ¥çææç»æ¥è¯¢ç»æã\n\næ¥è¯¢ç¼å­ï¼caches&buffersï¼ï¼æ¥è¯¢ç¼å­å¯ä»¥ç¨æ¥ç¼å­ä¸æ¡selectè¯­å¥çæ§è¡ç»æï¼å¦æè½æ¾å°å¯¹åºçæ§è¡ç»æï¼å°±ç´æ¥å°ç»æè¿åï¼ä¸å¿è¿è¡æ¥è¯¢è§£æãä¼åãæ§è¡ç­è¿ç¨ãæ¥è¯¢ç¼å­å¨ä¸åå®¢æ·ç«¯ä¹é´å±äº«ãæ¥è¯¢ç¼å­å¨mysql8.0å é¤ã\n\nç¬¬ä¸å±æ¯å­å¨å¼æå±ï¼è´è´£æ°æ®çå­å¨åæåãæå¡å¨éè¿apiä¸å­å¨å¼æè¿è¡éä¿¡ãä¸åçå­å¨å¼æå·æçåè½ä¸åã\n\nmysql 8.25é»è®¤çæ¯æçå­å¨å¼æå¦ä¸ï¼\n\n\n\n\n# sqlæ§è¡æµç¨\n\n\n\nmysqlä¸­çæ¥è¯¢æµç¨ï¼\n\n 1. æ¥è¯¢ç¼å­ï¼æå¡å¨å¦æå¨æ¥è¯¢ç¼å­ä¸­åç°è¿æ¡sqlè¯­å¥ï¼å°±ä¼ç´æ¥å°ç»æè¿åç»å®¢æ·ç«¯ï¼å¦ææ²¡æåç°ï¼å°±è¿å¥è§£æå¨é¶æ®µã\n\n 2. è§£æå¨ï¼å¯¹sqlè¯­å¥è¿è¡è¯­æ³åæãè¯­ä¹æ£æ¥ãåæå¨ååâè¯æ³åæâï¼è¾å¥çå¤ä¸ªå­ç¬¦ä¸²åç©ºæ ¼ç»æçä¸æ¡sqlè¯­å¥ï¼mysqléè¦è¯å«éé¢å­ç¬¦ä¸²åå«æ¯ä»ä¹ï¼ä»£è¡¨ä»ä¹ãæ¯å¦âselectâå³é®å­è¯å«ææ¥è¯¢è¯­å¥ï¼å­ç¬¦ä¸²âtâè¯å«æè¡¨åãååè¯­æ³åæãæ ¹æ¬è¯æ³åæçç»æï¼è¯­æ³åæå¨ä¼æ ¹æ®è¯­æ³è§åï¼å¤æ­sqlè¯­å¥æ¯å¦æ»¡è¶³mysqlè¯­æ³ãå¦æsqlè¯­å¥æ­£ç¡®çè¯å°±ä¼çæä¸ä¸ªè¯­æ³æ ãæ¯å¦ï¼\n    \n    select username ismale from userinfo where age>20 and level>5 and 1=1\n    \n    \n    ä¼çæä¸ä¸ªè¿æ ·çè¯­æ³æ \n\n 3. ä¼åå¨ï¼ç¡®å®sqlè¯­å¥çæ§è¡è®¡åãæ¯å¦æ¯æ ¹æ®å¨è¡¨æ£ç´¢è¿æ¯æ ¹æ®ç´¢å¼æ£ç´¢ç­ãå¨æ¥è¯¢ä¼åå¨ä¸­ï¼å¯ä»¥åä¸ºé»è¾æ¥è¯¢ä¼åé¶æ®µåç©çæ¥è¯¢ä¼åé¶æ®µãç¡®å®æ§è¡è®¡ååè¿å¥æ§è¡å¨é¶æ®µ\n\n 4. æ§è¡å¨ï¼å¨æ§è¡ä¹åå¤æ­è¯¥ç¨æ·æ¯å¦å·å¤æéãå¦ææ²¡æï¼å°±ä¼è¿åæééè¯¯ãå¦æå·å¤æéï¼å°±æ§è¡sqlæ¥è¯¢å¹¶è¿åç»æãå¨mysql8.0ä»¥ä¸ççæ¬ï¼å¦æè®¾ç½®æ¥è¯¢ç¼å­ï¼ä¼å°ç»æè¿è¡ç¼å­ã\n\n\n# mysqlå­å¨å¼æ\n\n\n# innodbå­å¨å¼æ\n\nmysql5.5çæ¬é»è®¤çå­å¨å¼æãinnodbéç¨mvccæ¥æ¯æé«å¹¶åï¼å¹¶ä¸å®ç°åä¸ªæ åçéç¦»çº§å«ãé»è®¤éç¦»çº§å«æ¯repeatable readï¼å¯éå¤è¯»ï¼ï¼å¹¶ä¸éè¿é´ééç­ç¥é²æ­¢å¹»è¯»ã\n\ninnodbè¡¨æ¯åºäºèç°ç´¢å¼å»ºç«çã\n\ninnodbæ¯æäºå¡ãè¡çº§éãå¤é®ã\n\n\n# myisamå­å¨å¼æ\n\nmyisamä¸æ¯æäºå¡ãè¡çº§éãå¤é®ã",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"MySQLè°ä¼",frontmatter:{title:"MySQLè°ä¼",date:"2023-10-24T03:12:56.000Z",permalink:"/pages/ec5067/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/02.%E6%95%B0%E6%8D%AE%E5%BA%93/02.MySQL/04.MySQL%E8%B0%83%E4%BC%98.html",relativePath:"01.Java ç¥è¯ä½ç³»/02.æ°æ®åº/02.MySQL/04.MySQLè°ä¼.md",key:"v-f52dc942",path:"/pages/ec5067/",headers:[{level:1,title:"æ§è½åæå·¥å·",slug:"æ§è½åæå·¥å·",normalizedTitle:"æ§è½åæå·¥å·",charIndex:2},{level:2,title:"æ¥çç³»ç»æ§è½åæ°",slug:"æ¥çç³»ç»æ§è½åæ°",normalizedTitle:"æ¥çç³»ç»æ§è½åæ°",charIndex:13},{level:2,title:"ç»è®¡SQLçæ¥è¯¢ææ¬",slug:"ç»è®¡sqlçæ¥è¯¢ææ¬",normalizedTitle:"ç»è®¡sqlçæ¥è¯¢ææ¬",charIndex:490},{level:2,title:"æ¢æ¥è¯¢æ¥å¿",slug:"æ¢æ¥è¯¢æ¥å¿",normalizedTitle:"æ¢æ¥è¯¢æ¥å¿",charIndex:617},{level:3,title:"å¼å¯æ¢æ¥è¯¢æ¥å¿",slug:"å¼å¯æ¢æ¥è¯¢æ¥å¿",normalizedTitle:"å¼å¯æ¢æ¥è¯¢æ¥å¿",charIndex:627},{level:3,title:"æ¥çæ¢æ¥è¯¢æ°ç®",slug:"æ¥çæ¢æ¥è¯¢æ°ç®",normalizedTitle:"æ¥çæ¢æ¥è¯¢æ°ç®",charIndex:884},{level:3,title:"æ¢æ¥è¯¢æ¥å¿åæå·¥å·ââmysqldumpslow",slug:"æ¢æ¥è¯¢æ¥å¿åæå·¥å·-mysqldumpslow",normalizedTitle:"æ¢æ¥è¯¢æ¥å¿åæå·¥å·ââmysqldumpslow",charIndex:958},{level:3,title:"å³é­æ¢æ¥è¯¢æ¥å¿",slug:"å³é­æ¢æ¥è¯¢æ¥å¿",normalizedTitle:"å³é­æ¢æ¥è¯¢æ¥å¿",charIndex:1643},{level:2,title:"æ¥çSQLæ§è¡ææ¬",slug:"æ¥çsqlæ§è¡ææ¬",normalizedTitle:"æ¥çsqlæ§è¡ææ¬",charIndex:1803},{level:2,title:"EXPLAIN æ¥çæ§è¡è®¡å",slug:"explain-æ¥çæ§è¡è®¡å",normalizedTitle:"explain æ¥çæ§è¡è®¡å",charIndex:1894},{level:3,title:"åºæ¬è¯­æ³",slug:"åºæ¬è¯­æ³",normalizedTitle:"åºæ¬è¯­æ³",charIndex:2404},{level:3,title:"EXPLAINåä¸ªåçä½ç¨",slug:"explainåä¸ªåçä½ç¨",normalizedTitle:"explainåä¸ªåçä½ç¨",charIndex:2984},{level:4,title:"id",slug:"id",normalizedTitle:"id",charIndex:2599},{level:4,title:"select_type",slug:"select-type",normalizedTitle:"select_type",charIndex:2646},{level:4,title:"table",slug:"table",normalizedTitle:"table",charIndex:2682},{level:4,title:"partitions",slug:"partitions",normalizedTitle:"partitions",charIndex:2173},{level:4,title:"type",slug:"type",normalizedTitle:"type",charIndex:2653},{level:4,title:"possible_keysåkey",slug:"possible-keysåkey",normalizedTitle:"possible_keysåkey",charIndex:4447},{level:4,title:"key_len",slug:"key-len",normalizedTitle:"key_len",charIndex:2800},{level:4,title:"ref",slug:"ref",normalizedTitle:"ref",charIndex:1957},{level:4,title:"rows",slug:"rows",normalizedTitle:"rows",charIndex:228},{level:4,title:"filtered",slug:"filtered",normalizedTitle:"filtered",charIndex:2215},{level:4,title:"Extra",slug:"extra",normalizedTitle:"extra",charIndex:2956},{level:2,title:"MySQLçæ§åæè§å¾-sys schemea",slug:"mysqlçæ§åæè§å¾-sys-schemea",normalizedTitle:"mysqlçæ§åæè§å¾-sys schemea",charIndex:6220},{level:3,title:"Sys schemeaè§å¾æè¦",slug:"sys-schemeaè§å¾æè¦",normalizedTitle:"sys schemeaè§å¾æè¦",charIndex:6248},{level:3,title:"Sys schemeaè§å¾ä½¿ç¨åºæ¯",slug:"sys-schemeaè§å¾ä½¿ç¨åºæ¯",normalizedTitle:"sys schemeaè§å¾ä½¿ç¨åºæ¯",charIndex:6701},{level:1,title:"SQL ä¼å",slug:"sql-ä¼å",normalizedTitle:"sql ä¼å",charIndex:8010},{level:2,title:"ç´¢å¼ä¼å",slug:"ç´¢å¼ä¼å",normalizedTitle:"ç´¢å¼ä¼å",charIndex:8084},{level:3,title:"ç´¢å¼å¤±æçæåµ",slug:"ç´¢å¼å¤±æçæåµ",normalizedTitle:"ç´¢å¼å¤±æçæåµ",charIndex:8093},{level:2,title:"å³èæ¥è¯¢ä¼å",slug:"å³èæ¥è¯¢ä¼å",normalizedTitle:"å³èæ¥è¯¢ä¼å",charIndex:8491},{level:3,title:"JOINåºå±åç",slug:"joinåºå±åç",normalizedTitle:"joinåºå±åç",charIndex:8616},{level:4,title:"ç®ååµå¥å¾ªç¯è¿æ¥",slug:"ç®ååµå¥å¾ªç¯è¿æ¥",normalizedTitle:"ç®ååµå¥å¾ªç¯è¿æ¥",charIndex:8628},{level:4,title:"ç´¢å¼åµå¥å¾ªç¯è¿æ¥",slug:"ç´¢å¼åµå¥å¾ªç¯è¿æ¥",normalizedTitle:"ç´¢å¼åµå¥å¾ªç¯è¿æ¥",charIndex:8675},{level:4,title:"ååµå¥å¾ªç¯è¿æ¥",slug:"ååµå¥å¾ªç¯è¿æ¥",normalizedTitle:"ååµå¥å¾ªç¯è¿æ¥",charIndex:8715},{level:2,title:"å­æ¥è¯¢ä¼å",slug:"å­æ¥è¯¢ä¼å",normalizedTitle:"å­æ¥è¯¢ä¼å",charIndex:8755},{level:2,title:"æåºä¼å",slug:"æåºä¼å",normalizedTitle:"æåºä¼å",charIndex:8808},{level:2,title:"GROUP BYä¼å",slug:"group-byä¼å",normalizedTitle:"group byä¼å",charIndex:8956},{level:2,title:"å½æ°ä¼å",slug:"å½æ°ä¼å",normalizedTitle:"å½æ°ä¼å",charIndex:9002}],headersStr:"æ§è½åæå·¥å· æ¥çç³»ç»æ§è½åæ° ç»è®¡SQLçæ¥è¯¢ææ¬ æ¢æ¥è¯¢æ¥å¿ å¼å¯æ¢æ¥è¯¢æ¥å¿ æ¥çæ¢æ¥è¯¢æ°ç® æ¢æ¥è¯¢æ¥å¿åæå·¥å·ââmysqldumpslow å³é­æ¢æ¥è¯¢æ¥å¿ æ¥çSQLæ§è¡ææ¬ EXPLAIN æ¥çæ§è¡è®¡å åºæ¬è¯­æ³ EXPLAINåä¸ªåçä½ç¨ id select_type table partitions type possible_keysåkey key_len ref rows filtered Extra MySQLçæ§åæè§å¾-sys schemea Sys schemeaè§å¾æè¦ Sys schemeaè§å¾ä½¿ç¨åºæ¯ SQL ä¼å ç´¢å¼ä¼å ç´¢å¼å¤±æçæåµ å³èæ¥è¯¢ä¼å JOINåºå±åç ç®ååµå¥å¾ªç¯è¿æ¥ ç´¢å¼åµå¥å¾ªç¯è¿æ¥ ååµå¥å¾ªç¯è¿æ¥ å­æ¥è¯¢ä¼å æåºä¼å GROUP BYä¼å å½æ°ä¼å",content:"# æ§è½åæå·¥å·\n\n\n# æ¥çç³»ç»æ§è½åæ°\n\nå¨MySQLä¸­ï¼å¯ä»¥ä½¿ç¨ SHOW STATUS è¯­å¥æ¥è¯¢ä¸äºMySQLæ°æ®åºæå¡å¨çæ§è½åæ°ãæ§è¡é¢çã\n\nè¯­æ³å¦ä¸ï¼\n\nSHOW [GLOBAL|SESSION] STATUS LIKE 'åæ°';\n\n\nå¸¸ç¨çæ§è½åæ°å¦ä¸ï¼\n\n * Connectionsï¼è¿æ¥MySQLæå¡å¨çæ¬¡æ°ã\n * Uptimeï¼MySQLæå¡å¨çä¸çº¿æ¶é´ã\n * Slow_queriesï¼æ¢æ¥è¯¢çæ¬¡æ°ã\n * Innodb_rows_readï¼Selectæ¥è¯¢è¿åçè¡æ°\n * Innodb_rows_insertedï¼æ§è¡INSERTæä½æå¥çè¡æ°\n * Innodb_rows_updatedï¼æ§è¡UPDATEæä½æ´æ°çè¡æ°\n * Innodb_rows_deletedï¼æ§è¡DELETEæä½å é¤çè¡æ°\n * Com_selectï¼æ¥è¯¢æä½çæ¬¡æ°ã\n * Com_insertï¼æå¥æä½çæ¬¡æ°ãå¯¹äºæ¹éæå¥ç INSERT æä½ï¼åªç´¯å ä¸æ¬¡ã\n * Com_updateï¼æ´æ°æä½çæ¬¡æ°ã\n * Com_deleteï¼å é¤æä½çæ¬¡æ°ã\n\n\n# ç»è®¡SQLçæ¥è¯¢ææ¬\n\næ§è¡ä¸ä¸ªæ¥è¯¢SQLåï¼ä½¿ç¨ä»¥ä¸è¯­å¥æ¥çæ¥è¯¢ä¼åå¨çææ¬ï¼Valueåçå¼å°±æ¯éè¦æ£ç´¢æ°æ®é¡µçæ°éã\n\nSHOW STATUS LIKE 'last_query_cost';\n\n\nå½æå¤ä¸ªæ¥è¯¢SQLå¯éæ¶ï¼å¯ç¨æ¥æ¯è¾å¼éã\n\n\n# æ¢æ¥è¯¢æ¥å¿\n\n\n# å¼å¯æ¢æ¥è¯¢æ¥å¿\n\n 1. å¼å¯slow_query_log\n\nä½¿ç¨set global slow_query_log='ON';å¼å¯æ¢æ¥è¯¢æ¥å¿ã\n\nç¶åæ¥çæ¢æ¥è¯¢æ¥å¿æ¯å¦å¼å¯ä»¥åæ¢æ¥è¯¢æ¥å¿æä»¶çä½ç½®\n\n\n\n 2. ä¿®æ¹long_query_timeéå¼\n\nlong_query_timeé»è®¤å¼ä¸º10sã\n\nä¿®æ¹long_query_timeçå¼ä¸º1s\n\n#sessionåglobalé½å¾è®¾ç½®\nset global long_query_time = 1;\nset long_query_time=1;\n\n\n\n# æ¥çæ¢æ¥è¯¢æ°ç®\n\næ¥è¯¢å½åç³»ç»ä¸­æå¤å°æ¡æ¢æ¥è¯¢è®°å½\n\nSHOW GLOBAL STATUS LIKE '%Slow_queries%';\n\n\n\n# æ¢æ¥è¯¢æ¥å¿åæå·¥å·ââmysqldumpslow\n\nmysqldumpslow å½ä»¤çå·ä½åæ°å¦ä¸ï¼\n\n * -a: ä¸å°æ°å­æ½è±¡æNï¼å­ç¬¦ä¸²æ½è±¡æS\n\n * -s: æ¯è¡¨ç¤ºæç§ä½ç§æ¹å¼æåºï¼\n   \n   * c: è®¿é®æ¬¡æ°\n   \n   * l: éå®æ¶é´\n   \n   * r: è¿åè®°å½\n   \n   * t: æ¥è¯¢æ¶é´\n   \n   * al:å¹³åéå®æ¶é´\n   \n   * ar:å¹³åè¿åè®°å½æ°\n   \n   * at:å¹³åæ¥è¯¢æ¶é´ ï¼é»è®¤æ¹å¼ï¼\n   \n   * ac:å¹³åæ¥è¯¢æ¬¡æ°\n\n * -t: å³ä¸ºè¿ååé¢å¤å°æ¡çæ°æ®ï¼\n\n * -g: åè¾¹æ­éä¸ä¸ªæ­£åå¹éæ¨¡å¼ï¼å¤§å°åä¸ææçï¼\n\nå¸¸ç¨ï¼\n\n#å¾å°è¿åè®°å½éæå¤ç10ä¸ªSQL\nmysqldumpslow -s r -t 10 /var/lib/mysql/atguigu-slow.log | more\n#å¾å°è®¿é®æ¬¡æ°æå¤ç10ä¸ªSQL\nmysqldumpslow -s c -t 10 /var/lib/mysql/atguigu-slow.log | more\n#å¾å°æç§æ¶é´æåºçå10æ¡éé¢å«æå·¦è¿æ¥çæ¥è¯¢è¯­å¥\nmysqldumpslow -s t -t 10 -g \"left join\" /var/lib/mysql/atguigu-slow.log | more\n#å¦å¤å»ºè®®å¨ä½¿ç¨è¿äºå½ä»¤æ¶ç»å | åmore ä½¿ç¨ ï¼å¦åæå¯è½åºç°çå±æåµ\nmysqldumpslow -s r -t 10 /var/lib/mysql/atguigu-slow.log | more\n\n\n\n# å³é­æ¢æ¥è¯¢æ¥å¿\n\næ¹å¼1ï¼æ°¸ä¹æ§æ¹å¼\n\nä¿®æ¹mysqléç½®æä»¶slow_query_log=OFFæèå°slow_query_logæ³¨éæå é¤æï¼ç¶åéå¯MySQLæå¡ã\n\næ¹å¼2ï¼ä¸´æ¶æ§æ¹å¼\n\nä½¿ç¨\n\nSET GLOBAL slow_query_log=off;\n\n\nå³é­æ¢æ¥è¯¢æ¥å¿ï¼ç¶åéå¯MySQLæå¡ã\n\n\n# æ¥çSQLæ§è¡ææ¬\n\néè¿ set profiling = 'ON'æ¥å¼å¯show profileã\n\nä½¿ç¨show profilesä¼ååºå½åä¼è¯é½æåªäºæ¥è¯¢åå¯¹åºå¼éã\n\n\n# EXPLAIN æ¥çæ§è¡è®¡å\n\nå®ç½ä»ç»ï¼\n\n * MySQL 5.7 ï¼https://dev.mysql.com/doc/refman/5.7/en/explain-output.html\n * MySQL 8.0ï¼https://dev.mysql.com/doc/refman/8.0/en/explain-output.html\n\nçæ¬ååï¼\n\n * MySQL 5.6.3ä»¥ååªè½ EXPLAIN SELECT ï¼MYSQL 5.6.3ä»¥åå°±å¯ä»¥ EXPLAIN SELECTï¼UPDATEï¼DELETEã\n * å¨5.7ä»¥åççæ¬ä¸­ï¼æ³è¦æ¾ç¤º partitions éè¦ä½¿ç¨ explain partitions å½ä»¤ï¼æ³è¦æ¾ç¤ºfiltered éè¦ä½¿ç¨ explain extended å½ä»¤ãå¨5.7çæ¬åï¼é»è®¤explainç´æ¥æ¾ç¤ºpartitionsåfilteredä¸­çä¿¡æ¯ã\n\næ³¨æï¼\n\n * EXPLAINä¸èèåç§Cache\n * EXPLAINä¸è½æ¾ç¤ºMySQLå¨æ§è¡æ¥è¯¢æ¶æä½çä¼åå·¥ä½\n * EXPLAINä¸ä¼åè¯ä½ å³äºè§¦åå¨ãå­å¨è¿ç¨çä¿¡æ¯æç¨æ·èªå®ä¹å½æ°å¯¹æ¥è¯¢çå½±åæåµ\n\n\n# åºæ¬è¯­æ³\n\nå¯ä»¥ä½¿ç¨EXPLAINæDESCRIBEè¯­æ³æ¥çæ§è¡è®¡å\n\nEXPLAIN SELECT select_options\næè\nDESCRIBE SELECT select_options\n\n\nå¦ææ³æ¥çæä¸ªæ¥è¯¢SQLçæ§è¡è®¡åï¼å¨å·ä½çæ¥è¯¢SQLåè¾¹å ä¸EXPLAINå°±å¯ä»¥ï¼æ¯å¦EXPLAIN SELECT 1ãè¾åºåä¸ªåçä½ç¨å¦ä¸ï¼\n\nåå              æè¿°\nid              å¨ä¸ä¸ªå¤§çæ¥è¯¢è¯­å¥ä¸­ä¸ªSELECTå³é®å­é½å¯¹åºä¸ä¸ªå¯ä¸çid\nselect_type     SELECTå³é®å­å¯¹åºçé£ä¸ªæ¥è¯¢çç±»å\ntable           è¡¨å\npartitions      å¹éçååºä¿¡æ¯\ntype            éå¯¹åè¡¨çè®¿é®æ¹æ³\npossible_keys   å¯è½ç¨å°çç´¢å¼\nkey             å®éä¸ä½¿ç¨çç´¢å¼\nkey_len         å®éä½¿ç¨å°çç´¢å¼é¿åº¦ï¼èåç´¢å¼æ¶å¯ä»¥çç¨äºå ä¸ªç´¢å¼åï¼\nref             å½ä½¿ç¨ç´¢å¼åç­å¼æ¥è¯¢æ¶ï¼ä¸ç´¢å¼åè¿è¡ç­å¼å¹éçå¯¹è±¡ä¿¡æ¯\nrows            é¢ä¼°çéè¦è¯»åçè®°å½æ¡æ°\nfiltered        æä¸ªè¡¨ç»è¿æç´¢æ¡ä»¶è¿æ»¤åå©ä½è®°å½æ¡æ°çç¾åæ¯\nExtra           ä¸äºé¢å¤çä¿¡æ¯\n\n\n# EXPLAINåä¸ªåçä½ç¨\n\n# id\n\nSQLæ§è¡çé¡ºåºæ è¯ï¼æ¯ä¸ªselectå³é®å­å¯¹åºä¸ä¸ªidã\n\n * idå¦æç¸åï¼å¯ä»¥è®¤ä¸ºæ¯ä¸ç»ï¼ä»ä¸å¾ä¸é¡ºåºæ§è¡\n * å¨ææç»ä¸­ï¼idå¼è¶å¤§ï¼ä¼åçº§è¶é«ï¼è¶åæ§è¡\n * å³æ³¨ç¹ï¼idå·æ¯ä¸ªå·ç ï¼è¡¨ç¤ºä¸è¶ç¬ç«çæ¥è¯¢, ä¸ä¸ªsqlçæ¥è¯¢è¶æ°è¶å°è¶å¥½\n\n# select_type\n\næ¯ä¸ªselectæ¥è¯¢çç±»å\n\nåç§°                     æè¿°\nSIMPLE                 ç®åæ¥è¯¢ï¼ä¸ä½¿ç¨ UNION æå­æ¥è¯¢ï¼\nPRIMARY                æ¥è¯¢ä¸­è¥åå«ä»»ä½å¤æçå­é¨å,æå¤å±çselectè¢«æ è®°ä¸ºPRIMARY\nUNION                  UNIONä¸­çç¬¬äºä¸ªæåé¢çSELECTè¯­å¥\nUNION RESULT           UNIONçç»æ\nSUBQUERY               å­æ¥è¯¢ä¸­çç¬¬ä¸ä¸ªSELECT\nDEPENDENT SUBQUERY     å­æ¥è¯¢ä¸­çç¬¬ä¸ä¸ªSELECTï¼åå³äºå¤é¢çæ¥è¯¢\nDEPENDENT UNION        UNIONä¸­çç¬¬äºä¸ªæåé¢çSELECTè¯­å¥ï¼åå³äºå¤é¢çæ¥è¯¢\nDERIVED                æ´¾çè¡¨çSELECT, FROMå­å¥çå­æ¥è¯¢\nMATERIALIZED           Materialized subquery\nUNCACHEABLE SUBQUERY   A subquery for which the result cannot be cached and must be\n                       re-evaluated for\n                       each row of the outer query\nUNCACHEABLE UNION      The second or later select in a UNION that belongs to an\n                       uncacheable subquery\n                       (see UNCACHEABLE SUBQUERY)\n\n# table\n\næ¥è¯¢è¯­å¥æ è®ºå¤å¤æï¼æç»è¿æ¯å¯¹æ¯ä¸ªè¡¨è¿è¡åè¡¨è®¿é®ãæ ä»¥MySQLè§å®EXPLAINè¯­å¥è¾åºçæ¯æ¡è®°å½é½å¯¹åºçæä¸ªåè¡¨çè®¿é®æ¹æ³ï¼è¯¥æ¡è®°å½çtableåä»£è¡¨çè¯¥è¡¨çè¡¨åï¼ææ¶ä¸æ¯çå®çè¡¨åå­ï¼å¯è½æ¯ç®ç§°ï¼\n\n# partitions\n\nå¹éçååºä¿¡æ¯\n\n# type\n\néå¯¹åè¡¨çè®¿é®æ¹æ³ï¼å³MySQLå³å®å¦ä½æ¥æ¾è¡¨ä¸­çè¡ã\n\nå®æ´çè®¿é®æ¹æ³å¦ä¸ï¼systemãconstãeq_refãrefãfulltextãref_or_nullãindex_mergeãunique_subqueryãindex_subqueryãrangeãindexãALLã\n\nç»æå¼ä»æå¥½å°æåä¾æ¬¡æ¯ï¼ system > const > eq_ref > ref > fulltext > ref_or_null > index_merge > unique_subquery > index_subquery > range > index > ALL\n\n> SQLæ§è½ä¼åçç®æ ï¼è³å°è¦è¾¾å° range çº§å«ï¼è¦æ±æ¯ ref çº§å«ï¼æå¥½æ¯constsçº§å«ãï¼é¿éå·´å·´å¼åæåè¦æ±ï¼\n\n# possible_keysåkey\n\npossible_keysï¼å¯è½ä½¿ç¨åªäºç´¢å¼æ¥æ¥æ¾\n\nkeyï¼å®éä½¿ç¨åªäºç´¢å¼æ¥æ¾\n\n# key_len\n\nè¿ä¸åæ¾ç¤ºäºmysqlå¨ç´¢å¼éä½¿ç¨çå­èæ°ï¼éè¿è¿ä¸ªå¼å¯ä»¥ç®åºå·ä½ä½¿ç¨äºç´¢å¼ä¸­çåªäºåï¼ä¸»è¦ç¨äºèåç´¢å¼ï¼ã\n\nä¸¾ä¾æ¥è¯´ï¼film_actorçèåç´¢å¼ idx_film_actor_id ç± film_id å actor_id ä¸¤ä¸ªintåç»æï¼å¹¶ä¸æ¯ä¸ªintæ¯4å­èãéè¿ç»æä¸­çkey_len=4å¯æ¨æ­åºæ¥è¯¢ä½¿ç¨äºç¬¬ä¸ä¸ªåï¼film_idåæ¥æ§è¡ç´¢å¼æ¥æ¾ã\n\nmysql> explain select * from film_actor where film_id = 2;\n+----+-------------+------------+------+-------------------+-------------------+---------+-------+------+-------------+\n| id | select_type | table      | type | possible_keys     | key               | key_len | ref   | rows | Extra       |\n+----+-------------+------------+------+-------------------+-------------------+---------+-------+------+-------------+\n|  1 | SIMPLE      | film_actor | ref  | idx_film_actor_id | idx_film_actor_id | 4       | const |    1 | Using index |\n+----+-------------+------------+------+-------------------+-------------------+---------+-------+------+-------------+\n\n\nkey_lenè®¡ç®è§åå¦ä¸ï¼\n\n * å­ç¬¦ä¸²\n   * char(n)ï¼nå­èé¿åº¦\n   * varchar(n)ï¼2å­èå­å¨å­ç¬¦ä¸²é¿åº¦ï¼å¦ææ¯utf-8ï¼åé¿åº¦ 3n + 2\n * æ°å¼ç±»å\n   * tinyintï¼1å­è\n   * smallintï¼2å­è\n   * intï¼4å­è\n   * bigintï¼8å­è\n * æ¶é´ç±»å\n   * dateï¼3å­è\n   * timestampï¼4å­è\n   * datetimeï¼8å­è\n * å¦æå­æ®µåè®¸ä¸º NULLï¼éè¦1å­èè®°å½æ¯å¦ä¸º NULL\n\n# ref\n\nè¿ä¸åæ¾ç¤ºäºå¨keyåè®°å½çç´¢å¼ä¸­ï¼è¡¨æ¥æ¾å¼æç¨å°çåæå¸¸éï¼å¸¸è§çæï¼constï¼å¸¸éï¼ï¼funcï¼NULLï¼å­æ®µåï¼ä¾ï¼film.idï¼\n\n# rows\n\nè¿ä¸åæ¯mysqlä¼°è®¡è¦è¯»åå¹¶æ£æµçè¡æ°ï¼æ³¨æè¿ä¸ªä¸æ¯ç»æééçè¡æ°ã\n\n# filtered\n\næä¸ªè¡¨ç»è¿æç´¢æ¡ä»¶è¿æ»¤åå©ä½è®°å½æ¡æ°çç¾åæ¯ãè¿ä¸ªå¼è¶å¤§è¶å¥½ã\n\n# Extra\n\nè¿ä¸åå±ç¤ºçæ¯é¢å¤ä¿¡æ¯ãå¸¸è§çéè¦å¼å¦ä¸ï¼\n\n * distinctï¼ ä¸æ¦mysqlæ¾å°äºä¸è¡ç¸èåå¹éçè¡ï¼å°±ä¸åæç´¢äº\n * Using indexï¼è¿åçå¨å¯¹è¡¨çè¯·æ±åé½æ¯åä¸ç´¢å¼çé¨åçæ¶åï¼è¿åçåæ°æ®åªä½¿ç¨äºç´¢å¼ä¸­çä¿¡æ¯ï¼èæ²¡æåå»è®¿é®è¡¨ä¸­çè¡è®°å½ãæ¯æ§è½é«çè¡¨ç°ã\n * Using whereï¼mysqlæå¡å¨å°å¨å­å¨å¼ææ£ç´¢è¡ååè¿è¡è¿æ»¤ãå°±æ¯åè¯»åæ´è¡æ°æ®ï¼åæ where æ¡ä»¶è¿è¡æ£æ¥ï¼ç¬¦åå°±çä¸ï¼ä¸ç¬¦åå°±ä¸¢å¼ã\n * Using temporaryï¼mysqléè¦åå»ºä¸å¼ ä¸´æ¶è¡¨æ¥å¤çæ¥è¯¢ãåºç°è¿ç§æåµä¸è¬æ¯è¦è¿è¡ä¼åçï¼é¦åæ¯æ³å°ç¨ç´¢å¼æ¥ä¼åã\n * Using filesortï¼mysql ä¼å¯¹ç»æä½¿ç¨ä¸ä¸ªå¤é¨ç´¢å¼æåºï¼èä¸æ¯æç´¢å¼æ¬¡åºä»è¡¨éè¯»åè¡ãæ­¤æ¶mysqlä¼æ ¹æ®èæ¥ç±»åæµè§ææç¬¦åæ¡ä»¶çè®°å½ï¼å¹¶ä¿å­æåºå³é®å­åè¡æéï¼ç¶åæåºå³é®å­å¹¶æé¡ºåºæ£ç´¢è¡ä¿¡æ¯ãè¿ç§æåµä¸ä¸è¬ä¹æ¯è¦èèä½¿ç¨ç´¢å¼æ¥ä¼åçã\n\n\n# MySQLçæ§åæè§å¾-sys schemea\n\n\n# Sys schemeaè§å¾æè¦\n\n 1.  ä¸»æºç¸å³ï¼ä»¥host_summaryå¼å¤´ï¼ä¸»è¦æ±æ»äºIOå»¶è¿çä¿¡æ¯ã\n 2.  Innodbç¸å³ï¼ä»¥innodbå¼å¤´ï¼æ±æ»äºinnodb bufferä¿¡æ¯åäºå¡ç­å¾innodbéçä¿¡æ¯ã\n 3.  I/oç¸å³ï¼ä»¥ioå¼å¤´ï¼æ±æ»äºç­å¾I/OãI/Oä½¿ç¨éæåµã\n 4.  åå­ä½¿ç¨æåµï¼ä»¥memoryå¼å¤´ï¼ä»ä¸»æºãçº¿ç¨ãäºä»¶ç­è§åº¦å±ç¤ºåå­çä½¿ç¨æåµ\n 5.  è¿æ¥ä¸ä¼è¯ä¿¡æ¯ï¼processliståsessionç¸å³è§å¾ï¼æ»ç»äºä¼è¯ç¸å³ä¿¡æ¯ã\n 6.  è¡¨ç¸å³ï¼ä»¥schema_tableå¼å¤´çè§å¾ï¼å±ç¤ºäºè¡¨çç»è®¡ä¿¡æ¯ã\n 7.  ç´¢å¼ä¿¡æ¯ï¼ç»è®¡äºç´¢å¼çä½¿ç¨æåµï¼åå«åä½ç´¢å¼åæªä½¿ç¨çç´¢å¼æåµã\n 8.  è¯­å¥ç¸å³ï¼ä»¥statementå¼å¤´ï¼åå«æ§è¡å¨è¡¨æ«æãä½¿ç¨ä¸´æ¶è¡¨ãæåºç­çè¯­å¥ä¿¡æ¯ã\n 9.  ç¨æ·ç¸å³ï¼ä»¥userå¼å¤´çè§å¾ï¼ç»è®¡äºç¨æ·ä½¿ç¨çæä»¶I/Oãæ§è¡è¯­å¥ç»è®¡ä¿¡æ¯ã\n 10. ç­å¾äºä»¶ç¸å³ä¿¡æ¯ï¼ä»¥waitå¼å¤´ï¼å±ç¤ºç­å¾äºä»¶çå»¶è¿æåµã\n\n\n# Sys schemeaè§å¾ä½¿ç¨åºæ¯\n\nç´¢å¼æåµï¼\n\n#1. æ¥è¯¢åä½ç´¢å¼\nselect * from sys.schema_redundant_indexes;\n#2. æ¥è¯¢æªä½¿ç¨è¿çç´¢å¼\nselect * from sys.schema_unused_indexes;\n#3. æ¥è¯¢ç´¢å¼çä½¿ç¨æåµ\nselect index_name,rows_selected,rows_inserted,rows_updated,rows_deleted\nfrom sys.schema_index_statistics where table_schema='dbname' ;\n\n\nè¡¨ç¸å³ï¼\n\n# 1. æ¥è¯¢è¡¨çè®¿é®é\nselect table_schema,table_name,sum(io_read_requests+io_write_requests) as io from\nsys.schema_table_statistics group by table_schema,table_name order by io desc;\n# 2. æ¥è¯¢å ç¨bufferpoolè¾å¤çè¡¨\nselect object_schema,object_name,allocated,data\nfrom sys.innodb_buffer_stats_by_table order by allocated limit 10;\n# 3. æ¥çè¡¨çå¨è¡¨æ«ææåµ\nselect * from sys.statements_with_full_table_scans where db='dbname';\n\n\nè¯­å¥ç¸å³ï¼\n\n#1. çæ§SQLæ§è¡çé¢ç\nselect db,exec_count,query from sys.statement_analysis\norder by exec_count desc;\n#2. çæ§ä½¿ç¨äºæåºçSQL\nselect db,exec_count,first_seen,last_seen,query\nfrom sys.statements_with_sorting limit 1;\n#3. çæ§ä½¿ç¨äºä¸´æ¶è¡¨æèç£çä¸´æ¶è¡¨çSQL\nselect db,exec_count,tmp_tables,tmp_disk_tables,query\nfrom sys.statement_analysis where tmp_tables>0 or tmp_disk_tables >0\norder by (tmp_tables+tmp_disk_tables) desc;\n\n\nIOç¸å³ï¼\n\n#1. æ¥çæ¶èç£çIOçæä»¶\nselect file,avg_read,avg_write,avg_read+avg_write as avg_io\nfrom sys.io_global_by_file_by_bytes order by avg_read limit 10;\n\n\nInnoDBç¸å³ï¼\n\n#1. è¡éé»å¡æåµ\nselect * from sys.innodb_lock_waits;\n\n\n\n# SQL ä¼å\n\nSQLæ¥è¯¢ä¼åå¯ä»¥åæç©çæ¥è¯¢ä¼ååé»è¾æ¥è¯¢ä¼åã\n\n * ç©çæ¥è¯¢ä¼åï¼ç´¢å¼ãè¡¨è¿æ¥\n * é»è¾æ¥è¯¢ä¼åï¼SQLç­ä»·åæ¢\n\n\n# ç´¢å¼ä¼å\n\n\n# ç´¢å¼å¤±æçæåµ\n\n 1.  ä¼åå¨å¼å¹éï¼ä¼åä½¿ç¨èåç´¢å¼èä¸æ¯ååç´¢å¼ã\n\n 2.  æä½³å·¦åç¼æ³åï¼å¯¹äºå¤åç´¢å¼ï¼è¿æ»¤æ¡ä»¶è¦ä½¿ç¨ç´¢å¼å¿é¡»æç§ç´¢å¼å»ºç«çé¡ºåºï¼ä¾æ¬¡æ»¡è¶³ï¼ä¸æ¦è·³è¿æä¸ªå­æ®µï¼ç´¢å¼åé¢çå­æ®µé½æ æ³è¢«ä½¿ç¨ãå¦ææ¥è¯¢æ¡ä»¶æ²¡æä½¿ç¨ç¬¬ä¸ä¸ªå­æ®µï¼èåç´¢å¼ä¸ä¼è¢«ä½¿ç¨ã\n\n 3.  ä¸»é®æå¥é¡ºåºï¼æå¥½è®©ä¸»é®ä¾æ¬¡éå¢ï¼é¿åé¡µåè£åè®°å½ç§»ä½é æçæ§è½æèã\n\n 4.  è®¡ç®ãå½æ°å¯¼è´ç´¢å¼å¤±æ\n\n 5.  ç±»åè½¬æ¢ï¼èªå¨ææå¨ï¼å¯¼è´ç´¢å¼å¤±æ\n\n 6.  èå´æ¡ä»¶å³è¾¹çåç´¢å¼å¤±æ\n\n 7.  ä¸ç­äºï¼!=æè<>ï¼ç´¢å¼å¤±æ\n\n 8.  is nullå¯ä»¥ä½¿ç¨ç´¢å¼,is not nullæ æ³ä½¿ç¨ç´¢å¼\n\n 9.  likeä»¥ééç¬¦%å¼å¤´ç´¢å¼å¤±æ\n\n 10. ORååå­å¨éç´¢å¼çåï¼ç´¢å¼å¤±æ\n\n 11. æ°æ®åºåè¡¨çå­ç¬¦éç»ä¸ä½¿ç¨utf8mb4ï¼ä¸åå­ç¬¦éè¿è¡æ¯è¾åéè¦è¿è¡è½¬æ¢é æç´¢å¼å¤±æã\n\n\n# å³èæ¥è¯¢ä¼å\n\nåè¿æ¥æ¶ï¼æ¥è¯¢ä¼åå¨å¯ä»¥å³å®åªå¼ è¡¨ä¸ºé©±å¨è¡¨ï¼å¦æè¡¨çè¿æ¥æ¡ä»¶ä¸­åªè½æä¸ä¸ªå­æ®µæç´¢å¼ï¼åæç´¢å¼çå­æ®µæå¨çè¡¨ä¼è¢«ä½ä¸ºè¢«é©±å¨è¡¨ã\n\nå¯¹äºåè¿æ¥æ¥è¯´ï¼å¨ä¸¤ä¸ªè¡¨çè¿æ¥æ¡ä»¶é½å­å¨ç´¢å¼çæåµä¸ï¼å°è¡¨é©±å¨å¤§è¡¨ï¼å°çç»æéé©±å¨å¤§çç»æéï¼ã\n\n\n# JOINåºå±åç\n\n# ç®ååµå¥å¾ªç¯è¿æ¥\n\né½æ ç´¢å¼ãæ§è½ä¸»è¦åè¢«é©±å¨è¡¨çå¨è¡¨æ«ææ¬¡æ°ï¼ä¹å°±æ¯é©±å¨è¡¨å¹éæ°æ®ã\n\n# ç´¢å¼åµå¥å¾ªç¯è¿æ¥\n\nè¡¨ä¸­æ·»å ç´¢å¼ï¼è¢«é©±å¨è¡¨ä¸ºå äºç´¢å¼çè¡¨ï¼æ é¡»å¨è¡¨æ«æã\n\n# ååµå¥å¾ªç¯è¿æ¥\n\né©±å¨è¡¨ä¸åä¸åè·åå¤æ¡æ°æ®ï¼åå°éé©±å¨è¡¨çå¨è¡¨æ«æã\n\n\n# å­æ¥è¯¢ä¼å\n\nå­æ¥è¯¢ä¼å»ºç«ä¸´æ¶è¡¨ï¼å½±åæ¥è¯¢æ§è½ãå¨MySQLä¸­å¯ä»¥ä½¿ç¨JOINæ¥è¯¢æ¥æ¿ä»£å­æ¥è¯¢ã\n\n\n# æåºä¼å\n\nMySQLæ¯æä¸¤ç§æåºæ¹å¼ï¼åå«FileSortåIndexæåº\n\n * Indexæåºä¸­ï¼ç´¢å¼å¯ä»¥ä¿è¯æ°æ®çæåºæ§ï¼ä¸éè¦åè¿è¡æåºï¼æçæ´é«\n * FileSortæåºä¸è¬å¨åå­ä¸­è¿è¡æåºï¼æçè¾ä½ã\n\nå¨Order by å­å¥ä¸­ä½¿ç¨ç´¢å¼ï¼é¿åä½¿ç¨FileSortæåºã\n\n\n# GROUP BYä¼å\n\ngroup by åæåºååç»ï¼éµç§ç´¢å¼å»ºçæä½³å·¦åç¼æ³å\n\n\n# å½æ°ä¼å\n\nmax/minå½æ°ï¼ä½¿ç¨order by åå limit 1è¿è¡ä¼å",normalizedContent:"# æ§è½åæå·¥å·\n\n\n# æ¥çç³»ç»æ§è½åæ°\n\nå¨mysqlä¸­ï¼å¯ä»¥ä½¿ç¨ show status è¯­å¥æ¥è¯¢ä¸äºmysqlæ°æ®åºæå¡å¨çæ§è½åæ°ãæ§è¡é¢çã\n\nè¯­æ³å¦ä¸ï¼\n\nshow [global|session] status like 'åæ°';\n\n\nå¸¸ç¨çæ§è½åæ°å¦ä¸ï¼\n\n * connectionsï¼è¿æ¥mysqlæå¡å¨çæ¬¡æ°ã\n * uptimeï¼mysqlæå¡å¨çä¸çº¿æ¶é´ã\n * slow_queriesï¼æ¢æ¥è¯¢çæ¬¡æ°ã\n * innodb_rows_readï¼selectæ¥è¯¢è¿åçè¡æ°\n * innodb_rows_insertedï¼æ§è¡insertæä½æå¥çè¡æ°\n * innodb_rows_updatedï¼æ§è¡updateæä½æ´æ°çè¡æ°\n * innodb_rows_deletedï¼æ§è¡deleteæä½å é¤çè¡æ°\n * com_selectï¼æ¥è¯¢æä½çæ¬¡æ°ã\n * com_insertï¼æå¥æä½çæ¬¡æ°ãå¯¹äºæ¹éæå¥ç insert æä½ï¼åªç´¯å ä¸æ¬¡ã\n * com_updateï¼æ´æ°æä½çæ¬¡æ°ã\n * com_deleteï¼å é¤æä½çæ¬¡æ°ã\n\n\n# ç»è®¡sqlçæ¥è¯¢ææ¬\n\næ§è¡ä¸ä¸ªæ¥è¯¢sqlåï¼ä½¿ç¨ä»¥ä¸è¯­å¥æ¥çæ¥è¯¢ä¼åå¨çææ¬ï¼valueåçå¼å°±æ¯éè¦æ£ç´¢æ°æ®é¡µçæ°éã\n\nshow status like 'last_query_cost';\n\n\nå½æå¤ä¸ªæ¥è¯¢sqlå¯éæ¶ï¼å¯ç¨æ¥æ¯è¾å¼éã\n\n\n# æ¢æ¥è¯¢æ¥å¿\n\n\n# å¼å¯æ¢æ¥è¯¢æ¥å¿\n\n 1. å¼å¯slow_query_log\n\nä½¿ç¨set global slow_query_log='on';å¼å¯æ¢æ¥è¯¢æ¥å¿ã\n\nç¶åæ¥çæ¢æ¥è¯¢æ¥å¿æ¯å¦å¼å¯ä»¥åæ¢æ¥è¯¢æ¥å¿æä»¶çä½ç½®\n\n\n\n 2. ä¿®æ¹long_query_timeéå¼\n\nlong_query_timeé»è®¤å¼ä¸º10sã\n\nä¿®æ¹long_query_timeçå¼ä¸º1s\n\n#sessionåglobalé½å¾è®¾ç½®\nset global long_query_time = 1;\nset long_query_time=1;\n\n\n\n# æ¥çæ¢æ¥è¯¢æ°ç®\n\næ¥è¯¢å½åç³»ç»ä¸­æå¤å°æ¡æ¢æ¥è¯¢è®°å½\n\nshow global status like '%slow_queries%';\n\n\n\n# æ¢æ¥è¯¢æ¥å¿åæå·¥å·ââmysqldumpslow\n\nmysqldumpslow å½ä»¤çå·ä½åæ°å¦ä¸ï¼\n\n * -a: ä¸å°æ°å­æ½è±¡ænï¼å­ç¬¦ä¸²æ½è±¡æs\n\n * -s: æ¯è¡¨ç¤ºæç§ä½ç§æ¹å¼æåºï¼\n   \n   * c: è®¿é®æ¬¡æ°\n   \n   * l: éå®æ¶é´\n   \n   * r: è¿åè®°å½\n   \n   * t: æ¥è¯¢æ¶é´\n   \n   * al:å¹³åéå®æ¶é´\n   \n   * ar:å¹³åè¿åè®°å½æ°\n   \n   * at:å¹³åæ¥è¯¢æ¶é´ ï¼é»è®¤æ¹å¼ï¼\n   \n   * ac:å¹³åæ¥è¯¢æ¬¡æ°\n\n * -t: å³ä¸ºè¿ååé¢å¤å°æ¡çæ°æ®ï¼\n\n * -g: åè¾¹æ­éä¸ä¸ªæ­£åå¹éæ¨¡å¼ï¼å¤§å°åä¸ææçï¼\n\nå¸¸ç¨ï¼\n\n#å¾å°è¿åè®°å½éæå¤ç10ä¸ªsql\nmysqldumpslow -s r -t 10 /var/lib/mysql/atguigu-slow.log | more\n#å¾å°è®¿é®æ¬¡æ°æå¤ç10ä¸ªsql\nmysqldumpslow -s c -t 10 /var/lib/mysql/atguigu-slow.log | more\n#å¾å°æç§æ¶é´æåºçå10æ¡éé¢å«æå·¦è¿æ¥çæ¥è¯¢è¯­å¥\nmysqldumpslow -s t -t 10 -g \"left join\" /var/lib/mysql/atguigu-slow.log | more\n#å¦å¤å»ºè®®å¨ä½¿ç¨è¿äºå½ä»¤æ¶ç»å | åmore ä½¿ç¨ ï¼å¦åæå¯è½åºç°çå±æåµ\nmysqldumpslow -s r -t 10 /var/lib/mysql/atguigu-slow.log | more\n\n\n\n# å³é­æ¢æ¥è¯¢æ¥å¿\n\næ¹å¼1ï¼æ°¸ä¹æ§æ¹å¼\n\nä¿®æ¹mysqléç½®æä»¶slow_query_log=offæèå°slow_query_logæ³¨éæå é¤æï¼ç¶åéå¯mysqlæå¡ã\n\næ¹å¼2ï¼ä¸´æ¶æ§æ¹å¼\n\nä½¿ç¨\n\nset global slow_query_log=off;\n\n\nå³é­æ¢æ¥è¯¢æ¥å¿ï¼ç¶åéå¯mysqlæå¡ã\n\n\n# æ¥çsqlæ§è¡ææ¬\n\néè¿ set profiling = 'on'æ¥å¼å¯show profileã\n\nä½¿ç¨show profilesä¼ååºå½åä¼è¯é½æåªäºæ¥è¯¢åå¯¹åºå¼éã\n\n\n# explain æ¥çæ§è¡è®¡å\n\nå®ç½ä»ç»ï¼\n\n * mysql 5.7 ï¼https://dev.mysql.com/doc/refman/5.7/en/explain-output.html\n * mysql 8.0ï¼https://dev.mysql.com/doc/refman/8.0/en/explain-output.html\n\nçæ¬ååï¼\n\n * mysql 5.6.3ä»¥ååªè½ explain select ï¼mysql 5.6.3ä»¥åå°±å¯ä»¥ explain selectï¼updateï¼deleteã\n * å¨5.7ä»¥åççæ¬ä¸­ï¼æ³è¦æ¾ç¤º partitions éè¦ä½¿ç¨ explain partitions å½ä»¤ï¼æ³è¦æ¾ç¤ºfiltered éè¦ä½¿ç¨ explain extended å½ä»¤ãå¨5.7çæ¬åï¼é»è®¤explainç´æ¥æ¾ç¤ºpartitionsåfilteredä¸­çä¿¡æ¯ã\n\næ³¨æï¼\n\n * explainä¸èèåç§cache\n * explainä¸è½æ¾ç¤ºmysqlå¨æ§è¡æ¥è¯¢æ¶æä½çä¼åå·¥ä½\n * explainä¸ä¼åè¯ä½ å³äºè§¦åå¨ãå­å¨è¿ç¨çä¿¡æ¯æç¨æ·èªå®ä¹å½æ°å¯¹æ¥è¯¢çå½±åæåµ\n\n\n# åºæ¬è¯­æ³\n\nå¯ä»¥ä½¿ç¨explainædescribeè¯­æ³æ¥çæ§è¡è®¡å\n\nexplain select select_options\næè\ndescribe select select_options\n\n\nå¦ææ³æ¥çæä¸ªæ¥è¯¢sqlçæ§è¡è®¡åï¼å¨å·ä½çæ¥è¯¢sqlåè¾¹å ä¸explainå°±å¯ä»¥ï¼æ¯å¦explain select 1ãè¾åºåä¸ªåçä½ç¨å¦ä¸ï¼\n\nåå              æè¿°\nid              å¨ä¸ä¸ªå¤§çæ¥è¯¢è¯­å¥ä¸­ä¸ªselectå³é®å­é½å¯¹åºä¸ä¸ªå¯ä¸çid\nselect_type     selectå³é®å­å¯¹åºçé£ä¸ªæ¥è¯¢çç±»å\ntable           è¡¨å\npartitions      å¹éçååºä¿¡æ¯\ntype            éå¯¹åè¡¨çè®¿é®æ¹æ³\npossible_keys   å¯è½ç¨å°çç´¢å¼\nkey             å®éä¸ä½¿ç¨çç´¢å¼\nkey_len         å®éä½¿ç¨å°çç´¢å¼é¿åº¦ï¼èåç´¢å¼æ¶å¯ä»¥çç¨äºå ä¸ªç´¢å¼åï¼\nref             å½ä½¿ç¨ç´¢å¼åç­å¼æ¥è¯¢æ¶ï¼ä¸ç´¢å¼åè¿è¡ç­å¼å¹éçå¯¹è±¡ä¿¡æ¯\nrows            é¢ä¼°çéè¦è¯»åçè®°å½æ¡æ°\nfiltered        æä¸ªè¡¨ç»è¿æç´¢æ¡ä»¶è¿æ»¤åå©ä½è®°å½æ¡æ°çç¾åæ¯\nextra           ä¸äºé¢å¤çä¿¡æ¯\n\n\n# explainåä¸ªåçä½ç¨\n\n# id\n\nsqlæ§è¡çé¡ºåºæ è¯ï¼æ¯ä¸ªselectå³é®å­å¯¹åºä¸ä¸ªidã\n\n * idå¦æç¸åï¼å¯ä»¥è®¤ä¸ºæ¯ä¸ç»ï¼ä»ä¸å¾ä¸é¡ºåºæ§è¡\n * å¨ææç»ä¸­ï¼idå¼è¶å¤§ï¼ä¼åçº§è¶é«ï¼è¶åæ§è¡\n * å³æ³¨ç¹ï¼idå·æ¯ä¸ªå·ç ï¼è¡¨ç¤ºä¸è¶ç¬ç«çæ¥è¯¢, ä¸ä¸ªsqlçæ¥è¯¢è¶æ°è¶å°è¶å¥½\n\n# select_type\n\næ¯ä¸ªselectæ¥è¯¢çç±»å\n\nåç§°                     æè¿°\nsimple                 ç®åæ¥è¯¢ï¼ä¸ä½¿ç¨ union æå­æ¥è¯¢ï¼\nprimary                æ¥è¯¢ä¸­è¥åå«ä»»ä½å¤æçå­é¨å,æå¤å±çselectè¢«æ è®°ä¸ºprimary\nunion                  unionä¸­çç¬¬äºä¸ªæåé¢çselectè¯­å¥\nunion result           unionçç»æ\nsubquery               å­æ¥è¯¢ä¸­çç¬¬ä¸ä¸ªselect\ndependent subquery     å­æ¥è¯¢ä¸­çç¬¬ä¸ä¸ªselectï¼åå³äºå¤é¢çæ¥è¯¢\ndependent union        unionä¸­çç¬¬äºä¸ªæåé¢çselectè¯­å¥ï¼åå³äºå¤é¢çæ¥è¯¢\nderived                æ´¾çè¡¨çselect, fromå­å¥çå­æ¥è¯¢\nmaterialized           materialized subquery\nuncacheable subquery   a subquery for which the result cannot be cached and must be\n                       re-evaluated for\n                       each row of the outer query\nuncacheable union      the second or later select in a union that belongs to an\n                       uncacheable subquery\n                       (see uncacheable subquery)\n\n# table\n\næ¥è¯¢è¯­å¥æ è®ºå¤å¤æï¼æç»è¿æ¯å¯¹æ¯ä¸ªè¡¨è¿è¡åè¡¨è®¿é®ãæ ä»¥mysqlè§å®explainè¯­å¥è¾åºçæ¯æ¡è®°å½é½å¯¹åºçæä¸ªåè¡¨çè®¿é®æ¹æ³ï¼è¯¥æ¡è®°å½çtableåä»£è¡¨çè¯¥è¡¨çè¡¨åï¼ææ¶ä¸æ¯çå®çè¡¨åå­ï¼å¯è½æ¯ç®ç§°ï¼\n\n# partitions\n\nå¹éçååºä¿¡æ¯\n\n# type\n\néå¯¹åè¡¨çè®¿é®æ¹æ³ï¼å³mysqlå³å®å¦ä½æ¥æ¾è¡¨ä¸­çè¡ã\n\nå®æ´çè®¿é®æ¹æ³å¦ä¸ï¼systemãconstãeq_refãrefãfulltextãref_or_nullãindex_mergeãunique_subqueryãindex_subqueryãrangeãindexãallã\n\nç»æå¼ä»æå¥½å°æåä¾æ¬¡æ¯ï¼ system > const > eq_ref > ref > fulltext > ref_or_null > index_merge > unique_subquery > index_subquery > range > index > all\n\n> sqlæ§è½ä¼åçç®æ ï¼è³å°è¦è¾¾å° range çº§å«ï¼è¦æ±æ¯ ref çº§å«ï¼æå¥½æ¯constsçº§å«ãï¼é¿éå·´å·´å¼åæåè¦æ±ï¼\n\n# possible_keysåkey\n\npossible_keysï¼å¯è½ä½¿ç¨åªäºç´¢å¼æ¥æ¥æ¾\n\nkeyï¼å®éä½¿ç¨åªäºç´¢å¼æ¥æ¾\n\n# key_len\n\nè¿ä¸åæ¾ç¤ºäºmysqlå¨ç´¢å¼éä½¿ç¨çå­èæ°ï¼éè¿è¿ä¸ªå¼å¯ä»¥ç®åºå·ä½ä½¿ç¨äºç´¢å¼ä¸­çåªäºåï¼ä¸»è¦ç¨äºèåç´¢å¼ï¼ã\n\nä¸¾ä¾æ¥è¯´ï¼film_actorçèåç´¢å¼ idx_film_actor_id ç± film_id å actor_id ä¸¤ä¸ªintåç»æï¼å¹¶ä¸æ¯ä¸ªintæ¯4å­èãéè¿ç»æä¸­çkey_len=4å¯æ¨æ­åºæ¥è¯¢ä½¿ç¨äºç¬¬ä¸ä¸ªåï¼film_idåæ¥æ§è¡ç´¢å¼æ¥æ¾ã\n\nmysql> explain select * from film_actor where film_id = 2;\n+----+-------------+------------+------+-------------------+-------------------+---------+-------+------+-------------+\n| id | select_type | table      | type | possible_keys     | key               | key_len | ref   | rows | extra       |\n+----+-------------+------------+------+-------------------+-------------------+---------+-------+------+-------------+\n|  1 | simple      | film_actor | ref  | idx_film_actor_id | idx_film_actor_id | 4       | const |    1 | using index |\n+----+-------------+------------+------+-------------------+-------------------+---------+-------+------+-------------+\n\n\nkey_lenè®¡ç®è§åå¦ä¸ï¼\n\n * å­ç¬¦ä¸²\n   * char(n)ï¼nå­èé¿åº¦\n   * varchar(n)ï¼2å­èå­å¨å­ç¬¦ä¸²é¿åº¦ï¼å¦ææ¯utf-8ï¼åé¿åº¦ 3n + 2\n * æ°å¼ç±»å\n   * tinyintï¼1å­è\n   * smallintï¼2å­è\n   * intï¼4å­è\n   * bigintï¼8å­è\n * æ¶é´ç±»å\n   * dateï¼3å­è\n   * timestampï¼4å­è\n   * datetimeï¼8å­è\n * å¦æå­æ®µåè®¸ä¸º nullï¼éè¦1å­èè®°å½æ¯å¦ä¸º null\n\n# ref\n\nè¿ä¸åæ¾ç¤ºäºå¨keyåè®°å½çç´¢å¼ä¸­ï¼è¡¨æ¥æ¾å¼æç¨å°çåæå¸¸éï¼å¸¸è§çæï¼constï¼å¸¸éï¼ï¼funcï¼nullï¼å­æ®µåï¼ä¾ï¼film.idï¼\n\n# rows\n\nè¿ä¸åæ¯mysqlä¼°è®¡è¦è¯»åå¹¶æ£æµçè¡æ°ï¼æ³¨æè¿ä¸ªä¸æ¯ç»æééçè¡æ°ã\n\n# filtered\n\næä¸ªè¡¨ç»è¿æç´¢æ¡ä»¶è¿æ»¤åå©ä½è®°å½æ¡æ°çç¾åæ¯ãè¿ä¸ªå¼è¶å¤§è¶å¥½ã\n\n# extra\n\nè¿ä¸åå±ç¤ºçæ¯é¢å¤ä¿¡æ¯ãå¸¸è§çéè¦å¼å¦ä¸ï¼\n\n * distinctï¼ ä¸æ¦mysqlæ¾å°äºä¸è¡ç¸èåå¹éçè¡ï¼å°±ä¸åæç´¢äº\n * using indexï¼è¿åçå¨å¯¹è¡¨çè¯·æ±åé½æ¯åä¸ç´¢å¼çé¨åçæ¶åï¼è¿åçåæ°æ®åªä½¿ç¨äºç´¢å¼ä¸­çä¿¡æ¯ï¼èæ²¡æåå»è®¿é®è¡¨ä¸­çè¡è®°å½ãæ¯æ§è½é«çè¡¨ç°ã\n * using whereï¼mysqlæå¡å¨å°å¨å­å¨å¼ææ£ç´¢è¡ååè¿è¡è¿æ»¤ãå°±æ¯åè¯»åæ´è¡æ°æ®ï¼åæ where æ¡ä»¶è¿è¡æ£æ¥ï¼ç¬¦åå°±çä¸ï¼ä¸ç¬¦åå°±ä¸¢å¼ã\n * using temporaryï¼mysqléè¦åå»ºä¸å¼ ä¸´æ¶è¡¨æ¥å¤çæ¥è¯¢ãåºç°è¿ç§æåµä¸è¬æ¯è¦è¿è¡ä¼åçï¼é¦åæ¯æ³å°ç¨ç´¢å¼æ¥ä¼åã\n * using filesortï¼mysql ä¼å¯¹ç»æä½¿ç¨ä¸ä¸ªå¤é¨ç´¢å¼æåºï¼èä¸æ¯æç´¢å¼æ¬¡åºä»è¡¨éè¯»åè¡ãæ­¤æ¶mysqlä¼æ ¹æ®èæ¥ç±»åæµè§ææç¬¦åæ¡ä»¶çè®°å½ï¼å¹¶ä¿å­æåºå³é®å­åè¡æéï¼ç¶åæåºå³é®å­å¹¶æé¡ºåºæ£ç´¢è¡ä¿¡æ¯ãè¿ç§æåµä¸ä¸è¬ä¹æ¯è¦èèä½¿ç¨ç´¢å¼æ¥ä¼åçã\n\n\n# mysqlçæ§åæè§å¾-sys schemea\n\n\n# sys schemeaè§å¾æè¦\n\n 1.  ä¸»æºç¸å³ï¼ä»¥host_summaryå¼å¤´ï¼ä¸»è¦æ±æ»äºioå»¶è¿çä¿¡æ¯ã\n 2.  innodbç¸å³ï¼ä»¥innodbå¼å¤´ï¼æ±æ»äºinnodb bufferä¿¡æ¯åäºå¡ç­å¾innodbéçä¿¡æ¯ã\n 3.  i/oç¸å³ï¼ä»¥ioå¼å¤´ï¼æ±æ»äºç­å¾i/oãi/oä½¿ç¨éæåµã\n 4.  åå­ä½¿ç¨æåµï¼ä»¥memoryå¼å¤´ï¼ä»ä¸»æºãçº¿ç¨ãäºä»¶ç­è§åº¦å±ç¤ºåå­çä½¿ç¨æåµ\n 5.  è¿æ¥ä¸ä¼è¯ä¿¡æ¯ï¼processliståsessionç¸å³è§å¾ï¼æ»ç»äºä¼è¯ç¸å³ä¿¡æ¯ã\n 6.  è¡¨ç¸å³ï¼ä»¥schema_tableå¼å¤´çè§å¾ï¼å±ç¤ºäºè¡¨çç»è®¡ä¿¡æ¯ã\n 7.  ç´¢å¼ä¿¡æ¯ï¼ç»è®¡äºç´¢å¼çä½¿ç¨æåµï¼åå«åä½ç´¢å¼åæªä½¿ç¨çç´¢å¼æåµã\n 8.  è¯­å¥ç¸å³ï¼ä»¥statementå¼å¤´ï¼åå«æ§è¡å¨è¡¨æ«æãä½¿ç¨ä¸´æ¶è¡¨ãæåºç­çè¯­å¥ä¿¡æ¯ã\n 9.  ç¨æ·ç¸å³ï¼ä»¥userå¼å¤´çè§å¾ï¼ç»è®¡äºç¨æ·ä½¿ç¨çæä»¶i/oãæ§è¡è¯­å¥ç»è®¡ä¿¡æ¯ã\n 10. ç­å¾äºä»¶ç¸å³ä¿¡æ¯ï¼ä»¥waitå¼å¤´ï¼å±ç¤ºç­å¾äºä»¶çå»¶è¿æåµã\n\n\n# sys schemeaè§å¾ä½¿ç¨åºæ¯\n\nç´¢å¼æåµï¼\n\n#1. æ¥è¯¢åä½ç´¢å¼\nselect * from sys.schema_redundant_indexes;\n#2. æ¥è¯¢æªä½¿ç¨è¿çç´¢å¼\nselect * from sys.schema_unused_indexes;\n#3. æ¥è¯¢ç´¢å¼çä½¿ç¨æåµ\nselect index_name,rows_selected,rows_inserted,rows_updated,rows_deleted\nfrom sys.schema_index_statistics where table_schema='dbname' ;\n\n\nè¡¨ç¸å³ï¼\n\n# 1. æ¥è¯¢è¡¨çè®¿é®é\nselect table_schema,table_name,sum(io_read_requests+io_write_requests) as io from\nsys.schema_table_statistics group by table_schema,table_name order by io desc;\n# 2. æ¥è¯¢å ç¨bufferpoolè¾å¤çè¡¨\nselect object_schema,object_name,allocated,data\nfrom sys.innodb_buffer_stats_by_table order by allocated limit 10;\n# 3. æ¥çè¡¨çå¨è¡¨æ«ææåµ\nselect * from sys.statements_with_full_table_scans where db='dbname';\n\n\nè¯­å¥ç¸å³ï¼\n\n#1. çæ§sqlæ§è¡çé¢ç\nselect db,exec_count,query from sys.statement_analysis\norder by exec_count desc;\n#2. çæ§ä½¿ç¨äºæåºçsql\nselect db,exec_count,first_seen,last_seen,query\nfrom sys.statements_with_sorting limit 1;\n#3. çæ§ä½¿ç¨äºä¸´æ¶è¡¨æèç£çä¸´æ¶è¡¨çsql\nselect db,exec_count,tmp_tables,tmp_disk_tables,query\nfrom sys.statement_analysis where tmp_tables>0 or tmp_disk_tables >0\norder by (tmp_tables+tmp_disk_tables) desc;\n\n\nioç¸å³ï¼\n\n#1. æ¥çæ¶èç£çioçæä»¶\nselect file,avg_read,avg_write,avg_read+avg_write as avg_io\nfrom sys.io_global_by_file_by_bytes order by avg_read limit 10;\n\n\ninnodbç¸å³ï¼\n\n#1. è¡éé»å¡æåµ\nselect * from sys.innodb_lock_waits;\n\n\n\n# sql ä¼å\n\nsqlæ¥è¯¢ä¼åå¯ä»¥åæç©çæ¥è¯¢ä¼ååé»è¾æ¥è¯¢ä¼åã\n\n * ç©çæ¥è¯¢ä¼åï¼ç´¢å¼ãè¡¨è¿æ¥\n * é»è¾æ¥è¯¢ä¼åï¼sqlç­ä»·åæ¢\n\n\n# ç´¢å¼ä¼å\n\n\n# ç´¢å¼å¤±æçæåµ\n\n 1.  ä¼åå¨å¼å¹éï¼ä¼åä½¿ç¨èåç´¢å¼èä¸æ¯ååç´¢å¼ã\n\n 2.  æä½³å·¦åç¼æ³åï¼å¯¹äºå¤åç´¢å¼ï¼è¿æ»¤æ¡ä»¶è¦ä½¿ç¨ç´¢å¼å¿é¡»æç§ç´¢å¼å»ºç«çé¡ºåºï¼ä¾æ¬¡æ»¡è¶³ï¼ä¸æ¦è·³è¿æä¸ªå­æ®µï¼ç´¢å¼åé¢çå­æ®µé½æ æ³è¢«ä½¿ç¨ãå¦ææ¥è¯¢æ¡ä»¶æ²¡æä½¿ç¨ç¬¬ä¸ä¸ªå­æ®µï¼èåç´¢å¼ä¸ä¼è¢«ä½¿ç¨ã\n\n 3.  ä¸»é®æå¥é¡ºåºï¼æå¥½è®©ä¸»é®ä¾æ¬¡éå¢ï¼é¿åé¡µåè£åè®°å½ç§»ä½é æçæ§è½æèã\n\n 4.  è®¡ç®ãå½æ°å¯¼è´ç´¢å¼å¤±æ\n\n 5.  ç±»åè½¬æ¢ï¼èªå¨ææå¨ï¼å¯¼è´ç´¢å¼å¤±æ\n\n 6.  èå´æ¡ä»¶å³è¾¹çåç´¢å¼å¤±æ\n\n 7.  ä¸ç­äºï¼!=æè<>ï¼ç´¢å¼å¤±æ\n\n 8.  is nullå¯ä»¥ä½¿ç¨ç´¢å¼,is not nullæ æ³ä½¿ç¨ç´¢å¼\n\n 9.  likeä»¥ééç¬¦%å¼å¤´ç´¢å¼å¤±æ\n\n 10. orååå­å¨éç´¢å¼çåï¼ç´¢å¼å¤±æ\n\n 11. æ°æ®åºåè¡¨çå­ç¬¦éç»ä¸ä½¿ç¨utf8mb4ï¼ä¸åå­ç¬¦éè¿è¡æ¯è¾åéè¦è¿è¡è½¬æ¢é æç´¢å¼å¤±æã\n\n\n# å³èæ¥è¯¢ä¼å\n\nåè¿æ¥æ¶ï¼æ¥è¯¢ä¼åå¨å¯ä»¥å³å®åªå¼ è¡¨ä¸ºé©±å¨è¡¨ï¼å¦æè¡¨çè¿æ¥æ¡ä»¶ä¸­åªè½æä¸ä¸ªå­æ®µæç´¢å¼ï¼åæç´¢å¼çå­æ®µæå¨çè¡¨ä¼è¢«ä½ä¸ºè¢«é©±å¨è¡¨ã\n\nå¯¹äºåè¿æ¥æ¥è¯´ï¼å¨ä¸¤ä¸ªè¡¨çè¿æ¥æ¡ä»¶é½å­å¨ç´¢å¼çæåµä¸ï¼å°è¡¨é©±å¨å¤§è¡¨ï¼å°çç»æéé©±å¨å¤§çç»æéï¼ã\n\n\n# joinåºå±åç\n\n# ç®ååµå¥å¾ªç¯è¿æ¥\n\né½æ ç´¢å¼ãæ§è½ä¸»è¦åè¢«é©±å¨è¡¨çå¨è¡¨æ«ææ¬¡æ°ï¼ä¹å°±æ¯é©±å¨è¡¨å¹éæ°æ®ã\n\n# ç´¢å¼åµå¥å¾ªç¯è¿æ¥\n\nè¡¨ä¸­æ·»å ç´¢å¼ï¼è¢«é©±å¨è¡¨ä¸ºå äºç´¢å¼çè¡¨ï¼æ é¡»å¨è¡¨æ«æã\n\n# ååµå¥å¾ªç¯è¿æ¥\n\né©±å¨è¡¨ä¸åä¸åè·åå¤æ¡æ°æ®ï¼åå°éé©±å¨è¡¨çå¨è¡¨æ«æã\n\n\n# å­æ¥è¯¢ä¼å\n\nå­æ¥è¯¢ä¼å»ºç«ä¸´æ¶è¡¨ï¼å½±åæ¥è¯¢æ§è½ãå¨mysqlä¸­å¯ä»¥ä½¿ç¨joinæ¥è¯¢æ¥æ¿ä»£å­æ¥è¯¢ã\n\n\n# æåºä¼å\n\nmysqlæ¯æä¸¤ç§æåºæ¹å¼ï¼åå«filesortåindexæåº\n\n * indexæåºä¸­ï¼ç´¢å¼å¯ä»¥ä¿è¯æ°æ®çæåºæ§ï¼ä¸éè¦åè¿è¡æåºï¼æçæ´é«\n * filesortæåºä¸è¬å¨åå­ä¸­è¿è¡æåºï¼æçè¾ä½ã\n\nå¨order by å­å¥ä¸­ä½¿ç¨ç´¢å¼ï¼é¿åä½¿ç¨filesortæåºã\n\n\n# group byä¼å\n\ngroup by åæåºååç»ï¼éµç§ç´¢å¼å»ºçæä½³å·¦åç¼æ³å\n\n\n# å½æ°ä¼å\n\nmax/minå½æ°ï¼ä½¿ç¨order by åå limit 1è¿è¡ä¼å",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"MySQLå½ä»¤å¤§å¨",frontmatter:{title:"MySQLå½ä»¤å¤§å¨",date:"2023-10-24T03:12:56.000Z",permalink:"/pages/f7fcac/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/02.%E6%95%B0%E6%8D%AE%E5%BA%93/02.MySQL/05.MySQL%E5%91%BD%E4%BB%A4%E5%A4%A7%E5%85%A8.html",relativePath:"01.Java ç¥è¯ä½ç³»/02.æ°æ®åº/02.MySQL/05.MySQLå½ä»¤å¤§å¨.md",key:"v-558474a0",path:"/pages/f7fcac/",headers:[{level:2,title:"æ°æ®åºæä½",slug:"æ°æ®åºæä½",normalizedTitle:"æ°æ®åºæä½",charIndex:2},{level:2,title:"è¡¨æä½",slug:"è¡¨æä½",normalizedTitle:"è¡¨æä½",charIndex:58},{level:3,title:"åå»ºè¡¨",slug:"åå»ºè¡¨",normalizedTitle:"åå»ºè¡¨",charIndex:66},{level:3,title:"æ¥è¯¢è¡¨",slug:"æ¥è¯¢è¡¨",normalizedTitle:"æ¥è¯¢è¡¨",charIndex:518},{level:3,title:"ä¿®æ¹è¡¨",slug:"ä¿®æ¹è¡¨",normalizedTitle:"ä¿®æ¹è¡¨",charIndex:553},{level:3,title:"å é¤è¡¨",slug:"å é¤è¡¨",normalizedTitle:"å é¤è¡¨",charIndex:795},{level:3,title:"éå½åè¡¨",slug:"éå½åè¡¨",normalizedTitle:"éå½åè¡¨",charIndex:826},{level:3,title:"è·åè¡¨ä¿¡æ¯",slug:"è·åè¡¨ä¿¡æ¯",normalizedTitle:"è·åè¡¨ä¿¡æ¯",charIndex:893},{level:2,title:"æ£ç´¢æ°æ®",slug:"æ£ç´¢æ°æ®",normalizedTitle:"æ£ç´¢æ°æ®",charIndex:1001},{level:3,title:"å»é",slug:"å»é",normalizedTitle:"å»é",charIndex:1125},{level:3,title:"éå¶ç»æ",slug:"éå¶ç»æ",normalizedTitle:"éå¶ç»æ",charIndex:1267},{level:3,title:"æåºæ£ç´¢æ°æ®",slug:"æåºæ£ç´¢æ°æ®",normalizedTitle:"æåºæ£ç´¢æ°æ®",charIndex:1500},{level:3,title:"è¿æ»¤æ°æ®",slug:"è¿æ»¤æ°æ®",normalizedTitle:"è¿æ»¤æ°æ®",charIndex:1716},{level:4,title:"é»è¾æä½ç¬¦",slug:"é»è¾æä½ç¬¦",normalizedTitle:"é»è¾æä½ç¬¦",charIndex:1972},{level:4,title:"INæä½ç¬¦",slug:"inæä½ç¬¦",normalizedTitle:"inæä½ç¬¦",charIndex:2366},{level:4,title:"NOTæä½ç¬¦",slug:"notæä½ç¬¦",normalizedTitle:"notæä½ç¬¦",charIndex:2498},{level:4,title:"ééç¬¦æ¥è¯¢",slug:"ééç¬¦æ¥è¯¢",normalizedTitle:"ééç¬¦æ¥è¯¢",charIndex:2636},{level:4,title:"æ­£åè¡¨è¾¾å¼",slug:"æ­£åè¡¨è¾¾å¼",normalizedTitle:"æ­£åè¡¨è¾¾å¼",charIndex:2830},{level:3,title:"è®¡ç®å­æ®µ",slug:"è®¡ç®å­æ®µ",normalizedTitle:"è®¡ç®å­æ®µ",charIndex:697},{level:3,title:"æ°æ®å¤çå½æ°",slug:"æ°æ®å¤çå½æ°",normalizedTitle:"æ°æ®å¤çå½æ°",charIndex:4359},{level:4,title:"ææ¬å¤çå½æ°",slug:"ææ¬å¤çå½æ°",normalizedTitle:"ææ¬å¤çå½æ°",charIndex:4369},{level:4,title:"æ¥æåæ¶é´å¤çå½æ°",slug:"æ¥æåæ¶é´å¤çå½æ°",normalizedTitle:"æ¥æåæ¶é´å¤çå½æ°",charIndex:4381},{level:4,title:"æ°å¼å¤çå½æ°",slug:"æ°å¼å¤çå½æ°",normalizedTitle:"æ°å¼å¤çå½æ°",charIndex:4452},{level:3,title:"èéå½æ°",slug:"èéå½æ°",normalizedTitle:"èéå½æ°",charIndex:4465},{level:3,title:"åç»æ°æ®",slug:"åç»æ°æ®",normalizedTitle:"åç»æ°æ®",charIndex:5087},{level:3,title:"ä½¿ç¨å­æ¥è¯¢",slug:"ä½¿ç¨å­æ¥è¯¢",normalizedTitle:"ä½¿ç¨å­æ¥è¯¢",charIndex:5427},{level:3,title:"èç»æ¥è¯¢",slug:"èç»æ¥è¯¢",normalizedTitle:"èç»æ¥è¯¢",charIndex:5780},{level:4,title:"åé¨èç»",slug:"åé¨èç»",normalizedTitle:"åé¨èç»",charIndex:5788},{level:4,title:"å·¦å¤èç»",slug:"å·¦å¤èç»",normalizedTitle:"å·¦å¤èç»",charIndex:6268},{level:4,title:"å³å¤èç»",slug:"å³å¤èç»",normalizedTitle:"å³å¤èç»",charIndex:6388},{level:4,title:"",slug:"",normalizedTitle:"",charIndex:0},{level:3,title:"ç»åæ¥è¯¢",slug:"ç»åæ¥è¯¢",normalizedTitle:"ç»åæ¥è¯¢",charIndex:6513},{level:2,title:"æå¥æ°æ®",slug:"æå¥æ°æ®",normalizedTitle:"æå¥æ°æ®",charIndex:7090},{level:2,title:"æ´æ°æ°æ®",slug:"æ´æ°æ°æ®",normalizedTitle:"æ´æ°æ°æ®",charIndex:7835},{level:2,title:"å é¤æ°æ®",slug:"å é¤æ°æ®",normalizedTitle:"å é¤æ°æ®",charIndex:8098}],headersStr:"æ°æ®åºæä½ è¡¨æä½ åå»ºè¡¨ æ¥è¯¢è¡¨ ä¿®æ¹è¡¨ å é¤è¡¨ éå½åè¡¨ è·åè¡¨ä¿¡æ¯ æ£ç´¢æ°æ® å»é éå¶ç»æ æåºæ£ç´¢æ°æ® è¿æ»¤æ°æ® é»è¾æä½ç¬¦ INæä½ç¬¦ NOTæä½ç¬¦ ééç¬¦æ¥è¯¢ æ­£åè¡¨è¾¾å¼ è®¡ç®å­æ®µ æ°æ®å¤çå½æ° ææ¬å¤çå½æ° æ¥æåæ¶é´å¤çå½æ° æ°å¼å¤çå½æ° èéå½æ° åç»æ°æ® ä½¿ç¨å­æ¥è¯¢ èç»æ¥è¯¢ åé¨èç» å·¦å¤èç» å³å¤èç»  ç»åæ¥è¯¢ æå¥æ°æ® æ´æ°æ°æ® å é¤æ°æ®",content:"# æ°æ®åºæä½\n\nuse dbNameï¼ éæ©æ°æ®åº\n\nshow databasesï¼è¿åå¯ç¨çæ°æ®åºåè¡¨\n\n\n# è¡¨æä½\n\n\n# åå»ºè¡¨\n\nCREATE TABLE `customers` (\n  cust_id int(11) NOT NULL AUTO_INCREMENT,\n  cust_name char(50) NOT NULL,\n  cust_address char(50) DEFAULT NULL,\n  cust_city char(50) DEFAULT NULL,\n  cust_state char(5) DEFAULT NULL,\n  cust_zip char(10) DEFAULT NULL,\n  cust_country char(50) DEFAULT NULL,\n  cust_contact char(50) DEFAULT NULL,\n  cust_email char(255) DEFAULT NULL,\n  PRIMARY KEY (cust_id)\n) ENGINE=InnoDB AUTO_INCREMENT=10009 DEFAULT CHARSET=utf8mb4;\n\n\n\n# æ¥è¯¢è¡¨\n\nshow tablesï¼è¿åå½åæ°æ®åºå¯ç¨çè¡¨åè¡¨\n\n\n# ä¿®æ¹è¡¨\n\nALTER TABLE vendors ADD vend_phone CHAR(20)\n\n\nå¤æçè¡¨ç»ææ´æ¹ä¸è¬éè¦æå¨å é¤è¿ç¨ï¼å®æ¶åä»¥ä¸æ­¥éª¤ï¼\n\n 1. ç¨æ°çåå¸å±åå»ºä¸ä¸ªæ°è¡¨ï¼\n 2. ä½¿ç¨INSERT SELECTè¯­å¥ä»æ§è¡¨å¤å¶æ°æ®å°æ°è¡¨ãå¦ææå¿è¦ï¼å¯ä½¿ç¨è½¬æ¢å½æ°åè®¡ç®å­æ®µï¼\n 3. æ£éªåå«æéæ°æ®çæ°è¡¨ï¼\n 4. éå½åæ§è¡¨ï¼å¦æç¡®å®ï¼å¯ä»¥å é¤å®ï¼ï¼\n 5. ç¨æ§è¡¨åæ¥çåå­éå½åæ°è¡¨ï¼\n 6. æ ¹æ®éè¦ï¼éæ°åå»ºè§¦åå¨ãå­å¨è¿ç¨ãç´¢å¼åå¤é®ã\n\n\n# å é¤è¡¨\n\nDROP TABLE customers\n\n\n\n# éå½åè¡¨\n\nRENAME TABLE customers TO customers2,\norders TO orders2\n\n\n\n# è·åè¡¨ä¿¡æ¯\n\nshow columns form tableNameï¼è¿åè¡¨ä¸­æ¯ä¸ªå­æ®µçè¯¦ç»ä¿¡æ¯ã\n\ndescribe tableNameï¼show columns form tableNameçå¿«æ·æ¹å¼ã\n\n\n# æ£ç´¢æ°æ®\n\nselectå­å¥é¡ºåºï¼\n\n\n\nselect column from tableï¼æ£ç´¢åä¸ªå\n\nselect column1,column2 from tableï¼æ£ç´¢å¤ä¸ªå\n\nselect * from tableï¼æ£ç´¢ææå\n\n\n# å»é\n\nselect distinct column from tableï¼æ£ç´¢åä¸ªåå¹¶å»é\n\nselect distinct column1,column2 from tableï¼distinct åºç¨äºææåï¼column1,column2 ï¼ï¼èä¸ä»æ¯column1ã\n\n\n# éå¶ç»æ\n\nselect column from table limit 5ï¼æ£ç´¢åä¸ªåï¼å¹¶è¿å5è¡æ°æ®\n\nselect column from table limit 5,5ï¼æ£ç´¢åä¸ªåï¼å¹¶è¿åä»è¡5å¼å§ç5æ¡æ°æ®ï¼ç¬¬ä¸ä¸ªæ°ä¸ºå¼å§ä½ç½®ï¼ç¬¬äºä¸ªæ°ä¸ºè¡æ°ï¼æ£ç´¢åºæ¥çæ°æ®ç¬¬ä¸è¡ä¸ºè¡0èä¸æ¯è¡1ï¼\n\nselect column from table limit 5 offset 5ï¼ç­åä¸äºselect column from table limit 5,5\n\n\n# æåºæ£ç´¢æ°æ®\n\nselect column from table order by columnï¼ä»¥å­æ¯é¡ºåºæåºæ£ç´¢åºæ¥çæ°æ®ï¼é»è®¤ååºï¼\n\nselect column from table order by column1,column2ï¼å¤ä¸ªåæåºï¼åæcolumn1æåºï¼åéè¿column2æåºï¼\n\nselect column from table order by column asc/descï¼ååº/éåºæåº\n\n\n# è¿æ»¤æ°æ®\n\nselect column from table where column=columnValï¼è¿åcolumnåå¼ä¸ºcolumnValçæ°æ®ã\n\nselect column from table where column between startVal and endValï¼è¿åå¼èå´å¨startValå°endValçæ°æ®ã\n\nselect column from table where column is nullï¼è¿åcolumnå¼ä¸ºnullçæ°æ®\n\nwhereå­å¥æä½ç¬¦æï¼\n\n\n\n# é»è¾æä½ç¬¦\n\nselect column from table where column1=columnVal1 and column2=columnVal2ï¼è¿åcolumn1ç­äºcolumnVal1 å¹¶ä¸column2=columnVal2çæ°æ®\n\nselect column from table where column1=columnVal1 or column2=columnVal2ï¼è¿åcolumn1ç­äºcolumnVal1 æècolumn2=columnVal2çæ°æ®\n\nè®¡ç®æ¬¡åºï¼SQLä¼åå¤çANDæä½ç¬¦ï¼ç¶ååå¤çORæä½ç¬¦\n\næå¥½ä½¿ç¨å­æ¬å·æç¡®æä½ç¬¦å¤çæ¬¡åºï¼select column from table where (column1=columnVal1 or column2=columnVal2) and column2=columnVal3\n\n# INæä½ç¬¦\n\nselect column from table where column in (columnVal1,columnVal2,columnVal3)ï¼è¿åcolumnå¼ä¸ºcolumnVal1æcolumnVal2æcolumnVal3çæ°æ®\n\n# NOTæä½ç¬¦\n\nselect column from table where column not in (columnVal1,columnVal2,columnVal3)ï¼è¿åcolumnå¼ä¸ä¸ºcolumnVal1æcolumnVal2æcolumnVal3çæ°æ®\n\n# ééç¬¦æ¥è¯¢\n\nselect column from table column like 'jet%'ï¼è¿åcolumnä¸­ä»¥jetå¼å¤´çæ°æ®\n\nselect column from table column like '%jet%'ï¼è¿åcolumnä¸­åå«jetçæ°æ®\n\nselect column from table column like '_jet'ï¼ä¸åçº¿_åªå¹éä¸ä¸ªå­ç¬¦\n\n# æ­£åè¡¨è¾¾å¼\n\næ­£åè¡¨è¾¾å¼æ¯ç¨æ¥å¹éææ¬çç¹æ®çä¸²ï¼å­ç¬¦éåï¼ã\n\nMySQLä»æ¯æå¤æ°æ­£åè¡¨è¾¾å¼å®ç°çä¸ä¸ªå¾å°çå­é\n\nselect prod_name from products wehre prod_name REGEXP '1000' order by prod_name:æ£ç´¢åprod_nameåå«ææ¬1000çææè¡\n\nselect prod_name from products wehre prod_name REGEXP '1000|2000' order by prod_name:æ£ç´¢åprod_nameåå«ææ¬1000æ2000çææè¡\n\nselect prod_name from products wehre prod_name REGEXP '[123]' order by prod_nameï¼æ£ç´¢åprod_nameåå«ææ¬1æ2æ3çææè¡ï¼ç­ä»·äº[1|2|3]\n\nselect prod_name from products wehre prod_name REGEXP '[0-9]' order by prod_nameï¼æ£ç´¢åprod_nameåå«ææ¬0å°9çææè¡ï¼ç­ä»·äº[0123456789]\n\nselect prod_name from products wehre prod_name REGEXP '\\.' order by prod_nameï¼æ£ç´¢åprod_nameåå«ææ¬.çææè¡ï¼ç¹æ®å­ç¬¦éè¦ä½¿ç¨\\ä¸ºåå¯¼\n\n\n# è®¡ç®å­æ®µ\n\nè®¡ç®å­æ®µå°±æ¯è½¬æ¢ãè®¡ç®ææ ¼å¼åæ£ç´¢åºæ¥çæ°æ®ã\n\nselect Concat(vend_name,'(','vend_country',')') from vendors order by vend_nameï¼Concatå½æ°æ¼æ¥å­æ®µ\n\nselect RTrim(vend_name) from vendors order by vend_nameï¼å»é¤vend_nameå³è¾¹ææç©ºæ ¼\n\nselect LTrim(vend_name) from vendors order by vend_nameï¼å»é¤vend_nameå·¦è¾¹ææç©ºæ ¼\n\nselect Trim(vend_name) from vendors order by vend_nameï¼å»é¤vend_nameææç©ºæ ¼\n\nselect Concat(vend_name,'(','vend_country',')') as vend_title from vendors order by vend_nameï¼ä½¿ç¨å«å\n\nç®æ¯æä½ç¬¦\n\nselect quantity*item_price as expanded_price from orderitems where order_num=20005ï¼è®¡ç®quantityåitem_price ä¹\n\nselect quantity+item_price as expanded_price from orderitems where order_num=20005ï¼è®¡ç®quantityåitem_price å \n\nselect quantity-item_price as expanded_price from orderitems where order_num=20005ï¼è®¡ç®quantityåitem_price å\n\nselect quantity/item_price as expanded_price from orderitems where order_num=20005ï¼è®¡ç®quantityåitem_price é¤\n\n\n# æ°æ®å¤çå½æ°\n\n# ææ¬å¤çå½æ°\n\n\n\n# æ¥æåæ¶é´å¤çå½æ°\n\n\n\nDate(order_date)æç¤ºMySQLä»æååçæ¥æé¨åï¼å¦ææ³è¦çä»æ¯æ¥æï¼é£å°±ä½¿ç¨Date()ã\n\n# æ°å¼å¤çå½æ°\n\n\n\n\n# èéå½æ°\n\n\n\nselect AVG(prod_price) as avg_price from productsï¼è¿åproductsä¸­prod_priceçå¹³åå¼ã AVG()å½æ°å¿½ç¥åå¼ä¸ºNULLçè¡ã\n\nselect AVG(distinct prod_price) as avg_price from productsï¼è¿åproductsä¸­åprod_priceå»éåçå¹³åå¼ã\n\nselect COUNT(*) as num_cust from customersï¼è¿åcustomersè¡¨ä¸­å®¢æ·çæ»æ°ï¼ä¸ç®¡è¡¨åä¸­æ¯å¦åå«ç©ºå¼ï¼NULLï¼\n\nselect COUNT(cust_email) as num_cust from customersï¼è¿åcustomersè¡¨ä¸­åcust_emailæå¼çæ»æ°ï¼å¿½ç¥ç©ºå¼ã\n\nselect MAX(prod_price) as max_price from productsï¼è¿åproductsè¡¨åprod_priceçæå¤§å¼ï¼å¿½ç¥NULL\n\nselect MIN(prod_price) as max_price from productsï¼è¿åproductsè¡¨åprod_priceçæå°å¼ï¼å¿½ç¥NULL\n\nselect SUM(quantity) as items_ordered from orderitems ï¼è¿åè¡¨orderitemsä¸­quantityå¼ä¹å\n\n\n# åç»æ°æ®\n\nselect vend_id,COUNT(*) as num_prods from products group bu vend_idï¼éè¿vend_idåç»ï¼å¹¶è·åæ¯ç»çæ°æ®\n\nwhereè¿æ»¤è¡ï¼having è¿æ»¤åç»ãwhereå¨æ°æ®åç»åè¿è¡è¿æ»¤ï¼havingå¨æ°æ®åç»åè¿è¡è¿æ»¤ã\n\nselect cust_id,COUNT() as orders from orders group by cust_id having count() >= 2ï¼åç»è¿æ»¤æ¡ä»¶\n\nselect vend_id,COUNT(*) as num_prods from products group bu vend_id order by num_prods ï¼åç»åæåº\n\n\n# ä½¿ç¨å­æ¥è¯¢\n\nwhere ...inä½¿ç¨å­æ¥è¯¢\n\nselect cust_name,cust_contact from customers where cust_id in (\n\tselect cust_id from orders where order_num in (\n\t\tselect order_num from orderitems where prod_id='TNT2'\n\t)\n)\n\n\nå¡«åè®¡ç®å\n\nSELECT cust_name, cust_state,( SELECT count(*) FROM orders WHERE orders.cust_id = customers.cust_id ) \nFROM\n\tcustomers \nORDER BY\n\tcust_name\n\n\n\n# èç»æ¥è¯¢\n\n# åé¨èç»\n\nselect vend_name,prod_name,prod_price from vendors,products\nwhere vendors.vend_id=products.vend_id\nORDER BY vend_name,prod_name\n\n\nwhere vendors.vend_id=products.vend_idæ¯èç»æ¡ä»¶ï¼æ²¡æèç»æ¡ä»¶ä¼åºç°ç¬å¡å¿ç§¯ç°è±¡ã\n\nåèç»ä¹å¯ä»¥ä½¿ç¨INNER JOINæ¿ä»£\n\nselect vend_name,prod_name,prod_price from vendors INNER JOIN products\nON vendors.vend_id=products.vend_id\nORDER BY vend_name,prod_name\n\n\nselect p1.prod_id,p1.prod_name from products as p1,products as p2 \nwhere p1.vend_id=p2.vend_id and p2.prod_id='DTNTR'\n\n\n# å·¦å¤èç»\n\nselect customers.cust_id,orders.order_num from customers LEFT JOIN orders ON orders.cust_id=customers.cust_id\n\n\n# å³å¤èç»\n\n#\n\nselect customers.cust_id,orders.order_num from customers RIGHT JOIN orders ON orders.cust_id=customers.cust_id\n\n\n\n# ç»åæ¥è¯¢\n\nUNIONåéï¼UNION ALLä¸å»é\n\nSELECT vend_id,prod_id,prod_price FROM products WHERE prod_price <=5\nUNION\nSELECT vend_id,prod_id,prod_price FROM products WHERE vend_id IN (1001,1002);\n\n\nSELECT vend_id,prod_id,prod_price FROM products WHERE prod_price <=5\nUNION ALL\nSELECT vend_id,prod_id,prod_price FROM products WHERE vend_id IN (1001,1002);\n\n\nå¨ç¨UNIONç»åæ¥è¯¢æ¶ï¼åªè½ä½¿ç¨ä¸æ¡ORDER BYå­å¥ï¼å®å¿é¡»åºç°å¨æåä¸æ¡SELECTè¯­å¥ä¹åã\n\nSELECT vend_id,prod_id,prod_price FROM products WHERE prod_price <=5\nUNION\nSELECT vend_id,prod_id,prod_price FROM products WHERE vend_id IN (1001,1002)\norder by vend_id,prod_id\n\n\n\n# æå¥æ°æ®\n\næå¥å®æ´è¡ï¼\n\nINSERT INTO customers \nVALUES (NULL, 'Pep E.LaPew','100 Main Street','Los Angeles','CA','90046','USA',NULL,NULL)\n\n\næ¨èä½¿ç¨\n\nINSERT INTO customers ( cust_id, cust_name, cust_address, cust_city, cust_state, cust_zip, cust_country, cust_contact, cust_email)\nVALUES\n\t( 10001, 'Coyote Inc.', '200 Maple Lane', 'Detroit', 'MI', '44444', 'USA', 'Y Lee', 'ylee@coyote.com' );\n\n\næå¥å¤æ¡æ°æ®ï¼\n\nINSERT INTO customers ( cust_id, cust_name, cust_address, cust_city, cust_state, cust_zip, cust_country, cust_contact, cust_email)\nVALUES\n\t( 10007, 'Coyote Inc.', '200 Maple Lane', 'Detroit', 'MI', '44444', 'USA', 'Y Lee', 'ylee@coyote.com' ),\n\t( 10008, 'Coyote Inc.', '200 Maple Lane', 'Detroit', 'MI', '44444', 'USA', 'Y Lee', 'ylee@coyote.com' );\n\n\n\n# æ´æ°æ°æ®\n\nUPDATE customers SET cust_name = 'Yosemite Place', cust_address = '829 Riverside Drive', cust_city = 'Phoenix', cust_state = 'AZ', cust_zip = '88888', cust_country = 'USA', cust_contact = 'Y Sam', cust_email = 'sam@yosemite.com' WHERE cust_id = 10004;\n\n\n\n# å é¤æ°æ®\n\nDELETE FROM customers where cust_id=10006\n",normalizedContent:"# æ°æ®åºæä½\n\nuse dbnameï¼ éæ©æ°æ®åº\n\nshow databasesï¼è¿åå¯ç¨çæ°æ®åºåè¡¨\n\n\n# è¡¨æä½\n\n\n# åå»ºè¡¨\n\ncreate table `customers` (\n  cust_id int(11) not null auto_increment,\n  cust_name char(50) not null,\n  cust_address char(50) default null,\n  cust_city char(50) default null,\n  cust_state char(5) default null,\n  cust_zip char(10) default null,\n  cust_country char(50) default null,\n  cust_contact char(50) default null,\n  cust_email char(255) default null,\n  primary key (cust_id)\n) engine=innodb auto_increment=10009 default charset=utf8mb4;\n\n\n\n# æ¥è¯¢è¡¨\n\nshow tablesï¼è¿åå½åæ°æ®åºå¯ç¨çè¡¨åè¡¨\n\n\n# ä¿®æ¹è¡¨\n\nalter table vendors add vend_phone char(20)\n\n\nå¤æçè¡¨ç»ææ´æ¹ä¸è¬éè¦æå¨å é¤è¿ç¨ï¼å®æ¶åä»¥ä¸æ­¥éª¤ï¼\n\n 1. ç¨æ°çåå¸å±åå»ºä¸ä¸ªæ°è¡¨ï¼\n 2. ä½¿ç¨insert selectè¯­å¥ä»æ§è¡¨å¤å¶æ°æ®å°æ°è¡¨ãå¦ææå¿è¦ï¼å¯ä½¿ç¨è½¬æ¢å½æ°åè®¡ç®å­æ®µï¼\n 3. æ£éªåå«æéæ°æ®çæ°è¡¨ï¼\n 4. éå½åæ§è¡¨ï¼å¦æç¡®å®ï¼å¯ä»¥å é¤å®ï¼ï¼\n 5. ç¨æ§è¡¨åæ¥çåå­éå½åæ°è¡¨ï¼\n 6. æ ¹æ®éè¦ï¼éæ°åå»ºè§¦åå¨ãå­å¨è¿ç¨ãç´¢å¼åå¤é®ã\n\n\n# å é¤è¡¨\n\ndrop table customers\n\n\n\n# éå½åè¡¨\n\nrename table customers to customers2,\norders to orders2\n\n\n\n# è·åè¡¨ä¿¡æ¯\n\nshow columns form tablenameï¼è¿åè¡¨ä¸­æ¯ä¸ªå­æ®µçè¯¦ç»ä¿¡æ¯ã\n\ndescribe tablenameï¼show columns form tablenameçå¿«æ·æ¹å¼ã\n\n\n# æ£ç´¢æ°æ®\n\nselectå­å¥é¡ºåºï¼\n\n\n\nselect column from tableï¼æ£ç´¢åä¸ªå\n\nselect column1,column2 from tableï¼æ£ç´¢å¤ä¸ªå\n\nselect * from tableï¼æ£ç´¢ææå\n\n\n# å»é\n\nselect distinct column from tableï¼æ£ç´¢åä¸ªåå¹¶å»é\n\nselect distinct column1,column2 from tableï¼distinct åºç¨äºææåï¼column1,column2 ï¼ï¼èä¸ä»æ¯column1ã\n\n\n# éå¶ç»æ\n\nselect column from table limit 5ï¼æ£ç´¢åä¸ªåï¼å¹¶è¿å5è¡æ°æ®\n\nselect column from table limit 5,5ï¼æ£ç´¢åä¸ªåï¼å¹¶è¿åä»è¡5å¼å§ç5æ¡æ°æ®ï¼ç¬¬ä¸ä¸ªæ°ä¸ºå¼å§ä½ç½®ï¼ç¬¬äºä¸ªæ°ä¸ºè¡æ°ï¼æ£ç´¢åºæ¥çæ°æ®ç¬¬ä¸è¡ä¸ºè¡0èä¸æ¯è¡1ï¼\n\nselect column from table limit 5 offset 5ï¼ç­åä¸äºselect column from table limit 5,5\n\n\n# æåºæ£ç´¢æ°æ®\n\nselect column from table order by columnï¼ä»¥å­æ¯é¡ºåºæåºæ£ç´¢åºæ¥çæ°æ®ï¼é»è®¤ååºï¼\n\nselect column from table order by column1,column2ï¼å¤ä¸ªåæåºï¼åæcolumn1æåºï¼åéè¿column2æåºï¼\n\nselect column from table order by column asc/descï¼ååº/éåºæåº\n\n\n# è¿æ»¤æ°æ®\n\nselect column from table where column=columnvalï¼è¿åcolumnåå¼ä¸ºcolumnvalçæ°æ®ã\n\nselect column from table where column between startval and endvalï¼è¿åå¼èå´å¨startvalå°endvalçæ°æ®ã\n\nselect column from table where column is nullï¼è¿åcolumnå¼ä¸ºnullçæ°æ®\n\nwhereå­å¥æä½ç¬¦æï¼\n\n\n\n# é»è¾æä½ç¬¦\n\nselect column from table where column1=columnval1 and column2=columnval2ï¼è¿åcolumn1ç­äºcolumnval1 å¹¶ä¸column2=columnval2çæ°æ®\n\nselect column from table where column1=columnval1 or column2=columnval2ï¼è¿åcolumn1ç­äºcolumnval1 æècolumn2=columnval2çæ°æ®\n\nè®¡ç®æ¬¡åºï¼sqlä¼åå¤çandæä½ç¬¦ï¼ç¶ååå¤çoræä½ç¬¦\n\næå¥½ä½¿ç¨å­æ¬å·æç¡®æä½ç¬¦å¤çæ¬¡åºï¼select column from table where (column1=columnval1 or column2=columnval2) and column2=columnval3\n\n# inæä½ç¬¦\n\nselect column from table where column in (columnval1,columnval2,columnval3)ï¼è¿åcolumnå¼ä¸ºcolumnval1æcolumnval2æcolumnval3çæ°æ®\n\n# notæä½ç¬¦\n\nselect column from table where column not in (columnval1,columnval2,columnval3)ï¼è¿åcolumnå¼ä¸ä¸ºcolumnval1æcolumnval2æcolumnval3çæ°æ®\n\n# ééç¬¦æ¥è¯¢\n\nselect column from table column like 'jet%'ï¼è¿åcolumnä¸­ä»¥jetå¼å¤´çæ°æ®\n\nselect column from table column like '%jet%'ï¼è¿åcolumnä¸­åå«jetçæ°æ®\n\nselect column from table column like '_jet'ï¼ä¸åçº¿_åªå¹éä¸ä¸ªå­ç¬¦\n\n# æ­£åè¡¨è¾¾å¼\n\næ­£åè¡¨è¾¾å¼æ¯ç¨æ¥å¹éææ¬çç¹æ®çä¸²ï¼å­ç¬¦éåï¼ã\n\nmysqlä»æ¯æå¤æ°æ­£åè¡¨è¾¾å¼å®ç°çä¸ä¸ªå¾å°çå­é\n\nselect prod_name from products wehre prod_name regexp '1000' order by prod_name:æ£ç´¢åprod_nameåå«ææ¬1000çææè¡\n\nselect prod_name from products wehre prod_name regexp '1000|2000' order by prod_name:æ£ç´¢åprod_nameåå«ææ¬1000æ2000çææè¡\n\nselect prod_name from products wehre prod_name regexp '[123]' order by prod_nameï¼æ£ç´¢åprod_nameåå«ææ¬1æ2æ3çææè¡ï¼ç­ä»·äº[1|2|3]\n\nselect prod_name from products wehre prod_name regexp '[0-9]' order by prod_nameï¼æ£ç´¢åprod_nameåå«ææ¬0å°9çææè¡ï¼ç­ä»·äº[0123456789]\n\nselect prod_name from products wehre prod_name regexp '\\.' order by prod_nameï¼æ£ç´¢åprod_nameåå«ææ¬.çææè¡ï¼ç¹æ®å­ç¬¦éè¦ä½¿ç¨\\ä¸ºåå¯¼\n\n\n# è®¡ç®å­æ®µ\n\nè®¡ç®å­æ®µå°±æ¯è½¬æ¢ãè®¡ç®ææ ¼å¼åæ£ç´¢åºæ¥çæ°æ®ã\n\nselect concat(vend_name,'(','vend_country',')') from vendors order by vend_nameï¼concatå½æ°æ¼æ¥å­æ®µ\n\nselect rtrim(vend_name) from vendors order by vend_nameï¼å»é¤vend_nameå³è¾¹ææç©ºæ ¼\n\nselect ltrim(vend_name) from vendors order by vend_nameï¼å»é¤vend_nameå·¦è¾¹ææç©ºæ ¼\n\nselect trim(vend_name) from vendors order by vend_nameï¼å»é¤vend_nameææç©ºæ ¼\n\nselect concat(vend_name,'(','vend_country',')') as vend_title from vendors order by vend_nameï¼ä½¿ç¨å«å\n\nç®æ¯æä½ç¬¦\n\nselect quantity*item_price as expanded_price from orderitems where order_num=20005ï¼è®¡ç®quantityåitem_price ä¹\n\nselect quantity+item_price as expanded_price from orderitems where order_num=20005ï¼è®¡ç®quantityåitem_price å \n\nselect quantity-item_price as expanded_price from orderitems where order_num=20005ï¼è®¡ç®quantityåitem_price å\n\nselect quantity/item_price as expanded_price from orderitems where order_num=20005ï¼è®¡ç®quantityåitem_price é¤\n\n\n# æ°æ®å¤çå½æ°\n\n# ææ¬å¤çå½æ°\n\n\n\n# æ¥æåæ¶é´å¤çå½æ°\n\n\n\ndate(order_date)æç¤ºmysqlä»æååçæ¥æé¨åï¼å¦ææ³è¦çä»æ¯æ¥æï¼é£å°±ä½¿ç¨date()ã\n\n# æ°å¼å¤çå½æ°\n\n\n\n\n# èéå½æ°\n\n\n\nselect avg(prod_price) as avg_price from productsï¼è¿åproductsä¸­prod_priceçå¹³åå¼ã avg()å½æ°å¿½ç¥åå¼ä¸ºnullçè¡ã\n\nselect avg(distinct prod_price) as avg_price from productsï¼è¿åproductsä¸­åprod_priceå»éåçå¹³åå¼ã\n\nselect count(*) as num_cust from customersï¼è¿åcustomersè¡¨ä¸­å®¢æ·çæ»æ°ï¼ä¸ç®¡è¡¨åä¸­æ¯å¦åå«ç©ºå¼ï¼nullï¼\n\nselect count(cust_email) as num_cust from customersï¼è¿åcustomersè¡¨ä¸­åcust_emailæå¼çæ»æ°ï¼å¿½ç¥ç©ºå¼ã\n\nselect max(prod_price) as max_price from productsï¼è¿åproductsè¡¨åprod_priceçæå¤§å¼ï¼å¿½ç¥null\n\nselect min(prod_price) as max_price from productsï¼è¿åproductsè¡¨åprod_priceçæå°å¼ï¼å¿½ç¥null\n\nselect sum(quantity) as items_ordered from orderitems ï¼è¿åè¡¨orderitemsä¸­quantityå¼ä¹å\n\n\n# åç»æ°æ®\n\nselect vend_id,count(*) as num_prods from products group bu vend_idï¼éè¿vend_idåç»ï¼å¹¶è·åæ¯ç»çæ°æ®\n\nwhereè¿æ»¤è¡ï¼having è¿æ»¤åç»ãwhereå¨æ°æ®åç»åè¿è¡è¿æ»¤ï¼havingå¨æ°æ®åç»åè¿è¡è¿æ»¤ã\n\nselect cust_id,count() as orders from orders group by cust_id having count() >= 2ï¼åç»è¿æ»¤æ¡ä»¶\n\nselect vend_id,count(*) as num_prods from products group bu vend_id order by num_prods ï¼åç»åæåº\n\n\n# ä½¿ç¨å­æ¥è¯¢\n\nwhere ...inä½¿ç¨å­æ¥è¯¢\n\nselect cust_name,cust_contact from customers where cust_id in (\n\tselect cust_id from orders where order_num in (\n\t\tselect order_num from orderitems where prod_id='tnt2'\n\t)\n)\n\n\nå¡«åè®¡ç®å\n\nselect cust_name, cust_state,( select count(*) from orders where orders.cust_id = customers.cust_id ) \nfrom\n\tcustomers \norder by\n\tcust_name\n\n\n\n# èç»æ¥è¯¢\n\n# åé¨èç»\n\nselect vend_name,prod_name,prod_price from vendors,products\nwhere vendors.vend_id=products.vend_id\norder by vend_name,prod_name\n\n\nwhere vendors.vend_id=products.vend_idæ¯èç»æ¡ä»¶ï¼æ²¡æèç»æ¡ä»¶ä¼åºç°ç¬å¡å¿ç§¯ç°è±¡ã\n\nåèç»ä¹å¯ä»¥ä½¿ç¨inner joinæ¿ä»£\n\nselect vend_name,prod_name,prod_price from vendors inner join products\non vendors.vend_id=products.vend_id\norder by vend_name,prod_name\n\n\nselect p1.prod_id,p1.prod_name from products as p1,products as p2 \nwhere p1.vend_id=p2.vend_id and p2.prod_id='dtntr'\n\n\n# å·¦å¤èç»\n\nselect customers.cust_id,orders.order_num from customers left join orders on orders.cust_id=customers.cust_id\n\n\n# å³å¤èç»\n\n#\n\nselect customers.cust_id,orders.order_num from customers right join orders on orders.cust_id=customers.cust_id\n\n\n\n# ç»åæ¥è¯¢\n\nunionåéï¼union allä¸å»é\n\nselect vend_id,prod_id,prod_price from products where prod_price <=5\nunion\nselect vend_id,prod_id,prod_price from products where vend_id in (1001,1002);\n\n\nselect vend_id,prod_id,prod_price from products where prod_price <=5\nunion all\nselect vend_id,prod_id,prod_price from products where vend_id in (1001,1002);\n\n\nå¨ç¨unionç»åæ¥è¯¢æ¶ï¼åªè½ä½¿ç¨ä¸æ¡order byå­å¥ï¼å®å¿é¡»åºç°å¨æåä¸æ¡selectè¯­å¥ä¹åã\n\nselect vend_id,prod_id,prod_price from products where prod_price <=5\nunion\nselect vend_id,prod_id,prod_price from products where vend_id in (1001,1002)\norder by vend_id,prod_id\n\n\n\n# æå¥æ°æ®\n\næå¥å®æ´è¡ï¼\n\ninsert into customers \nvalues (null, 'pep e.lapew','100 main street','los angeles','ca','90046','usa',null,null)\n\n\næ¨èä½¿ç¨\n\ninsert into customers ( cust_id, cust_name, cust_address, cust_city, cust_state, cust_zip, cust_country, cust_contact, cust_email)\nvalues\n\t( 10001, 'coyote inc.', '200 maple lane', 'detroit', 'mi', '44444', 'usa', 'y lee', 'ylee@coyote.com' );\n\n\næå¥å¤æ¡æ°æ®ï¼\n\ninsert into customers ( cust_id, cust_name, cust_address, cust_city, cust_state, cust_zip, cust_country, cust_contact, cust_email)\nvalues\n\t( 10007, 'coyote inc.', '200 maple lane', 'detroit', 'mi', '44444', 'usa', 'y lee', 'ylee@coyote.com' ),\n\t( 10008, 'coyote inc.', '200 maple lane', 'detroit', 'mi', '44444', 'usa', 'y lee', 'ylee@coyote.com' );\n\n\n\n# æ´æ°æ°æ®\n\nupdate customers set cust_name = 'yosemite place', cust_address = '829 riverside drive', cust_city = 'phoenix', cust_state = 'az', cust_zip = '88888', cust_country = 'usa', cust_contact = 'y sam', cust_email = 'sam@yosemite.com' where cust_id = 10004;\n\n\n\n# å é¤æ°æ®\n\ndelete from customers where cust_id=10006\n",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"BigDecimal è¯¦è§£",frontmatter:{title:"BigDecimal è¯¦è§£",date:"2023-10-23T23:54:17.000Z",permalink:"/pages/f7214d/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/03.Java/01.Java%20%E5%9F%BA%E7%A1%80/01.BigDecimal%20%E8%AF%A6%E8%A7%A3.html",relativePath:"01.Java ç¥è¯ä½ç³»/03.Java/01.Java åºç¡/01.BigDecimal è¯¦è§£.md",key:"v-4d3b354d",path:"/pages/f7214d/",headers:[{level:1,title:"BigDecimal å¸¸è§æ¹æ³",slug:"bigdecimal-å¸¸è§æ¹æ³",normalizedTitle:"bigdecimal å¸¸è§æ¹æ³",charIndex:89},{level:2,title:"åå»º",slug:"åå»º",normalizedTitle:"åå»º",charIndex:109},{level:2,title:"å åä¹é¤",slug:"å åä¹é¤",normalizedTitle:"å åä¹é¤",charIndex:388},{level:2,title:"ä¿çå ä½å°æ°",slug:"ä¿çå ä½å°æ°",normalizedTitle:"ä¿çå ä½å°æ°",charIndex:629},{level:2,title:"å¤§å°æ¯è¾",slug:"å¤§å°æ¯è¾",normalizedTitle:"å¤§å°æ¯è¾",charIndex:924}],headersStr:"BigDecimal å¸¸è§æ¹æ³ åå»º å åä¹é¤ ä¿çå ä½å°æ° å¤§å°æ¯è¾",content:"ä½¿ç¨BigDecimalè¿è¡æµ®ç¹æ°çè¿ç®ï¼é¿åç²¾åº¦ä¸¢å¤±ã\n\néå¸¸æåµä¸ï¼å¤§é¨åéè¦æµ®ç¹æ°ç²¾ç¡®è¿ç®ç»æçä¸å¡åºæ¯ï¼æ¯å¦æ¶åå°é±çåºæ¯ï¼é½æ¯éè¿BigDecimalæ¥åçã\n\n\n# BigDecimal å¸¸è§æ¹æ³\n\n\n# åå»º\n\nä¸ºäºé²æ­¢ç²¾åº¦ä¸¢å¤±ï¼ä½¿ç¨BigDecimal(String)æé æ¹æ³æèBigDecimal valueOf(double val) éææ¹æ³æ¥åå»ºBigDecimal å¯¹è±¡ã\n\n> ãå¼ºå¶ãç¦æ­¢ä½¿ç¨æé æ¹æ³ BigDecimal(double)çæ¹å¼æ double å¼è½¬åä¸º BigDecimal å¯¹è±¡ã è¯´æï¼BigDecimal(double)å­å¨ç²¾åº¦æå¤±é£é©ï¼å¨ç²¾ç¡®è®¡ç®æå¼æ¯è¾çåºæ¯ä¸­å¯è½ä¼å¯¼è´ä¸å¡é»è¾å¼å¸¸ã å¦ï¼BigDecimal g = new BigDecimal(0.1F); å®éçå­å¨å¼ä¸ºï¼0.10000000149\n\n\n# å åä¹é¤\n\n//ä¸¤ä¸ªBigDecimalå¯¹è±¡ç¸å \npublic BigDecimal add(BigDecimal augend)\n//ä¸¤ä¸ªBigDecimalå¯¹è±¡ç¸å\npublic BigDecimal subtract(BigDecimal subtrahend)\n//ä¸¤ä¸ªBigDecimalå¯¹è±¡ç¸ä¹\npublic BigDecimal multiply(BigDecimal multiplicand)\n//ä¸¤ä¸ªBigDecimalå¯¹è±¡ç¸é¤ï¼ä½¿ç¨3ä¸ªåæ°çæ¬ï¼scaleè¡¨ç¤ºä¿çå ä½å°æ°ï¼roundingMode ä»£è¡¨ä¿çè§åï¼ãroundingModeå¼ä¸ºBigDecimal.ROUND_HALF_UPè¡¨ç¤ºåèäºå¥\npublic BigDecimal divide(BigDecimal divisor, int scale, int roundingMode)\n\n\n\n# ä¿çå ä½å°æ°\n\npublic BigDecimal setScale(int newScale, int roundingMode)\n\n\n * newScaleï¼ä¿çå ä½å°æ°\n * roundingModeï¼ä¿çè§åãBigDecimal.ROUND_HALF_UPä¸ºåèäºå¥\n\n\n# å¤§å°æ¯è¾\n\npublic int compareTo(BigDecimal val)\n\n\nä½¿ç¨a.compareTo(b)è¿è¡å¤§å°æ¯è¾ï¼\n\n * -1ï¼a å°äº b\n * 0ï¼a ç­äº b\n * 1ï¼a å¤§äº b\n\n> ãå¼ºå¶ãBigDecimal çç­å¼æ¯è¾åºä½¿ç¨ compareTo()æ¹æ³ï¼èä¸æ¯ equals()æ¹æ³ã è¯´æï¼equals()æ¹æ³ä¼æ¯è¾å¼åç²¾åº¦ï¼1.0 ä¸ 1.00 è¿åç»æä¸º falseï¼ï¼è compareTo()åä¼å¿½ç¥ç²¾åº¦ã",normalizedContent:"ä½¿ç¨bigdecimalè¿è¡æµ®ç¹æ°çè¿ç®ï¼é¿åç²¾åº¦ä¸¢å¤±ã\n\néå¸¸æåµä¸ï¼å¤§é¨åéè¦æµ®ç¹æ°ç²¾ç¡®è¿ç®ç»æçä¸å¡åºæ¯ï¼æ¯å¦æ¶åå°é±çåºæ¯ï¼é½æ¯éè¿bigdecimalæ¥åçã\n\n\n# bigdecimal å¸¸è§æ¹æ³\n\n\n# åå»º\n\nä¸ºäºé²æ­¢ç²¾åº¦ä¸¢å¤±ï¼ä½¿ç¨bigdecimal(string)æé æ¹æ³æèbigdecimal valueof(double val) éææ¹æ³æ¥åå»ºbigdecimal å¯¹è±¡ã\n\n> ãå¼ºå¶ãç¦æ­¢ä½¿ç¨æé æ¹æ³ bigdecimal(double)çæ¹å¼æ double å¼è½¬åä¸º bigdecimal å¯¹è±¡ã è¯´æï¼bigdecimal(double)å­å¨ç²¾åº¦æå¤±é£é©ï¼å¨ç²¾ç¡®è®¡ç®æå¼æ¯è¾çåºæ¯ä¸­å¯è½ä¼å¯¼è´ä¸å¡é»è¾å¼å¸¸ã å¦ï¼bigdecimal g = new bigdecimal(0.1f); å®éçå­å¨å¼ä¸ºï¼0.10000000149\n\n\n# å åä¹é¤\n\n//ä¸¤ä¸ªbigdecimalå¯¹è±¡ç¸å \npublic bigdecimal add(bigdecimal augend)\n//ä¸¤ä¸ªbigdecimalå¯¹è±¡ç¸å\npublic bigdecimal subtract(bigdecimal subtrahend)\n//ä¸¤ä¸ªbigdecimalå¯¹è±¡ç¸ä¹\npublic bigdecimal multiply(bigdecimal multiplicand)\n//ä¸¤ä¸ªbigdecimalå¯¹è±¡ç¸é¤ï¼ä½¿ç¨3ä¸ªåæ°çæ¬ï¼scaleè¡¨ç¤ºä¿çå ä½å°æ°ï¼roundingmode ä»£è¡¨ä¿çè§åï¼ãroundingmodeå¼ä¸ºbigdecimal.round_half_upè¡¨ç¤ºåèäºå¥\npublic bigdecimal divide(bigdecimal divisor, int scale, int roundingmode)\n\n\n\n# ä¿çå ä½å°æ°\n\npublic bigdecimal setscale(int newscale, int roundingmode)\n\n\n * newscaleï¼ä¿çå ä½å°æ°\n * roundingmodeï¼ä¿çè§åãbigdecimal.round_half_upä¸ºåèäºå¥\n\n\n# å¤§å°æ¯è¾\n\npublic int compareto(bigdecimal val)\n\n\nä½¿ç¨a.compareto(b)è¿è¡å¤§å°æ¯è¾ï¼\n\n * -1ï¼a å°äº b\n * 0ï¼a ç­äº b\n * 1ï¼a å¤§äº b\n\n> ãå¼ºå¶ãbigdecimal çç­å¼æ¯è¾åºä½¿ç¨ compareto()æ¹æ³ï¼èä¸æ¯ equals()æ¹æ³ã è¯´æï¼equals()æ¹æ³ä¼æ¯è¾å¼åç²¾åº¦ï¼1.0 ä¸ 1.00 è¿åç»æä¸º falseï¼ï¼è compareto()åä¼å¿½ç¥ç²¾åº¦ã",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"Java éåå¸¸ç¨ä½¿ç¨æå·§",frontmatter:{title:"Java éåå¸¸ç¨ä½¿ç¨æå·§",date:"2023-10-23T23:54:27.000Z",permalink:"/pages/33fb2e/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/03.Java/02.Java%20%E5%AE%B9%E5%99%A8/01.Java%20%E9%9B%86%E5%90%88%E5%B8%B8%E7%94%A8%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7.html",relativePath:"01.Java ç¥è¯ä½ç³»/03.Java/02.Java å®¹å¨/01.Java éåå¸¸ç¨ä½¿ç¨æå·§.md",key:"v-f225e21e",path:"/pages/33fb2e/",headers:[{level:1,title:"éåå¤ç©º",slug:"éåå¤ç©º",normalizedTitle:"éåå¤ç©º",charIndex:2},{level:1,title:"éåè½¬Map",slug:"éåè½¬map",normalizedTitle:"éåè½¬map",charIndex:846},{level:1,title:"éåéå",slug:"éåéå",normalizedTitle:"éåéå",charIndex:1305},{level:1,title:"éåå»é",slug:"éåå»é",normalizedTitle:"éåå»é",charIndex:1744},{level:1,title:"éåè½¬æ°ç»",slug:"éåè½¬æ°ç»",normalizedTitle:"éåè½¬æ°ç»",charIndex:2431},{level:1,title:"æ°ç»è½¬éå",slug:"æ°ç»è½¬éå",normalizedTitle:"æ°ç»è½¬éå",charIndex:2817},{level:1,title:"è¿åç©ºéå",slug:"è¿åç©ºéå",normalizedTitle:"è¿åç©ºéå",charIndex:4770},{level:1,title:"éåå¤ç¨",slug:"éåå¤ç¨",normalizedTitle:"éåå¤ç¨",charIndex:5057}],headersStr:"éåå¤ç©º éåè½¬Map éåéå éåå»é éåè½¬æ°ç» æ°ç»è½¬éå è¿åç©ºéå éåå¤ç¨",content:'# éåå¤ç©º\n\nãé¿éå·´å·´ Java å¼åæåãçæè¿°å¦ä¸ï¼\n\n> å¤æ­ææéååé¨çåç´ æ¯å¦ä¸ºç©ºï¼ä½¿ç¨ isEmpty() æ¹æ³ï¼èä¸æ¯ size()==0 çæ¹å¼ã\n\nè¿æ¯å ä¸º isEmpty() æ¹æ³çå¯è¯»æ§æ´å¥½ï¼å¹¶ä¸æ¶é´å¤æåº¦ä¸º O(1)ã\n\nç»å¤§é¨åæä»¬ä½¿ç¨çéåç size() æ¹æ³çæ¶é´å¤æåº¦ä¹æ¯ O(1)ï¼ä¸è¿ï¼ä¹æå¾å¤å¤æåº¦ä¸æ¯ O(1) çï¼æ¯å¦ java.util.concurrent åä¸çæäºéåï¼ConcurrentLinkedQueue ãConcurrentHashMap...ï¼ã\n\nä¸é¢æ¯ ConcurrentHashMap ç size() æ¹æ³å isEmpty() æ¹æ³çæºç ã\n\npublic int size() {\n    long n = sumCount();\n    return ((n < 0L) ? 0 :\n            (n > (long)Integer.MAX_VALUE) ? Integer.MAX_VALUE :\n            (int)n);\n}\nfinal long sumCount() {\n    CounterCell[] as = counterCells; CounterCell a;\n    long sum = baseCount;\n    if (as != null) {\n        for (int i = 0; i < as.length; ++i) {\n            if ((a = as[i]) != null)\n                sum += a.value;\n        }\n    }\n    return sum;\n}\npublic boolean isEmpty() {\n    return sumCount() <= 0L; // ignore transient negative values\n}\n\n\n\n\n# éåè½¬Map\n\nãé¿éå·´å·´ Java å¼åæåãçæè¿°å¦ä¸ï¼\n\n> å¨ä½¿ç¨ java.util.stream.Collectors ç±»ç toMap() æ¹æ³è½¬ä¸º Map éåæ¶ï¼ä¸å®è¦æ³¨æå½ value ä¸º null æ¶ä¼æ NPE å¼å¸¸ã\n\nclass Person {\n    private String name;\n    private String phoneNumber;\n     // getters and setters\n}\n\nList<Person> bookList = new ArrayList<>();\nbookList.add(new Person("jack","18163138123"));\nbookList.add(new Person("martin",null));\n// ç©ºæéå¼å¸¸\nbookList.stream().collect(Collectors.toMap(Person::getName, Person::getPhoneNumber));\n\n\n\n\n# éåéå\n\nãé¿éå·´å·´ Java å¼åæåãçæè¿°å¦ä¸ï¼\n\n> ä¸è¦å¨ foreach å¾ªç¯éè¿è¡åç´ ç remove/add æä½ãremove åç´ è¯·ä½¿ç¨ Iterator æ¹å¼ï¼å¦æå¹¶åæä½ï¼éè¦å¯¹ Iterator å¯¹è±¡å éã\n\nforeach è¯­æ³ç³åºå±å¶å®è¿æ¯ä¾èµ Iterator ãä¸è¿ï¼ remove/add æä½ç´æ¥è°ç¨çæ¯éåèªå·±çæ¹æ³ï¼èä¸æ¯ Iterator ç remove/addæ¹æ³ã\n\nè¿å°±å¯¼è´ Iterator è«åå¶å¦å°åç°èªå·±æåç´ è¢« remove/add ï¼ç¶åï¼å®å°±ä¼æåºä¸ä¸ª ConcurrentModificationException æ¥æç¤ºç¨æ·åçäºå¹¶åä¿®æ¹å¼å¸¸ãè¿å°±æ¯åçº¿ç¨ç¶æä¸äº§çç fail-fast æºå¶ã\n\n> fail-fast æºå¶ ï¼å¤ä¸ªçº¿ç¨å¯¹ fail-fast éåè¿è¡ä¿®æ¹çæ¶åï¼å¯è½ä¼æåºConcurrentModificationExceptionã å³ä½¿æ¯åçº¿ç¨ä¸ä¹æå¯è½ä¼åºç°è¿ç§æåµ\n\n\n# éåå»é\n\nãé¿éå·´å·´ Java å¼åæåãçæè¿°å¦ä¸ï¼\n\n> å¯ä»¥å©ç¨ Set åç´ å¯ä¸çç¹æ§ï¼å¯ä»¥å¿«éå¯¹ä¸ä¸ªéåè¿è¡å»éæä½ï¼é¿åä½¿ç¨ List ç contains() è¿è¡éåå»éæèå¤æ­åå«æä½ã\n\nè¿éä»¥ HashSet å ArrayList ä¸ºä¾è¯´æã\n\n// Set å»éä»£ç ç¤ºä¾\npublic static <T> Set<T> removeDuplicateBySet(List<T> data) {\n\n    if (CollectionUtils.isEmpty(data)) {\n        return new HashSet<>();\n    }\n    return new HashSet<>(data);\n}\n\n// List å»éä»£ç ç¤ºä¾\npublic static <T> List<T> removeDuplicateByList(List<T> data) {\n\n    if (CollectionUtils.isEmpty(data)) {\n        return new ArrayList<>();\n\n    }\n    List<T> result = new ArrayList<>(data.size());\n    for (T current : data) {\n        if (!result.contains(current)) {\n            result.add(current);\n        }\n    }\n    return result;\n}\n\n\n\n\n\n# éåè½¬æ°ç»\n\nãé¿éå·´å·´ Java å¼åæåãçæè¿°å¦ä¸ï¼\n\n> ä½¿ç¨éåè½¬æ°ç»çæ¹æ³ï¼å¿é¡»ä½¿ç¨éåç toArray(T[] array)ï¼ä¼ å¥çæ¯ç±»åå®å¨ä¸è´ãé¿åº¦ä¸º 0 çç©ºæ°ç»ã\n\ntoArray(T[] array) æ¹æ³çåæ°æ¯ä¸ä¸ªæ³åæ°ç»ï¼å¦æ toArray æ¹æ³ä¸­æ²¡æä¼ éä»»ä½åæ°çè¯è¿åçæ¯ Objectç±» åæ°ç»ã\n\nString [] s= new String[]{\n    "dog", "lazy", "a", "over", "jumps", "fox", "brown", "quick", "A"\n};\nList<String> list = Arrays.asList(s);\nCollections.reverse(list);\n//æ²¡ææå®ç±»åçè¯ä¼æ¥é\ns=list.toArray(new String[0]);\n\n\n\n\n# æ°ç»è½¬éå\n\nãé¿éå·´å·´ Java å¼åæåãçæè¿°å¦ä¸ï¼\n\n> ä½¿ç¨å·¥å·ç±» Arrays.asList() ææ°ç»è½¬æ¢æéåæ¶ï¼ä¸è½ä½¿ç¨å¶ä¿®æ¹éåç¸å³çæ¹æ³ï¼ å®ç add/remove/clear æ¹æ³ä¼æåº UnsupportedOperationException å¼å¸¸ã\n\nArrays.asList()å°ä¸ä¸ªæ°ç»è½¬æ¢ä¸ºä¸ä¸ª List éåã\n\nString[] myArray = {"Apple", "Banana", "Orange"};\nList<String> myList = Arrays.asList(myArray);\n//ä¸é¢ä¸¤ä¸ªè¯­å¥ç­ä»·äºä¸é¢ä¸æ¡è¯­å¥\nList<String> myList = Arrays.asList("Apple","Banana", "Orange");\n\n\nä½¿ç¨æ³¨æäºé¡¹ï¼\n\n 1. Arrays.asList()æ¯æ³åæ¹æ³ï¼ä¼ éçæ°ç»å¿é¡»æ¯å¯¹è±¡æ°ç»ï¼èä¸æ¯åºæ¬ç±»åã\n\nint[] myArray = {1, 2, 3};\nList myList = Arrays.asList(myArray);\nSystem.out.println(myList.size());//1\nSystem.out.println(myList.get(0));//æ°ç»å°åå¼\nSystem.out.println(myList.get(1));//æ¥éï¼ArrayIndexOutOfBoundsException\nint[] array = (int[]) myList.get(0);\nSystem.out.println(array[0]);//1\n\n\nå½ä¼ å¥ä¸ä¸ªåçæ°æ®ç±»åæ°ç»æ¶ï¼Arrays.asList() ççæ­£å¾å°çåæ°å°±ä¸æ¯æ°ç»ä¸­çåç´ ï¼èæ¯æ°ç»å¯¹è±¡æ¬èº«ï¼\n\nä½¿ç¨åè£ç±»åæ°ç»å°±å¯ä»¥è§£å³è¿ä¸ªé®é¢ã\n\nInteger[] myArray = {1, 2, 3};\n\n\n 2. ä½¿ç¨éåçä¿®æ¹æ¹æ³: add()ãremove()ãclear()ä¼æåºå¼å¸¸ã\n\nList myList = Arrays.asList(1, 2, 3);\nmyList.add(4);//è¿è¡æ¶æ¥éï¼UnsupportedOperationException\nmyList.remove(1);//è¿è¡æ¶æ¥éï¼UnsupportedOperationException\nmyList.clear();//è¿è¡æ¶æ¥éï¼UnsupportedOperationException\n\n\nArrays.asList() æ¹æ³è¿åçå¹¶ä¸æ¯ java.util.ArrayList ï¼èæ¯ java.util.Arrays çä¸ä¸ªåé¨ç±»,è¿ä¸ªåé¨ç±»å¹¶æ²¡æå®ç°éåçä¿®æ¹æ¹æ³æèè¯´å¹¶æ²¡æéåè¿äºæ¹æ³ã\n\nList myList = Arrays.asList(1, 2, 3);\nSystem.out.println(myList.getClass());//class java.util.Arrays$ArrayList\n\n\né£æä»¬å¦ä½æ­£ç¡®çå°æ°ç»è½¬æ¢ä¸º ArrayList ?\n\n 1. æå¨å®ç°å·¥å·ç±»\n\n//JDK1.5+\nstatic <T> List<T> arrayToList(final T[] array) {\n  final List<T> l = new ArrayList<T>(array.length);\n\n  for (final T s : array) {\n    l.add(s);\n  }\n  return l;\n}\n\n\nInteger [] myArray = { 1, 2, 3 };\nSystem.out.println(arrayToList(myArray).getClass());//class java.util.ArrayList\n\n\n\n 2. æç®ä¾¿çæ¹æ³\n\nList list = new ArrayList<>(Arrays.asList("a", "b", "c"))\n\n\n 3. ä½¿ç¨ Java8 ç Stream(æ¨è)\n\nInteger [] myArray = { 1, 2, 3 };\nList myList = Arrays.stream(myArray).collect(Collectors.toList());\n//åºæ¬ç±»åä¹å¯ä»¥å®ç°è½¬æ¢ï¼ä¾èµboxedçè£ç®±æä½ï¼\nint [] myArray2 = { 1, 2, 3 };\nList myList = Arrays.stream(myArray2).boxed().collect(Collectors.toList());\n\n\n\n\n# è¿åç©ºéå\n\n//ç©ºList\nCollections.emptyList();\n//ç©ºSet\nCollections.emptySet();\n//ç©ºMap\nCollections.emptyMap();\n\n\nå½éè¦ä¸ä¸ªç©ºéåæ¶ï¼ç´æ¥ä½¿ç¨ä¸é¢çä¸ä¸ªæ¹æ³è¿åç©ºéåã\n\næ³¨æï¼è¿äºç©ºéåä¸è½è°ç¨addæ¹æ³ï¼å¦åä¼ç´æ¥æåºå¼å¸¸ã\n\nä½¿ç¨è¿äºç©ºéåçå¥½å¤ï¼\n\n 1. é¿ååå­æµªè´¹ãä½¿ç¨new ArrayList()ç­æ¹æ³ä¼æåå§å¤§å°ï¼å¤å°ä¼å ç¨ä¸å®åå­ç©ºé´ã\n 2. ç¼ç æ¹ä¾¿ï¼é¿åNULLå¼å¤æ­ãå¦ææ¹æ³è¿åç±»åæ¯Listï¼è¿åç©ºéåï¼é¿åæ¹æ³è°ç¨èè¿è¡NULLå¤æ­ã\n\n\n# éåå¤ç¨\n\nArrayListä½¿ç¨clear()æ¹æ³å¯ä»¥ç´æ¥å¤ç¨æ éåæ¬¡æ©å®¹ã\n\nHashMapå¦æéè¦æ¹å¤çå¤§éæ°æ®ï¼å¯ä»¥åæ¹å¤çï¼å¤çå®ä¸ä¸ªä¸æ¹åï¼ä½¿ç¨clear()æ¹æ³æ¸é¤æ°æ®ï¼åè£è½½ä¸ä¸æ¹æ°æ®è¿è¡å¤çï¼è¿æ ·åªè¦æ©å®¹ä¸æ¬¡ã',normalizedContent:'# éåå¤ç©º\n\nãé¿éå·´å·´ java å¼åæåãçæè¿°å¦ä¸ï¼\n\n> å¤æ­ææéååé¨çåç´ æ¯å¦ä¸ºç©ºï¼ä½¿ç¨ isempty() æ¹æ³ï¼èä¸æ¯ size()==0 çæ¹å¼ã\n\nè¿æ¯å ä¸º isempty() æ¹æ³çå¯è¯»æ§æ´å¥½ï¼å¹¶ä¸æ¶é´å¤æåº¦ä¸º o(1)ã\n\nç»å¤§é¨åæä»¬ä½¿ç¨çéåç size() æ¹æ³çæ¶é´å¤æåº¦ä¹æ¯ o(1)ï¼ä¸è¿ï¼ä¹æå¾å¤å¤æåº¦ä¸æ¯ o(1) çï¼æ¯å¦ java.util.concurrent åä¸çæäºéåï¼concurrentlinkedqueue ãconcurrenthashmap...ï¼ã\n\nä¸é¢æ¯ concurrenthashmap ç size() æ¹æ³å isempty() æ¹æ³çæºç ã\n\npublic int size() {\n    long n = sumcount();\n    return ((n < 0l) ? 0 :\n            (n > (long)integer.max_value) ? integer.max_value :\n            (int)n);\n}\nfinal long sumcount() {\n    countercell[] as = countercells; countercell a;\n    long sum = basecount;\n    if (as != null) {\n        for (int i = 0; i < as.length; ++i) {\n            if ((a = as[i]) != null)\n                sum += a.value;\n        }\n    }\n    return sum;\n}\npublic boolean isempty() {\n    return sumcount() <= 0l; // ignore transient negative values\n}\n\n\n\n\n# éåè½¬map\n\nãé¿éå·´å·´ java å¼åæåãçæè¿°å¦ä¸ï¼\n\n> å¨ä½¿ç¨ java.util.stream.collectors ç±»ç tomap() æ¹æ³è½¬ä¸º map éåæ¶ï¼ä¸å®è¦æ³¨æå½ value ä¸º null æ¶ä¼æ npe å¼å¸¸ã\n\nclass person {\n    private string name;\n    private string phonenumber;\n     // getters and setters\n}\n\nlist<person> booklist = new arraylist<>();\nbooklist.add(new person("jack","18163138123"));\nbooklist.add(new person("martin",null));\n// ç©ºæéå¼å¸¸\nbooklist.stream().collect(collectors.tomap(person::getname, person::getphonenumber));\n\n\n\n\n# éåéå\n\nãé¿éå·´å·´ java å¼åæåãçæè¿°å¦ä¸ï¼\n\n> ä¸è¦å¨ foreach å¾ªç¯éè¿è¡åç´ ç remove/add æä½ãremove åç´ è¯·ä½¿ç¨ iterator æ¹å¼ï¼å¦æå¹¶åæä½ï¼éè¦å¯¹ iterator å¯¹è±¡å éã\n\nforeach è¯­æ³ç³åºå±å¶å®è¿æ¯ä¾èµ iterator ãä¸è¿ï¼ remove/add æä½ç´æ¥è°ç¨çæ¯éåèªå·±çæ¹æ³ï¼èä¸æ¯ iterator ç remove/addæ¹æ³ã\n\nè¿å°±å¯¼è´ iterator è«åå¶å¦å°åç°èªå·±æåç´ è¢« remove/add ï¼ç¶åï¼å®å°±ä¼æåºä¸ä¸ª concurrentmodificationexception æ¥æç¤ºç¨æ·åçäºå¹¶åä¿®æ¹å¼å¸¸ãè¿å°±æ¯åçº¿ç¨ç¶æä¸äº§çç fail-fast æºå¶ã\n\n> fail-fast æºå¶ ï¼å¤ä¸ªçº¿ç¨å¯¹ fail-fast éåè¿è¡ä¿®æ¹çæ¶åï¼å¯è½ä¼æåºconcurrentmodificationexceptionã å³ä½¿æ¯åçº¿ç¨ä¸ä¹æå¯è½ä¼åºç°è¿ç§æåµ\n\n\n# éåå»é\n\nãé¿éå·´å·´ java å¼åæåãçæè¿°å¦ä¸ï¼\n\n> å¯ä»¥å©ç¨ set åç´ å¯ä¸çç¹æ§ï¼å¯ä»¥å¿«éå¯¹ä¸ä¸ªéåè¿è¡å»éæä½ï¼é¿åä½¿ç¨ list ç contains() è¿è¡éåå»éæèå¤æ­åå«æä½ã\n\nè¿éä»¥ hashset å arraylist ä¸ºä¾è¯´æã\n\n// set å»éä»£ç ç¤ºä¾\npublic static <t> set<t> removeduplicatebyset(list<t> data) {\n\n    if (collectionutils.isempty(data)) {\n        return new hashset<>();\n    }\n    return new hashset<>(data);\n}\n\n// list å»éä»£ç ç¤ºä¾\npublic static <t> list<t> removeduplicatebylist(list<t> data) {\n\n    if (collectionutils.isempty(data)) {\n        return new arraylist<>();\n\n    }\n    list<t> result = new arraylist<>(data.size());\n    for (t current : data) {\n        if (!result.contains(current)) {\n            result.add(current);\n        }\n    }\n    return result;\n}\n\n\n\n\n\n# éåè½¬æ°ç»\n\nãé¿éå·´å·´ java å¼åæåãçæè¿°å¦ä¸ï¼\n\n> ä½¿ç¨éåè½¬æ°ç»çæ¹æ³ï¼å¿é¡»ä½¿ç¨éåç toarray(t[] array)ï¼ä¼ å¥çæ¯ç±»åå®å¨ä¸è´ãé¿åº¦ä¸º 0 çç©ºæ°ç»ã\n\ntoarray(t[] array) æ¹æ³çåæ°æ¯ä¸ä¸ªæ³åæ°ç»ï¼å¦æ toarray æ¹æ³ä¸­æ²¡æä¼ éä»»ä½åæ°çè¯è¿åçæ¯ objectç±» åæ°ç»ã\n\nstring [] s= new string[]{\n    "dog", "lazy", "a", "over", "jumps", "fox", "brown", "quick", "a"\n};\nlist<string> list = arrays.aslist(s);\ncollections.reverse(list);\n//æ²¡ææå®ç±»åçè¯ä¼æ¥é\ns=list.toarray(new string[0]);\n\n\n\n\n# æ°ç»è½¬éå\n\nãé¿éå·´å·´ java å¼åæåãçæè¿°å¦ä¸ï¼\n\n> ä½¿ç¨å·¥å·ç±» arrays.aslist() ææ°ç»è½¬æ¢æéåæ¶ï¼ä¸è½ä½¿ç¨å¶ä¿®æ¹éåç¸å³çæ¹æ³ï¼ å®ç add/remove/clear æ¹æ³ä¼æåº unsupportedoperationexception å¼å¸¸ã\n\narrays.aslist()å°ä¸ä¸ªæ°ç»è½¬æ¢ä¸ºä¸ä¸ª list éåã\n\nstring[] myarray = {"apple", "banana", "orange"};\nlist<string> mylist = arrays.aslist(myarray);\n//ä¸é¢ä¸¤ä¸ªè¯­å¥ç­ä»·äºä¸é¢ä¸æ¡è¯­å¥\nlist<string> mylist = arrays.aslist("apple","banana", "orange");\n\n\nä½¿ç¨æ³¨æäºé¡¹ï¼\n\n 1. arrays.aslist()æ¯æ³åæ¹æ³ï¼ä¼ éçæ°ç»å¿é¡»æ¯å¯¹è±¡æ°ç»ï¼èä¸æ¯åºæ¬ç±»åã\n\nint[] myarray = {1, 2, 3};\nlist mylist = arrays.aslist(myarray);\nsystem.out.println(mylist.size());//1\nsystem.out.println(mylist.get(0));//æ°ç»å°åå¼\nsystem.out.println(mylist.get(1));//æ¥éï¼arrayindexoutofboundsexception\nint[] array = (int[]) mylist.get(0);\nsystem.out.println(array[0]);//1\n\n\nå½ä¼ å¥ä¸ä¸ªåçæ°æ®ç±»åæ°ç»æ¶ï¼arrays.aslist() ççæ­£å¾å°çåæ°å°±ä¸æ¯æ°ç»ä¸­çåç´ ï¼èæ¯æ°ç»å¯¹è±¡æ¬èº«ï¼\n\nä½¿ç¨åè£ç±»åæ°ç»å°±å¯ä»¥è§£å³è¿ä¸ªé®é¢ã\n\ninteger[] myarray = {1, 2, 3};\n\n\n 2. ä½¿ç¨éåçä¿®æ¹æ¹æ³: add()ãremove()ãclear()ä¼æåºå¼å¸¸ã\n\nlist mylist = arrays.aslist(1, 2, 3);\nmylist.add(4);//è¿è¡æ¶æ¥éï¼unsupportedoperationexception\nmylist.remove(1);//è¿è¡æ¶æ¥éï¼unsupportedoperationexception\nmylist.clear();//è¿è¡æ¶æ¥éï¼unsupportedoperationexception\n\n\narrays.aslist() æ¹æ³è¿åçå¹¶ä¸æ¯ java.util.arraylist ï¼èæ¯ java.util.arrays çä¸ä¸ªåé¨ç±»,è¿ä¸ªåé¨ç±»å¹¶æ²¡æå®ç°éåçä¿®æ¹æ¹æ³æèè¯´å¹¶æ²¡æéåè¿äºæ¹æ³ã\n\nlist mylist = arrays.aslist(1, 2, 3);\nsystem.out.println(mylist.getclass());//class java.util.arrays$arraylist\n\n\né£æä»¬å¦ä½æ­£ç¡®çå°æ°ç»è½¬æ¢ä¸º arraylist ?\n\n 1. æå¨å®ç°å·¥å·ç±»\n\n//jdk1.5+\nstatic <t> list<t> arraytolist(final t[] array) {\n  final list<t> l = new arraylist<t>(array.length);\n\n  for (final t s : array) {\n    l.add(s);\n  }\n  return l;\n}\n\n\ninteger [] myarray = { 1, 2, 3 };\nsystem.out.println(arraytolist(myarray).getclass());//class java.util.arraylist\n\n\n\n 2. æç®ä¾¿çæ¹æ³\n\nlist list = new arraylist<>(arrays.aslist("a", "b", "c"))\n\n\n 3. ä½¿ç¨ java8 ç stream(æ¨è)\n\ninteger [] myarray = { 1, 2, 3 };\nlist mylist = arrays.stream(myarray).collect(collectors.tolist());\n//åºæ¬ç±»åä¹å¯ä»¥å®ç°è½¬æ¢ï¼ä¾èµboxedçè£ç®±æä½ï¼\nint [] myarray2 = { 1, 2, 3 };\nlist mylist = arrays.stream(myarray2).boxed().collect(collectors.tolist());\n\n\n\n\n# è¿åç©ºéå\n\n//ç©ºlist\ncollections.emptylist();\n//ç©ºset\ncollections.emptyset();\n//ç©ºmap\ncollections.emptymap();\n\n\nå½éè¦ä¸ä¸ªç©ºéåæ¶ï¼ç´æ¥ä½¿ç¨ä¸é¢çä¸ä¸ªæ¹æ³è¿åç©ºéåã\n\næ³¨æï¼è¿äºç©ºéåä¸è½è°ç¨addæ¹æ³ï¼å¦åä¼ç´æ¥æåºå¼å¸¸ã\n\nä½¿ç¨è¿äºç©ºéåçå¥½å¤ï¼\n\n 1. é¿ååå­æµªè´¹ãä½¿ç¨new arraylist()ç­æ¹æ³ä¼æåå§å¤§å°ï¼å¤å°ä¼å ç¨ä¸å®åå­ç©ºé´ã\n 2. ç¼ç æ¹ä¾¿ï¼é¿ånullå¼å¤æ­ãå¦ææ¹æ³è¿åç±»åæ¯listï¼è¿åç©ºéåï¼é¿åæ¹æ³è°ç¨èè¿è¡nullå¤æ­ã\n\n\n# éåå¤ç¨\n\narraylistä½¿ç¨clear()æ¹æ³å¯ä»¥ç´æ¥å¤ç¨æ éåæ¬¡æ©å®¹ã\n\nhashmapå¦æéè¦æ¹å¤çå¤§éæ°æ®ï¼å¯ä»¥åæ¹å¤çï¼å¤çå®ä¸ä¸ªä¸æ¹åï¼ä½¿ç¨clear()æ¹æ³æ¸é¤æ°æ®ï¼åè£è½½ä¸ä¸æ¹æ°æ®è¿è¡å¤çï¼è¿æ ·åªè¦æ©å®¹ä¸æ¬¡ã',charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"Java å¼å¸¸ä½ç³»",frontmatter:{title:"Java å¼å¸¸ä½ç³»",date:"2023-10-23T23:54:17.000Z",permalink:"/pages/8f19aa/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/03.Java/01.Java%20%E5%9F%BA%E7%A1%80/02.Java%20%E5%BC%82%E5%B8%B8%E4%BD%93%E7%B3%BB.html",relativePath:"01.Java ç¥è¯ä½ç³»/03.Java/01.Java åºç¡/02.Java å¼å¸¸ä½ç³».md",key:"v-09788617",path:"/pages/8f19aa/",headersStr:null,content:"å¼å¸¸å¤çæµç¨ï¼ç¨åºæåºå¼å¸¸ï¼ç¨åºä¸ä¼åä¸æ§è¡ï¼é¤éå¼å¸¸è¢«try...catchã",normalizedContent:"å¼å¸¸å¤çæµç¨ï¼ç¨åºæåºå¼å¸¸ï¼ç¨åºä¸ä¼åä¸æ§è¡ï¼é¤éå¼å¸¸è¢«try...catchã",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"ArrayList æºç åæåæ©å®¹æºå¶",frontmatter:{title:"ArrayList æºç åæåæ©å®¹æºå¶",date:"2023-10-23T23:54:27.000Z",permalink:"/pages/528ca4/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/03.Java/02.Java%20%E5%AE%B9%E5%99%A8/02.ArrayList%20%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E5%8F%8A%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6.html",relativePath:"01.Java ç¥è¯ä½ç³»/03.Java/02.Java å®¹å¨/02.ArrayList æºç åæåæ©å®¹æºå¶.md",key:"v-8a778884",path:"/pages/528ca4/",headers:[{level:1,title:"æ©å®¹æºå¶",slug:"æ©å®¹æºå¶",normalizedTitle:"æ©å®¹æºå¶",charIndex:481}],headersStr:"æ©å®¹æºå¶",content:"ArrayListç±»ç»§æ¿å³ç³»ï¼\n\npublic class ArrayList<E> extends AbstractList<E>\n        implements List<E>, RandomAccess, Cloneable, java.io.Serializable\n\n\n * RandomAccessï¼RandomAccessæ¥å£æ¯ä¸ä¸ªæ è®°æ¥å£ï¼ç¨ä»¥æ è®°å®ç°çListéåå·å¤å¿«ééæºè®¿é®çè½åãå½ä¸ä¸ªListæ¥æå¿«ééæºè®¿é®åè½æ¶ï¼å¶éåæ¹æ³éç¨forå¾ªç¯æå¿«éãèæ²¡æå¿«ééæºè®¿é®åè½çListï¼éåçæ¶åéç¨Iteratorè¿­ä»£å¨æå¿«éã\n * Cloneableï¼æ¯æåéã\n * Serializableï¼æ¯æåºååãä¿å­æ°æ®çæ°ç»è¢«transient æ è®°çå­æ®µä¸ä¼è¢«åºååï¼æä»¥è¯å®èªå·±å®ç°äºç³»ååï¼writeObjectåreadObjectæ¹æ³ï¼\n\nArrayListçåºå±æ°æ®ç»ææ¯æ°ç»ãæ°æ®å­æ¾å¨Object[] elementDataè¿ä¸ªæ°ç»;\n\ntransient Object[] elementData;\n\n\n\n# æ©å®¹æºå¶\n\nArrayList å¨åå§åæ¶ï¼å¦ææ²¡ææå®å®¹éå¤§å°ãé£ä¹é»è®¤åå§å®¹éå°±æ¯10ã\n\nprivate static final int DEFAULT_CAPACITY = 10;\npublic ArrayList() {\n\tthis.elementData = DEFAULTCAPACITY_EMPTY_ELEMENTDATA;\n}\n\n\nå¨ç¬¬ä¸æ¬¡æ·»å åç´ æ¶\n\n public boolean add(E e) {\n     ensureCapacityInternal(size + 1);  // Increments modCount!!\n     elementData[size++] = e;\n     return true;\n}\n\n\nensureCapacityInternalæ¹æ³éé¢è¿è¡æ©å®¹æä½ã\n\n private void ensureCapacityInternal(int minCapacity) {\n     ensureExplicitCapacity(calculateCapacity(elementData, minCapacity));\n }\n\n\ncalculateCapacityæ¹æ³è®¡ç®æéè¦çå®¹éï¼ensureExplicitCapacityæ¹æ³å¤æ­æ¯å¦éè¦æ©å®¹åè¿è¡æ©å®¹æä½ã\n\nå½ä½¿ç¨ä¸æå®å®¹éçæé å½æ°åå§åï¼ç¬¬ä¸æ¬¡æ§è¡calculateCapacityæ¹æ³è¿åå¼å°±æ¯DEFAULT_CAPACITYï¼ä¹å°±æ¯10ï¼ã\n\nprivate static int calculateCapacity(Object[] elementData, int minCapacity) {\n    if (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) {\n        return Math.max(DEFAULT_CAPACITY, minCapacity);\n    }\n    return minCapacity;\n}\n\n\nå½æéå®¹éminCapacityå¤§äºelementDataçé¿åº¦æ¶ï¼å°±ä¼è°ç¨growæ¹æ³æ§è¡æ©å®¹æä½ã\n\næ­¤æ¶ï¼elementData æ°ç»é¿åº¦ä¸º0,æä»¥éè¦è°ç¨growæ¹æ³è¿è¡æ©å®¹ã\n\nprivate void ensureExplicitCapacity(int minCapacity) {\n    modCount++;\n\n    // overflow-conscious code\n    if (minCapacity - elementData.length > 0)\n        grow(minCapacity);\n}\n\n\ngrowæ¹æ³ä¼åè®¡ç®è¦æ°ç»è¦æ©å®¹çå®¹éï¼ç¶åArrays.copyOfæ¹æ³å°ååçæ°ç»æ°æ®æµæ·è´å°æ°çæ©å®¹æ°ç»éé¢ã\n\næ°ç»è¦æ©å®¹çå®¹éçè®¡ç®ä¸»è¦æä¸¤ä¸ªå¤æ­ï¼\n\n * è®¡ç®ååæ°ç»çå®¹éï¼ç¶åå°è¿å®¹éå ä¸è¿ä¸ªå®¹éå³ç§»1ä½åçé¿åº¦ï¼è¿ä¼¼1.5åï¼ãè®¡ç®åºçé¿åº¦è·æéçæå°å®¹éè¿è¡æ¯è¾ï¼åä¸¤èæå¤§å¼ä¸ºnewCapacityã\n * ç¶ånewCapacityå¦æå¤§äºMAX_ARRAY_SIZEï¼é£å°±è°ç¨hugeCapacityæ¹æ³è·åæå¤§å®¹éãå¦ånewCapacityå¼ä¸åã\n   * å¦ææéçæå°å®¹é minCapacityå°äºMAX_ARRAY_SIZEï¼é£ä¹newCapacityå¼ä¸ºMAX_ARRAY_SIZE(Integer.MAX_VALUE - 8)ãå¦ånewCapacityå¼ä¸ºInteger.MAX_VALUEï¼2^31-1ï¼ã\n\nprivate void grow(int minCapacity) {\n        // overflow-conscious code\n        int oldCapacity = elementData.length;\n        int newCapacity = oldCapacity + (oldCapacity >> 1);\n        if (newCapacity - minCapacity < 0)\n            newCapacity = minCapacity;\n        if (newCapacity - MAX_ARRAY_SIZE > 0)\n            newCapacity = hugeCapacity(minCapacity);\n        // minCapacity is usually close to size, so this is a win:\n        elementData = Arrays.copyOf(elementData, newCapacity);\n    }\n\n\nprivate static int hugeCapacity(int minCapacity) {\n        if (minCapacity < 0) // overflow\n            throw new OutOfMemoryError();\n        return (minCapacity > MAX_ARRAY_SIZE) ?\n            Integer.MAX_VALUE :\n            MAX_ARRAY_SIZE;\n    }\n",normalizedContent:"arraylistç±»ç»§æ¿å³ç³»ï¼\n\npublic class arraylist<e> extends abstractlist<e>\n        implements list<e>, randomaccess, cloneable, java.io.serializable\n\n\n * randomaccessï¼randomaccessæ¥å£æ¯ä¸ä¸ªæ è®°æ¥å£ï¼ç¨ä»¥æ è®°å®ç°çlistéåå·å¤å¿«ééæºè®¿é®çè½åãå½ä¸ä¸ªlistæ¥æå¿«ééæºè®¿é®åè½æ¶ï¼å¶éåæ¹æ³éç¨forå¾ªç¯æå¿«éãèæ²¡æå¿«ééæºè®¿é®åè½çlistï¼éåçæ¶åéç¨iteratorè¿­ä»£å¨æå¿«éã\n * cloneableï¼æ¯æåéã\n * serializableï¼æ¯æåºååãä¿å­æ°æ®çæ°ç»è¢«transient æ è®°çå­æ®µä¸ä¼è¢«åºååï¼æä»¥è¯å®èªå·±å®ç°äºç³»ååï¼writeobjectåreadobjectæ¹æ³ï¼\n\narraylistçåºå±æ°æ®ç»ææ¯æ°ç»ãæ°æ®å­æ¾å¨object[] elementdataè¿ä¸ªæ°ç»;\n\ntransient object[] elementdata;\n\n\n\n# æ©å®¹æºå¶\n\narraylist å¨åå§åæ¶ï¼å¦ææ²¡ææå®å®¹éå¤§å°ãé£ä¹é»è®¤åå§å®¹éå°±æ¯10ã\n\nprivate static final int default_capacity = 10;\npublic arraylist() {\n\tthis.elementdata = defaultcapacity_empty_elementdata;\n}\n\n\nå¨ç¬¬ä¸æ¬¡æ·»å åç´ æ¶\n\n public boolean add(e e) {\n     ensurecapacityinternal(size + 1);  // increments modcount!!\n     elementdata[size++] = e;\n     return true;\n}\n\n\nensurecapacityinternalæ¹æ³éé¢è¿è¡æ©å®¹æä½ã\n\n private void ensurecapacityinternal(int mincapacity) {\n     ensureexplicitcapacity(calculatecapacity(elementdata, mincapacity));\n }\n\n\ncalculatecapacityæ¹æ³è®¡ç®æéè¦çå®¹éï¼ensureexplicitcapacityæ¹æ³å¤æ­æ¯å¦éè¦æ©å®¹åè¿è¡æ©å®¹æä½ã\n\nå½ä½¿ç¨ä¸æå®å®¹éçæé å½æ°åå§åï¼ç¬¬ä¸æ¬¡æ§è¡calculatecapacityæ¹æ³è¿åå¼å°±æ¯default_capacityï¼ä¹å°±æ¯10ï¼ã\n\nprivate static int calculatecapacity(object[] elementdata, int mincapacity) {\n    if (elementdata == defaultcapacity_empty_elementdata) {\n        return math.max(default_capacity, mincapacity);\n    }\n    return mincapacity;\n}\n\n\nå½æéå®¹émincapacityå¤§äºelementdataçé¿åº¦æ¶ï¼å°±ä¼è°ç¨growæ¹æ³æ§è¡æ©å®¹æä½ã\n\næ­¤æ¶ï¼elementdata æ°ç»é¿åº¦ä¸º0,æä»¥éè¦è°ç¨growæ¹æ³è¿è¡æ©å®¹ã\n\nprivate void ensureexplicitcapacity(int mincapacity) {\n    modcount++;\n\n    // overflow-conscious code\n    if (mincapacity - elementdata.length > 0)\n        grow(mincapacity);\n}\n\n\ngrowæ¹æ³ä¼åè®¡ç®è¦æ°ç»è¦æ©å®¹çå®¹éï¼ç¶åarrays.copyofæ¹æ³å°ååçæ°ç»æ°æ®æµæ·è´å°æ°çæ©å®¹æ°ç»éé¢ã\n\næ°ç»è¦æ©å®¹çå®¹éçè®¡ç®ä¸»è¦æä¸¤ä¸ªå¤æ­ï¼\n\n * è®¡ç®ååæ°ç»çå®¹éï¼ç¶åå°è¿å®¹éå ä¸è¿ä¸ªå®¹éå³ç§»1ä½åçé¿åº¦ï¼è¿ä¼¼1.5åï¼ãè®¡ç®åºçé¿åº¦è·æéçæå°å®¹éè¿è¡æ¯è¾ï¼åä¸¤èæå¤§å¼ä¸ºnewcapacityã\n * ç¶ånewcapacityå¦æå¤§äºmax_array_sizeï¼é£å°±è°ç¨hugecapacityæ¹æ³è·åæå¤§å®¹éãå¦ånewcapacityå¼ä¸åã\n   * å¦ææéçæå°å®¹é mincapacityå°äºmax_array_sizeï¼é£ä¹newcapacityå¼ä¸ºmax_array_size(integer.max_value - 8)ãå¦ånewcapacityå¼ä¸ºinteger.max_valueï¼2^31-1ï¼ã\n\nprivate void grow(int mincapacity) {\n        // overflow-conscious code\n        int oldcapacity = elementdata.length;\n        int newcapacity = oldcapacity + (oldcapacity >> 1);\n        if (newcapacity - mincapacity < 0)\n            newcapacity = mincapacity;\n        if (newcapacity - max_array_size > 0)\n            newcapacity = hugecapacity(mincapacity);\n        // mincapacity is usually close to size, so this is a win:\n        elementdata = arrays.copyof(elementdata, newcapacity);\n    }\n\n\nprivate static int hugecapacity(int mincapacity) {\n        if (mincapacity < 0) // overflow\n            throw new outofmemoryerror();\n        return (mincapacity > max_array_size) ?\n            integer.max_value :\n            max_array_size;\n    }\n",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"HashMap æºç ååºå±æ°æ®ç»æåæ",frontmatter:{title:"HashMap æºç ååºå±æ°æ®ç»æåæ",date:"2023-10-23T23:54:27.000Z",permalink:"/pages/a794bb/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/03.Java/02.Java%20%E5%AE%B9%E5%99%A8/03.HashMap%20%E6%BA%90%E7%A0%81%E5%8F%8A%E5%BA%95%E5%B1%82%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90.html",relativePath:"01.Java ç¥è¯ä½ç³»/03.Java/02.Java å®¹å¨/03.HashMap æºç ååºå±æ°æ®ç»æåæ.md",key:"v-6cc42844",path:"/pages/a794bb/",headers:[{level:1,title:"HashMap ç®ä»",slug:"hashmap-ç®ä»",normalizedTitle:"hashmap ç®ä»",charIndex:2},{level:1,title:"HashMap åºå±æ°æ®ç»æåæ",slug:"hashmap-åºå±æ°æ®ç»æåæ",normalizedTitle:"hashmap åºå±æ°æ®ç»æåæ",charIndex:479},{level:2,title:"JDK1.8ä¹å",slug:"jdk1-8ä¹å",normalizedTitle:"jdk1.8ä¹å",charIndex:500},{level:2,title:"JDK1.8ä¹å",slug:"jdk1-8ä¹å",normalizedTitle:"jdk1.8ä¹å",charIndex:164},{level:1,title:"HashMap æºç åæ",slug:"hashmap-æºç åæ",normalizedTitle:"hashmap æºç åæ",charIndex:1033},{level:2,title:"æåå±æ§",slug:"æåå±æ§",normalizedTitle:"æåå±æ§",charIndex:1050},{level:2,title:"åå­éæç±»",slug:"åå­éæç±»",normalizedTitle:"åå­éæç±»",charIndex:2631},{level:2,title:"æé æ¹æ³",slug:"æé æ¹æ³",normalizedTitle:"æé æ¹æ³",charIndex:4566},{level:2,title:"put æ¹æ³",slug:"put-æ¹æ³",normalizedTitle:"put æ¹æ³",charIndex:6424},{level:2,title:"get æ¹æ³",slug:"get-æ¹æ³",normalizedTitle:"get æ¹æ³",charIndex:9097},{level:2,title:"resize æ¹æ³",slug:"resize-æ¹æ³",normalizedTitle:"resize æ¹æ³",charIndex:10067}],headersStr:"HashMap ç®ä» HashMap åºå±æ°æ®ç»æåæ JDK1.8ä¹å JDK1.8ä¹å HashMap æºç åæ æåå±æ§ åå­éæç±» æé æ¹æ³ put æ¹æ³ get æ¹æ³ resize æ¹æ³",content:'# HashMap ç®ä»\n\nHashMap æ¯å­å¨é®å¼å¯¹çï¼åºäºåå¸è¡¨çMapæ¥å£å®ç°çï¼æ¯çº¿ç¨ä¸å®å¨çã\n\nHashMapå¯ä»¥å­å¨Nullé®åNullå¼ãä½æ¯Nullé®åªè½æä¸ä¸ªï¼Nullå¼å¯ä»¥æå¾å¤ä¸ªã\n\nJDK1.8 ä¹åHashMapç±æ°ç»+é¾è¡¨ç»æãæ°ç»æ¯å­å¨æ°æ®çä¸»ä½ï¼é¾è¡¨æ¯ä¸ºäºè§£å³åå¸å²çªèå­å¨çï¼æé¾æ³ï¼ã\n\nJDK1.8ä¹åHashMapææ°ç»+é¾è¡¨+çº¢é»æ ç»æãå½é¾è¡¨ä¸ªæ°å¤§äºéå¼ï¼é»è®¤ä¸º8ï¼æ¶ï¼ä¼åå¤æ­å½åæ°ç»é¿åº¦æ¯å¦å°äº64ï¼å¦æå°äº64ï¼å°±åæ©å®¹æ°ç»ï¼èä¸è½¬æ¢æçº¢é»æ ï¼å¦æå¤§äºç­äºï¼å°±è½¬æ¢æçº¢é»æ ï¼ä»¥åå°æç´¢æ¶é´ã\n\nHashMap é»è®¤çåå§åå®¹éå¤§å°ä¸º 16ãä¹åæ¯æ¬¡æ©åï¼å®¹éåä¸ºåæ¥ç 2 åãå¹¶ä¸ï¼ HashMap æ»æ¯ä½¿ç¨ 2 çå¹ä½ä¸ºåå¸è¡¨çå¤§å°ã\n\nä»ä¹æ¯æ¡¶ï¼\n\nHashMapçåºå±æ°ç»ä¸­å¯ä»¥å­å¨åç´ çä½ç½®è¢«ç§°ä¸ºâæ¡¶ï¼bucketï¼ã\n\næé¾æ³æ¯ä»ä¹ï¼\n\næè° âæé¾æ³â å°±æ¯ï¼å°é¾è¡¨åæ°ç»ç¸ç»åãä¹å°±æ¯è¯´åå»ºä¸ä¸ªé¾è¡¨æ°ç»ï¼æ°ç»ä¸­æ¯ä¸æ ¼å°±æ¯ä¸ä¸ªé¾è¡¨ãè¥éå°åå¸å²çªï¼åå°å²çªçå¼å å°é¾è¡¨ä¸­å³å¯ã\n\n\n\n\n# HashMap åºå±æ°æ®ç»æåæ\n\n\n# JDK1.8ä¹å\n\nJDK1.8ä¹åHashMapåºå±æ¯æ°ç»åé¾è¡¨ã\n\nHashMap éè¿ key ç hashCode ç»è¿æ°å¨å½æ°å¤çè¿åå¾å° hash å¼ï¼ç¶åéè¿ (n - 1) & hash å¤æ­å½ååç´ å­æ¾çä½ç½®ï¼è¿éç n æçæ¯æ°ç»çé¿åº¦ï¼ï¼å¦æå½åä½ç½®å­å¨åç´ çè¯ï¼å°±å¤æ­è¯¥åç´ ä¸è¦å­å¥çåç´ ç hash å¼ä»¥å key æ¯å¦ç¸åï¼å¦æç¸åçè¯ï¼ç´æ¥è¦çï¼ä¸ç¸åå°±éè¿æé¾æ³è§£å³å²çªã\n\nä»ä¹æ¯æ°å¨å½æ°ï¼\n\næè°æ°å¨å½æ°æçå°±æ¯ HashMap ç hash æ¹æ³ãä½¿ç¨ hash æ¹æ³ä¹å°±æ¯æ°å¨å½æ°æ¯ä¸ºäºé²æ­¢ä¸äºå®ç°æ¯è¾å·®ç hashCode() æ¹æ³ æ¢å¥è¯è¯´ä½¿ç¨æ°å¨å½æ°ä¹åå¯ä»¥åå°ç¢°æã\n\n\n# JDK1.8ä¹å\n\nJDK1.8ä¹åHashMapåºå±æ¯æ°ç»+é¾è¡¨+çº¢é»æ ã\n\nç¸æ¯äºä¹åççæ¬ï¼JDK1.8 ä»¥åå¨è§£å³åå¸å²çªæ¶æäºè¾å¤§çååã\n\nå½é¾è¡¨é¿åº¦å¤§äºéå¼ï¼é»è®¤ä¸º 8ï¼æ¶ï¼ä¼é¦åè°ç¨ treeifyBin()æ¹æ³ãè¿ä¸ªæ¹æ³ä¼æ ¹æ® HashMap æ°ç»æ¥å³å®æ¯å¦è½¬æ¢ä¸ºçº¢é»æ ãåªæå½æ°ç»é¿åº¦å¤§äºæèç­äº 64 çæåµä¸ï¼æä¼æ§è¡è½¬æ¢çº¢é»æ æä½ï¼ä»¥åå°æç´¢æ¶é´ãå¦åï¼å°±æ¯åªæ¯æ§è¡ resize() æ¹æ³å¯¹æ°ç»æ©å®¹ã\n\n\n\n\n# HashMap æºç åæ\n\n\n# æåå±æ§\n\npublic class HashMap<K,V> extends AbstractMap<K,V>\n    implements Map<K,V>, Cloneable, Serializable {\n    // åºåå·\n    private static final long serialVersionUID = 362498820763181265L;\n    //é»è®¤çåå§å®¹é-å¿é¡»æ¯äºçå¹æ¬¡æ¹ãè¿éä¸º16\n\tstatic final int DEFAULT_INITIAL_CAPACITY = 1 << 4; // aka 16\n    //æå¤§å®¹éï¼å¦æå¶ä¸­ä¸ä¸ªå¸¦æåæ°çæé å½æ°éå¼æå®äºæ´é«çå¼ï¼åä½¿ç¨è¯¥å®¹é,èä¸æ¯è¦æå®çå¼ãå¿é¡»æ¯äºçå¹æ¬¡æ¹\n    static final int MAXIMUM_CAPACITY = 1 << 30;\n\t//é»è®¤çå è½½å å­\n    static final float DEFAULT_LOAD_FACTOR = 0.75f;\n\t//å½æ¡¶(bucket)ä¸çç»ç¹æ°å¤§äºè¿ä¸ªå¼æ¶ä¼è½¬æçº¢é»æ .è¯¥å¼å¿é¡»å¤§äº2ï¼å¹¶ä¸åºè³å°ä¸º8\n    static final int TREEIFY_THRESHOLD = 8;\n    //å½æ¡¶(bucket)ä¸çç»ç¹æ°å°äºè¿ä¸ªå¼æ¶æ è½¬é¾è¡¨.åºå°äºTREEIFY_THRESHOLDï¼ä¸æå¤ä¸º6\n    static final int UNTREEIFY_THRESHOLD = 6;\n    //æ¡¶ä¸­ç»æè½¬åä¸ºçº¢é»æ å¯¹åºçtableçæå°å¤§å°.è³å°ä¸º4*TREEIFY_THRESHOLD\n    static final int MIN_TREEIFY_CAPACITY = 64;\n     // å­å¨åç´ çæ°ç»ï¼æ»æ¯2çå¹æ¬¡å\n    transient Node<k,v>[] table;\n    // å­æ¾å·ä½åç´ çé\n    transient Set<map.entry<k,v>> entrySet;\n    // å­æ¾åç´ çä¸ªæ°ï¼æ³¨æè¿ä¸ªä¸ç­äºæ°ç»çé¿åº¦ã\n    transient int size;\n    // æ¯æ¬¡æ©å®¹åæ´æ¹mapç»æçè®¡æ°å¨\n    transient int modCount;\n    // ä¸´çå¼ å½å®éå¤§å°(å®¹é*å¡«åå å­)è¶è¿ä¸´çå¼æ¶ï¼ä¼è¿è¡æ©å®¹\n    int threshold;\n    // å è½½å å­\n    final float loadFactor;   \n}\n\n\n * loadFactor å è½½å å­\n   \n   * loadFactor å è½½å å­æ¯æ§å¶æ°ç»å­æ¾æ°æ®ççå¯ç¨åº¦ï¼loadFactor è¶è¶è¿äº 1ï¼é£ä¹ æ°ç»ä¸­å­æ¾çæ°æ®(entry)ä¹å°±è¶å¤ï¼ä¹å°±è¶å¯ï¼ä¹å°±æ¯ä¼è®©é¾è¡¨ çé¿åº¦å¢å ï¼loadFactor è¶å°ï¼ä¹å°±æ¯è¶è¿äº 0ï¼æ°ç»ä¸­å­æ¾çæ°æ®(entry)ä¹å°±è¶å°ï¼ä¹å°±è¶ç¨çã\n   * loadFactor å¤ªå¤§å¯¼è´æ¥æ¾åç´ æçä½ï¼å¤ªå°å¯¼è´æ°ç»çå©ç¨çä½ï¼å­æ¾çæ°æ®ä¼å¾åæ£ãloadFactor çé»è®¤å¼ä¸º 0.75f æ¯å®æ¹ç»åºçä¸ä¸ªæ¯è¾å¥½çä¸´çå¼ã\n   * ç»å®çé»è®¤å®¹éä¸º 16ï¼è´è½½å å­ä¸º 0.75ãMap å¨ä½¿ç¨è¿ç¨ä¸­ä¸æ­çå¾éé¢å­æ¾æ°æ®ï¼å½æ°éè¾¾å°äº 16 * 0.75 = 12 å°±éè¦å°å½å 16 çå®¹éè¿è¡æ©å®¹ï¼èæ©å®¹è¿ä¸ªè¿ç¨æ¶åå° rehashãå¤å¶æ°æ®ç­æä½ï¼æä»¥éå¸¸æ¶èæ§è½ã\n\n * threshold ä¸´çå¼ï¼threshold = capacity * loadFactorï¼å½ Size>=thresholdçæ¶åï¼é£ä¹å°±è¦èèå¯¹æ°ç»çæ©å¢äºï¼ä¹å°±æ¯è¯´ï¼è¿ä¸ªçææå°±æ¯ è¡¡éæ°ç»æ¯å¦éè¦æ©å®¹çä¸ä¸ªæ åã\n\n\n# åå­éæç±»\n\nNode èç¹ç±»æºç :\n\n// ç»§æ¿èª Map.Entry<K,V>\nstatic class Node<K,V> implements Map.Entry<K,V> {\n       final int hash;// åå¸å¼ï¼å­æ¾åç´ å°hashmapä¸­æ¶ç¨æ¥ä¸å¶ä»åç´ hashå¼æ¯è¾\n       final K key;//é®\n       V value;//å¼\n       // æåä¸ä¸ä¸ªèç¹\n       Node<K,V> next;\n       Node(int hash, K key, V value, Node<K,V> next) {\n            this.hash = hash;\n            this.key = key;\n            this.value = value;\n            this.next = next;\n        }\n        public final K getKey()        { return key; }\n        public final V getValue()      { return value; }\n        public final String toString() { return key + "=" + value; }\n        // éåhashCode()æ¹æ³\n        public final int hashCode() {\n            return Objects.hashCode(key) ^ Objects.hashCode(value);\n        }\n\n        public final V setValue(V newValue) {\n            V oldValue = value;\n            value = newValue;\n            return oldValue;\n        }\n        // éå equals() æ¹æ³\n        public final boolean equals(Object o) {\n            if (o == this)\n                return true;\n            if (o instanceof Map.Entry) {\n                Map.Entry<?,?> e = (Map.Entry<?,?>)o;\n                if (Objects.equals(key, e.getKey()) &&\n                    Objects.equals(value, e.getValue()))\n                    return true;\n            }\n            return false;\n        }\n}\n\n\n\næ èç¹ç±»æºç :\n\nstatic final class TreeNode<K,V> extends LinkedHashMap.Entry<K,V> {\n        TreeNode<K,V> parent;  // ç¶\n        TreeNode<K,V> left;    // å·¦\n        TreeNode<K,V> right;   // å³\n        TreeNode<K,V> prev;    // needed to unlink next upon deletion\n        boolean red;           // å¤æ­é¢è²\n        TreeNode(int hash, K key, V val, Node<K,V> next) {\n            super(hash, key, val, next);\n        }\n        // è¿åæ ¹èç¹\n        final TreeNode<K,V> root() {\n            for (TreeNode<K,V> r = this, p;;) {\n                if ((p = r.parent) == null)\n                    return r;\n                r = p;\n       }\n\n\n\n\n# æé æ¹æ³\n\n    // é»è®¤æé å½æ°ã\n    public HashMap() {\n        this.loadFactor = DEFAULT_LOAD_FACTOR; // all   other fields defaulted\n     }\n\n     // åå«å¦ä¸ä¸ªâMapâçæé å½æ°\n     public HashMap(Map<? extends K, ? extends V> m) {\n         this.loadFactor = DEFAULT_LOAD_FACTOR;\n         putMapEntries(m, false);\n     }\n\n     // æå®âåå§å®¹éå¤§å°âçæé å½æ°\n     public HashMap(int initialCapacity) {\n         this(initialCapacity, DEFAULT_LOAD_FACTOR);\n     }\n\n     // æå®âåå§å®¹éå¤§å°âåâå è½½å å­âçæé å½æ°\n     public HashMap(int initialCapacity, float loadFactor) {\n         if (initialCapacity < 0)\n             throw new IllegalArgumentException("Illegal initial capacity: " + initialCapacity);\n         if (initialCapacity > MAXIMUM_CAPACITY)\n             initialCapacity = MAXIMUM_CAPACITY;\n         if (loadFactor <= 0 || Float.isNaN(loadFactor))\n             throw new IllegalArgumentException("Illegal load factor: " + loadFactor);\n         this.loadFactor = loadFactor;\n         this.threshold = tableSizeFor(initialCapacity);\n     }\n\n\n\nputMapEntries æ¹æ³ï¼\n\nfinal void putMapEntries(Map<? extends K, ? extends V> m, boolean evict) {\n    int s = m.size();\n    if (s > 0) {\n        // å¤æ­tableæ¯å¦å·²ç»åå§å\n        if (table == null) { // pre-size\n            // æªåå§åï¼sä¸ºmçå®éåç´ ä¸ªæ°ãè®¡ç®åºæéå®¹é\n            float ft = ((float)s / loadFactor) + 1.0F;\n            int t = ((ft < (float)MAXIMUM_CAPACITY) ?\n                    (int)ft : MAXIMUM_CAPACITY);\n            // è®¡ç®å¾å°çå®¹étå¤§äºä¸´çå¼ï¼ååå§åä¸´çå¼\n            if (t > threshold)\n                threshold = tableSizeFor(t);\n        }\n        // å·²åå§åï¼å¹¶ä¸måç´ ä¸ªæ°å¤§äºä¸´çå¼ï¼è¿è¡æ©å®¹å¤ç\n        else if (s > threshold)\n            resize();\n        // å°mä¸­çææåç´ æ·»å è³HashMapä¸­\n        for (Map.Entry<? extends K, ? extends V> e : m.entrySet()) {\n            K key = e.getKey();\n            V value = e.getValue();\n            putVal(hash(key), key, value, false, evict);\n        }\n    }\n}\n\n\n\n\n# put æ¹æ³\n\nHashMap åªæä¾äº put ç¨äºæ·»å åç´ ï¼putVal æ¹æ³åªæ¯ç» put æ¹æ³è°ç¨çä¸ä¸ªæ¹æ³ï¼å¹¶æ²¡ææä¾ç»ç¨æ·ä½¿ç¨ã\n\nå¯¹ putVal æ¹æ³æ·»å åç´ çåæå¦ä¸ï¼\n\n 1. å¦æå®ä½å°çæ°ç»ä½ç½®æ²¡æåç´  å°±ç´æ¥æå¥ã\n\n 2. å¦æå®ä½å°çæ°ç»ä½ç½®æåç´ å°±åè¦æå¥ç key æ¯è¾ï¼å¦æ key ç¸åå°±ç´æ¥è¦çï¼å¹¶å°æ§çValueç´æ¥è¿åï¼å¦æ key ä¸ç¸åï¼å°±å¤æ­ p æ¯å¦æ¯ä¸ä¸ªæ èç¹ï¼å¦ææ¯å°±å«è¿ä¸ªåç´ æ·»å å°æ ä¸­ãå¦æä¸æ¯å°±éåé¾è¡¨æå¥(æå¥çæ¯é¾è¡¨å°¾é¨)ã\n\npublic V put(K key, V value) {\n\treturn putVal(hash(key), key, value, false, true);\n}\nfinal V putVal(int hash, K key, V value, boolean onlyIfAbsent,\n                   boolean evict) {\n    Node<K,V>[] tab; Node<K,V> p; int n, i;\n    //tableæªåå§åæèé¿åº¦ä¸º0ï¼å°±è¿è¡æ©å®¹\n    if ((tab = table) == null || (n = tab.length) == 0)\n        n = (tab = resize()).length;\n    //(n - 1) & hash ç¡®å®åç´ å­æ¾å¨åªä¸ªæ¡¶ä¸­ï¼æ¡¶ä¸ºç©ºï¼æ°çæç»ç¹æ¾å¥æ¡¶ä¸­(æ­¤æ¶ï¼è¿ä¸ªç»ç¹æ¯æ¾å¨æ°ç»ä¸­)\n    if ((p = tab[i = (n - 1) & hash]) == null)\n        tab[i] = newNode(hash, key, value, null);\n\t//æ¡¶ä¸­å·²ç»å­å¨åç´ \n    else {\n        Node<K,V> e; K k;\n        // æ¯è¾æ¡¶ä¸­ç¬¬ä¸ä¸ªåç´ (æ°ç»ä¸­çç»ç¹)è·æ°æ·»å åç´ çhashå¼ç¸ç­ï¼keyç¸ç­\n        if (p.hash == hash &&\n            ((k = p.key) == key || (key != null && key.equals(k))))\n            // å°ç¬¬ä¸ä¸ªåç´ èµå¼ç»eï¼ç¨eæ¥è®°å½\n            e = p;\n        // hashå¼ä¸ç¸ç­ï¼å³keyä¸ç¸ç­ãå¹¶ä¸ä¸ºçº¢é»æ ç»ç¹\n        else if (p instanceof TreeNode)\n            //æ·»å åç´ å°æ ä¸­\n            e = ((TreeNode<K,V>)p).putTreeVal(this, tab, hash, key, value);\n        //é¾è¡¨ç»ç¹\n        else {\n            //ä½¿ç¨å°¾ææ³æå¥æ°æ®å°é¾è¡¨\n            for (int binCount = 0; ; ++binCount) {\n                // å°è¾¾é¾è¡¨çå°¾é¨\n                if ((e = p.next) == null) {\n                    //å¨å°¾é¨æå¥æ°ç»ç¹\n                    p.next = newNode(hash, key, value, null);\n                    //å½é¾è¡¨é¿åº¦å¤§äº8ï¼TREEIFY_THRESHOLD = 8ï¼æ¶ãè°ç¨treeifyBinæ¹æ³å°è¯è½¬æçº¢é»æ .\n                    //å½æ°ç»é¿åº¦å¤§äºç­äº64æ¶å°±è½¬æ¢æçº¢é»æ ãå¦åå°ä¼æ©å®¹æ°ç»\n                    if (binCount >= TREEIFY_THRESHOLD - 1) // -1 for 1st\n                        treeifyBin(tab, hash);\n                    // è·³åºå¾ªç¯\n                    break;\n                }\n                // å¤æ­é¾è¡¨ä¸­ç»ç¹çkeyå¼ä¸æå¥çåç´ çkeyå¼æ¯å¦ç¸ç­\n                if (e.hash == hash &&\n                    ((k = e.key) == key || (key != null && key.equals(k))))\n                    // ç¸ç­ï¼è·³åºå¾ªç¯\n                    break;\n                // ç¨äºéåæ¡¶ä¸­çé¾è¡¨ï¼ä¸åé¢çe = p.nextç»åï¼å¯ä»¥éåé¾è¡¨\n                p = e;\n            }\n        }\n        // è¡¨ç¤ºå¨æ¡¶ä¸­æ¾å°keyå¼ãhashå¼ä¸æå¥åç´ ç¸ç­çç»ç¹\n        if (e != null) { // existing mapping for key\n            // è®°å½eçvalu\n            V oldValue = e.value;\n            // onlyIfAbsentä¸ºfalseæèæ§å¼ä¸ºnull\n            if (!onlyIfAbsent || oldValue == null)\n                //ç¨æ°å¼æ¿æ¢æ§å¼\n                e.value = value;\n            // è®¿é®ååè°\n            afterNodeAccess(e);\n            // è¿åæ§å¼\n            return oldValue;\n        }\n    }\n    ++modCount;\n    //åç´ ä¸ªæ°å¤§äºä¸´çå¼æ¶ï¼è¿è¡æ©å®¹ãåæ·»å åç´ åæ©å®¹ \n    if (++size > threshold)\n        resize();\n    // æå¥ååè°\n    afterNodeInsertion(evict);\n    return null;\n}\n\n\n\n# get æ¹æ³\n\npublic V get(Object key) {\n    Node<K,V> e;\n    return (e = getNode(hash(key), key)) == null ? null : e.value;\n}\n\nfinal Node<K,V> getNode(int hash, Object key) {\n    Node<K,V>[] tab; Node<K,V> first, e; int n; K k;\n    if ((tab = table) != null && (n = tab.length) > 0 &&\n        (first = tab[(n - 1) & hash]) != null) {\n        // æ°ç»åç´ ç¸ç­\n        if (first.hash == hash && // always check first node\n            ((k = first.key) == key || (key != null && key.equals(k))))\n            return first;\n        // æ¡¶ä¸­ä¸æ­¢ä¸ä¸ªèç¹\n        if ((e = first.next) != null) {\n            // å¨æ ä¸­get\n            if (first instanceof TreeNode)\n                return ((TreeNode<K,V>)first).getTreeNode(hash, key);\n            // å¨é¾è¡¨ä¸­get\n            do {\n                if (e.hash == hash &&\n                    ((k = e.key) == key || (key != null && key.equals(k))))\n                    return e;\n            } while ((e = e.next) != null);\n        }\n    }\n    return null;\n}\n\n\n\n\n# resize æ¹æ³\n\nè¿è¡æ©å®¹ï¼æ©å®¹ä¼äº§çæ§è½æ¶èï¼Hashåéï¼éååhashè¡¨çææåç´ ï¼æ çæåï¼ï¼åºè¯¥å°½éé¿åresizeã\n\nfinal Node<K,V>[] resize() {\n        Node<K,V>[] oldTab = table;\n        int oldCap = (oldTab == null) ? 0 : oldTab.length;\n        int oldThr = threshold;\n        int newCap, newThr = 0;\n        if (oldCap > 0) {\n            //å®¹éè¶è¿æå¤§å¼å°±ä¸åæ©å\n            if (oldCap >= MAXIMUM_CAPACITY) {\n                threshold = Integer.MAX_VALUE;\n                return oldTab;\n            }\n            //æ²¡è¶è¿æå¤§å¼ï¼å°±æ©åä¸ºç¨æ¥ç2å\n            else if ((newCap = oldCap << 1) < MAXIMUM_CAPACITY &&\n                     oldCap >= DEFAULT_INITIAL_CAPACITY)\n                newThr = oldThr << 1; // double threshold\n        }\n        else if (oldThr > 0) // initial capacity was placed in threshold\n            newCap = oldThr;\n        else {               // zero initial threshold signifies using defaults\n            newCap = DEFAULT_INITIAL_CAPACITY;\n            newThr = (int)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);\n        }\n    \t//è®¡ç®æ°çresizeä¸éï¼ä¸´çå¼ï¼\n        if (newThr == 0) {\n            float ft = (float)newCap * loadFactor;\n            newThr = (newCap < MAXIMUM_CAPACITY && ft < (float)MAXIMUM_CAPACITY ?\n                      (int)ft : Integer.MAX_VALUE);\n        }\n        threshold = newThr;\n        @SuppressWarnings({"rawtypes","unchecked"})\n            Node<K,V>[] newTab = (Node<K,V>[])new Node[newCap];\n        table = newTab;\n        if (oldTab != null) {\n            // ææ¯ä¸ªbucketé½ç§»å¨å°æ°çbucketsä¸­\n            for (int j = 0; j < oldCap; ++j) {\n                Node<K,V> e;\n                if ((e = oldTab[j]) != null) {\n                    oldTab[j] = null;\n                    if (e.next == null)\n                        newTab[e.hash & (newCap - 1)] = e;\n                    else if (e instanceof TreeNode)\n                        ((TreeNode<K,V>)e).split(this, newTab, j, oldCap);\n                    else { // preserve order\n                        Node<K,V> loHead = null, loTail = null;\n                        Node<K,V> hiHead = null, hiTail = null;\n                        Node<K,V> next;\n                        do {\n                            next = e.next;\n                            if ((e.hash & oldCap) == 0) {\n                                if (loTail == null)\n                                    loHead = e;\n                                else\n                                    loTail.next = e;\n                                loTail = e;\n                            }\n                            else {\n                                if (hiTail == null)\n                                    hiHead = e;\n                                else\n                                    hiTail.next = e;\n                                hiTail = e;\n                            }\n                        } while ((e = next) != null);\n                        if (loTail != null) {\n                            loTail.next = null;\n                            newTab[j] = loHead;\n                        }\n                        if (hiTail != null) {\n                            hiTail.next = null;\n                            newTab[j + oldCap] = hiHead;\n                        }\n                    }\n                }\n            }\n        }\n        return newTab;\n    }\n',normalizedContent:'# hashmap ç®ä»\n\nhashmap æ¯å­å¨é®å¼å¯¹çï¼åºäºåå¸è¡¨çmapæ¥å£å®ç°çï¼æ¯çº¿ç¨ä¸å®å¨çã\n\nhashmapå¯ä»¥å­å¨nullé®ånullå¼ãä½æ¯nullé®åªè½æä¸ä¸ªï¼nullå¼å¯ä»¥æå¾å¤ä¸ªã\n\njdk1.8 ä¹åhashmapç±æ°ç»+é¾è¡¨ç»æãæ°ç»æ¯å­å¨æ°æ®çä¸»ä½ï¼é¾è¡¨æ¯ä¸ºäºè§£å³åå¸å²çªèå­å¨çï¼æé¾æ³ï¼ã\n\njdk1.8ä¹åhashmapææ°ç»+é¾è¡¨+çº¢é»æ ç»æãå½é¾è¡¨ä¸ªæ°å¤§äºéå¼ï¼é»è®¤ä¸º8ï¼æ¶ï¼ä¼åå¤æ­å½åæ°ç»é¿åº¦æ¯å¦å°äº64ï¼å¦æå°äº64ï¼å°±åæ©å®¹æ°ç»ï¼èä¸è½¬æ¢æçº¢é»æ ï¼å¦æå¤§äºç­äºï¼å°±è½¬æ¢æçº¢é»æ ï¼ä»¥åå°æç´¢æ¶é´ã\n\nhashmap é»è®¤çåå§åå®¹éå¤§å°ä¸º 16ãä¹åæ¯æ¬¡æ©åï¼å®¹éåä¸ºåæ¥ç 2 åãå¹¶ä¸ï¼ hashmap æ»æ¯ä½¿ç¨ 2 çå¹ä½ä¸ºåå¸è¡¨çå¤§å°ã\n\nä»ä¹æ¯æ¡¶ï¼\n\nhashmapçåºå±æ°ç»ä¸­å¯ä»¥å­å¨åç´ çä½ç½®è¢«ç§°ä¸ºâæ¡¶ï¼bucketï¼ã\n\næé¾æ³æ¯ä»ä¹ï¼\n\næè° âæé¾æ³â å°±æ¯ï¼å°é¾è¡¨åæ°ç»ç¸ç»åãä¹å°±æ¯è¯´åå»ºä¸ä¸ªé¾è¡¨æ°ç»ï¼æ°ç»ä¸­æ¯ä¸æ ¼å°±æ¯ä¸ä¸ªé¾è¡¨ãè¥éå°åå¸å²çªï¼åå°å²çªçå¼å å°é¾è¡¨ä¸­å³å¯ã\n\n\n\n\n# hashmap åºå±æ°æ®ç»æåæ\n\n\n# jdk1.8ä¹å\n\njdk1.8ä¹åhashmapåºå±æ¯æ°ç»åé¾è¡¨ã\n\nhashmap éè¿ key ç hashcode ç»è¿æ°å¨å½æ°å¤çè¿åå¾å° hash å¼ï¼ç¶åéè¿ (n - 1) & hash å¤æ­å½ååç´ å­æ¾çä½ç½®ï¼è¿éç n æçæ¯æ°ç»çé¿åº¦ï¼ï¼å¦æå½åä½ç½®å­å¨åç´ çè¯ï¼å°±å¤æ­è¯¥åç´ ä¸è¦å­å¥çåç´ ç hash å¼ä»¥å key æ¯å¦ç¸åï¼å¦æç¸åçè¯ï¼ç´æ¥è¦çï¼ä¸ç¸åå°±éè¿æé¾æ³è§£å³å²çªã\n\nä»ä¹æ¯æ°å¨å½æ°ï¼\n\næè°æ°å¨å½æ°æçå°±æ¯ hashmap ç hash æ¹æ³ãä½¿ç¨ hash æ¹æ³ä¹å°±æ¯æ°å¨å½æ°æ¯ä¸ºäºé²æ­¢ä¸äºå®ç°æ¯è¾å·®ç hashcode() æ¹æ³ æ¢å¥è¯è¯´ä½¿ç¨æ°å¨å½æ°ä¹åå¯ä»¥åå°ç¢°æã\n\n\n# jdk1.8ä¹å\n\njdk1.8ä¹åhashmapåºå±æ¯æ°ç»+é¾è¡¨+çº¢é»æ ã\n\nç¸æ¯äºä¹åççæ¬ï¼jdk1.8 ä»¥åå¨è§£å³åå¸å²çªæ¶æäºè¾å¤§çååã\n\nå½é¾è¡¨é¿åº¦å¤§äºéå¼ï¼é»è®¤ä¸º 8ï¼æ¶ï¼ä¼é¦åè°ç¨ treeifybin()æ¹æ³ãè¿ä¸ªæ¹æ³ä¼æ ¹æ® hashmap æ°ç»æ¥å³å®æ¯å¦è½¬æ¢ä¸ºçº¢é»æ ãåªæå½æ°ç»é¿åº¦å¤§äºæèç­äº 64 çæåµä¸ï¼æä¼æ§è¡è½¬æ¢çº¢é»æ æä½ï¼ä»¥åå°æç´¢æ¶é´ãå¦åï¼å°±æ¯åªæ¯æ§è¡ resize() æ¹æ³å¯¹æ°ç»æ©å®¹ã\n\n\n\n\n# hashmap æºç åæ\n\n\n# æåå±æ§\n\npublic class hashmap<k,v> extends abstractmap<k,v>\n    implements map<k,v>, cloneable, serializable {\n    // åºåå·\n    private static final long serialversionuid = 362498820763181265l;\n    //é»è®¤çåå§å®¹é-å¿é¡»æ¯äºçå¹æ¬¡æ¹ãè¿éä¸º16\n\tstatic final int default_initial_capacity = 1 << 4; // aka 16\n    //æå¤§å®¹éï¼å¦æå¶ä¸­ä¸ä¸ªå¸¦æåæ°çæé å½æ°éå¼æå®äºæ´é«çå¼ï¼åä½¿ç¨è¯¥å®¹é,èä¸æ¯è¦æå®çå¼ãå¿é¡»æ¯äºçå¹æ¬¡æ¹\n    static final int maximum_capacity = 1 << 30;\n\t//é»è®¤çå è½½å å­\n    static final float default_load_factor = 0.75f;\n\t//å½æ¡¶(bucket)ä¸çç»ç¹æ°å¤§äºè¿ä¸ªå¼æ¶ä¼è½¬æçº¢é»æ .è¯¥å¼å¿é¡»å¤§äº2ï¼å¹¶ä¸åºè³å°ä¸º8\n    static final int treeify_threshold = 8;\n    //å½æ¡¶(bucket)ä¸çç»ç¹æ°å°äºè¿ä¸ªå¼æ¶æ è½¬é¾è¡¨.åºå°äºtreeify_thresholdï¼ä¸æå¤ä¸º6\n    static final int untreeify_threshold = 6;\n    //æ¡¶ä¸­ç»æè½¬åä¸ºçº¢é»æ å¯¹åºçtableçæå°å¤§å°.è³å°ä¸º4*treeify_threshold\n    static final int min_treeify_capacity = 64;\n     // å­å¨åç´ çæ°ç»ï¼æ»æ¯2çå¹æ¬¡å\n    transient node<k,v>[] table;\n    // å­æ¾å·ä½åç´ çé\n    transient set<map.entry<k,v>> entryset;\n    // å­æ¾åç´ çä¸ªæ°ï¼æ³¨æè¿ä¸ªä¸ç­äºæ°ç»çé¿åº¦ã\n    transient int size;\n    // æ¯æ¬¡æ©å®¹åæ´æ¹mapç»æçè®¡æ°å¨\n    transient int modcount;\n    // ä¸´çå¼ å½å®éå¤§å°(å®¹é*å¡«åå å­)è¶è¿ä¸´çå¼æ¶ï¼ä¼è¿è¡æ©å®¹\n    int threshold;\n    // å è½½å å­\n    final float loadfactor;   \n}\n\n\n * loadfactor å è½½å å­\n   \n   * loadfactor å è½½å å­æ¯æ§å¶æ°ç»å­æ¾æ°æ®ççå¯ç¨åº¦ï¼loadfactor è¶è¶è¿äº 1ï¼é£ä¹ æ°ç»ä¸­å­æ¾çæ°æ®(entry)ä¹å°±è¶å¤ï¼ä¹å°±è¶å¯ï¼ä¹å°±æ¯ä¼è®©é¾è¡¨ çé¿åº¦å¢å ï¼loadfactor è¶å°ï¼ä¹å°±æ¯è¶è¿äº 0ï¼æ°ç»ä¸­å­æ¾çæ°æ®(entry)ä¹å°±è¶å°ï¼ä¹å°±è¶ç¨çã\n   * loadfactor å¤ªå¤§å¯¼è´æ¥æ¾åç´ æçä½ï¼å¤ªå°å¯¼è´æ°ç»çå©ç¨çä½ï¼å­æ¾çæ°æ®ä¼å¾åæ£ãloadfactor çé»è®¤å¼ä¸º 0.75f æ¯å®æ¹ç»åºçä¸ä¸ªæ¯è¾å¥½çä¸´çå¼ã\n   * ç»å®çé»è®¤å®¹éä¸º 16ï¼è´è½½å å­ä¸º 0.75ãmap å¨ä½¿ç¨è¿ç¨ä¸­ä¸æ­çå¾éé¢å­æ¾æ°æ®ï¼å½æ°éè¾¾å°äº 16 * 0.75 = 12 å°±éè¦å°å½å 16 çå®¹éè¿è¡æ©å®¹ï¼èæ©å®¹è¿ä¸ªè¿ç¨æ¶åå° rehashãå¤å¶æ°æ®ç­æä½ï¼æä»¥éå¸¸æ¶èæ§è½ã\n\n * threshold ä¸´çå¼ï¼threshold = capacity * loadfactorï¼å½ size>=thresholdçæ¶åï¼é£ä¹å°±è¦èèå¯¹æ°ç»çæ©å¢äºï¼ä¹å°±æ¯è¯´ï¼è¿ä¸ªçææå°±æ¯ è¡¡éæ°ç»æ¯å¦éè¦æ©å®¹çä¸ä¸ªæ åã\n\n\n# åå­éæç±»\n\nnode èç¹ç±»æºç :\n\n// ç»§æ¿èª map.entry<k,v>\nstatic class node<k,v> implements map.entry<k,v> {\n       final int hash;// åå¸å¼ï¼å­æ¾åç´ å°hashmapä¸­æ¶ç¨æ¥ä¸å¶ä»åç´ hashå¼æ¯è¾\n       final k key;//é®\n       v value;//å¼\n       // æåä¸ä¸ä¸ªèç¹\n       node<k,v> next;\n       node(int hash, k key, v value, node<k,v> next) {\n            this.hash = hash;\n            this.key = key;\n            this.value = value;\n            this.next = next;\n        }\n        public final k getkey()        { return key; }\n        public final v getvalue()      { return value; }\n        public final string tostring() { return key + "=" + value; }\n        // éåhashcode()æ¹æ³\n        public final int hashcode() {\n            return objects.hashcode(key) ^ objects.hashcode(value);\n        }\n\n        public final v setvalue(v newvalue) {\n            v oldvalue = value;\n            value = newvalue;\n            return oldvalue;\n        }\n        // éå equals() æ¹æ³\n        public final boolean equals(object o) {\n            if (o == this)\n                return true;\n            if (o instanceof map.entry) {\n                map.entry<?,?> e = (map.entry<?,?>)o;\n                if (objects.equals(key, e.getkey()) &&\n                    objects.equals(value, e.getvalue()))\n                    return true;\n            }\n            return false;\n        }\n}\n\n\n\næ èç¹ç±»æºç :\n\nstatic final class treenode<k,v> extends linkedhashmap.entry<k,v> {\n        treenode<k,v> parent;  // ç¶\n        treenode<k,v> left;    // å·¦\n        treenode<k,v> right;   // å³\n        treenode<k,v> prev;    // needed to unlink next upon deletion\n        boolean red;           // å¤æ­é¢è²\n        treenode(int hash, k key, v val, node<k,v> next) {\n            super(hash, key, val, next);\n        }\n        // è¿åæ ¹èç¹\n        final treenode<k,v> root() {\n            for (treenode<k,v> r = this, p;;) {\n                if ((p = r.parent) == null)\n                    return r;\n                r = p;\n       }\n\n\n\n\n# æé æ¹æ³\n\n    // é»è®¤æé å½æ°ã\n    public hashmap() {\n        this.loadfactor = default_load_factor; // all   other fields defaulted\n     }\n\n     // åå«å¦ä¸ä¸ªâmapâçæé å½æ°\n     public hashmap(map<? extends k, ? extends v> m) {\n         this.loadfactor = default_load_factor;\n         putmapentries(m, false);\n     }\n\n     // æå®âåå§å®¹éå¤§å°âçæé å½æ°\n     public hashmap(int initialcapacity) {\n         this(initialcapacity, default_load_factor);\n     }\n\n     // æå®âåå§å®¹éå¤§å°âåâå è½½å å­âçæé å½æ°\n     public hashmap(int initialcapacity, float loadfactor) {\n         if (initialcapacity < 0)\n             throw new illegalargumentexception("illegal initial capacity: " + initialcapacity);\n         if (initialcapacity > maximum_capacity)\n             initialcapacity = maximum_capacity;\n         if (loadfactor <= 0 || float.isnan(loadfactor))\n             throw new illegalargumentexception("illegal load factor: " + loadfactor);\n         this.loadfactor = loadfactor;\n         this.threshold = tablesizefor(initialcapacity);\n     }\n\n\n\nputmapentries æ¹æ³ï¼\n\nfinal void putmapentries(map<? extends k, ? extends v> m, boolean evict) {\n    int s = m.size();\n    if (s > 0) {\n        // å¤æ­tableæ¯å¦å·²ç»åå§å\n        if (table == null) { // pre-size\n            // æªåå§åï¼sä¸ºmçå®éåç´ ä¸ªæ°ãè®¡ç®åºæéå®¹é\n            float ft = ((float)s / loadfactor) + 1.0f;\n            int t = ((ft < (float)maximum_capacity) ?\n                    (int)ft : maximum_capacity);\n            // è®¡ç®å¾å°çå®¹étå¤§äºä¸´çå¼ï¼ååå§åä¸´çå¼\n            if (t > threshold)\n                threshold = tablesizefor(t);\n        }\n        // å·²åå§åï¼å¹¶ä¸måç´ ä¸ªæ°å¤§äºä¸´çå¼ï¼è¿è¡æ©å®¹å¤ç\n        else if (s > threshold)\n            resize();\n        // å°mä¸­çææåç´ æ·»å è³hashmapä¸­\n        for (map.entry<? extends k, ? extends v> e : m.entryset()) {\n            k key = e.getkey();\n            v value = e.getvalue();\n            putval(hash(key), key, value, false, evict);\n        }\n    }\n}\n\n\n\n\n# put æ¹æ³\n\nhashmap åªæä¾äº put ç¨äºæ·»å åç´ ï¼putval æ¹æ³åªæ¯ç» put æ¹æ³è°ç¨çä¸ä¸ªæ¹æ³ï¼å¹¶æ²¡ææä¾ç»ç¨æ·ä½¿ç¨ã\n\nå¯¹ putval æ¹æ³æ·»å åç´ çåæå¦ä¸ï¼\n\n 1. å¦æå®ä½å°çæ°ç»ä½ç½®æ²¡æåç´  å°±ç´æ¥æå¥ã\n\n 2. å¦æå®ä½å°çæ°ç»ä½ç½®æåç´ å°±åè¦æå¥ç key æ¯è¾ï¼å¦æ key ç¸åå°±ç´æ¥è¦çï¼å¹¶å°æ§çvalueç´æ¥è¿åï¼å¦æ key ä¸ç¸åï¼å°±å¤æ­ p æ¯å¦æ¯ä¸ä¸ªæ èç¹ï¼å¦ææ¯å°±å«è¿ä¸ªåç´ æ·»å å°æ ä¸­ãå¦æä¸æ¯å°±éåé¾è¡¨æå¥(æå¥çæ¯é¾è¡¨å°¾é¨)ã\n\npublic v put(k key, v value) {\n\treturn putval(hash(key), key, value, false, true);\n}\nfinal v putval(int hash, k key, v value, boolean onlyifabsent,\n                   boolean evict) {\n    node<k,v>[] tab; node<k,v> p; int n, i;\n    //tableæªåå§åæèé¿åº¦ä¸º0ï¼å°±è¿è¡æ©å®¹\n    if ((tab = table) == null || (n = tab.length) == 0)\n        n = (tab = resize()).length;\n    //(n - 1) & hash ç¡®å®åç´ å­æ¾å¨åªä¸ªæ¡¶ä¸­ï¼æ¡¶ä¸ºç©ºï¼æ°çæç»ç¹æ¾å¥æ¡¶ä¸­(æ­¤æ¶ï¼è¿ä¸ªç»ç¹æ¯æ¾å¨æ°ç»ä¸­)\n    if ((p = tab[i = (n - 1) & hash]) == null)\n        tab[i] = newnode(hash, key, value, null);\n\t//æ¡¶ä¸­å·²ç»å­å¨åç´ \n    else {\n        node<k,v> e; k k;\n        // æ¯è¾æ¡¶ä¸­ç¬¬ä¸ä¸ªåç´ (æ°ç»ä¸­çç»ç¹)è·æ°æ·»å åç´ çhashå¼ç¸ç­ï¼keyç¸ç­\n        if (p.hash == hash &&\n            ((k = p.key) == key || (key != null && key.equals(k))))\n            // å°ç¬¬ä¸ä¸ªåç´ èµå¼ç»eï¼ç¨eæ¥è®°å½\n            e = p;\n        // hashå¼ä¸ç¸ç­ï¼å³keyä¸ç¸ç­ãå¹¶ä¸ä¸ºçº¢é»æ ç»ç¹\n        else if (p instanceof treenode)\n            //æ·»å åç´ å°æ ä¸­\n            e = ((treenode<k,v>)p).puttreeval(this, tab, hash, key, value);\n        //é¾è¡¨ç»ç¹\n        else {\n            //ä½¿ç¨å°¾ææ³æå¥æ°æ®å°é¾è¡¨\n            for (int bincount = 0; ; ++bincount) {\n                // å°è¾¾é¾è¡¨çå°¾é¨\n                if ((e = p.next) == null) {\n                    //å¨å°¾é¨æå¥æ°ç»ç¹\n                    p.next = newnode(hash, key, value, null);\n                    //å½é¾è¡¨é¿åº¦å¤§äº8ï¼treeify_threshold = 8ï¼æ¶ãè°ç¨treeifybinæ¹æ³å°è¯è½¬æçº¢é»æ .\n                    //å½æ°ç»é¿åº¦å¤§äºç­äº64æ¶å°±è½¬æ¢æçº¢é»æ ãå¦åå°ä¼æ©å®¹æ°ç»\n                    if (bincount >= treeify_threshold - 1) // -1 for 1st\n                        treeifybin(tab, hash);\n                    // è·³åºå¾ªç¯\n                    break;\n                }\n                // å¤æ­é¾è¡¨ä¸­ç»ç¹çkeyå¼ä¸æå¥çåç´ çkeyå¼æ¯å¦ç¸ç­\n                if (e.hash == hash &&\n                    ((k = e.key) == key || (key != null && key.equals(k))))\n                    // ç¸ç­ï¼è·³åºå¾ªç¯\n                    break;\n                // ç¨äºéåæ¡¶ä¸­çé¾è¡¨ï¼ä¸åé¢çe = p.nextç»åï¼å¯ä»¥éåé¾è¡¨\n                p = e;\n            }\n        }\n        // è¡¨ç¤ºå¨æ¡¶ä¸­æ¾å°keyå¼ãhashå¼ä¸æå¥åç´ ç¸ç­çç»ç¹\n        if (e != null) { // existing mapping for key\n            // è®°å½eçvalu\n            v oldvalue = e.value;\n            // onlyifabsentä¸ºfalseæèæ§å¼ä¸ºnull\n            if (!onlyifabsent || oldvalue == null)\n                //ç¨æ°å¼æ¿æ¢æ§å¼\n                e.value = value;\n            // è®¿é®ååè°\n            afternodeaccess(e);\n            // è¿åæ§å¼\n            return oldvalue;\n        }\n    }\n    ++modcount;\n    //åç´ ä¸ªæ°å¤§äºä¸´çå¼æ¶ï¼è¿è¡æ©å®¹ãåæ·»å åç´ åæ©å®¹ \n    if (++size > threshold)\n        resize();\n    // æå¥ååè°\n    afternodeinsertion(evict);\n    return null;\n}\n\n\n\n# get æ¹æ³\n\npublic v get(object key) {\n    node<k,v> e;\n    return (e = getnode(hash(key), key)) == null ? null : e.value;\n}\n\nfinal node<k,v> getnode(int hash, object key) {\n    node<k,v>[] tab; node<k,v> first, e; int n; k k;\n    if ((tab = table) != null && (n = tab.length) > 0 &&\n        (first = tab[(n - 1) & hash]) != null) {\n        // æ°ç»åç´ ç¸ç­\n        if (first.hash == hash && // always check first node\n            ((k = first.key) == key || (key != null && key.equals(k))))\n            return first;\n        // æ¡¶ä¸­ä¸æ­¢ä¸ä¸ªèç¹\n        if ((e = first.next) != null) {\n            // å¨æ ä¸­get\n            if (first instanceof treenode)\n                return ((treenode<k,v>)first).gettreenode(hash, key);\n            // å¨é¾è¡¨ä¸­get\n            do {\n                if (e.hash == hash &&\n                    ((k = e.key) == key || (key != null && key.equals(k))))\n                    return e;\n            } while ((e = e.next) != null);\n        }\n    }\n    return null;\n}\n\n\n\n\n# resize æ¹æ³\n\nè¿è¡æ©å®¹ï¼æ©å®¹ä¼äº§çæ§è½æ¶èï¼hashåéï¼éååhashè¡¨çææåç´ ï¼æ çæåï¼ï¼åºè¯¥å°½éé¿åresizeã\n\nfinal node<k,v>[] resize() {\n        node<k,v>[] oldtab = table;\n        int oldcap = (oldtab == null) ? 0 : oldtab.length;\n        int oldthr = threshold;\n        int newcap, newthr = 0;\n        if (oldcap > 0) {\n            //å®¹éè¶è¿æå¤§å¼å°±ä¸åæ©å\n            if (oldcap >= maximum_capacity) {\n                threshold = integer.max_value;\n                return oldtab;\n            }\n            //æ²¡è¶è¿æå¤§å¼ï¼å°±æ©åä¸ºç¨æ¥ç2å\n            else if ((newcap = oldcap << 1) < maximum_capacity &&\n                     oldcap >= default_initial_capacity)\n                newthr = oldthr << 1; // double threshold\n        }\n        else if (oldthr > 0) // initial capacity was placed in threshold\n            newcap = oldthr;\n        else {               // zero initial threshold signifies using defaults\n            newcap = default_initial_capacity;\n            newthr = (int)(default_load_factor * default_initial_capacity);\n        }\n    \t//è®¡ç®æ°çresizeä¸éï¼ä¸´çå¼ï¼\n        if (newthr == 0) {\n            float ft = (float)newcap * loadfactor;\n            newthr = (newcap < maximum_capacity && ft < (float)maximum_capacity ?\n                      (int)ft : integer.max_value);\n        }\n        threshold = newthr;\n        @suppresswarnings({"rawtypes","unchecked"})\n            node<k,v>[] newtab = (node<k,v>[])new node[newcap];\n        table = newtab;\n        if (oldtab != null) {\n            // ææ¯ä¸ªbucketé½ç§»å¨å°æ°çbucketsä¸­\n            for (int j = 0; j < oldcap; ++j) {\n                node<k,v> e;\n                if ((e = oldtab[j]) != null) {\n                    oldtab[j] = null;\n                    if (e.next == null)\n                        newtab[e.hash & (newcap - 1)] = e;\n                    else if (e instanceof treenode)\n                        ((treenode<k,v>)e).split(this, newtab, j, oldcap);\n                    else { // preserve order\n                        node<k,v> lohead = null, lotail = null;\n                        node<k,v> hihead = null, hitail = null;\n                        node<k,v> next;\n                        do {\n                            next = e.next;\n                            if ((e.hash & oldcap) == 0) {\n                                if (lotail == null)\n                                    lohead = e;\n                                else\n                                    lotail.next = e;\n                                lotail = e;\n                            }\n                            else {\n                                if (hitail == null)\n                                    hihead = e;\n                                else\n                                    hitail.next = e;\n                                hitail = e;\n                            }\n                        } while ((e = next) != null);\n                        if (lotail != null) {\n                            lotail.next = null;\n                            newtab[j] = lohead;\n                        }\n                        if (hitail != null) {\n                            hitail.next = null;\n                            newtab[j + oldcap] = hihead;\n                        }\n                    }\n                }\n            }\n        }\n        return newtab;\n    }\n',charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"å¹¶åç¼ç¨åºç¡",frontmatter:{title:"å¹¶åç¼ç¨åºç¡",date:"2023-10-23T23:54:39.000Z",permalink:"/pages/571a8d/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/03.Java/03.Java%20%E5%B9%B6%E5%8F%91/01.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80.html",relativePath:"01.Java ç¥è¯ä½ç³»/03.Java/03.Java å¹¶å/01.å¹¶åç¼ç¨åºç¡.md",key:"v-0322d41e",path:"/pages/571a8d/",headers:[{level:1,title:"å¹¶åç¼ç¨ä¸ä¸ªç¹æ§",slug:"å¹¶åç¼ç¨ä¸ä¸ªç¹æ§",normalizedTitle:"å¹¶åç¼ç¨ä¸ä¸ªç¹æ§",charIndex:2},{level:1,title:"è¿ç¨åçº¿ç¨",slug:"è¿ç¨åçº¿ç¨",normalizedTitle:"è¿ç¨åçº¿ç¨",charIndex:187},{level:1,title:"å¹¶åä¸å¹¶è¡",slug:"å¹¶åä¸å¹¶è¡",normalizedTitle:"å¹¶åä¸å¹¶è¡",charIndex:352},{level:1,title:"åæ­¥åå¼æ­¥",slug:"åæ­¥åå¼æ­¥",normalizedTitle:"åæ­¥åå¼æ­¥",charIndex:443},{level:1,title:"ç¨æ·çº¿ç¨åå®æ¤çº¿ç¨",slug:"ç¨æ·çº¿ç¨åå®æ¤çº¿ç¨",normalizedTitle:"ç¨æ·çº¿ç¨åå®æ¤çº¿ç¨",charIndex:527},{level:1,title:"çº¿ç¨çç¶æ",slug:"çº¿ç¨çç¶æ",normalizedTitle:"çº¿ç¨çç¶æ",charIndex:652}],headersStr:"å¹¶åç¼ç¨ä¸ä¸ªç¹æ§ è¿ç¨åçº¿ç¨ å¹¶åä¸å¹¶è¡ åæ­¥åå¼æ­¥ ç¨æ·çº¿ç¨åå®æ¤çº¿ç¨ çº¿ç¨çç¶æ",content:"# å¹¶åç¼ç¨ä¸ä¸ªç¹æ§\n\n * åå­æ§ï¼ä¸ä¸ªçæä½æèå¤æ¬¡æä½ï¼è¦ä¹ææçæä½å¨é¨é½å¾å°æ§è¡å¹¶ä¸ä¸ä¼æ¶å°ä»»ä½å ç´ çå¹²æ°èä¸­æ­ï¼è¦ä¹ææçæä½é½æ§è¡ï¼è¦ä¹é½ä¸æ§è¡ã\n * å¯è§æ§ï¼å½ä¸ä¸ªçº¿ç¨å¯¹å±äº«åéè¿è¡ä¿®æ¹ï¼å¶ä»çº¿ç¨å¯ä»¥ç«å³çå°ä¿®æ¹åçå¼ã\n * æåºæ§ï¼ä»£ç å¨æ§è¡çè¿ç¨ä¸­çååé¡ºåºï¼Java å¨ç¼è¯å¨ä»¥åè¿è¡æé´çä¼åï¼ä»£ç çæ§è¡é¡ºåºæªå¿å°±æ¯ç¼åä»£ç æ¶åçé¡ºåºã\n\n\n# è¿ç¨åçº¿ç¨\n\n * è¿ç¨ï¼æä½ç³»ç»å¨è¿è¡ä¸ä¸ªç¨åºæ¶ï¼å°±ä¼ä¸ºå¶åå»ºä¸ä¸ªè¿ç¨ãæ¯å¦ï¼å¯å¨ä¸ä¸ª Java ç¨åºï¼æä½ç³»ç»å°±ä¼åå»ºä¸ä¸ªJavaè¿ç¨ã\n * çº¿ç¨ï¼æä½ç³»ç»è°åº¦çæå°ååæ¯çº¿ç¨ï¼ä¹å«è½»éçº§è¿ç¨ï¼å¨ä¸ä¸ªè¿ç¨éå¯ä»¥åå»ºå¤ä¸ªçº¿ç¨ãè¿äºçº¿ç¨é½æèªå·±çç¨åºè®¡æ°å¨ãJavaèææºæ ãæ¬å°æ¹æ³æ ç­ï¼å¹¶ä¸è½å¤è®¿é®å±äº«çåå­åéã\n\n\n# å¹¶åä¸å¹¶è¡\n\n * å¹¶åï¼ä¸¤ä¸ªåä¸¤ä¸ªä»¥ä¸çä½ä¸å¨åä¸æ¶é´æ®µåæ§è¡ã\n * å¹¶è¡ï¼ä¸¤ä¸ªåä¸¤ä¸ªä»¥ä¸çä½ä¸å¨åä¸æ¶å»æ§è¡ã\n\nä¸¤èåºåçå³é®ç¹æ¯ï¼æ¯å¦æ¯åæ¶æ§è¡ï¼åæ¶æ§è¡æ¯å¹¶è¡ã\n\n\n# åæ­¥åå¼æ­¥\n\n * åæ­¥ï¼ååºä¸ä¸ªè°ç¨ä¹åï¼å¨æ²¡æå¾å°ç»æä¹åï¼è¯¥è°ç¨å°±ä¸å¯ä»¥è¿åï¼ä¸ç´ç­å¾ã\n * å¼æ­¥ï¼ååºä¸ä¸ªè°ç¨åï¼ä¸ç¨ç­å¾ç»æè¿åï¼è¯¥è°ç¨ç´æ¥è¿åã\n\n\n# ç¨æ·çº¿ç¨åå®æ¤çº¿ç¨\n\n * ç¨æ·çº¿ç¨ï¼å¹³æ¶ç¨å°çæ®éçº¿ç¨ã\n * å®æ¤çº¿ç¨ï¼Daemon çº¿ç¨ï¼ï¼è¿è¡å¨åå°ï¼æ¯ä¸ç§ç¹æ®ççº¿ç¨ï¼æ¯å¦åå¾åæ¶\n\nå½ä¸»çº¿ç¨ç»æåï¼ç¨æ·çº¿ç¨è¿å¨è¿è¡ï¼JVM å­æ´»ãå¦ææ²¡æç¨æ·çº¿ç¨ï¼é½æ¯å®æ¤çº¿ç¨ï¼JVM ç»æ ã\n\n\n# çº¿ç¨çç¶æ\n\nThread.Stateä¿å­äºææçº¿ç¨ç¶æã\n\n * NEWï¼åå§ç¶æï¼çº¿ç¨è¢«åå»ºåºæ¥ä½æ²¡æè¢«è°ç¨start()ã\n * RUNNABLEï¼è¿è¡ç¶æï¼çº¿ç¨è¢«è°ç¨äºstart()ç­å¾è¿è¡çç¶æã\n * BLOCKEDï¼é»å¡ç¶æï¼éè¦ç­å¾ééæ¾ã\n * WAITING ï¼ç­å¾ç¶æï¼è¡¨ç¤ºè¯¥çº¿ç¨éè¦ç­å¾å¶ä»çº¿ç¨ååºä¸äºç¹å®å¨ä½ï¼éç¥æä¸­æ­ï¼\n * TIMED_WAITINGï¼è¶æ¶ç­å¾ç¶æï¼å¯ä»¥å¨æå®çæ¶é´åèªè¡è¿åèä¸æ¯åWAITINGé£æ ·ä¸ç´ç­å¾ã\n * TERMINATEDï¼ç»æ­¢ç¶æï¼è¡¨ç¤ºè¯¥çº¿ç¨å·²ç»è¿è¡å®æ¯ã",normalizedContent:"# å¹¶åç¼ç¨ä¸ä¸ªç¹æ§\n\n * åå­æ§ï¼ä¸ä¸ªçæä½æèå¤æ¬¡æä½ï¼è¦ä¹ææçæä½å¨é¨é½å¾å°æ§è¡å¹¶ä¸ä¸ä¼æ¶å°ä»»ä½å ç´ çå¹²æ°èä¸­æ­ï¼è¦ä¹ææçæä½é½æ§è¡ï¼è¦ä¹é½ä¸æ§è¡ã\n * å¯è§æ§ï¼å½ä¸ä¸ªçº¿ç¨å¯¹å±äº«åéè¿è¡ä¿®æ¹ï¼å¶ä»çº¿ç¨å¯ä»¥ç«å³çå°ä¿®æ¹åçå¼ã\n * æåºæ§ï¼ä»£ç å¨æ§è¡çè¿ç¨ä¸­çååé¡ºåºï¼java å¨ç¼è¯å¨ä»¥åè¿è¡æé´çä¼åï¼ä»£ç çæ§è¡é¡ºåºæªå¿å°±æ¯ç¼åä»£ç æ¶åçé¡ºåºã\n\n\n# è¿ç¨åçº¿ç¨\n\n * è¿ç¨ï¼æä½ç³»ç»å¨è¿è¡ä¸ä¸ªç¨åºæ¶ï¼å°±ä¼ä¸ºå¶åå»ºä¸ä¸ªè¿ç¨ãæ¯å¦ï¼å¯å¨ä¸ä¸ª java ç¨åºï¼æä½ç³»ç»å°±ä¼åå»ºä¸ä¸ªjavaè¿ç¨ã\n * çº¿ç¨ï¼æä½ç³»ç»è°åº¦çæå°ååæ¯çº¿ç¨ï¼ä¹å«è½»éçº§è¿ç¨ï¼å¨ä¸ä¸ªè¿ç¨éå¯ä»¥åå»ºå¤ä¸ªçº¿ç¨ãè¿äºçº¿ç¨é½æèªå·±çç¨åºè®¡æ°å¨ãjavaèææºæ ãæ¬å°æ¹æ³æ ç­ï¼å¹¶ä¸è½å¤è®¿é®å±äº«çåå­åéã\n\n\n# å¹¶åä¸å¹¶è¡\n\n * å¹¶åï¼ä¸¤ä¸ªåä¸¤ä¸ªä»¥ä¸çä½ä¸å¨åä¸æ¶é´æ®µåæ§è¡ã\n * å¹¶è¡ï¼ä¸¤ä¸ªåä¸¤ä¸ªä»¥ä¸çä½ä¸å¨åä¸æ¶å»æ§è¡ã\n\nä¸¤èåºåçå³é®ç¹æ¯ï¼æ¯å¦æ¯åæ¶æ§è¡ï¼åæ¶æ§è¡æ¯å¹¶è¡ã\n\n\n# åæ­¥åå¼æ­¥\n\n * åæ­¥ï¼ååºä¸ä¸ªè°ç¨ä¹åï¼å¨æ²¡æå¾å°ç»æä¹åï¼è¯¥è°ç¨å°±ä¸å¯ä»¥è¿åï¼ä¸ç´ç­å¾ã\n * å¼æ­¥ï¼ååºä¸ä¸ªè°ç¨åï¼ä¸ç¨ç­å¾ç»æè¿åï¼è¯¥è°ç¨ç´æ¥è¿åã\n\n\n# ç¨æ·çº¿ç¨åå®æ¤çº¿ç¨\n\n * ç¨æ·çº¿ç¨ï¼å¹³æ¶ç¨å°çæ®éçº¿ç¨ã\n * å®æ¤çº¿ç¨ï¼daemon çº¿ç¨ï¼ï¼è¿è¡å¨åå°ï¼æ¯ä¸ç§ç¹æ®ççº¿ç¨ï¼æ¯å¦åå¾åæ¶\n\nå½ä¸»çº¿ç¨ç»æåï¼ç¨æ·çº¿ç¨è¿å¨è¿è¡ï¼jvm å­æ´»ãå¦ææ²¡æç¨æ·çº¿ç¨ï¼é½æ¯å®æ¤çº¿ç¨ï¼jvm ç»æ ã\n\n\n# çº¿ç¨çç¶æ\n\nthread.stateä¿å­äºææçº¿ç¨ç¶æã\n\n * newï¼åå§ç¶æï¼çº¿ç¨è¢«åå»ºåºæ¥ä½æ²¡æè¢«è°ç¨start()ã\n * runnableï¼è¿è¡ç¶æï¼çº¿ç¨è¢«è°ç¨äºstart()ç­å¾è¿è¡çç¶æã\n * blockedï¼é»å¡ç¶æï¼éè¦ç­å¾ééæ¾ã\n * waiting ï¼ç­å¾ç¶æï¼è¡¨ç¤ºè¯¥çº¿ç¨éè¦ç­å¾å¶ä»çº¿ç¨ååºä¸äºç¹å®å¨ä½ï¼éç¥æä¸­æ­ï¼\n * timed_waitingï¼è¶æ¶ç­å¾ç¶æï¼å¯ä»¥å¨æå®çæ¶é´åèªè¡è¿åèä¸æ¯åwaitingé£æ ·ä¸ç´ç­å¾ã\n * terminatedï¼ç»æ­¢ç¶æï¼è¡¨ç¤ºè¯¥çº¿ç¨å·²ç»è¿è¡å®æ¯ã",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"Java çº¿ç¨æ± è¯¦è§£",frontmatter:{title:"Java çº¿ç¨æ± è¯¦è§£",date:"2023-10-23T23:54:39.000Z",permalink:"/pages/adbda5/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/03.Java/03.Java%20%E5%B9%B6%E5%8F%91/02.Java%20%E7%BA%BF%E7%A8%8B%E6%B1%A0%E8%AF%A6%E8%A7%A3.html",relativePath:"01.Java ç¥è¯ä½ç³»/03.Java/03.Java å¹¶å/02.Java çº¿ç¨æ± è¯¦è§£.md",key:"v-65476117",path:"/pages/adbda5/",headers:[{level:1,title:"çº¿ç¨æ± ä»ç»",slug:"çº¿ç¨æ± ä»ç»",normalizedTitle:"çº¿ç¨æ± ä»ç»",charIndex:2},{level:1,title:"çº¿ç¨æ± åå»ºçä¸¤ç§æ¹å¼",slug:"çº¿ç¨æ± åå»ºçä¸¤ç§æ¹å¼",normalizedTitle:"çº¿ç¨æ± åå»ºçä¸¤ç§æ¹å¼",charIndex:301},{level:1,title:"ThreadPoolExecutor ç±»ä»ç»",slug:"threadpoolexecutor-ç±»ä»ç»",normalizedTitle:"threadpoolexecutor ç±»ä»ç»",charIndex:878},{level:2,title:"æé æ¹æ³",slug:"æé æ¹æ³",normalizedTitle:"æé æ¹æ³",charIndex:952},{level:1,title:"çº¿ç¨æ± æä½³å®è·µ",slug:"çº¿ç¨æ± æä½³å®è·µ",normalizedTitle:"çº¿ç¨æ± æä½³å®è·µ",charIndex:3020},{level:1,title:"Reference",slug:"reference",normalizedTitle:"reference",charIndex:3087}],headersStr:"çº¿ç¨æ± ä»ç» çº¿ç¨æ± åå»ºçä¸¤ç§æ¹å¼ ThreadPoolExecutor ç±»ä»ç» æé æ¹æ³ çº¿ç¨æ± æä½³å®è·µ Reference",content:"# çº¿ç¨æ± ä»ç»\n\nçº¿ç¨æ± å°±æ¯ç®¡çä¸ç³»åçº¿ç¨çèµæºæ± ï¼å¶æä¾äºä¸ç§éå¶åç®¡ççº¿ç¨èµæºçæ¹å¼ãæ¯ä¸ªçº¿ç¨æ± è¿ç»´æ¤ä¸äºåºæ¬ç»è®¡ä¿¡æ¯ï¼ä¾å¦å·²å®æä»»å¡çæ°éã\n\nçº¿ç¨æ± çå¥½å¤ï¼\n\n * éä½èµæºæ¶èãéè¿éå¤å©ç¨å·²åå»ºççº¿ç¨éä½çº¿ç¨åå»ºåéæ¯é æçæ¶èã\n * æé«ååºéåº¦ãå½ä»»å¡å°è¾¾æ¶ï¼ä»»å¡å¯ä»¥ä¸éè¦ç­å°çº¿ç¨åå»ºå°±è½ç«å³æ§è¡ã\n * æé«çº¿ç¨çå¯ç®¡çæ§ãçº¿ç¨æ¯ç¨ç¼ºèµæºï¼å¦ææ éå¶çåå»ºï¼ä¸ä»ä¼æ¶èç³»ç»èµæºï¼è¿ä¼éä½ç³»ç»çç¨³å®æ§ï¼ä½¿ç¨çº¿ç¨æ± å¯ä»¥è¿è¡ç»ä¸çåéï¼è°ä¼åçæ§ã\n\nçº¿ç¨æ± ä¸è¬ç¨äºæ§è¡å¤ä¸ªä¸ç¸å³èçèæ¶ä»»å¡ï¼æ²¡æå¤çº¿ç¨çæåµä¸ï¼ä»»å¡é¡ºåºæ§è¡ï¼ä½¿ç¨äºçº¿ç¨æ± çè¯å¯è®©å¤ä¸ªä¸ç¸å³èçä»»å¡åæ¶æ§è¡ã\n\n\n# çº¿ç¨æ± åå»ºçä¸¤ç§æ¹å¼\n\næ¹å¼ä¸ï¼éè¿ThreadPoolExecutoræé å½æ°æ¥åå»ºï¼æ¨èï¼ã\n\n\n\næ¹å¼äºï¼éè¿ Executor æ¡æ¶çå·¥å·ç±» Executors æ¥åå»ºã\n\næä»¬å¯ä»¥åå»ºå¤ç§ç±»åç ThreadPoolExecutorï¼\n\n * FixedThreadPoolï¼è¯¥æ¹æ³è¿åä¸ä¸ªåºå®çº¿ç¨æ°éççº¿ç¨æ± ãè¯¥çº¿ç¨æ± ä¸­ççº¿ç¨æ°éå§ç»ä¸åãå½æä¸ä¸ªæ°çä»»å¡æäº¤æ¶ï¼çº¿ç¨æ± ä¸­è¥æç©ºé²çº¿ç¨ï¼åç«å³æ§è¡ãè¥æ²¡æï¼åæ°çä»»å¡ä¼è¢«æå­å¨ä¸ä¸ªä»»å¡éåä¸­ï¼å¾æçº¿ç¨ç©ºé²æ¶ï¼ä¾¿å¤çå¨ä»»å¡éåä¸­çä»»å¡ã\n * SingleThreadExecutorï¼ è¯¥æ¹æ³è¿åä¸ä¸ªåªæä¸ä¸ªçº¿ç¨ççº¿ç¨æ± ãè¥å¤ä½ä¸ä¸ªä»»å¡è¢«æäº¤å°è¯¥çº¿ç¨æ± ï¼ä»»å¡ä¼è¢«ä¿å­å¨ä¸ä¸ªä»»å¡éåä¸­ï¼å¾çº¿ç¨ç©ºé²ï¼æåå¥ååºçé¡ºåºæ§è¡éåä¸­çä»»å¡ã\n * CachedThreadPoolï¼ è¯¥æ¹æ³è¿åä¸ä¸ªå¯æ ¹æ®å®éæåµè°æ´çº¿ç¨æ°éççº¿ç¨æ± ãçº¿ç¨æ± ççº¿ç¨æ°éä¸ç¡®å®ï¼ä½è¥æç©ºé²çº¿ç¨å¯ä»¥å¤ç¨ï¼åä¼ä¼åä½¿ç¨å¯å¤ç¨ççº¿ç¨ãè¥ææçº¿ç¨åå¨å·¥ä½ï¼åææ°çä»»å¡æäº¤ï¼åä¼åå»ºæ°ççº¿ç¨å¤çä»»å¡ãææçº¿ç¨å¨å½åä»»å¡æ§è¡å®æ¯åï¼å°è¿åçº¿ç¨æ± è¿è¡å¤ç¨ã\n * ScheduledThreadPoolï¼è¯¥è¿åä¸ä¸ªç¨æ¥å¨ç»å®çå»¶è¿åè¿è¡ä»»å¡æèå®ææ§è¡ä»»å¡ççº¿ç¨æ± ã\n\nå¯¹åº Executors å·¥å·ç±»ä¸­çæ¹æ³å¦å¾æç¤ºï¼\n\n\n\n\n# ThreadPoolExecutor ç±»ä»ç»\n\nçº¿ç¨æ± å®ç°ç±» ThreadPoolExecutor æ¯ Executor æ¡æ¶ææ ¸å¿çç±»ã\n\n\n# æé æ¹æ³\n\nThreadPoolExecutor ç±»ä¸­æä¾çåä¸ªæé æ¹æ³ãæä»¬æ¥çæé¿çé£ä¸ªï¼å¶ä½ä¸ä¸ªé½æ¯å¨è¿ä¸ªæé æ¹æ³çåºç¡ä¸äº§ç\n\n/**\n * ç¨ç»å®çåå§åæ°åå»ºä¸ä¸ªæ°çThreadPoolExecutorã\n */\npublic ThreadPoolExecutor(int corePoolSize,//çº¿ç¨æ± çæ ¸å¿çº¿ç¨æ°é\n                          int maximumPoolSize,//çº¿ç¨æ± çæå¤§çº¿ç¨æ°\n                          long keepAliveTime,//å½çº¿ç¨æ°å¤§äºæ ¸å¿çº¿ç¨æ°æ¶ï¼å¤ä½çç©ºé²çº¿ç¨å­æ´»çæé¿æ¶é´\n                          TimeUnit unit,//æ¶é´åä½\n                          BlockingQueue<Runnable> workQueue,//ä»»å¡éåï¼ç¨æ¥å¨å­ç­å¾æ§è¡ä»»å¡çéå\n                          ThreadFactory threadFactory,//çº¿ç¨å·¥åï¼ç¨æ¥åå»ºçº¿ç¨ï¼ä¸è¬é»è®¤å³å¯\n                          RejectedExecutionHandler handler//æç»ç­ç¥ï¼å½æäº¤çä»»å¡è¿å¤èä¸è½åæ¶å¤çæ¶ï¼æä»¬å¯ä»¥å®å¶ç­ç¥æ¥å¤çä»»å¡\n                           ) {\n    if (corePoolSize < 0 ||\n        maximumPoolSize <= 0 ||\n        maximumPoolSize < corePoolSize ||\n        keepAliveTime < 0)\n        throw new IllegalArgumentException();\n    if (workQueue == null || threadFactory == null || handler == null)\n        throw new NullPointerException();\n    this.corePoolSize = corePoolSize;\n    this.maximumPoolSize = maximumPoolSize;\n    this.workQueue = workQueue;\n    this.keepAliveTime = unit.toNanos(keepAliveTime);\n    this.threadFactory = threadFactory;\n    this.handler = handler;\n}\n\n\nThreadPoolExecutor 3 ä¸ªæéè¦çåæ°ï¼\n\n * corePoolSize : ä»»å¡éåæªè¾¾å°éåå®¹éæ¶ï¼æå¤§å¯ä»¥åæ¶è¿è¡ççº¿ç¨æ°éã\n * maximumPoolSize : ä»»å¡éåä¸­å­æ¾çä»»å¡è¾¾å°éåå®¹éçæ¶åï¼å½åå¯ä»¥åæ¶è¿è¡ççº¿ç¨æ°éåä¸ºæå¤§çº¿ç¨æ°ã\n * workQueue: æ°ä»»å¡æ¥çæ¶åä¼åå¤æ­å½åè¿è¡ççº¿ç¨æ°éæ¯å¦è¾¾å°æ ¸å¿çº¿ç¨æ°ï¼å¦æè¾¾å°çè¯ï¼æ°ä»»å¡å°±ä¼è¢«å­æ¾å¨éåä¸­ã\n\nThreadPoolExecutorå¶ä»å¸¸è§åæ° :\n\n * keepAliveTime:çº¿ç¨æ± ä¸­ççº¿ç¨æ°éå¤§äº corePoolSize çæ¶åï¼å¦æè¿æ¶æ²¡ææ°çä»»å¡æäº¤ï¼æ ¸å¿çº¿ç¨å¤ççº¿ç¨ä¸ä¼ç«å³éæ¯ï¼èæ¯ä¼ç­å¾ï¼ç´å°ç­å¾çæ¶é´è¶è¿äº keepAliveTimeæä¼è¢«åæ¶éæ¯ã\n * unit : keepAliveTime åæ°çæ¶é´åä½ã\n * threadFactory :executor åå»ºæ°çº¿ç¨çæ¶åä¼ç¨å°ã\n * handler :é¥±åç­ç¥ã\n\n\n\nThreadPoolExecutor é¥±åç­ç¥å®ä¹:\n\nå¦æå½ååæ¶è¿è¡ççº¿ç¨æ°éè¾¾å°æå¤§çº¿ç¨æ°éå¹¶ä¸éåä¹å·²ç»è¢«æ¾æ»¡äºä»»å¡æ¶ï¼ThreadPoolTaskExecutor å®ä¹ä¸äºç­ç¥:\n\n * ThreadPoolExecutor.AbortPolicyï¼æåº RejectedExecutionExceptionæ¥æç»æ°ä»»å¡çå¤çã\n * ThreadPoolExecutor.CallerRunsPolicyï¼è°ç¨æ§è¡èªå·±ççº¿ç¨è¿è¡ä»»å¡ï¼ä¹å°±æ¯ç´æ¥å¨è°ç¨executeæ¹æ³ççº¿ç¨ä¸­è¿è¡(run)è¢«æç»çä»»å¡ï¼å¦ææ§è¡ç¨åºå·²å³é­ï¼åä¼ä¸¢å¼è¯¥ä»»å¡ãå æ­¤è¿ç§ç­ç¥ä¼éä½å¯¹äºæ°ä»»å¡æäº¤éåº¦ï¼å½±åç¨åºçæ´ä½æ§è½ãå¦ææ¨çåºç¨ç¨åºå¯ä»¥æ¿åæ­¤å»¶è¿å¹¶ä¸ä½ è¦æ±ä»»ä½ä¸ä¸ªä»»å¡è¯·æ±é½è¦è¢«æ§è¡çè¯ï¼ä½ å¯ä»¥éæ©è¿ä¸ªç­ç¥ã\n * ThreadPoolExecutor.DiscardPolicyï¼ä¸å¤çæ°ä»»å¡ï¼ç´æ¥ä¸¢å¼æã\n * ThreadPoolExecutor.DiscardOldestPolicyï¼æ­¤ç­ç¥å°ä¸¢å¼ææ©çæªå¤ççä»»å¡è¯·æ±ã\n\n\n# çº¿ç¨æ± æä½³å®è·µ\n\nJava çº¿ç¨æ± æä½³å®è·µè¿ç¯æç« æ»ç»äºä¸äºä½¿ç¨çº¿ç¨æ± çæ¶ååºè¯¥æ³¨æçä¸è¥¿ï¼å®éé¡¹ç®ä½¿ç¨çº¿ç¨æ± ä¹åå¯ä»¥ççã\n\n\n# Reference\n\n * https://javaguide.cn/java/concurrent/java-thread-pool-summary.html",normalizedContent:"# çº¿ç¨æ± ä»ç»\n\nçº¿ç¨æ± å°±æ¯ç®¡çä¸ç³»åçº¿ç¨çèµæºæ± ï¼å¶æä¾äºä¸ç§éå¶åç®¡ççº¿ç¨èµæºçæ¹å¼ãæ¯ä¸ªçº¿ç¨æ± è¿ç»´æ¤ä¸äºåºæ¬ç»è®¡ä¿¡æ¯ï¼ä¾å¦å·²å®æä»»å¡çæ°éã\n\nçº¿ç¨æ± çå¥½å¤ï¼\n\n * éä½èµæºæ¶èãéè¿éå¤å©ç¨å·²åå»ºççº¿ç¨éä½çº¿ç¨åå»ºåéæ¯é æçæ¶èã\n * æé«ååºéåº¦ãå½ä»»å¡å°è¾¾æ¶ï¼ä»»å¡å¯ä»¥ä¸éè¦ç­å°çº¿ç¨åå»ºå°±è½ç«å³æ§è¡ã\n * æé«çº¿ç¨çå¯ç®¡çæ§ãçº¿ç¨æ¯ç¨ç¼ºèµæºï¼å¦ææ éå¶çåå»ºï¼ä¸ä»ä¼æ¶èç³»ç»èµæºï¼è¿ä¼éä½ç³»ç»çç¨³å®æ§ï¼ä½¿ç¨çº¿ç¨æ± å¯ä»¥è¿è¡ç»ä¸çåéï¼è°ä¼åçæ§ã\n\nçº¿ç¨æ± ä¸è¬ç¨äºæ§è¡å¤ä¸ªä¸ç¸å³èçèæ¶ä»»å¡ï¼æ²¡æå¤çº¿ç¨çæåµä¸ï¼ä»»å¡é¡ºåºæ§è¡ï¼ä½¿ç¨äºçº¿ç¨æ± çè¯å¯è®©å¤ä¸ªä¸ç¸å³èçä»»å¡åæ¶æ§è¡ã\n\n\n# çº¿ç¨æ± åå»ºçä¸¤ç§æ¹å¼\n\næ¹å¼ä¸ï¼éè¿threadpoolexecutoræé å½æ°æ¥åå»ºï¼æ¨èï¼ã\n\n\n\næ¹å¼äºï¼éè¿ executor æ¡æ¶çå·¥å·ç±» executors æ¥åå»ºã\n\næä»¬å¯ä»¥åå»ºå¤ç§ç±»åç threadpoolexecutorï¼\n\n * fixedthreadpoolï¼è¯¥æ¹æ³è¿åä¸ä¸ªåºå®çº¿ç¨æ°éççº¿ç¨æ± ãè¯¥çº¿ç¨æ± ä¸­ççº¿ç¨æ°éå§ç»ä¸åãå½æä¸ä¸ªæ°çä»»å¡æäº¤æ¶ï¼çº¿ç¨æ± ä¸­è¥æç©ºé²çº¿ç¨ï¼åç«å³æ§è¡ãè¥æ²¡æï¼åæ°çä»»å¡ä¼è¢«æå­å¨ä¸ä¸ªä»»å¡éåä¸­ï¼å¾æçº¿ç¨ç©ºé²æ¶ï¼ä¾¿å¤çå¨ä»»å¡éåä¸­çä»»å¡ã\n * singlethreadexecutorï¼ è¯¥æ¹æ³è¿åä¸ä¸ªåªæä¸ä¸ªçº¿ç¨ççº¿ç¨æ± ãè¥å¤ä½ä¸ä¸ªä»»å¡è¢«æäº¤å°è¯¥çº¿ç¨æ± ï¼ä»»å¡ä¼è¢«ä¿å­å¨ä¸ä¸ªä»»å¡éåä¸­ï¼å¾çº¿ç¨ç©ºé²ï¼æåå¥ååºçé¡ºåºæ§è¡éåä¸­çä»»å¡ã\n * cachedthreadpoolï¼ è¯¥æ¹æ³è¿åä¸ä¸ªå¯æ ¹æ®å®éæåµè°æ´çº¿ç¨æ°éççº¿ç¨æ± ãçº¿ç¨æ± ççº¿ç¨æ°éä¸ç¡®å®ï¼ä½è¥æç©ºé²çº¿ç¨å¯ä»¥å¤ç¨ï¼åä¼ä¼åä½¿ç¨å¯å¤ç¨ççº¿ç¨ãè¥ææçº¿ç¨åå¨å·¥ä½ï¼åææ°çä»»å¡æäº¤ï¼åä¼åå»ºæ°ççº¿ç¨å¤çä»»å¡ãææçº¿ç¨å¨å½åä»»å¡æ§è¡å®æ¯åï¼å°è¿åçº¿ç¨æ± è¿è¡å¤ç¨ã\n * scheduledthreadpoolï¼è¯¥è¿åä¸ä¸ªç¨æ¥å¨ç»å®çå»¶è¿åè¿è¡ä»»å¡æèå®ææ§è¡ä»»å¡ççº¿ç¨æ± ã\n\nå¯¹åº executors å·¥å·ç±»ä¸­çæ¹æ³å¦å¾æç¤ºï¼\n\n\n\n\n# threadpoolexecutor ç±»ä»ç»\n\nçº¿ç¨æ± å®ç°ç±» threadpoolexecutor æ¯ executor æ¡æ¶ææ ¸å¿çç±»ã\n\n\n# æé æ¹æ³\n\nthreadpoolexecutor ç±»ä¸­æä¾çåä¸ªæé æ¹æ³ãæä»¬æ¥çæé¿çé£ä¸ªï¼å¶ä½ä¸ä¸ªé½æ¯å¨è¿ä¸ªæé æ¹æ³çåºç¡ä¸äº§ç\n\n/**\n * ç¨ç»å®çåå§åæ°åå»ºä¸ä¸ªæ°çthreadpoolexecutorã\n */\npublic threadpoolexecutor(int corepoolsize,//çº¿ç¨æ± çæ ¸å¿çº¿ç¨æ°é\n                          int maximumpoolsize,//çº¿ç¨æ± çæå¤§çº¿ç¨æ°\n                          long keepalivetime,//å½çº¿ç¨æ°å¤§äºæ ¸å¿çº¿ç¨æ°æ¶ï¼å¤ä½çç©ºé²çº¿ç¨å­æ´»çæé¿æ¶é´\n                          timeunit unit,//æ¶é´åä½\n                          blockingqueue<runnable> workqueue,//ä»»å¡éåï¼ç¨æ¥å¨å­ç­å¾æ§è¡ä»»å¡çéå\n                          threadfactory threadfactory,//çº¿ç¨å·¥åï¼ç¨æ¥åå»ºçº¿ç¨ï¼ä¸è¬é»è®¤å³å¯\n                          rejectedexecutionhandler handler//æç»ç­ç¥ï¼å½æäº¤çä»»å¡è¿å¤èä¸è½åæ¶å¤çæ¶ï¼æä»¬å¯ä»¥å®å¶ç­ç¥æ¥å¤çä»»å¡\n                           ) {\n    if (corepoolsize < 0 ||\n        maximumpoolsize <= 0 ||\n        maximumpoolsize < corepoolsize ||\n        keepalivetime < 0)\n        throw new illegalargumentexception();\n    if (workqueue == null || threadfactory == null || handler == null)\n        throw new nullpointerexception();\n    this.corepoolsize = corepoolsize;\n    this.maximumpoolsize = maximumpoolsize;\n    this.workqueue = workqueue;\n    this.keepalivetime = unit.tonanos(keepalivetime);\n    this.threadfactory = threadfactory;\n    this.handler = handler;\n}\n\n\nthreadpoolexecutor 3 ä¸ªæéè¦çåæ°ï¼\n\n * corepoolsize : ä»»å¡éåæªè¾¾å°éåå®¹éæ¶ï¼æå¤§å¯ä»¥åæ¶è¿è¡ççº¿ç¨æ°éã\n * maximumpoolsize : ä»»å¡éåä¸­å­æ¾çä»»å¡è¾¾å°éåå®¹éçæ¶åï¼å½åå¯ä»¥åæ¶è¿è¡ççº¿ç¨æ°éåä¸ºæå¤§çº¿ç¨æ°ã\n * workqueue: æ°ä»»å¡æ¥çæ¶åä¼åå¤æ­å½åè¿è¡ççº¿ç¨æ°éæ¯å¦è¾¾å°æ ¸å¿çº¿ç¨æ°ï¼å¦æè¾¾å°çè¯ï¼æ°ä»»å¡å°±ä¼è¢«å­æ¾å¨éåä¸­ã\n\nthreadpoolexecutorå¶ä»å¸¸è§åæ° :\n\n * keepalivetime:çº¿ç¨æ± ä¸­ççº¿ç¨æ°éå¤§äº corepoolsize çæ¶åï¼å¦æè¿æ¶æ²¡ææ°çä»»å¡æäº¤ï¼æ ¸å¿çº¿ç¨å¤ççº¿ç¨ä¸ä¼ç«å³éæ¯ï¼èæ¯ä¼ç­å¾ï¼ç´å°ç­å¾çæ¶é´è¶è¿äº keepalivetimeæä¼è¢«åæ¶éæ¯ã\n * unit : keepalivetime åæ°çæ¶é´åä½ã\n * threadfactory :executor åå»ºæ°çº¿ç¨çæ¶åä¼ç¨å°ã\n * handler :é¥±åç­ç¥ã\n\n\n\nthreadpoolexecutor é¥±åç­ç¥å®ä¹:\n\nå¦æå½ååæ¶è¿è¡ççº¿ç¨æ°éè¾¾å°æå¤§çº¿ç¨æ°éå¹¶ä¸éåä¹å·²ç»è¢«æ¾æ»¡äºä»»å¡æ¶ï¼threadpooltaskexecutor å®ä¹ä¸äºç­ç¥:\n\n * threadpoolexecutor.abortpolicyï¼æåº rejectedexecutionexceptionæ¥æç»æ°ä»»å¡çå¤çã\n * threadpoolexecutor.callerrunspolicyï¼è°ç¨æ§è¡èªå·±ççº¿ç¨è¿è¡ä»»å¡ï¼ä¹å°±æ¯ç´æ¥å¨è°ç¨executeæ¹æ³ççº¿ç¨ä¸­è¿è¡(run)è¢«æç»çä»»å¡ï¼å¦ææ§è¡ç¨åºå·²å³é­ï¼åä¼ä¸¢å¼è¯¥ä»»å¡ãå æ­¤è¿ç§ç­ç¥ä¼éä½å¯¹äºæ°ä»»å¡æäº¤éåº¦ï¼å½±åç¨åºçæ´ä½æ§è½ãå¦ææ¨çåºç¨ç¨åºå¯ä»¥æ¿åæ­¤å»¶è¿å¹¶ä¸ä½ è¦æ±ä»»ä½ä¸ä¸ªä»»å¡è¯·æ±é½è¦è¢«æ§è¡çè¯ï¼ä½ å¯ä»¥éæ©è¿ä¸ªç­ç¥ã\n * threadpoolexecutor.discardpolicyï¼ä¸å¤çæ°ä»»å¡ï¼ç´æ¥ä¸¢å¼æã\n * threadpoolexecutor.discardoldestpolicyï¼æ­¤ç­ç¥å°ä¸¢å¼ææ©çæªå¤ççä»»å¡è¯·æ±ã\n\n\n# çº¿ç¨æ± æä½³å®è·µ\n\njava çº¿ç¨æ± æä½³å®è·µè¿ç¯æç« æ»ç»äºä¸äºä½¿ç¨çº¿ç¨æ± çæ¶ååºè¯¥æ³¨æçä¸è¥¿ï¼å®éé¡¹ç®ä½¿ç¨çº¿ç¨æ± ä¹åå¯ä»¥ççã\n\n\n# reference\n\n * https://javaguide.cn/java/concurrent/java-thread-pool-summary.html",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"Java é",frontmatter:{title:"Java é",date:"2023-11-02T14:59:10.000Z",permalink:"/pages/737a52/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/03.Java/03.Java%20%E5%B9%B6%E5%8F%91/04.Java%20%E9%94%81.html",relativePath:"01.Java ç¥è¯ä½ç³»/03.Java/03.Java å¹¶å/04.Java é.md",key:"v-5ea26f44",path:"/pages/737a52/",headers:[{level:1,title:"synchronized å³é®å­",slug:"synchronized-å³é®å­",normalizedTitle:"synchronized å³é®å­",charIndex:275},{level:2,title:"synchronized éåçº§",slug:"synchronized-éåçº§",normalizedTitle:"synchronized éåçº§",charIndex:296},{level:3,title:"æ é",slug:"æ é",normalizedTitle:"æ é",charIndex:535},{level:3,title:"ååé",slug:"ååé",normalizedTitle:"ååé",charIndex:403},{level:4,title:"ååéæ¤é",slug:"ååéæ¤é",normalizedTitle:"ååéæ¤é",charIndex:816},{level:3,title:"è½»éçº§é",slug:"è½»éçº§é",normalizedTitle:"è½»éçº§é",charIndex:407},{level:3,title:"ééçº§é",slug:"ééçº§é",normalizedTitle:"ééçº§é",charIndex:366},{level:3,title:"æ»ç»",slug:"æ»ç»",normalizedTitle:"æ»ç»",charIndex:1346},{level:1,title:"todo",slug:"todo",normalizedTitle:"todo",charIndex:1355}],headersStr:"synchronized å³é®å­ synchronized éåçº§ æ é ååé ååéæ¤é è½»éçº§é ééçº§é æ»ç» todo",content:"Java ä¸­æåªäºé?\n\nJava çéå¯ä»¥åä¸ºï¼\n\n * æ²è§é/ä¹è§éï¼çº¿ç¨æ¯å¦éè¦éå®åæ­¥èµæºï¼éä½æ¯æ²è§éï¼ä¸éä½æ¯ä¹è§é\n * å±äº«é/ç¬å éï¼å¤çº¿ç¨æåµä¸ï¼æ¯å¦å¯ä»¥å±äº«åä¸æéï¼å¯ä»¥æ¯å±äº«éï¼ä¸å¯ä»¥æ¯ç¬å é\n * å¬å¹³é/éå¬å¹³éï¼å¤çº¿ç¨æåµä¸ï¼æ¯å¦éè¦æéï¼æéæ¯å¬å¹³éï¼å°è¯æéï¼æéå¤±è´¥ååæéæ¯éå¬å¹³é\n * å¯ä¸­æ­é/éå¯ä¸­æ­éï¼æ¯å¦å¯ä»¥ä¸­æ­\n * å¯éå¥é/ä¸å¯éå¥éï¼åä¸ä¸ªçº¿ç¨æ¯å¦å¯ä»¥éå¤è·ååä¸æéï¼å¯ä»¥æ¯å¯ä»¥éå¥éï¼ä¸å¯ä»¥æ¯ä¸å¯ä»¥éå¥éã\n * éèªæé/èªæéï¼ç­å¾éçè¿ç¨ï¼é»å¡æ¯éèªæéï¼èªææ¯èªæéã\n\n\n# synchronized å³é®å­\n\n\n# synchronized éåçº§\n\nä¸ºä»ä¹è¦å¯¹ synchronized è¿è¡éåçº§ï¼\n\nJDK1.6 ä¹å synchronized å±äºééçº§éã\n\nJDK1.6 ä¹åï¼ä¸ºäºåå°è·åéåéæ¾éçæ§è½æ¶èï¼å¼å¥äºååéåè½»éçº§éã\n\nsynchronized éåçº§è¿ç¨ï¼\n\n\n\nsynchronized éçåçï¼synchronized ç¨çéæ¯å­å¨ Java å¯¹è±¡å¤´éç Mark Word ä¸­ï¼éåçº§åè½ä¸»è¦ä¾èµ MarkWord ä¸­ååéä½åéæ å¿ä½ã\n\n\n\n\n# æ é\n\næªå éå¯¹è±¡ç Mark Word ä¸­ååéä½+éæ å¿ä½ä¸º001ã\n\n\n# ååé\n\nååéï¼å½éä¸ç´è¢«åä¸ä¸ªçº¿ç¨è·åå°æ¶ï¼è¿ä¸ªçº¿ç¨ä¼ä¸ç´æ¥æè¿æéï¼ç´å°åçéç«äºã\n\nååéå¯¹è±¡ç Mark Word ä¸­ååéä½+éæ å¿ä½ä¸º101ï¼å¹¶ä¸ä¼è®°å½æ¥æéççº¿ç¨å¯¹åºçæéï¼éè¿ CAS æ¹å¼æ´æ°çº¿ç¨IDï¼ãå½çº¿ç¨å°è¯è·åååéæ¶ï¼ä¼å¤æ­å½åçº¿ç¨IDåå¯¹è±¡å¤´å­å¨ççº¿ç¨IDæ¯å¦ä¸è´ï¼ä¸è´çè¯å°±æ ééæ°è·åéã\n\nææååéççº¿ç¨ä¸ä¼ä¸»å¨éæ¾ååéã\n\nJVM é»è®¤å¼å¯ååéï¼å¯ä»¥ä½¿ç¨ JVM åæ° -XX:-UseBiasedLockingå³é­ååéã\n\n# ååéæ¤é\n\nå½åºç°éç«äºæ¶ï¼ææååéççº¿ç¨æä¼æ¤éååéã\n\næ¤éååééè¦ç­å¾å¨å±å®å¨ç¹ï¼è¯¥æ¶é´ç¹æ²¡æå­èç å¨æ§è¡ï¼ï¼åæ¶æ£æ¥ææååéççº¿ç¨æ¯å¦è¿å¨æ§è¡ï¼\n\n * å¦æææååéççº¿ç¨è¿å¨æ§è¡ï¼è¿æ¶ä¼åæ¶ååéåçº§ä¸ºè½»éçº§éãè½»éçº§éç±åææååéççº¿ç¨ææï¼ç»§ç»­æ§è¡å¶åæ­¥ä»£ç ï¼èæ­£å¨ç«äºççº¿ç¨ä¼è¿å¥èªæç­å¾è·å¾è¯¥è½»éçº§éã\n * å¦æææååéççº¿ç¨æ§è¡å®æï¼ææååéççº¿ç¨ä¼å°å¯¹è±¡å¤´è®¾ç½®ææ éç¶ææ¤éååéï¼ç«äºçº¿ç¨éè¿CASæ´æ°å¯¹è±¡å¤´ï¼è·åååéã\n\n\n\n\n# è½»éçº§é\n\nè½»éçº§éå¯¹è±¡ç Mark Word ä¸­ååéä½+éæ å¿ä½ä¸º000ã\n\nè½»éçº§éæ¯ä¸ºäºçº¿ç¨è¿ä¹äº¤æ¿æ§è¡åæ­¥åæ¶æé«æ§è½ã\n\nåææååéççº¿ç¨è·åè½»éçº§éï¼ç«äºçº¿ç¨ CAS èªæç­å¾è·åéã\n\nè½»éçº§éè§å®äºèªæçæ¬¡æ°ï¼èªæå°ä¸å®æ¬¡æ°ä¾ç¶æ²¡ææåï¼ä¼åçº§å°ééçº§éã\n\nä¸ºä»ä¹è¦è§å®èªææ¬¡æ°ï¼\n\nå ä¸ºçº¿ç¨èªæä¼æ¶èCPUï¼ä¸éå¶æ¬¡æ°çè¯ï¼å¯¹CPUæ§è½æ¶èè¿å¤§ã\n\nè½»éçº§éä¸ååéçåºå«ï¼\n\nææè½»éçº§éççº¿ç¨æ§è¡å®æä¼èªå¨éæ¾éï¼èææååéççº¿ç¨æ§è¡å®ä¸ä¼ä¸»å¨éæ¾éã\n\n\n# ééçº§é\n\nééçº§éå¯¹è±¡ç Mark Word ä¸­ååéä½+éæ å¿ä½ä¸º010ã\n\n\n# æ»ç»\n\n\n\n\n# todo\n\né®é¢ï¼\n\n * å¯¹è±¡å¨åå­ä¸­å¦ä½å­å¨\n * CAS æ¦å¿µ\n * éèªææ¯ä»ä¹",normalizedContent:"java ä¸­æåªäºé?\n\njava çéå¯ä»¥åä¸ºï¼\n\n * æ²è§é/ä¹è§éï¼çº¿ç¨æ¯å¦éè¦éå®åæ­¥èµæºï¼éä½æ¯æ²è§éï¼ä¸éä½æ¯ä¹è§é\n * å±äº«é/ç¬å éï¼å¤çº¿ç¨æåµä¸ï¼æ¯å¦å¯ä»¥å±äº«åä¸æéï¼å¯ä»¥æ¯å±äº«éï¼ä¸å¯ä»¥æ¯ç¬å é\n * å¬å¹³é/éå¬å¹³éï¼å¤çº¿ç¨æåµä¸ï¼æ¯å¦éè¦æéï¼æéæ¯å¬å¹³éï¼å°è¯æéï¼æéå¤±è´¥ååæéæ¯éå¬å¹³é\n * å¯ä¸­æ­é/éå¯ä¸­æ­éï¼æ¯å¦å¯ä»¥ä¸­æ­\n * å¯éå¥é/ä¸å¯éå¥éï¼åä¸ä¸ªçº¿ç¨æ¯å¦å¯ä»¥éå¤è·ååä¸æéï¼å¯ä»¥æ¯å¯ä»¥éå¥éï¼ä¸å¯ä»¥æ¯ä¸å¯ä»¥éå¥éã\n * éèªæé/èªæéï¼ç­å¾éçè¿ç¨ï¼é»å¡æ¯éèªæéï¼èªææ¯èªæéã\n\n\n# synchronized å³é®å­\n\n\n# synchronized éåçº§\n\nä¸ºä»ä¹è¦å¯¹ synchronized è¿è¡éåçº§ï¼\n\njdk1.6 ä¹å synchronized å±äºééçº§éã\n\njdk1.6 ä¹åï¼ä¸ºäºåå°è·åéåéæ¾éçæ§è½æ¶èï¼å¼å¥äºååéåè½»éçº§éã\n\nsynchronized éåçº§è¿ç¨ï¼\n\n\n\nsynchronized éçåçï¼synchronized ç¨çéæ¯å­å¨ java å¯¹è±¡å¤´éç mark word ä¸­ï¼éåçº§åè½ä¸»è¦ä¾èµ markword ä¸­ååéä½åéæ å¿ä½ã\n\n\n\n\n# æ é\n\næªå éå¯¹è±¡ç mark word ä¸­ååéä½+éæ å¿ä½ä¸º001ã\n\n\n# ååé\n\nååéï¼å½éä¸ç´è¢«åä¸ä¸ªçº¿ç¨è·åå°æ¶ï¼è¿ä¸ªçº¿ç¨ä¼ä¸ç´æ¥æè¿æéï¼ç´å°åçéç«äºã\n\nååéå¯¹è±¡ç mark word ä¸­ååéä½+éæ å¿ä½ä¸º101ï¼å¹¶ä¸ä¼è®°å½æ¥æéççº¿ç¨å¯¹åºçæéï¼éè¿ cas æ¹å¼æ´æ°çº¿ç¨idï¼ãå½çº¿ç¨å°è¯è·åååéæ¶ï¼ä¼å¤æ­å½åçº¿ç¨idåå¯¹è±¡å¤´å­å¨ççº¿ç¨idæ¯å¦ä¸è´ï¼ä¸è´çè¯å°±æ ééæ°è·åéã\n\nææååéççº¿ç¨ä¸ä¼ä¸»å¨éæ¾ååéã\n\njvm é»è®¤å¼å¯ååéï¼å¯ä»¥ä½¿ç¨ jvm åæ° -xx:-usebiasedlockingå³é­ååéã\n\n# ååéæ¤é\n\nå½åºç°éç«äºæ¶ï¼ææååéççº¿ç¨æä¼æ¤éååéã\n\næ¤éååééè¦ç­å¾å¨å±å®å¨ç¹ï¼è¯¥æ¶é´ç¹æ²¡æå­èç å¨æ§è¡ï¼ï¼åæ¶æ£æ¥ææååéççº¿ç¨æ¯å¦è¿å¨æ§è¡ï¼\n\n * å¦æææååéççº¿ç¨è¿å¨æ§è¡ï¼è¿æ¶ä¼åæ¶ååéåçº§ä¸ºè½»éçº§éãè½»éçº§éç±åææååéççº¿ç¨ææï¼ç»§ç»­æ§è¡å¶åæ­¥ä»£ç ï¼èæ­£å¨ç«äºççº¿ç¨ä¼è¿å¥èªæç­å¾è·å¾è¯¥è½»éçº§éã\n * å¦æææååéççº¿ç¨æ§è¡å®æï¼ææååéççº¿ç¨ä¼å°å¯¹è±¡å¤´è®¾ç½®ææ éç¶ææ¤éååéï¼ç«äºçº¿ç¨éè¿casæ´æ°å¯¹è±¡å¤´ï¼è·åååéã\n\n\n\n\n# è½»éçº§é\n\nè½»éçº§éå¯¹è±¡ç mark word ä¸­ååéä½+éæ å¿ä½ä¸º000ã\n\nè½»éçº§éæ¯ä¸ºäºçº¿ç¨è¿ä¹äº¤æ¿æ§è¡åæ­¥åæ¶æé«æ§è½ã\n\nåææååéççº¿ç¨è·åè½»éçº§éï¼ç«äºçº¿ç¨ cas èªæç­å¾è·åéã\n\nè½»éçº§éè§å®äºèªæçæ¬¡æ°ï¼èªæå°ä¸å®æ¬¡æ°ä¾ç¶æ²¡ææåï¼ä¼åçº§å°ééçº§éã\n\nä¸ºä»ä¹è¦è§å®èªææ¬¡æ°ï¼\n\nå ä¸ºçº¿ç¨èªæä¼æ¶ècpuï¼ä¸éå¶æ¬¡æ°çè¯ï¼å¯¹cpuæ§è½æ¶èè¿å¤§ã\n\nè½»éçº§éä¸ååéçåºå«ï¼\n\nææè½»éçº§éççº¿ç¨æ§è¡å®æä¼èªå¨éæ¾éï¼èææååéççº¿ç¨æ§è¡å®ä¸ä¼ä¸»å¨éæ¾éã\n\n\n# ééçº§é\n\nééçº§éå¯¹è±¡ç mark word ä¸­ååéä½+éæ å¿ä½ä¸º010ã\n\n\n# æ»ç»\n\n\n\n\n# todo\n\né®é¢ï¼\n\n * å¯¹è±¡å¨åå­ä¸­å¦ä½å­å¨\n * cas æ¦å¿µ\n * éèªææ¯ä»ä¹",charsets:{cjk:!0},lastUpdated:"2023/11/14, 06:07:13",lastUpdatedTimestamp:1699942033e3},{title:"CompletableFuture è¯¦è§£",frontmatter:{title:"CompletableFuture è¯¦è§£",date:"2023-10-23T23:54:39.000Z",permalink:"/pages/77c217/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/03.Java/03.Java%20%E5%B9%B6%E5%8F%91/03.CompletableFuture%20%E8%AF%A6%E8%A7%A3.html",relativePath:"01.Java ç¥è¯ä½ç³»/03.Java/03.Java å¹¶å/03.CompletableFuture è¯¦è§£.md",key:"v-7dc35ca5",path:"/pages/77c217/",headers:[{level:1,title:"Future ä»ç»",slug:"future-ä»ç»",normalizedTitle:"future ä»ç»",charIndex:332},{level:1,title:"CompletableFuture ä»ç»",slug:"completablefuture-ä»ç»",normalizedTitle:"completablefuture ä»ç»",charIndex:1336},{level:1,title:"CompletableFuture å¸¸è§æä½",slug:"completablefuture-å¸¸è§æä½",normalizedTitle:"completablefuture å¸¸è§æä½",charIndex:2281},{level:2,title:"åå»º CompletableFuture",slug:"åå»º-completablefuture",normalizedTitle:"åå»º completablefuture",charIndex:2308},{level:2,title:"å¤çå¼æ­¥ç»ç®çç»æ",slug:"å¤çå¼æ­¥ç»ç®çç»æ",normalizedTitle:"å¤çå¼æ­¥ç»ç®çç»æ",charIndex:2876},{level:3,title:"thenApply()",slug:"thenapply",normalizedTitle:"thenapply()",charIndex:2935},{level:3,title:"thenAccept() å thenRun()",slug:"thenaccept-åthenrun",normalizedTitle:"thenaccept() å thenrun()",charIndex:null},{level:3,title:"whenComplete()",slug:"whencomplete",normalizedTitle:"whencomplete()",charIndex:2979},{level:2,title:"å¼å¸¸å¤ç",slug:"å¼å¸¸å¤ç",normalizedTitle:"å¼å¸¸å¤ç",charIndex:4110},{level:2,title:"ç»å CompletableFuture",slug:"ç»å-completablefuture",normalizedTitle:"ç»å completablefuture",charIndex:5173},{level:3,title:"thenCompose()åthenCombineï¼ï¼",slug:"thencompose-åthencombine",normalizedTitle:"thencompose()åthencombineï¼ï¼",charIndex:5198},{level:2,title:"å¹¶è¡è¿è¡å¤ä¸ª CompletableFuture",slug:"å¹¶è¡è¿è¡å¤ä¸ª-completablefuture",normalizedTitle:"å¹¶è¡è¿è¡å¤ä¸ª completablefuture",charIndex:6153},{level:1,title:"CompletableFuture ä½¿ç¨å»ºè®®",slug:"completablefuture-ä½¿ç¨å»ºè®®",normalizedTitle:"completablefuture ä½¿ç¨å»ºè®®",charIndex:7304},{level:2,title:"ä½¿ç¨èªå®ä¹çº¿ç¨æ± ",slug:"ä½¿ç¨èªå®ä¹çº¿ç¨æ± ",normalizedTitle:"ä½¿ç¨èªå®ä¹çº¿ç¨æ± ",charIndex:2592},{level:2,title:"å°½éé¿åä½¿ç¨ get()",slug:"å°½éé¿åä½¿ç¨-get",normalizedTitle:"å°½éé¿åä½¿ç¨ get()",charIndex:7743},{level:2,title:"æ­£ç¡®è¿è¡å¼å¸¸å¤ç",slug:"æ­£ç¡®è¿è¡å¼å¸¸å¤ç",normalizedTitle:"æ­£ç¡®è¿è¡å¼å¸¸å¤ç",charIndex:8444},{level:1,title:"Reference",slug:"reference",normalizedTitle:"reference",charIndex:8789}],headersStr:"Future ä»ç» CompletableFuture ä»ç» CompletableFuture å¸¸è§æä½ åå»º CompletableFuture å¤çå¼æ­¥ç»ç®çç»æ thenApply() thenAccept() å thenRun() whenComplete() å¼å¸¸å¤ç ç»å CompletableFuture thenCompose()åthenCombineï¼ï¼ å¹¶è¡è¿è¡å¤ä¸ª CompletableFuture CompletableFuture ä½¿ç¨å»ºè®® ä½¿ç¨èªå®ä¹çº¿ç¨æ±  å°½éé¿åä½¿ç¨ get() æ­£ç¡®è¿è¡å¼å¸¸å¤ç Reference",content:'ä¸ä¸ªæ¥å£å¯è½éè¦è°ç¨ N ä¸ªå¶ä»æå¡çæ¥å£ï¼è¿å¨é¡¹ç®å¼åä¸­è¿æ¯æºå¸¸è§çãä¸¾ä¸ªä¾å­ï¼ç¨æ·è¯·æ±è·åè®¢åä¿¡æ¯ï¼å¯è½éè¦è°ç¨ç¨æ·ä¿¡æ¯ãååè¯¦æãç©æµä¿¡æ¯ãååæ¨èç­æ¥å£ï¼æååæ±æ»æ°æ®ç»ä¸è¿åã\n\nå¦ææ¯ä¸²è¡ï¼æé¡ºåºä¾æ¬¡æ§è¡æ¯ä¸ªä»»å¡ï¼æ§è¡çè¯ï¼æ¥å£çååºéåº¦ä¼éå¸¸æ¢ãèèå°è¿äºæ¥å£ä¹é´æå¤§é¨åé½æ¯ æ ååé¡ºåºå³è çï¼å¯ä»¥ å¹¶è¡æ§è¡ ï¼å°±æ¯å¦è¯´è°ç¨è·åååè¯¦æçæ¶åï¼å¯ä»¥åæ¶è°ç¨è·åç©æµä¿¡æ¯ãéè¿å¹¶è¡æ§è¡å¤ä¸ªä»»å¡çæ¹å¼ï¼æ¥å£çååºéåº¦ä¼å¾å°å¤§å¹ä¼åã\n\n\n\nå¯¹äºå­å¨ååé¡ºåºå³ç³»çæ¥å£è°ç¨ï¼å¯ä»¥è¿è¡ç¼æï¼å¦ä¸å¾æç¤ºã\n\n\n\nå¯¹äº Java ç¨åºæ¥è¯´ï¼Java 8 æè¢«å¼å¥ç CompletableFuture å¯ä»¥å¸®å©æä»¬æ¥åå¤ä¸ªä»»å¡çç¼æï¼åè½éå¸¸å¼ºå¤§ã\n\n\n# Future ä»ç»\n\nFuture ç±»æ¯å¼æ­¥ææ³çå¸åè¿ç¨ï¼ä¸»è¦ç¨å¨ä¸äºéè¦æ§è¡èæ¶ä»»å¡çåºæ¯ï¼é¿åç¨åºä¸ç´åå°ç­å¾èæ¶ä»»å¡æ§è¡å®æï¼æ§è¡æçå¤ªä½ãå·ä½æ¥è¯´æ¯è¿æ ·çï¼å½æä»¬æ§è¡æä¸èæ¶çä»»å¡æ¶ï¼å¯ä»¥å°è¿ä¸ªèæ¶ä»»å¡äº¤ç»ä¸ä¸ªå­çº¿ç¨å»å¼æ­¥æ§è¡ï¼åæ¶æä»¬å¯ä»¥å¹²ç¹å¶ä»äºæï¼ä¸ç¨å»å»ç­å¾èæ¶ä»»å¡æ§è¡å®æãç­æä»¬çäºæå¹²å®åï¼æä»¬åéè¿ Future ç±»è·åå°èæ¶ä»»å¡çæ§è¡ç»æãè¿æ ·ä¸æ¥ï¼ç¨åºçæ§è¡æçå°±ææ¾æé«äºã\n\nè¿å¶å®å°±æ¯å¤çº¿ç¨ä¸­ç»å¸ç Future æ¨¡å¼ï¼ä½ å¯ä»¥å°å¶çä½æ¯ä¸ç§è®¾è®¡æ¨¡å¼ï¼æ ¸å¿ææ³æ¯å¼æ­¥è°ç¨ï¼ä¸»è¦ç¨å¨å¤çº¿ç¨é¢åï¼å¹¶é Java è¯­è¨ç¬æã\n\nå¨ Java ä¸­ï¼Future ç±»åªæ¯ä¸ä¸ªæ³åæ¥å£ï¼ä½äº java.util.concurrent åä¸ï¼å¶ä¸­å®ä¹äº 5 ä¸ªæ¹æ³ï¼ä¸»è¦åæ¬ä¸é¢è¿ 4 ä¸ªåè½ï¼\n\n * åæ¶ä»»å¡ï¼\n * å¤æ­ä»»å¡æ¯å¦è¢«åæ¶;\n * å¤æ­ä»»å¡æ¯å¦å·²ç»æ§è¡å®æ;\n * è·åä»»å¡æ§è¡ç»æã\n\n// V ä»£è¡¨äºFutureæ§è¡çä»»å¡è¿åå¼çç±»å\npublic interface Future<V> {\n    // åæ¶ä»»å¡æ§è¡\n    // æååæ¶è¿å trueï¼å¦åè¿å false\n    boolean cancel(boolean mayInterruptIfRunning);\n    // å¤æ­ä»»å¡æ¯å¦è¢«åæ¶\n    boolean isCancelled();\n    // å¤æ­ä»»å¡æ¯å¦å·²ç»æ§è¡å®æ\n    boolean isDone();\n    // è·åä»»å¡æ§è¡ç»æ\n    V get() throws InterruptedException, ExecutionException;\n    // æå®æ¶é´åæ²¡æè¿åè®¡ç®ç»æå°±æåº TimeOutException å¼å¸¸\n    V get(long timeout, TimeUnit unit)\n\n        throws InterruptedException, ExecutionException, TimeoutExceptio\n\n}\n\n\n\nç®åçè§£å°±æ¯ï¼ææä¸ä¸ªä»»å¡ï¼æäº¤ç»äº Future æ¥å¤çãä»»å¡æ§è¡æé´æèªå·±å¯ä»¥å»åä»»ä½æ³åçäºæãå¹¶ä¸ï¼å¨è¿æé´æè¿å¯ä»¥åæ¶ä»»å¡ä»¥åè·åä»»å¡çæ§è¡ç¶æãä¸æ®µæ¶é´ä¹åï¼æå°±å¯ä»¥ Future é£éç´æ¥ååºä»»å¡æ§è¡ç»æã\n\n\n# CompletableFuture ä»ç»\n\nFuture å¨å®éä½¿ç¨è¿ç¨ä¸­å­å¨ä¸äºå±éæ§æ¯å¦ä¸æ¯æå¼æ­¥ä»»å¡çç¼æç»åãè·åè®¡ç®ç»æç get() æ¹æ³ä¸ºé»å¡è°ç¨ã\n\nJava 8 æè¢«å¼å¥CompletableFuture ç±»å¯ä»¥è§£å³Future çè¿äºç¼ºé·ãCompletableFuture é¤äºæä¾äºæ´ä¸ºå¥½ç¨åå¼ºå¤§ç Future ç¹æ§ä¹å¤ï¼è¿æä¾äºå½æ°å¼ç¼ç¨ãå¼æ­¥ä»»å¡ç¼æç»åï¼å¯ä»¥å°å¤ä¸ªå¼æ­¥ä»»å¡ä¸²èèµ·æ¥ï¼ç»æä¸ä¸ªå®æ´çé¾å¼è°ç¨ï¼ç­è½åã\n\nä¸é¢æä»¬æ¥ç®åçç CompletableFuture ç±»çå®ä¹ã\n\npublic class CompletableFuture<T> implements Future<T>, CompletionStage<T> {\n}\n\n\n\nå¯ä»¥çå°ï¼CompletableFuture åæ¶å®ç°äº Future å CompletionStage æ¥å£ã\n\n\n\nCompletionStage æ¥å£æè¿°äºä¸ä¸ªå¼æ­¥è®¡ç®çé¶æ®µãå¾å¤è®¡ç®å¯ä»¥åæå¤ä¸ªé¶æ®µææ­¥éª¤ï¼æ­¤æ¶å¯ä»¥éè¿å®å°æææ­¥éª¤ç»åèµ·æ¥ï¼å½¢æå¼æ­¥è®¡ç®çæµæ°´çº¿ã\n\nCompletableFuture é¤äºæä¾äºæ´ä¸ºå¥½ç¨åå¼ºå¤§ç Future ç¹æ§ä¹å¤ï¼è¿æä¾äºå½æ°å¼ç¼ç¨çè½åã\n\n\n\nFuture æ¥å£æ 5 ä¸ªæ¹æ³ï¼\n\n * boolean cancel(boolean mayInterruptIfRunning)ï¼å°è¯åæ¶æ§è¡ä»»å¡ã\n * boolean isCancelled()ï¼å¤æ­ä»»å¡æ¯å¦è¢«åæ¶ã\n * boolean isDone()ï¼å¤æ­ä»»å¡æ¯å¦å·²ç»è¢«æ§è¡å®æã\n * get()ï¼ç­å¾ä»»å¡æ§è¡å®æå¹¶è·åè¿ç®ç»æã\n * get(long timeout, TimeUnit unit)ï¼å¤äºä¸ä¸ªè¶æ¶æ¶é´ã\n\nCompletionStage æ¥å£æè¿°äºä¸ä¸ªå¼æ­¥è®¡ç®çé¶æ®µãå¾å¤è®¡ç®å¯ä»¥åæå¤ä¸ªé¶æ®µææ­¥éª¤ï¼æ­¤æ¶å¯ä»¥éè¿å®å°æææ­¥éª¤ç»åèµ·æ¥ï¼å½¢æå¼æ­¥è®¡ç®çæµæ°´çº¿ã\n\nCompletionStage æ¥å£ä¸­çæ¹æ³æ¯è¾å¤ï¼CompletableFuture çå½æ°å¼è½åå°±æ¯è¿ä¸ªæ¥å£èµäºçãä»è¿ä¸ªæ¥å£çæ¹æ³åæ°ä½ å°±å¯ä»¥åç°å¶å¤§éä½¿ç¨äº Java8 å¼å¥çå½æ°å¼ç¼ç¨ã\n\n\n\n\n# CompletableFuture å¸¸è§æä½\n\n\n# åå»º CompletableFuture\n\n 1. éè¿ new å³é®å­ã\n    \n    CompletableFuture<RpcResponse<Object>> resultFuture = new CompletableFuture<>();\n    \n    \n\n 2. åºäº CompletableFuture èªå¸¦çéæå·¥åæ¹æ³ï¼runAsync()ãsupplyAsync() ã\n    \n    static <U> CompletableFuture<U> supplyAsync(Supplier<U> supplier);\n    // ä½¿ç¨èªå®ä¹çº¿ç¨æ± (æ¨è)\n    static <U> CompletableFuture<U> supplyAsync(Supplier<U> supplier, Executor executor);\n    static CompletableFuture<Void> runAsync(Runnable runnable);\n    // ä½¿ç¨èªå®ä¹çº¿ç¨æ± (æ¨è)\n    static CompletableFuture<Void> runAsync(Runnable runnable, Executor executor);\n    \n    \n\n\n# å¤çå¼æ­¥ç»ç®çç»æ\n\nå½æä»¬è·åå°å¼æ­¥è®¡ç®çç»æä¹åï¼è¿å¯ä»¥å¯¹å¶è¿è¡è¿ä¸æ­¥çå¤çï¼æ¯è¾å¸¸ç¨çæ¹æ³æä¸é¢å ä¸ªï¼\n\n * thenApply()\n * thenAccept()\n * thenRun()\n * whenComplete()\n\n\n# thenApply()\n\nthenApply() æ¹æ³æ¥åä¸ä¸ª Function å®ä¾ï¼ç¨å®æ¥å¤çç»æã\n\nCompletableFuture<String> future = CompletableFuture.completedFuture("hello!")\n        .thenApply(s -> s + "world!");\nassertEquals("hello!world!", future.get());\n// è¿æ¬¡è°ç¨å°è¢«å¿½ç¥ã\nfuture.thenApply(s -> s + "nice!");\nassertEquals("hello!world!", future.get());\n\n\n\n\n# thenAccept()åthenRun()\n\nå¦æä½ ä¸éè¦ä»åè°å½æ°ä¸­è·åè¿åç»æï¼å¯ä»¥ä½¿ç¨ thenAccept() æè thenRun()ãè¿ä¸¤ä¸ªæ¹æ³çåºå«å¨äº thenRun() ä¸è½è®¿é®å¼æ­¥è®¡ç®çç»æã\n\nCompletableFuture.completedFuture("hello!")\n        .thenApply(s -> s + "world!").thenApply(s -> s + "nice!").thenAccept(System.out::println);//hello!world!nice!\n\nCompletableFuture.completedFuture("hello!")\n        .thenApply(s -> s + "world!").thenApply(s -> s + "nice!").thenRun(() -> System.out.println("hello!"));//hello!\n\n\n\n\n# whenComplete()\n\nCompletableFuture<String> future = CompletableFuture.supplyAsync(() -> "hello!")\n        .whenComplete((res, ex) -> {\n            // res ä»£è¡¨è¿åçç»æ\n            // ex çç±»åä¸º Throwable ï¼ä»£è¡¨æåºçå¼å¸¸\n            System.out.println(res);\n            // è¿éæ²¡ææåºå¼å¸¸ææä¸º null\n            assertNull(ex);\n        });\nassertEquals("hello!", future.get());\n\n\n\n\n# å¼å¸¸å¤ç\n\nä½ å¯ä»¥éè¿ handle() æ¹æ³æ¥å¤çä»»å¡æ§è¡è¿ç¨ä¸­å¯è½åºç°çæåºå¼å¸¸çæåµã\n\nCompletableFuture<String> future\n        = CompletableFuture.supplyAsync(() -> {\n    if (true) {\n        throw new RuntimeException("Computation error!");\n    }\n    return "hello!";\n}).handle((res, ex) -> {\n    // res ä»£è¡¨è¿åçç»æ\n    // ex çç±»åä¸º Throwable ï¼ä»£è¡¨æåºçå¼å¸¸\n    return res != null ? res : "world!";\n});\nassertEquals("world!", future.get());\n\n\n\nè¿å¯ä»¥éè¿ exceptionally() æ¹æ³æ¥å¤çå¼å¸¸æåµã\n\nCompletableFuture<String> future\n        = CompletableFuture.supplyAsync(() -> {\n    if (true) {\n        throw new RuntimeException("Computation error!");\n    }\n    return "hello!";\n}).exceptionally(ex -> {\n    System.out.println(ex.toString());// CompletionException\n    return "world!";\n});\nassertEquals("world!", future.get());\n\n\n\nå¦æä½ æ³è®© CompletableFuture çç»æå°±æ¯å¼å¸¸çè¯ï¼å¯ä»¥ä½¿ç¨ completeExceptionally() æ¹æ³ä¸ºå¶èµå¼ã\n\nCompletableFuture<String> completableFuture = new CompletableFuture<>();\n// ...\ncompletableFuture.completeExceptionally(\n  new RuntimeException("Calculation failed!"));\n// ...\ncompletableFuture.get(); // ExecutionException\n\n\n\n\n# ç»å CompletableFuture\n\n\n# thenCompose()åthenCombineï¼ï¼\n\nä½¿ç¨ thenCompose() æé¡ºåºé¾æ¥ä¸¤ä¸ª CompletableFuture å¯¹è±¡ï¼å®ç°å¼æ­¥çä»»å¡é¾ãå®çä½ç¨æ¯å°åä¸ä¸ªä»»å¡çè¿åç»æä½ä¸ºä¸ä¸ä¸ªä»»å¡çè¾å¥åæ°ï¼ä»èå½¢æä¸ä¸ªä¾èµå³ç³»ã\n\nCompletableFuture<String> future\n        = CompletableFuture.supplyAsync(() -> "hello!")\n        .thenCompose(s -> CompletableFuture.supplyAsync(() -> s + "world!"));\nassertEquals("hello!world!", future.get());\n\n\n\nå thenCompose() æ¹æ³ç±»ä¼¼çè¿æ thenCombine() æ¹æ³ï¼ å®åæ ·å¯ä»¥ç»åä¸¤ä¸ª CompletableFuture å¯¹è±¡ã\n\nCompletableFuture<String> completableFuture\n        = CompletableFuture.supplyAsync(() -> "hello!")\n        .thenCombine(CompletableFuture.supplyAsync(\n                () -> "world!"), (s1, s2) -> s1 + s2)\n        .thenCompose(s -> CompletableFuture.supplyAsync(() -> s + "nice!"));\nassertEquals("hello!world!nice!", completableFuture.get());\n\n\n\né£ thenCompose() å thenCombine() æä»ä¹åºå«å¢ï¼\n\n * thenCompose() å¯ä»¥é¾æ¥ä¸¤ä¸ª CompletableFuture å¯¹è±¡ï¼å¹¶å°åä¸ä¸ªä»»å¡çè¿åç»æä½ä¸ºä¸ä¸ä¸ªä»»å¡çåæ°ï¼å®ä»¬ä¹é´å­å¨çååé¡ºåºã\n\n * thenCombine() ä¼å¨ä¸¤ä¸ªä»»å¡é½æ§è¡å®æåï¼æä¸¤ä¸ªä»»å¡çç»æåå¹¶ãä¸¤ä¸ªä»»å¡æ¯å¹¶è¡æ§è¡çï¼å®ä»¬ä¹é´å¹¶æ²¡æååä¾èµé¡ºåºã\n\n\n# å¹¶è¡è¿è¡å¤ä¸ª CompletableFuture\n\nä½ å¯ä»¥éè¿ CompletableFuture ç allOf()è¿ä¸ªéææ¹æ³æ¥å¹¶è¡è¿è¡å¤ä¸ª CompletableFuture ã\n\nå®éé¡¹ç®ä¸­ï¼æä»¬ç»å¸¸éè¦å¹¶è¡è¿è¡å¤ä¸ªäºä¸ç¸å³çä»»å¡ï¼è¿äºä»»å¡ä¹é´æ²¡æä¾èµå³ç³»ï¼å¯ä»¥äºç¸ç¬ç«å°è¿è¡ã\n\næ¯è¯´æä»¬è¦è¯»åå¤ç 6 ä¸ªæä»¶ï¼è¿ 6 ä¸ªä»»å¡é½æ¯æ²¡ææ§è¡é¡ºåºä¾èµçä»»å¡ï¼ä½æ¯æä»¬éè¦è¿åç»ç¨æ·çæ¶åå°è¿å ä¸ªæä»¶çå¤ççç»æè¿è¡ç»è®¡æ´çãåè¿ç§æåµæä»¬å°±å¯ä»¥ä½¿ç¨å¹¶è¡è¿è¡å¤ä¸ª CompletableFuture æ¥å¤çã\n\nç¤ºä¾ä»£ç å¦ä¸ï¼\n\nCompletableFuture<Void> task1 =\n  CompletableFuture.supplyAsync(()->{\n    //èªå®ä¹ä¸å¡æä½\n  });\n......\nCompletableFuture<Void> task6 =\n  CompletableFuture.supplyAsync(()->{\n    //èªå®ä¹ä¸å¡æä½\n  });\n......\n CompletableFuture<Void> headerFuture=CompletableFuture.allOf(task1,.....,task6);\n\n  try {\n    headerFuture.join();\n  } catch (Exception ex) {\n    ......\n  }\nSystem.out.println("all done. ");\n\n\n\nç»å¸¸å allOf() æ¹æ³æ¿æ¥å¯¹æ¯çæ¯ anyOf() æ¹æ³ãallOf() æ¹æ³ä¼ç­å°ææç CompletableFuture é½è¿è¡å®æä¹ååè¿åï¼è°ç¨ join() å¯ä»¥è®©ç¨åºç­future1 å future2 é½è¿è¡å®äºä¹ååç»§ç»­æ§è¡ã\n\nCompletableFuture<Void> completableFuture = CompletableFuture.allOf(future1, future2);\ncompletableFuture.join();\nassertTrue(completableFuture.isDone());\nSystem.out.println("all futures done...");\n\n\n\nanyOf() æ¹æ³ä¸ä¼ç­å¾ææç CompletableFuture é½è¿è¡å®æä¹ååè¿åï¼åªè¦æä¸ä¸ªæ§è¡å®æå³å¯ï¼\n\nCompletableFuture<Object> f = CompletableFuture.anyOf(future1, future2);\nSystem.out.println(f.get());\n\n\n\n\n# CompletableFuture ä½¿ç¨å»ºè®®\n\n\n# ä½¿ç¨èªå®ä¹çº¿ç¨æ± \n\næä»¬ä¸é¢çä»£ç ç¤ºä¾ä¸­ï¼ä¸ºäºæ¹ä¾¿ï¼é½æ²¡æéæ©èªå®ä¹çº¿ç¨æ± ãå®éé¡¹ç®ä¸­ï¼è¿æ¯ä¸å¯åçã\n\nCompletableFuture é»è®¤ä½¿ç¨ForkJoinPool.commonPool() ä½ä¸ºæ§è¡å¨ï¼è¿ä¸ªçº¿ç¨æ± æ¯å¨å±å±äº«çï¼å¯è½ä¼è¢«å¶ä»ä»»å¡å ç¨ï¼å¯¼è´æ§è½ä¸éæèé¥¥é¥¿ãå æ­¤ï¼å»ºè®®ä½¿ç¨èªå®ä¹ççº¿ç¨æ± æ¥æ§è¡ CompletableFuture çå¼æ­¥ä»»å¡ï¼å¯ä»¥æé«å¹¶ååº¦åçµæ´»æ§ã\n\nprivate ThreadPoolExecutor executor = new ThreadPoolExecutor(10, 10,\n        0L, TimeUnit.MILLISECONDS,\n        new LinkedBlockingQueue<Runnable>());\n\nCompletableFuture.runAsync(() -> {\n \t\t//...\n}, executor);\n\n\n\n\n# å°½éé¿åä½¿ç¨ get()\n\nCompletableFutureçget()æ¹æ³æ¯é»å¡çï¼å°½éé¿åä½¿ç¨ãå¦æå¿é¡»è¦ä½¿ç¨çè¯ï¼éè¦æ·»å è¶æ¶æ¶é´ï¼å¦åå¯è½ä¼å¯¼è´ä¸»çº¿ç¨ä¸ç´ç­å¾ï¼æ æ³æ§è¡å¶ä»ä»»å¡ã\n\n    CompletableFuture<String> future = CompletableFuture.supplyAsync(() -> {\n        try {\n            Thread.sleep(10_000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        return "Hello, world!";\n    });\n\n    // è·åå¼æ­¥ä»»å¡çè¿åå¼ï¼è®¾ç½®è¶æ¶æ¶é´ä¸º 5 ç§\n    try {\n        String result = future.get(5, TimeUnit.SECONDS);\n        System.out.println(result);\n    } catch (InterruptedException | ExecutionException | TimeoutException e) {\n        // å¤çå¼å¸¸\n        e.printStackTrace();\n    }\n}\n\n\n\nä¸é¢è¿æ®µä»£ç å¨è°ç¨ get() æ¶æåºäº TimeoutException å¼å¸¸ãè¿æ ·æä»¬å°±å¯ä»¥å¨å¼å¸¸å¤çä¸­è¿è¡ç¸åºçæä½ï¼æ¯å¦åæ¶ä»»å¡ãéè¯ä»»å¡ãè®°å½æ¥å¿ç­ã\n\n\n# æ­£ç¡®è¿è¡å¼å¸¸å¤ç\n\nä½¿ç¨ CompletableFutureçæ¶åä¸å®è¦ä»¥æ­£ç¡®çæ¹å¼è¿è¡å¼å¸¸å¤çï¼é¿åå¼å¸¸ä¸¢å¤±æèåºç°ä¸å¯æ§é®é¢ã\n\nä¸é¢æ¯ä¸äºå»ºè®®ï¼\n\n * ä½¿ç¨ whenComplete æ¹æ³å¯ä»¥å¨ä»»å¡å®ææ¶è§¦ååè°å½æ°ï¼å¹¶æ­£ç¡®å°å¤çå¼å¸¸ï¼èä¸æ¯è®©å¼å¸¸è¢«åå¬æä¸¢å¤±ã\n * ä½¿ç¨ exceptionally æ¹æ³å¯ä»¥å¤çå¼å¸¸å¹¶éæ°æåºï¼ä»¥ä¾¿å¼å¸¸è½å¤ä¼ æ­å°åç»­é¶æ®µï¼èä¸æ¯è®©å¼å¸¸è¢«å¿½ç¥æç»æ­¢ã\n * ä½¿ç¨ handle æ¹æ³å¯ä»¥å¤çæ­£å¸¸çè¿åç»æåå¼å¸¸ï¼å¹¶è¿åä¸ä¸ªæ°çç»æï¼èä¸æ¯è®©å¼å¸¸å½±åæ­£å¸¸çä¸å¡é»è¾ã\n * ä½¿ç¨ CompletableFuture.allOf æ¹æ³å¯ä»¥ç»åå¤ä¸ª CompletableFutureï¼å¹¶ç»ä¸å¤çææä»»å¡çå¼å¸¸ï¼èä¸æ¯è®©å¼å¸¸å¤çè¿äºåé¿æéå¤\n\n\n# Reference\n\n * CompletableFutureåçä¸å®è·µ-å¤ååå®¶ç«¯APIçå¼æ­¥å - ç¾å¢ææ¯å¢é\n\n * CompletableFuture è¯¦è§£ | JavaGuide(Javaé¢è¯ + å­¦ä¹ æå)',normalizedContent:'ä¸ä¸ªæ¥å£å¯è½éè¦è°ç¨ n ä¸ªå¶ä»æå¡çæ¥å£ï¼è¿å¨é¡¹ç®å¼åä¸­è¿æ¯æºå¸¸è§çãä¸¾ä¸ªä¾å­ï¼ç¨æ·è¯·æ±è·åè®¢åä¿¡æ¯ï¼å¯è½éè¦è°ç¨ç¨æ·ä¿¡æ¯ãååè¯¦æãç©æµä¿¡æ¯ãååæ¨èç­æ¥å£ï¼æååæ±æ»æ°æ®ç»ä¸è¿åã\n\nå¦ææ¯ä¸²è¡ï¼æé¡ºåºä¾æ¬¡æ§è¡æ¯ä¸ªä»»å¡ï¼æ§è¡çè¯ï¼æ¥å£çååºéåº¦ä¼éå¸¸æ¢ãèèå°è¿äºæ¥å£ä¹é´æå¤§é¨åé½æ¯ æ ååé¡ºåºå³è çï¼å¯ä»¥ å¹¶è¡æ§è¡ ï¼å°±æ¯å¦è¯´è°ç¨è·åååè¯¦æçæ¶åï¼å¯ä»¥åæ¶è°ç¨è·åç©æµä¿¡æ¯ãéè¿å¹¶è¡æ§è¡å¤ä¸ªä»»å¡çæ¹å¼ï¼æ¥å£çååºéåº¦ä¼å¾å°å¤§å¹ä¼åã\n\n\n\nå¯¹äºå­å¨ååé¡ºåºå³ç³»çæ¥å£è°ç¨ï¼å¯ä»¥è¿è¡ç¼æï¼å¦ä¸å¾æç¤ºã\n\n\n\nå¯¹äº java ç¨åºæ¥è¯´ï¼java 8 æè¢«å¼å¥ç completablefuture å¯ä»¥å¸®å©æä»¬æ¥åå¤ä¸ªä»»å¡çç¼æï¼åè½éå¸¸å¼ºå¤§ã\n\n\n# future ä»ç»\n\nfuture ç±»æ¯å¼æ­¥ææ³çå¸åè¿ç¨ï¼ä¸»è¦ç¨å¨ä¸äºéè¦æ§è¡èæ¶ä»»å¡çåºæ¯ï¼é¿åç¨åºä¸ç´åå°ç­å¾èæ¶ä»»å¡æ§è¡å®æï¼æ§è¡æçå¤ªä½ãå·ä½æ¥è¯´æ¯è¿æ ·çï¼å½æä»¬æ§è¡æä¸èæ¶çä»»å¡æ¶ï¼å¯ä»¥å°è¿ä¸ªèæ¶ä»»å¡äº¤ç»ä¸ä¸ªå­çº¿ç¨å»å¼æ­¥æ§è¡ï¼åæ¶æä»¬å¯ä»¥å¹²ç¹å¶ä»äºæï¼ä¸ç¨å»å»ç­å¾èæ¶ä»»å¡æ§è¡å®æãç­æä»¬çäºæå¹²å®åï¼æä»¬åéè¿ future ç±»è·åå°èæ¶ä»»å¡çæ§è¡ç»æãè¿æ ·ä¸æ¥ï¼ç¨åºçæ§è¡æçå°±ææ¾æé«äºã\n\nè¿å¶å®å°±æ¯å¤çº¿ç¨ä¸­ç»å¸ç future æ¨¡å¼ï¼ä½ å¯ä»¥å°å¶çä½æ¯ä¸ç§è®¾è®¡æ¨¡å¼ï¼æ ¸å¿ææ³æ¯å¼æ­¥è°ç¨ï¼ä¸»è¦ç¨å¨å¤çº¿ç¨é¢åï¼å¹¶é java è¯­è¨ç¬æã\n\nå¨ java ä¸­ï¼future ç±»åªæ¯ä¸ä¸ªæ³åæ¥å£ï¼ä½äº java.util.concurrent åä¸ï¼å¶ä¸­å®ä¹äº 5 ä¸ªæ¹æ³ï¼ä¸»è¦åæ¬ä¸é¢è¿ 4 ä¸ªåè½ï¼\n\n * åæ¶ä»»å¡ï¼\n * å¤æ­ä»»å¡æ¯å¦è¢«åæ¶;\n * å¤æ­ä»»å¡æ¯å¦å·²ç»æ§è¡å®æ;\n * è·åä»»å¡æ§è¡ç»æã\n\n// v ä»£è¡¨äºfutureæ§è¡çä»»å¡è¿åå¼çç±»å\npublic interface future<v> {\n    // åæ¶ä»»å¡æ§è¡\n    // æååæ¶è¿å trueï¼å¦åè¿å false\n    boolean cancel(boolean mayinterruptifrunning);\n    // å¤æ­ä»»å¡æ¯å¦è¢«åæ¶\n    boolean iscancelled();\n    // å¤æ­ä»»å¡æ¯å¦å·²ç»æ§è¡å®æ\n    boolean isdone();\n    // è·åä»»å¡æ§è¡ç»æ\n    v get() throws interruptedexception, executionexception;\n    // æå®æ¶é´åæ²¡æè¿åè®¡ç®ç»æå°±æåº timeoutexception å¼å¸¸\n    v get(long timeout, timeunit unit)\n\n        throws interruptedexception, executionexception, timeoutexceptio\n\n}\n\n\n\nç®åçè§£å°±æ¯ï¼ææä¸ä¸ªä»»å¡ï¼æäº¤ç»äº future æ¥å¤çãä»»å¡æ§è¡æé´æèªå·±å¯ä»¥å»åä»»ä½æ³åçäºæãå¹¶ä¸ï¼å¨è¿æé´æè¿å¯ä»¥åæ¶ä»»å¡ä»¥åè·åä»»å¡çæ§è¡ç¶æãä¸æ®µæ¶é´ä¹åï¼æå°±å¯ä»¥ future é£éç´æ¥ååºä»»å¡æ§è¡ç»æã\n\n\n# completablefuture ä»ç»\n\nfuture å¨å®éä½¿ç¨è¿ç¨ä¸­å­å¨ä¸äºå±éæ§æ¯å¦ä¸æ¯æå¼æ­¥ä»»å¡çç¼æç»åãè·åè®¡ç®ç»æç get() æ¹æ³ä¸ºé»å¡è°ç¨ã\n\njava 8 æè¢«å¼å¥completablefuture ç±»å¯ä»¥è§£å³future çè¿äºç¼ºé·ãcompletablefuture é¤äºæä¾äºæ´ä¸ºå¥½ç¨åå¼ºå¤§ç future ç¹æ§ä¹å¤ï¼è¿æä¾äºå½æ°å¼ç¼ç¨ãå¼æ­¥ä»»å¡ç¼æç»åï¼å¯ä»¥å°å¤ä¸ªå¼æ­¥ä»»å¡ä¸²èèµ·æ¥ï¼ç»æä¸ä¸ªå®æ´çé¾å¼è°ç¨ï¼ç­è½åã\n\nä¸é¢æä»¬æ¥ç®åçç completablefuture ç±»çå®ä¹ã\n\npublic class completablefuture<t> implements future<t>, completionstage<t> {\n}\n\n\n\nå¯ä»¥çå°ï¼completablefuture åæ¶å®ç°äº future å completionstage æ¥å£ã\n\n\n\ncompletionstage æ¥å£æè¿°äºä¸ä¸ªå¼æ­¥è®¡ç®çé¶æ®µãå¾å¤è®¡ç®å¯ä»¥åæå¤ä¸ªé¶æ®µææ­¥éª¤ï¼æ­¤æ¶å¯ä»¥éè¿å®å°æææ­¥éª¤ç»åèµ·æ¥ï¼å½¢æå¼æ­¥è®¡ç®çæµæ°´çº¿ã\n\ncompletablefuture é¤äºæä¾äºæ´ä¸ºå¥½ç¨åå¼ºå¤§ç future ç¹æ§ä¹å¤ï¼è¿æä¾äºå½æ°å¼ç¼ç¨çè½åã\n\n\n\nfuture æ¥å£æ 5 ä¸ªæ¹æ³ï¼\n\n * boolean cancel(boolean mayinterruptifrunning)ï¼å°è¯åæ¶æ§è¡ä»»å¡ã\n * boolean iscancelled()ï¼å¤æ­ä»»å¡æ¯å¦è¢«åæ¶ã\n * boolean isdone()ï¼å¤æ­ä»»å¡æ¯å¦å·²ç»è¢«æ§è¡å®æã\n * get()ï¼ç­å¾ä»»å¡æ§è¡å®æå¹¶è·åè¿ç®ç»æã\n * get(long timeout, timeunit unit)ï¼å¤äºä¸ä¸ªè¶æ¶æ¶é´ã\n\ncompletionstage æ¥å£æè¿°äºä¸ä¸ªå¼æ­¥è®¡ç®çé¶æ®µãå¾å¤è®¡ç®å¯ä»¥åæå¤ä¸ªé¶æ®µææ­¥éª¤ï¼æ­¤æ¶å¯ä»¥éè¿å®å°æææ­¥éª¤ç»åèµ·æ¥ï¼å½¢æå¼æ­¥è®¡ç®çæµæ°´çº¿ã\n\ncompletionstage æ¥å£ä¸­çæ¹æ³æ¯è¾å¤ï¼completablefuture çå½æ°å¼è½åå°±æ¯è¿ä¸ªæ¥å£èµäºçãä»è¿ä¸ªæ¥å£çæ¹æ³åæ°ä½ å°±å¯ä»¥åç°å¶å¤§éä½¿ç¨äº java8 å¼å¥çå½æ°å¼ç¼ç¨ã\n\n\n\n\n# completablefuture å¸¸è§æä½\n\n\n# åå»º completablefuture\n\n 1. éè¿ new å³é®å­ã\n    \n    completablefuture<rpcresponse<object>> resultfuture = new completablefuture<>();\n    \n    \n\n 2. åºäº completablefuture èªå¸¦çéæå·¥åæ¹æ³ï¼runasync()ãsupplyasync() ã\n    \n    static <u> completablefuture<u> supplyasync(supplier<u> supplier);\n    // ä½¿ç¨èªå®ä¹çº¿ç¨æ± (æ¨è)\n    static <u> completablefuture<u> supplyasync(supplier<u> supplier, executor executor);\n    static completablefuture<void> runasync(runnable runnable);\n    // ä½¿ç¨èªå®ä¹çº¿ç¨æ± (æ¨è)\n    static completablefuture<void> runasync(runnable runnable, executor executor);\n    \n    \n\n\n# å¤çå¼æ­¥ç»ç®çç»æ\n\nå½æä»¬è·åå°å¼æ­¥è®¡ç®çç»æä¹åï¼è¿å¯ä»¥å¯¹å¶è¿è¡è¿ä¸æ­¥çå¤çï¼æ¯è¾å¸¸ç¨çæ¹æ³æä¸é¢å ä¸ªï¼\n\n * thenapply()\n * thenaccept()\n * thenrun()\n * whencomplete()\n\n\n# thenapply()\n\nthenapply() æ¹æ³æ¥åä¸ä¸ª function å®ä¾ï¼ç¨å®æ¥å¤çç»æã\n\ncompletablefuture<string> future = completablefuture.completedfuture("hello!")\n        .thenapply(s -> s + "world!");\nassertequals("hello!world!", future.get());\n// è¿æ¬¡è°ç¨å°è¢«å¿½ç¥ã\nfuture.thenapply(s -> s + "nice!");\nassertequals("hello!world!", future.get());\n\n\n\n\n# thenaccept()åthenrun()\n\nå¦æä½ ä¸éè¦ä»åè°å½æ°ä¸­è·åè¿åç»æï¼å¯ä»¥ä½¿ç¨ thenaccept() æè thenrun()ãè¿ä¸¤ä¸ªæ¹æ³çåºå«å¨äº thenrun() ä¸è½è®¿é®å¼æ­¥è®¡ç®çç»æã\n\ncompletablefuture.completedfuture("hello!")\n        .thenapply(s -> s + "world!").thenapply(s -> s + "nice!").thenaccept(system.out::println);//hello!world!nice!\n\ncompletablefuture.completedfuture("hello!")\n        .thenapply(s -> s + "world!").thenapply(s -> s + "nice!").thenrun(() -> system.out.println("hello!"));//hello!\n\n\n\n\n# whencomplete()\n\ncompletablefuture<string> future = completablefuture.supplyasync(() -> "hello!")\n        .whencomplete((res, ex) -> {\n            // res ä»£è¡¨è¿åçç»æ\n            // ex çç±»åä¸º throwable ï¼ä»£è¡¨æåºçå¼å¸¸\n            system.out.println(res);\n            // è¿éæ²¡ææåºå¼å¸¸ææä¸º null\n            assertnull(ex);\n        });\nassertequals("hello!", future.get());\n\n\n\n\n# å¼å¸¸å¤ç\n\nä½ å¯ä»¥éè¿ handle() æ¹æ³æ¥å¤çä»»å¡æ§è¡è¿ç¨ä¸­å¯è½åºç°çæåºå¼å¸¸çæåµã\n\ncompletablefuture<string> future\n        = completablefuture.supplyasync(() -> {\n    if (true) {\n        throw new runtimeexception("computation error!");\n    }\n    return "hello!";\n}).handle((res, ex) -> {\n    // res ä»£è¡¨è¿åçç»æ\n    // ex çç±»åä¸º throwable ï¼ä»£è¡¨æåºçå¼å¸¸\n    return res != null ? res : "world!";\n});\nassertequals("world!", future.get());\n\n\n\nè¿å¯ä»¥éè¿ exceptionally() æ¹æ³æ¥å¤çå¼å¸¸æåµã\n\ncompletablefuture<string> future\n        = completablefuture.supplyasync(() -> {\n    if (true) {\n        throw new runtimeexception("computation error!");\n    }\n    return "hello!";\n}).exceptionally(ex -> {\n    system.out.println(ex.tostring());// completionexception\n    return "world!";\n});\nassertequals("world!", future.get());\n\n\n\nå¦æä½ æ³è®© completablefuture çç»æå°±æ¯å¼å¸¸çè¯ï¼å¯ä»¥ä½¿ç¨ completeexceptionally() æ¹æ³ä¸ºå¶èµå¼ã\n\ncompletablefuture<string> completablefuture = new completablefuture<>();\n// ...\ncompletablefuture.completeexceptionally(\n  new runtimeexception("calculation failed!"));\n// ...\ncompletablefuture.get(); // executionexception\n\n\n\n\n# ç»å completablefuture\n\n\n# thencompose()åthencombineï¼ï¼\n\nä½¿ç¨ thencompose() æé¡ºåºé¾æ¥ä¸¤ä¸ª completablefuture å¯¹è±¡ï¼å®ç°å¼æ­¥çä»»å¡é¾ãå®çä½ç¨æ¯å°åä¸ä¸ªä»»å¡çè¿åç»æä½ä¸ºä¸ä¸ä¸ªä»»å¡çè¾å¥åæ°ï¼ä»èå½¢æä¸ä¸ªä¾èµå³ç³»ã\n\ncompletablefuture<string> future\n        = completablefuture.supplyasync(() -> "hello!")\n        .thencompose(s -> completablefuture.supplyasync(() -> s + "world!"));\nassertequals("hello!world!", future.get());\n\n\n\nå thencompose() æ¹æ³ç±»ä¼¼çè¿æ thencombine() æ¹æ³ï¼ å®åæ ·å¯ä»¥ç»åä¸¤ä¸ª completablefuture å¯¹è±¡ã\n\ncompletablefuture<string> completablefuture\n        = completablefuture.supplyasync(() -> "hello!")\n        .thencombine(completablefuture.supplyasync(\n                () -> "world!"), (s1, s2) -> s1 + s2)\n        .thencompose(s -> completablefuture.supplyasync(() -> s + "nice!"));\nassertequals("hello!world!nice!", completablefuture.get());\n\n\n\né£ thencompose() å thencombine() æä»ä¹åºå«å¢ï¼\n\n * thencompose() å¯ä»¥é¾æ¥ä¸¤ä¸ª completablefuture å¯¹è±¡ï¼å¹¶å°åä¸ä¸ªä»»å¡çè¿åç»æä½ä¸ºä¸ä¸ä¸ªä»»å¡çåæ°ï¼å®ä»¬ä¹é´å­å¨çååé¡ºåºã\n\n * thencombine() ä¼å¨ä¸¤ä¸ªä»»å¡é½æ§è¡å®æåï¼æä¸¤ä¸ªä»»å¡çç»æåå¹¶ãä¸¤ä¸ªä»»å¡æ¯å¹¶è¡æ§è¡çï¼å®ä»¬ä¹é´å¹¶æ²¡æååä¾èµé¡ºåºã\n\n\n# å¹¶è¡è¿è¡å¤ä¸ª completablefuture\n\nä½ å¯ä»¥éè¿ completablefuture ç allof()è¿ä¸ªéææ¹æ³æ¥å¹¶è¡è¿è¡å¤ä¸ª completablefuture ã\n\nå®éé¡¹ç®ä¸­ï¼æä»¬ç»å¸¸éè¦å¹¶è¡è¿è¡å¤ä¸ªäºä¸ç¸å³çä»»å¡ï¼è¿äºä»»å¡ä¹é´æ²¡æä¾èµå³ç³»ï¼å¯ä»¥äºç¸ç¬ç«å°è¿è¡ã\n\næ¯è¯´æä»¬è¦è¯»åå¤ç 6 ä¸ªæä»¶ï¼è¿ 6 ä¸ªä»»å¡é½æ¯æ²¡ææ§è¡é¡ºåºä¾èµçä»»å¡ï¼ä½æ¯æä»¬éè¦è¿åç»ç¨æ·çæ¶åå°è¿å ä¸ªæä»¶çå¤ççç»æè¿è¡ç»è®¡æ´çãåè¿ç§æåµæä»¬å°±å¯ä»¥ä½¿ç¨å¹¶è¡è¿è¡å¤ä¸ª completablefuture æ¥å¤çã\n\nç¤ºä¾ä»£ç å¦ä¸ï¼\n\ncompletablefuture<void> task1 =\n  completablefuture.supplyasync(()->{\n    //èªå®ä¹ä¸å¡æä½\n  });\n......\ncompletablefuture<void> task6 =\n  completablefuture.supplyasync(()->{\n    //èªå®ä¹ä¸å¡æä½\n  });\n......\n completablefuture<void> headerfuture=completablefuture.allof(task1,.....,task6);\n\n  try {\n    headerfuture.join();\n  } catch (exception ex) {\n    ......\n  }\nsystem.out.println("all done. ");\n\n\n\nç»å¸¸å allof() æ¹æ³æ¿æ¥å¯¹æ¯çæ¯ anyof() æ¹æ³ãallof() æ¹æ³ä¼ç­å°ææç completablefuture é½è¿è¡å®æä¹ååè¿åï¼è°ç¨ join() å¯ä»¥è®©ç¨åºç­future1 å future2 é½è¿è¡å®äºä¹ååç»§ç»­æ§è¡ã\n\ncompletablefuture<void> completablefuture = completablefuture.allof(future1, future2);\ncompletablefuture.join();\nasserttrue(completablefuture.isdone());\nsystem.out.println("all futures done...");\n\n\n\nanyof() æ¹æ³ä¸ä¼ç­å¾ææç completablefuture é½è¿è¡å®æä¹ååè¿åï¼åªè¦æä¸ä¸ªæ§è¡å®æå³å¯ï¼\n\ncompletablefuture<object> f = completablefuture.anyof(future1, future2);\nsystem.out.println(f.get());\n\n\n\n\n# completablefuture ä½¿ç¨å»ºè®®\n\n\n# ä½¿ç¨èªå®ä¹çº¿ç¨æ± \n\næä»¬ä¸é¢çä»£ç ç¤ºä¾ä¸­ï¼ä¸ºäºæ¹ä¾¿ï¼é½æ²¡æéæ©èªå®ä¹çº¿ç¨æ± ãå®éé¡¹ç®ä¸­ï¼è¿æ¯ä¸å¯åçã\n\ncompletablefuture é»è®¤ä½¿ç¨forkjoinpool.commonpool() ä½ä¸ºæ§è¡å¨ï¼è¿ä¸ªçº¿ç¨æ± æ¯å¨å±å±äº«çï¼å¯è½ä¼è¢«å¶ä»ä»»å¡å ç¨ï¼å¯¼è´æ§è½ä¸éæèé¥¥é¥¿ãå æ­¤ï¼å»ºè®®ä½¿ç¨èªå®ä¹ççº¿ç¨æ± æ¥æ§è¡ completablefuture çå¼æ­¥ä»»å¡ï¼å¯ä»¥æé«å¹¶ååº¦åçµæ´»æ§ã\n\nprivate threadpoolexecutor executor = new threadpoolexecutor(10, 10,\n        0l, timeunit.milliseconds,\n        new linkedblockingqueue<runnable>());\n\ncompletablefuture.runasync(() -> {\n \t\t//...\n}, executor);\n\n\n\n\n# å°½éé¿åä½¿ç¨ get()\n\ncompletablefutureçget()æ¹æ³æ¯é»å¡çï¼å°½éé¿åä½¿ç¨ãå¦æå¿é¡»è¦ä½¿ç¨çè¯ï¼éè¦æ·»å è¶æ¶æ¶é´ï¼å¦åå¯è½ä¼å¯¼è´ä¸»çº¿ç¨ä¸ç´ç­å¾ï¼æ æ³æ§è¡å¶ä»ä»»å¡ã\n\n    completablefuture<string> future = completablefuture.supplyasync(() -> {\n        try {\n            thread.sleep(10_000);\n        } catch (interruptedexception e) {\n            e.printstacktrace();\n        }\n        return "hello, world!";\n    });\n\n    // è·åå¼æ­¥ä»»å¡çè¿åå¼ï¼è®¾ç½®è¶æ¶æ¶é´ä¸º 5 ç§\n    try {\n        string result = future.get(5, timeunit.seconds);\n        system.out.println(result);\n    } catch (interruptedexception | executionexception | timeoutexception e) {\n        // å¤çå¼å¸¸\n        e.printstacktrace();\n    }\n}\n\n\n\nä¸é¢è¿æ®µä»£ç å¨è°ç¨ get() æ¶æåºäº timeoutexception å¼å¸¸ãè¿æ ·æä»¬å°±å¯ä»¥å¨å¼å¸¸å¤çä¸­è¿è¡ç¸åºçæä½ï¼æ¯å¦åæ¶ä»»å¡ãéè¯ä»»å¡ãè®°å½æ¥å¿ç­ã\n\n\n# æ­£ç¡®è¿è¡å¼å¸¸å¤ç\n\nä½¿ç¨ completablefutureçæ¶åä¸å®è¦ä»¥æ­£ç¡®çæ¹å¼è¿è¡å¼å¸¸å¤çï¼é¿åå¼å¸¸ä¸¢å¤±æèåºç°ä¸å¯æ§é®é¢ã\n\nä¸é¢æ¯ä¸äºå»ºè®®ï¼\n\n * ä½¿ç¨ whencomplete æ¹æ³å¯ä»¥å¨ä»»å¡å®ææ¶è§¦ååè°å½æ°ï¼å¹¶æ­£ç¡®å°å¤çå¼å¸¸ï¼èä¸æ¯è®©å¼å¸¸è¢«åå¬æä¸¢å¤±ã\n * ä½¿ç¨ exceptionally æ¹æ³å¯ä»¥å¤çå¼å¸¸å¹¶éæ°æåºï¼ä»¥ä¾¿å¼å¸¸è½å¤ä¼ æ­å°åç»­é¶æ®µï¼èä¸æ¯è®©å¼å¸¸è¢«å¿½ç¥æç»æ­¢ã\n * ä½¿ç¨ handle æ¹æ³å¯ä»¥å¤çæ­£å¸¸çè¿åç»æåå¼å¸¸ï¼å¹¶è¿åä¸ä¸ªæ°çç»æï¼èä¸æ¯è®©å¼å¸¸å½±åæ­£å¸¸çä¸å¡é»è¾ã\n * ä½¿ç¨ completablefuture.allof æ¹æ³å¯ä»¥ç»åå¤ä¸ª completablefutureï¼å¹¶ç»ä¸å¤çææä»»å¡çå¼å¸¸ï¼èä¸æ¯è®©å¼å¸¸å¤çè¿äºåé¿æéå¤\n\n\n# reference\n\n * completablefutureåçä¸å®è·µ-å¤ååå®¶ç«¯apiçå¼æ­¥å - ç¾å¢ææ¯å¢é\n\n * completablefuture è¯¦è§£ | javaguide(javaé¢è¯ + å­¦ä¹ æå)',charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"Java 8 æ°ç¹æ§",frontmatter:{title:"Java 8 æ°ç¹æ§",date:"2023-10-23T23:54:53.000Z",permalink:"/pages/b6b76e/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/03.Java/04.Java%20%E6%96%B0%E7%89%B9%E6%80%A7/01.Java8%20%E6%96%B0%E7%89%B9%E6%80%A7/01.Java%208%20%E6%96%B0%E7%89%B9%E6%80%A7.html",relativePath:"01.Java ç¥è¯ä½ç³»/03.Java/04.Java æ°ç¹æ§/01.Java8 æ°ç¹æ§/01.Java 8 æ°ç¹æ§.md",key:"v-770d0f42",path:"/pages/b6b76e/",headers:[{level:2,title:"æ¥å£çé»è®¤æ¹æ³",slug:"æ¥å£çé»è®¤æ¹æ³",normalizedTitle:"æ¥å£çé»è®¤æ¹æ³",charIndex:2},{level:2,title:"Lambdaè¡¨è¾¾å¼",slug:"lambdaè¡¨è¾¾å¼",normalizedTitle:"lambdaè¡¨è¾¾å¼",charIndex:227},{level:3,title:"è¡¨è¾¾å¼ä½ç¨å",slug:"è¡¨è¾¾å¼ä½ç¨å",normalizedTitle:"è¡¨è¾¾å¼ä½ç¨å",charIndex:1071},{level:4,title:"è®¿é®å±é¨åé",slug:"è®¿é®å±é¨åé",normalizedTitle:"è®¿é®å±é¨åé",charIndex:1081},{level:4,title:"è®¿é®æååéåéæåé",slug:"è®¿é®æååéåéæåé",normalizedTitle:"è®¿é®æååéåéæåé",charIndex:1400},{level:4,title:"è®¿é®æ¥å£é»è®¤æ¹æ³",slug:"è®¿é®æ¥å£é»è®¤æ¹æ³",normalizedTitle:"è®¿é®æ¥å£é»è®¤æ¹æ³",charIndex:1756},{level:2,title:"å½æ°å¼æ¥å£",slug:"å½æ°å¼æ¥å£",normalizedTitle:"å½æ°å¼æ¥å£",charIndex:336},{level:3,title:"åç½®å½æ°å¼æ¥å£",slug:"åç½®å½æ°å¼æ¥å£",normalizedTitle:"åç½®å½æ°å¼æ¥å£",charIndex:2517},{level:4,title:"Predicate",slug:"predicate",normalizedTitle:"predicate",charIndex:2528},{level:4,title:"Function",slug:"function",normalizedTitle:"function",charIndex:1916},{level:4,title:"Supplier",slug:"supplier",normalizedTitle:"supplier",charIndex:3376},{level:4,title:"Consumer",slug:"consumer",normalizedTitle:"consumer",charIndex:3570},{level:4,title:"Comparator",slug:"comparator",normalizedTitle:"comparator",charIndex:686},{level:2,title:"æ¹æ³åæé å½æ°å¼ç¨",slug:"æ¹æ³åæé å½æ°å¼ç¨",normalizedTitle:"æ¹æ³åæé å½æ°å¼ç¨",charIndex:4093},{level:2,title:"Optional",slug:"optional",normalizedTitle:"optional",charIndex:5368},{level:2,title:"Stream",slug:"stream",normalizedTitle:"stream",charIndex:5895},{level:3,title:"Filter(è¿æ»¤)",slug:"filter-è¿æ»¤",normalizedTitle:"filter(è¿æ»¤)",charIndex:6456},{level:3,title:"Sorted(æåº)",slug:"sorted-æåº",normalizedTitle:"sorted(æåº)",charIndex:6714},{level:3,title:"Map(æ å°)",slug:"map-æ å°",normalizedTitle:"map(æ å°)",charIndex:7202},{level:3,title:"Match(å¹é)",slug:"match-å¹é",normalizedTitle:"match(å¹é)",charIndex:7572},{level:3,title:"Count(è®¡æ°)",slug:"count-è®¡æ°",normalizedTitle:"count(è®¡æ°)",charIndex:7916},{level:3,title:"Reduce(è§çº¦)",slug:"reduce-è§çº¦",normalizedTitle:"reduce(è§çº¦)",charIndex:8018},{level:3,title:"æç»æµââcollectæ¹æ³",slug:"æç»æµ-collectæ¹æ³",normalizedTitle:"æç»æµââcollectæ¹æ³",charIndex:8816},{level:2,title:"Parallel Streams(å¹¶è¡æµ)",slug:"parallel-streams-å¹¶è¡æµ",normalizedTitle:"parallel streams(å¹¶è¡æµ)",charIndex:9075},{level:2,title:"Maps",slug:"maps",normalizedTitle:"maps",charIndex:9938},{level:3,title:"putIfAbsent",slug:"putifabsent",normalizedTitle:"putifabsent",charIndex:10070},{level:3,title:"computeIfAbsentåcomputeIfPresent",slug:"computeifabsentåcomputeifpresent",normalizedTitle:"computeifabsentåcomputeifpresent",charIndex:10521},{level:3,title:"remove",slug:"remove",normalizedTitle:"remove",charIndex:11228},{level:3,title:"getOrDefault",slug:"getordefault",normalizedTitle:"getordefault",charIndex:11340},{level:3,title:"merge",slug:"merge",normalizedTitle:"merge",charIndex:11448}],headersStr:"æ¥å£çé»è®¤æ¹æ³ Lambdaè¡¨è¾¾å¼ è¡¨è¾¾å¼ä½ç¨å è®¿é®å±é¨åé è®¿é®æååéåéæåé è®¿é®æ¥å£é»è®¤æ¹æ³ å½æ°å¼æ¥å£ åç½®å½æ°å¼æ¥å£ Predicate Function Supplier Consumer Comparator æ¹æ³åæé å½æ°å¼ç¨ Optional Stream Filter(è¿æ»¤) Sorted(æåº) Map(æ å°) Match(å¹é) Count(è®¡æ°) Reduce(è§çº¦) æç»æµââcollectæ¹æ³ Parallel Streams(å¹¶è¡æµ) Maps putIfAbsent computeIfAbsentåcomputeIfPresent remove getOrDefault merge",content:'# æ¥å£çé»è®¤æ¹æ³\n\nJava8è½å¤éè¿defaultå³é®å­ç»æ¥å£æ·»å é»è®¤æ¹æ³ãä¹ç§°ä¸ºèææ©å±æ¹æ³ã\n\npackage java8.defaultmethod;\n\npublic interface Formula {\n    double calculate(int a);\n\n    //æ¥å£é»è®¤æ¹æ³\n    default double sqrt(int a) {\n        return Math.sqrt(a);\n    }\n}\n\n\n\n# Lambdaè¡¨è¾¾å¼\n\nLambda è¡¨è¾¾å¼å¯ä»¥ç®æ´å°è¡¨ç¤ºä¸ä¸ªè¡ä¸ºæèä¼ éä»£ç ãLambda è¡¨è¾¾å¼å¯ä»¥çæå¿åå½æ°ï¼åå¿åç±»ä¸æ ·ï¼å®ä¹è½ä½ä¸ºåæ°ä¼ éç»ä¸ä¸ªæ¹æ³ã\n\nLambda è¡¨è¾¾å¼æä¸ä¸ªé¨åï¼\n\n * åæ°åè¡¨ââå½æ°å¼æ¥å£çå¯ä¸æ½è±¡æ¹æ³çåæ°\n * ç®­å¤´ââç®­å¤´->æåæ°åè¡¨ä¸ Lambda ä¸»ä½åéå¼ã\n * Lambda ä¸»ä½ââå½æ°å¼æ¥å£å¯ä¸æ½è±¡æ¹æ³çæ¹æ³ä½\n\n\n\nLambda çåºæ¬è¯­æ³ï¼\n\n * è¡¨è¾¾å¼-é£æ ¼\n   \n   (parameters) -> expression\n   \n\n * å-é£æ ¼\n   \n   (parameters) -> { statements; }\n   \n\nä½¿ç¨Lambdaå¿é¡»å·ææ¥å£ï¼å¹¶ä¸æ¥å£ä¸­çæ½è±¡æ¹æ³åªæä¸ä¸ªã\n\nJava8ä¹åæåºå­ç¬¦ä¸²\n\n List<String> names = Arrays.asList("peter", "anna", "mike", "xenia");\n        Collections.sort(names, new Comparator<String>() {\n            @Override\n            public int compare(String o1, String o2) {\n                return o1.compareTo(o2);\n            }\n        });\n\n\nJava8ä½¿ç¨Lambdaè¡¨è¾¾å¼æåºå­ç¬¦ä¸²\n\n Collections.sort(names, (String a, String b) -> {\n            return a.compareTo(b);\n        });\n\n\nå½æ°ä½åªæä¸è¡ä»£ç çï¼å¯ä»¥å»æå¤§æ¬å·åreturnå³é®å­ï¼åçæ´ç®æ´\n\n Collections.sort(names, (a, b) -> a.compareTo(b));\n\n\n\n# è¡¨è¾¾å¼ä½ç¨å\n\n# è®¿é®å±é¨åé\n\nlambdaå¯ä»¥å¼ç¨å¤é¨å±é¨åéï¼ä½æ¯å¼ç¨çåéä¸è½åä¿®æ¹ï¼å·æéå¼finalå«ä¹ï¼ï¼ä¸è¿å¼ç¨çåéå¯ä»¥ä¸å£°æfinalã\n\nint num = 1;\nArrays.asList(1, 2, 3).sort((a, b) -> {\n    //lambdaè¡¨è¾¾å¼å¼ç¨çåéä¸è½åä¿®æ¹ï¼å·æéå¼finalå«ä¹ï¼ï¼ä½æ¯å¼ç¨çåéå¯ä»¥ä¸å£°æfinal\n    num = num + 2;  //Variable used in lambda expression should be final or effectively final \n    return a > b ? a : b;\n});\n        \n\n\n# è®¿é®æååéåéæåé\n\nlambdaè¡¨è¾¾å¼å¯ä»¥è¯»åæååéåéæåé\n\npublic class LambdaScope {\n    static int outerStaticNum;\n    int outerNum;\n\n    void testScope() {\n        //lambdaè¡¨è¾¾å¼å¯ä»¥è¯»åæååéåéæåé\n        Coverter<Integer, String> outerCoverter = (from) -> {\n            outerNum = 21;\n            outerStaticNum = 32;\n            return String.valueOf(from);\n        };\n    }\n}\n\n\n# è®¿é®æ¥å£é»è®¤æ¹æ³\n\nlambdaè¡¨è¾¾å¼æ æ³è®¿é®æ¥å£é»è®¤æ¹æ³ã\n\n\n# å½æ°å¼æ¥å£\n\nä¸ºäºä½¿ç°æçå½æ°åå¥½æ¯æLambdaè¡¨è¾¾å¼ï¼å¢å å½æ°å¼æ¥å£çæ¦å¿µã\n\nå½æ°å¼æ¥å£æ¯æä»ä»åå«ä¸ä¸ªæ½è±¡æ¹æ³ï¼ä½æ¯å¯ä»¥æå¤ä¸ªéæ½è±¡æ¹æ³ï¼ä¹å°±æ¯æ¥å£çé»è®¤æ¹æ³ï¼çæ¥å£ãè¿ç§æ¥å£å¯ä»¥è¢«éå¼çè½¬æ¢ælambdaè¡¨è¾¾å¼ã\n\nJava8å¢å ä¸ä¸ªæ³¨è§£@FunctionalInterfaceå£°ææ¯ä¸ä¸ªå½æ°å¼æ¥å£ï¼å¦ææ¥å£å¤äºä¸ä¸ªæ½è±¡æ¹æ³ï¼ç¼è¯å¨å°±ä¼æ¥éãä½æ¯è¿ä¸ªæ³¨è§£ä¸æ¯å¿é¡»çï¼åªè¦æ¥å£åªåå«ä¸ä¸ªæ½è±¡æ¹æ³ï¼èææºä¼èªå¨å¤æ­è¯¥æ¥å£çä¸ºå½æ°å¼æ¥å£ã\n\nç¤ºä¾ï¼\n\n/**\n * @FunctionalInterfaceå£°ææ¯ä¸ä¸ªå½æ°å¼æ¥å£ï¼å¦ææ¥å£å¤äºä¸ä¸ªæ½è±¡æ¹æ³ï¼è¿ä¸ªæ³¨è§£å°±ä¼æ¥é\n */\n@FunctionalInterface\npublic interface Coverter<F, T> {\n    T convert(F f);\n}\nCoverter<String, Integer> coverter = (s) -> Integer.valueOf(s);\nInteger convert = coverter.convert("33");\nSystem.out.println(convert.getClass());\n\n\nå¤§é¨åå½æ°å¼æ¥å£é½ä¸ç¨èªå·±åï¼Java8é½å®ç°å¥½äºï¼è¿äºæ¥å£é½æ¾å¨java.util.functionåéã\n\næ³¨æï¼ å¦æä¸ä¸ªæ¥å£ä¸­å£°æçæ½è±¡æ¹æ³æ¯éåäºè¶ç±»Objectç±»ä¸­ä»»æä¸ä¸ªpublicæ¹æ³ï¼é£ä¹è¿äºæ½è±¡æ¹æ³å¹¶ä¸ä¼ç®å¥æ¥å£çæ½è±¡æ¹æ³æ°éä¸­ãå ä¸ºä»»ä½æ¥å£çå®ç°é½ä¼ä»å¶ç¶ç±»Objectæå¶å®å°æ¹è·å¾è¿äºæ¹æ³çå®ç°ã æ¯å¦Comparatoræ¥å£æä¸¤ä¸ªæ½è±¡æ¹æ³ï¼ä½æ¯ equalså¹¶ä¸ç®å¥æ½è±¡æ¹æ³æ°éã\n\n\n# åç½®å½æ°å¼æ¥å£\n\n# Predicate\n\nPredicateæ¥å£æ¯åªæä¸ä¸ªåæ°è¿åå¸å°ç±»åå¼çæ­è¨åæ¥å£ãè¯¥æ¥å£åå«å¤ç§é»è®¤æ¹æ³å°Predicateç»åæå¶ä»å¤æçé»è¾ï¼æ¯å¦ï¼ä¸ãæãéï¼\n\nPredicate<String> predicate = (s) -> s.length() > 0;\nboolean testResult;\ntestResult = predicate.test("word"); //true\ntestResult = predicate.negate().test("word"); //false\nSystem.out.println(testResult);\n\nPredicate<String> isEmpty = String::isEmpty;\ntestResult = isEmpty.test(""); //true\nSystem.out.println(testResult);\n\nPredicate<String> isNotEmpty = isEmpty.negate();\ntestResult = isNotEmpty.test(""); //false\nSystem.out.println(testResult);\n\n\n# Function\n\nFunction æ¥å£æ¥æ¶ä¸ä¸ªåæ°çæç»æãé»è®¤æ¹æ³ï¼compose, andThenï¼å¯ä»¥å°å¤ä¸ªå½æ°é¾æ¥å°ä¸èµ·ã\n\nFunction<String, Integer> toInteger = Integer::valueOf;\nFunction<String, String> backToString = toInteger.andThen(String::valueOf);\nString applyStr = backToString.apply("23");\nSystem.out.println(applyStr.getClass()); //class java.lang.String\n\n\n# Supplier\n\nSupplier æ¥å£äº§çç»ç¹æ³åç±»åçç»æï¼ä¸æ¥åä»»ä½åæ°\n\nSupplier<Person> personSupplier = Person::new;\nPerson person = personSupplier.get();\nSystem.out.println(person); //Person{name=\'null\', nike=\'null\'}\n\n\n# Consumer\n\nConsumer æ¥å£è¡¨ç¤ºè¦å¯¹åä¸ªè¾å¥åæ°æ§è¡çæä½\n\nConsumer<Person> personConsumer = (p) -> System.out.println(p.nike);\npersonConsumer.accept(new Person("å¼ ä¸", "zhangsan")); //zhangsan\n\n\n# Comparator\n\nComparator æ¯èJavaçç»å¸æ¥å£ï¼Java8æ·»å äºå¤ç§é»è®¤æ¹æ³\n\nComparator<Person> personComparator = (p1, p2) -> p1.name.compareTo(p2.name);\nPerson p1 = new Person("John", "Doe");\nPerson p2 = new Person("Alice", "Wonderland");\nSystem.out.println(personComparator.compare(p1, p2)); //9\nSystem.out.println(personComparator.reversed().compare(p1, p2)); //-9\n\n\n\n# æ¹æ³åæé å½æ°å¼ç¨\n\nJava8æ¯æéè¿::å³é®å­ä¼ éæ¹æ³ææé å½æ°çå¼ç¨ã\n\néææ¹æ³çå¼ç¨ï¼\n\nCoverter<String, Integer> coverter = Integer::valueOf;\nInteger convert = coverter.convert("22");\nSystem.out.println(convert.getClass());\n\n\nå¯¹è±¡æ¹æ³å¼ç¨ï¼\n\npackage java8.references;\n\npublic class SomeThing {\n    String startWith(String s) {\n        return String.valueOf(s.charAt(0));\n    }\n}\nSomeThing someThing = new SomeThing();\nCoverter<String, String> coverterStr = someThing::startWith;\nString firstChar = coverterStr.convert("lucky");\nSystem.out.println(firstChar);\n\n\næé æ¹æ³çå¼ç¨ï¼å®ä¹ä¸ä¸ªå¤æé æ¹æ³çç±»\n\npackage java8.references;\n\npublic class Person {\n    String name;\n    String nike;\n\n    public Person() {\n    }\n\n    public Person(String name, String nike) {\n        this.name = name;\n        this.nike = nike;\n    }\n\n    @Override\n    public String toString() {\n        return "Person{" +\n                "name=\'" + name + \'\\\'\' +\n                ", nike=\'" + nike + \'\\\'\' +\n                \'}\';\n    }\n}\n\n\nå®ä¹ä¸ä¸ªåå»ºPersonå¯¹è±¡çå·¥åæ¥å£\n\npublic interface PersonFactory<P extends Person> {\n    P create(String name, String nike);\n}\n\n\néè¿Person::newå°æé æ¹æ³å¼ç¨ä¼ ç»PersonFactoryãJavaç¼è¯å¨ä¼èªå¨æ ¹æ®createä¼ éåæ°ä¸ªæ°éæ©åéçæé æ¹æ³ã\n\nPersonFactory<Person> personPersonFactory = Person::new;\nPerson person = personPersonFactory.create("å¼ ", "ä¸");\nSystem.out.println(person);\n\n\n\n# Optional\n\nOptional æ¯ç¨æ¥é²æ­¢NullPointerException çæ¼äº®å·¥å·ã Optional æ¯ä¸ä¸ªç®åçå®¹å¨ï¼å¶å¼å¯è½æ¯nullæèä¸æ¯nullãå¨Java8åºè¯¥è¿åOptional èä¸æ¯nullã\n\n//ä¸ºéç©ºçå¼åå»ºä¸ä¸ªOptional\nOptional<String> optional = Optional.of("bdm");\n//å¦æå¼å­å¨è¿åtureï¼å¦åè¿åfalse\nboolean present = optional.isPresent(); //true\n//å¦ææå¼å°å¼è¿åï¼å¦åæåºNoSuchElementExceptionå¼å¸¸\nString bdm = optional.get(); //bdm\n//å¦ææå¼å°å¼è¿åï¼å¦åè¿åæå®çå¶å®å¼\nString orElseVal = optional.orElse("empty"); //bdm\n//å¦æOptionalå®ä¾æå¼åä¸ºå¶è°ç¨consumerï¼å¦åä¸åå¤ç\noptional.ifPresent((t) -> System.out.println("ifPresent:" + t)); //ifPresent:bdm\n\n\n\n# Stream\n\njava.util.Stream è¡¨ç¤ºè½åºç¨å¨ä¸ç»åç´ ä¸ä¸æ¬¡æ§è¡çæä½åºåãStream æä½åä¸ºä¸­é´æä½æèæç»æä½ä¸¤ç§ï¼æç»æä½è¿åä¸ç¹å®ç±»åçè®¡ç®ç»æï¼èä¸­é´æä½è¿åStreamæ¬èº«ï¼è¿æ ·ä½ å°±å¯ä»¥å°å¤ä¸ªæä½ä¾æ¬¡ä¸²èµ·æ¥ãStream çåå»ºéè¦æå®ä¸ä¸ªæ°æ®æºï¼æ¯å¦ java.util.Collection çå­ç±»ï¼List æè Setï¼ Map ä¸æ¯æãStream çæä½å¯ä»¥ä¸²è¡æ§è¡æèå¹¶è¡æ§è¡ã\n\nJava 8æ©å±äºéåç±»ï¼å¯ä»¥éè¿ Collection.stream() æè Collection.parallelStream() æ¥åå»ºä¸ä¸ªStreamã\n\nä¸é¢ä»ç»Stream å¸¸ç¨æ¹æ³ï¼ååå¤æ°æ®\n\nList<String> stringList = new ArrayList<>();\nstringList.add("ddd2");\nstringList.add("aaa2");\nstringList.add("bbb1");\nstringList.add("aaa1");\nstringList.add("bbb3");\nstringList.add("ccc");\nstringList.add("bbb2");\nstringList.add("ddd1");\n\n\n\n# Filter(è¿æ»¤)\n\nè¿æ»¤éè¿ä¸ä¸ªpredicateæ¥å£æ¥è¿æ»¤å¹¶åªä¿çç¬¦åæ¡ä»¶çåç´ ï¼è¯¥æä½å±äºä¸­é´æä½ï¼æä»¥æä»¬å¯ä»¥å¨è¿æ»¤åçç»ææ¥åºç¨å¶ä»Streamæä½ï¼æ¯å¦forEachï¼ãforEachéè¦ä¸ä¸ªå½æ°æ¥å¯¹è¿æ»¤åçåç´ ä¾æ¬¡æ§è¡ãforEachæ¯ä¸ä¸ªæç»æä½ï¼æä»¥æä»¬ä¸è½å¨forEachä¹åæ¥æ§è¡å¶ä»Streamæä½ã\n\nstringList.stream().filter(s -> s.startsWith("a")).forEach(s -> System.out.println(s));\n\n\n\n# Sorted(æåº)\n\nsortedï¼æåº ï¼æ¯ä¸ªä¸­é´æä½ï¼å¦ææ²¡ææå®èªå®ä¹Comparatorçè¯ï¼ä¼ä½¿ç¨é»è®¤æåºã æåºä¹ååæçæ°æ®æºä¸ä¼æ¹åã\n\n //sorted æåº ä¸­é´æä½ å¦ææ²¡ææå®Comparatorçè¯ï¼ä¼ä½¿ç¨é»è®¤æåº æåºä¹åstringListä¸ä¼æ¹å\nstringList.stream().sorted().forEach(s -> System.out.println(s));\n\n\nå¤å­æ®µæåºï¼\n\n//å¯¹è±¡éåä»¥ç±»å±æ§ä¸éåº å±æ§äºååº\nlist.stream().sorted(Comparator.comparing(ç±»::å±æ§ä¸,Comparator.reverseOrder()).thenComparing(ç±»::å±æ§äº));\n\n\n\nåºåï¼\n\n//æ¹å¼ä¸ï¼åä»¥å±æ§ä¸ååºï¼åå±æ§ä¸éåºæåº\nComparator.comparing(ç±»::å±æ§ä¸).reversed();\n//æ¹å¼äºï¼ç´æ¥å°å±æ§ä¸éåºæåº\nComparator.comparing(ç±»::å±æ§ä¸,Comparator.reverseOrder());\n\n\n\n# Map(æ å°)\n\nmapæ¯ä¸ªä¸­é´æä½ï¼ä¼å°åç´ æ ¹æ®æå®ç Function æ¥å£ä¾æ¬¡å°åç´ è½¬æå¦å¤çå¯¹è±¡ã è¿åçStreamç±»åæ¯æ ¹æ®mapä¼ éè¿å»çå½æ°çè¿åå¼å³å®çã\n\nstringList.stream().map(String::toUpperCase).forEach(item -> System.out.println(item));\n\n\nç»MenuInfoçå­æ®µèµå¼ã\n\nList<MenuInfo> menuInfoList = menuInfoList.stream().map(e -> {\n            e.setMenuName(e.getMeunCode());\n            return e;\n        }).collect(Collectors.toList());\n\n\n\n# Match(å¹é)\n\nææå¹éæä½é½æ¯æç»æä½ãStreamæä¾äºå¤ç§å¹éæä½ï¼åè®¸æ£æµæå®çPredicateæ¯å¦å¹éæ´ä¸ªStreamï¼å¹¶è¿åä¸ä¸ª boolean ç±»åçå¼ã\n\nboolean matchResult;\nmatchResult = stringList.stream().anyMatch(s -> s.startsWith("a")); //true\nmatchResult = stringList.stream().allMatch(s -> s.startsWith("a")); //false\nmatchResult = stringList.stream().noneMatch(s -> s.startsWith("a")); //false\n\n\n\n# Count(è®¡æ°)\n\nè®¡æ°æ¯ä¸ä¸ª æç»æä½ï¼è¿åStreamä¸­åç´ çä¸ªæ°ï¼è¿åå¼ç±»åæ¯ longã\n\nlong count = stringList.stream().count(); //8\n\n\n\n# Reduce(è§çº¦)\n\nè¿æ¯ä¸ä¸ª æç»æä½ ï¼åè®¸éè¿æå®çå½æ°æ¥å°streamä¸­çå¤ä¸ªåç´ è§çº¦ä¸ºä¸ä¸ªåç´ ï¼è§çº¦åçç»ææ¯éè¿Optional æ¥å£è¡¨ç¤ºçã\n\nOptional<String> reduce = stringList.stream().reduce((s1, s2) -> s1 + "#" + s2); //ddd2#aaa2#bbb1#aaa1#bbb3#ccc#bbb2#ddd1\nreduce.ifPresent(System.out::println);\n\nString concatReduce = Stream.of("A", "B", "C", "D").reduce("", (s1, s2) -> s1.concat(s2)); //ABCD\n// æ±æå°å¼ï¼minValue = -3.0\ndouble minValue = Stream.of(-1.5, 1.0, -3.0, -2.0).reduce(Double.MAX_VALUE, Double::min);\n// æ±åï¼sumValue = 10, æèµ·å§å¼\nint sumValue = Stream.of(1, 2, 3, 4).reduce(0, Integer::sum);\n// æ±åï¼sumValue = 10, æ èµ·å§å¼\nsumValue = Stream.of(1, 2, 3, 4).reduce(Integer::sum).get();\n\nreduce = Stream.of("a", "B", "c", "D", "e", "F").filter(s -> s.compareTo("Z") > 0).reduce((s1, s2) -> s1.concat(s2)); //ace\nreduce.ifPresent(System.out::println);\n\n\n\n# æç»æµââcollectæ¹æ³\n\ngroupingByï¼åç»ï¼ï¼\n\næ ¹æ®èåç±»åè¿è¡åç»\n\nmenu.stream().collect(Collectors.groupingBy(Menu::getMenuType, Collectors.toList()));\n\n\nListè½¬Mapï¼\n\nMap<String, String> menuMap = menu.stream().collect(Collectors.toMap(Menu::getMenuType, Menu.getMwnuName()));\n\n\n\n# Parallel Streams(å¹¶è¡æµ)\n\nStreamæä¸²è¡åå¹¶è¡ä¸¤ç§ï¼ä¸²è¡Streamä¸çæä½æ¯å¨ä¸ä¸ªçº¿ç¨ä¸­ä¾æ¬¡å®æï¼èå¹¶è¡Streamåæ¯å¨å¤ä¸ªçº¿ç¨ä¸åæ¶æ§è¡ã\n\né¦åæä»¬åå»ºä¸ä¸ªæ²¡æéå¤åç´ çå¤§è¡¨ï¼\n\nint max = 10000;\nList<String> values = new ArrayList<>(max);\nfor (int i = 0; i < max; i++) {\n    UUID uuid = UUID.randomUUID();\n    values.add(uuid.toString());\n}\n\n\né¦åä½¿ç¨ä¸²è¡æµæåº\n\nlong t0 = System.nanoTime();\nlong count = values.stream().sorted().count();\nSystem.out.println(count);\nlong t1 = System.nanoTime();\nlong millis = TimeUnit.NANOSECONDS.toMillis(t1 - t0);\nSystem.out.println(String.format("sequential sort took: %d ms", millis)); //84 ms\n\n\nç¶åä½¿ç¨å¹¶è¡æµæåº\n\nt0 = System.nanoTime();\ncount = values.parallelStream().sorted().count();\nSystem.out.println(count);\nt1 = System.nanoTime();\nmillis = TimeUnit.NANOSECONDS.toMillis(t1 - t0);\nSystem.out.println(String.format("sequential sort took: %d ms", millis)); //44 ms\n\n\nå¹¶è¡æµå¿«äº50%ï¼åªè¦å°streamæ¹æparallelStreamå³å¯ã\n\n\n# Maps\n\nMapsä¸æ¯æstreamï¼ä¸è¿map.keySet().stream(),map.values().stream()åmap.entrySet().stream()å¯ä»¥è½¬æ¢æstreamã\n\nJava8ä¸­Mapsè¿æä¾æ°çæ¹æ³å¤çæ¥å¸¸ä»»å¡ã\n\n\n# putIfAbsent\n\nputIfAbsentå¨æ¾å¥æ°æ®æ¶ï¼å¦æå­å¨éå¤çkeyï¼é£ä¹putIfAbsentä¸ä¼æ¾å¥å¼ã\n\nMap<Integer, String> map = new HashMap();\nmap.put(1, "zhagnsan");\nmap.put(2, "lisi");\nmap.keySet().stream();\nmap.values().stream();\nmap.entrySet().stream();\n\n\n//putIfAbsentå¨æ¾å¥æ°æ®æ¶ï¼å¦æå­å¨éå¤çkeyï¼é£ä¹putIfAbsentä¸ä¼æ¾å¥å¼ã\nmap.putIfAbsent(2, "wangwu");\nSystem.out.println(map.get(2)); //lisi\n\n//å¦ææ¾å¥æ°æ®çkeyå·²ç»å­å¨ä¸Mapä¸­ï¼æåæ¾å¥çæ°æ®ä¼è¦çä¹åå­å¨çæ°æ®\nmap.put(2, "wangwu");\nSystem.out.println(map.get(2)); //wangwu\n\n\n\n# computeIfAbsentåcomputeIfPresent\n\næ°æ®åå¤ï¼\n\nMap<Integer, String> map = new HashMap<>();\nfor (int i = 0; i < 10; i++) {\n    map.put(i, "val" + i);\n}\nmap.forEach((key, value) -> System.out.print(value + " ")); //val0 val1 val2 val3 val4 val5 val6 val7 val8 val9\n\n\ncomputeIfAbsentï¼æ ¹æ®keyæ¾valueï¼å¦æè¿åå¼ä¸ºnullï¼åæ§è¡ç¬¬äºä¸ªåæ°çæ¹æ³ä½ï¼å°æ¹æ³ä½çå¼è¿åå¹¶å­å°mapã\n\nmap.computeIfAbsent(3, val -> "bdm" + val); //val3\nmap.computeIfAbsent(23, val -> "bdm" + val); //bdm23\n\n\ncomputeIfPresentï¼æ ¹æ®keyæ¾valueï¼å¦ææ¾å°å¯¹åºvalueï¼å°±å°å¼ä¼ å°ç¬¬äºä¸ªåæ°æ¹æ³ä½æ§è¡ï¼å°æ¹æ³ä½çå¼è¿åå¹¶å­å°mapãå¦ææ¾ä¸å°å¯¹åºçvalueï¼å°±ä¸æ§è¡æ¹æ³ä½ã\n\nmap.computeIfPresent(3, (k, v) -> v + "aa"); //val3aa\nSystem.out.println(map.get(3));\nmap.computeIfPresent(23, (k, v) -> v + "aa"); //null\nSystem.out.println(map.get(23));\n\n\n\n# remove\n\nå¨mapå é¤é®å¼é½éç½®çé¡¹ã\n\nmap.remove(3, "val33");\nmap.get(3) //val3\nmap.remove(3, "val3");\nmap.get(3) //null\n\n\n\n# getOrDefault\n\néè¿keyè·åvalueï¼å¦æè·åçvalueå¼ä¸ºnullï¼å°±å°ç¬¬äºä¸ªåæ°çå¼è¿åã\n\nmap.getOrDefault(42, "not found")//not found\n\n\n\n# merge\n\nMerge åçäºææ¯å¦æé®åä¸å­å¨åæå¥ï¼å¦åå¯¹åé®å¯¹åºçå¼ååå¹¶æä½å¹¶éæ°æå¥å°mapä¸­ã\n\nmap.merge(9, "aa", (val, newVal) -> val.concat(newVal));\nmap.get(9); //val9aa\nmap.merge(10, "bb", (val, newVal) -> val.concat(newVal));\nmap.get(10); //bb\n',normalizedContent:'# æ¥å£çé»è®¤æ¹æ³\n\njava8è½å¤éè¿defaultå³é®å­ç»æ¥å£æ·»å é»è®¤æ¹æ³ãä¹ç§°ä¸ºèææ©å±æ¹æ³ã\n\npackage java8.defaultmethod;\n\npublic interface formula {\n    double calculate(int a);\n\n    //æ¥å£é»è®¤æ¹æ³\n    default double sqrt(int a) {\n        return math.sqrt(a);\n    }\n}\n\n\n\n# lambdaè¡¨è¾¾å¼\n\nlambda è¡¨è¾¾å¼å¯ä»¥ç®æ´å°è¡¨ç¤ºä¸ä¸ªè¡ä¸ºæèä¼ éä»£ç ãlambda è¡¨è¾¾å¼å¯ä»¥çæå¿åå½æ°ï¼åå¿åç±»ä¸æ ·ï¼å®ä¹è½ä½ä¸ºåæ°ä¼ éç»ä¸ä¸ªæ¹æ³ã\n\nlambda è¡¨è¾¾å¼æä¸ä¸ªé¨åï¼\n\n * åæ°åè¡¨ââå½æ°å¼æ¥å£çå¯ä¸æ½è±¡æ¹æ³çåæ°\n * ç®­å¤´ââç®­å¤´->æåæ°åè¡¨ä¸ lambda ä¸»ä½åéå¼ã\n * lambda ä¸»ä½ââå½æ°å¼æ¥å£å¯ä¸æ½è±¡æ¹æ³çæ¹æ³ä½\n\n\n\nlambda çåºæ¬è¯­æ³ï¼\n\n * è¡¨è¾¾å¼-é£æ ¼\n   \n   (parameters) -> expression\n   \n\n * å-é£æ ¼\n   \n   (parameters) -> { statements; }\n   \n\nä½¿ç¨lambdaå¿é¡»å·ææ¥å£ï¼å¹¶ä¸æ¥å£ä¸­çæ½è±¡æ¹æ³åªæä¸ä¸ªã\n\njava8ä¹åæåºå­ç¬¦ä¸²\n\n list<string> names = arrays.aslist("peter", "anna", "mike", "xenia");\n        collections.sort(names, new comparator<string>() {\n            @override\n            public int compare(string o1, string o2) {\n                return o1.compareto(o2);\n            }\n        });\n\n\njava8ä½¿ç¨lambdaè¡¨è¾¾å¼æåºå­ç¬¦ä¸²\n\n collections.sort(names, (string a, string b) -> {\n            return a.compareto(b);\n        });\n\n\nå½æ°ä½åªæä¸è¡ä»£ç çï¼å¯ä»¥å»æå¤§æ¬å·åreturnå³é®å­ï¼åçæ´ç®æ´\n\n collections.sort(names, (a, b) -> a.compareto(b));\n\n\n\n# è¡¨è¾¾å¼ä½ç¨å\n\n# è®¿é®å±é¨åé\n\nlambdaå¯ä»¥å¼ç¨å¤é¨å±é¨åéï¼ä½æ¯å¼ç¨çåéä¸è½åä¿®æ¹ï¼å·æéå¼finalå«ä¹ï¼ï¼ä¸è¿å¼ç¨çåéå¯ä»¥ä¸å£°æfinalã\n\nint num = 1;\narrays.aslist(1, 2, 3).sort((a, b) -> {\n    //lambdaè¡¨è¾¾å¼å¼ç¨çåéä¸è½åä¿®æ¹ï¼å·æéå¼finalå«ä¹ï¼ï¼ä½æ¯å¼ç¨çåéå¯ä»¥ä¸å£°æfinal\n    num = num + 2;  //variable used in lambda expression should be final or effectively final \n    return a > b ? a : b;\n});\n        \n\n\n# è®¿é®æååéåéæåé\n\nlambdaè¡¨è¾¾å¼å¯ä»¥è¯»åæååéåéæåé\n\npublic class lambdascope {\n    static int outerstaticnum;\n    int outernum;\n\n    void testscope() {\n        //lambdaè¡¨è¾¾å¼å¯ä»¥è¯»åæååéåéæåé\n        coverter<integer, string> outercoverter = (from) -> {\n            outernum = 21;\n            outerstaticnum = 32;\n            return string.valueof(from);\n        };\n    }\n}\n\n\n# è®¿é®æ¥å£é»è®¤æ¹æ³\n\nlambdaè¡¨è¾¾å¼æ æ³è®¿é®æ¥å£é»è®¤æ¹æ³ã\n\n\n# å½æ°å¼æ¥å£\n\nä¸ºäºä½¿ç°æçå½æ°åå¥½æ¯ælambdaè¡¨è¾¾å¼ï¼å¢å å½æ°å¼æ¥å£çæ¦å¿µã\n\nå½æ°å¼æ¥å£æ¯æä»ä»åå«ä¸ä¸ªæ½è±¡æ¹æ³ï¼ä½æ¯å¯ä»¥æå¤ä¸ªéæ½è±¡æ¹æ³ï¼ä¹å°±æ¯æ¥å£çé»è®¤æ¹æ³ï¼çæ¥å£ãè¿ç§æ¥å£å¯ä»¥è¢«éå¼çè½¬æ¢ælambdaè¡¨è¾¾å¼ã\n\njava8å¢å ä¸ä¸ªæ³¨è§£@functionalinterfaceå£°ææ¯ä¸ä¸ªå½æ°å¼æ¥å£ï¼å¦ææ¥å£å¤äºä¸ä¸ªæ½è±¡æ¹æ³ï¼ç¼è¯å¨å°±ä¼æ¥éãä½æ¯è¿ä¸ªæ³¨è§£ä¸æ¯å¿é¡»çï¼åªè¦æ¥å£åªåå«ä¸ä¸ªæ½è±¡æ¹æ³ï¼èææºä¼èªå¨å¤æ­è¯¥æ¥å£çä¸ºå½æ°å¼æ¥å£ã\n\nç¤ºä¾ï¼\n\n/**\n * @functionalinterfaceå£°ææ¯ä¸ä¸ªå½æ°å¼æ¥å£ï¼å¦ææ¥å£å¤äºä¸ä¸ªæ½è±¡æ¹æ³ï¼è¿ä¸ªæ³¨è§£å°±ä¼æ¥é\n */\n@functionalinterface\npublic interface coverter<f, t> {\n    t convert(f f);\n}\ncoverter<string, integer> coverter = (s) -> integer.valueof(s);\ninteger convert = coverter.convert("33");\nsystem.out.println(convert.getclass());\n\n\nå¤§é¨åå½æ°å¼æ¥å£é½ä¸ç¨èªå·±åï¼java8é½å®ç°å¥½äºï¼è¿äºæ¥å£é½æ¾å¨java.util.functionåéã\n\næ³¨æï¼ å¦æä¸ä¸ªæ¥å£ä¸­å£°æçæ½è±¡æ¹æ³æ¯éåäºè¶ç±»objectç±»ä¸­ä»»æä¸ä¸ªpublicæ¹æ³ï¼é£ä¹è¿äºæ½è±¡æ¹æ³å¹¶ä¸ä¼ç®å¥æ¥å£çæ½è±¡æ¹æ³æ°éä¸­ãå ä¸ºä»»ä½æ¥å£çå®ç°é½ä¼ä»å¶ç¶ç±»objectæå¶å®å°æ¹è·å¾è¿äºæ¹æ³çå®ç°ã æ¯å¦comparatoræ¥å£æä¸¤ä¸ªæ½è±¡æ¹æ³ï¼ä½æ¯ equalså¹¶ä¸ç®å¥æ½è±¡æ¹æ³æ°éã\n\n\n# åç½®å½æ°å¼æ¥å£\n\n# predicate\n\npredicateæ¥å£æ¯åªæä¸ä¸ªåæ°è¿åå¸å°ç±»åå¼çæ­è¨åæ¥å£ãè¯¥æ¥å£åå«å¤ç§é»è®¤æ¹æ³å°predicateç»åæå¶ä»å¤æçé»è¾ï¼æ¯å¦ï¼ä¸ãæãéï¼\n\npredicate<string> predicate = (s) -> s.length() > 0;\nboolean testresult;\ntestresult = predicate.test("word"); //true\ntestresult = predicate.negate().test("word"); //false\nsystem.out.println(testresult);\n\npredicate<string> isempty = string::isempty;\ntestresult = isempty.test(""); //true\nsystem.out.println(testresult);\n\npredicate<string> isnotempty = isempty.negate();\ntestresult = isnotempty.test(""); //false\nsystem.out.println(testresult);\n\n\n# function\n\nfunction æ¥å£æ¥æ¶ä¸ä¸ªåæ°çæç»æãé»è®¤æ¹æ³ï¼compose, andthenï¼å¯ä»¥å°å¤ä¸ªå½æ°é¾æ¥å°ä¸èµ·ã\n\nfunction<string, integer> tointeger = integer::valueof;\nfunction<string, string> backtostring = tointeger.andthen(string::valueof);\nstring applystr = backtostring.apply("23");\nsystem.out.println(applystr.getclass()); //class java.lang.string\n\n\n# supplier\n\nsupplier æ¥å£äº§çç»ç¹æ³åç±»åçç»æï¼ä¸æ¥åä»»ä½åæ°\n\nsupplier<person> personsupplier = person::new;\nperson person = personsupplier.get();\nsystem.out.println(person); //person{name=\'null\', nike=\'null\'}\n\n\n# consumer\n\nconsumer æ¥å£è¡¨ç¤ºè¦å¯¹åä¸ªè¾å¥åæ°æ§è¡çæä½\n\nconsumer<person> personconsumer = (p) -> system.out.println(p.nike);\npersonconsumer.accept(new person("å¼ ä¸", "zhangsan")); //zhangsan\n\n\n# comparator\n\ncomparator æ¯èjavaçç»å¸æ¥å£ï¼java8æ·»å äºå¤ç§é»è®¤æ¹æ³\n\ncomparator<person> personcomparator = (p1, p2) -> p1.name.compareto(p2.name);\nperson p1 = new person("john", "doe");\nperson p2 = new person("alice", "wonderland");\nsystem.out.println(personcomparator.compare(p1, p2)); //9\nsystem.out.println(personcomparator.reversed().compare(p1, p2)); //-9\n\n\n\n# æ¹æ³åæé å½æ°å¼ç¨\n\njava8æ¯æéè¿::å³é®å­ä¼ éæ¹æ³ææé å½æ°çå¼ç¨ã\n\néææ¹æ³çå¼ç¨ï¼\n\ncoverter<string, integer> coverter = integer::valueof;\ninteger convert = coverter.convert("22");\nsystem.out.println(convert.getclass());\n\n\nå¯¹è±¡æ¹æ³å¼ç¨ï¼\n\npackage java8.references;\n\npublic class something {\n    string startwith(string s) {\n        return string.valueof(s.charat(0));\n    }\n}\nsomething something = new something();\ncoverter<string, string> coverterstr = something::startwith;\nstring firstchar = coverterstr.convert("lucky");\nsystem.out.println(firstchar);\n\n\næé æ¹æ³çå¼ç¨ï¼å®ä¹ä¸ä¸ªå¤æé æ¹æ³çç±»\n\npackage java8.references;\n\npublic class person {\n    string name;\n    string nike;\n\n    public person() {\n    }\n\n    public person(string name, string nike) {\n        this.name = name;\n        this.nike = nike;\n    }\n\n    @override\n    public string tostring() {\n        return "person{" +\n                "name=\'" + name + \'\\\'\' +\n                ", nike=\'" + nike + \'\\\'\' +\n                \'}\';\n    }\n}\n\n\nå®ä¹ä¸ä¸ªåå»ºpersonå¯¹è±¡çå·¥åæ¥å£\n\npublic interface personfactory<p extends person> {\n    p create(string name, string nike);\n}\n\n\néè¿person::newå°æé æ¹æ³å¼ç¨ä¼ ç»personfactoryãjavaç¼è¯å¨ä¼èªå¨æ ¹æ®createä¼ éåæ°ä¸ªæ°éæ©åéçæé æ¹æ³ã\n\npersonfactory<person> personpersonfactory = person::new;\nperson person = personpersonfactory.create("å¼ ", "ä¸");\nsystem.out.println(person);\n\n\n\n# optional\n\noptional æ¯ç¨æ¥é²æ­¢nullpointerexception çæ¼äº®å·¥å·ã optional æ¯ä¸ä¸ªç®åçå®¹å¨ï¼å¶å¼å¯è½æ¯nullæèä¸æ¯nullãå¨java8åºè¯¥è¿åoptional èä¸æ¯nullã\n\n//ä¸ºéç©ºçå¼åå»ºä¸ä¸ªoptional\noptional<string> optional = optional.of("bdm");\n//å¦æå¼å­å¨è¿åtureï¼å¦åè¿åfalse\nboolean present = optional.ispresent(); //true\n//å¦ææå¼å°å¼è¿åï¼å¦åæåºnosuchelementexceptionå¼å¸¸\nstring bdm = optional.get(); //bdm\n//å¦ææå¼å°å¼è¿åï¼å¦åè¿åæå®çå¶å®å¼\nstring orelseval = optional.orelse("empty"); //bdm\n//å¦æoptionalå®ä¾æå¼åä¸ºå¶è°ç¨consumerï¼å¦åä¸åå¤ç\noptional.ifpresent((t) -> system.out.println("ifpresent:" + t)); //ifpresent:bdm\n\n\n\n# stream\n\njava.util.stream è¡¨ç¤ºè½åºç¨å¨ä¸ç»åç´ ä¸ä¸æ¬¡æ§è¡çæä½åºåãstream æä½åä¸ºä¸­é´æä½æèæç»æä½ä¸¤ç§ï¼æç»æä½è¿åä¸ç¹å®ç±»åçè®¡ç®ç»æï¼èä¸­é´æä½è¿åstreamæ¬èº«ï¼è¿æ ·ä½ å°±å¯ä»¥å°å¤ä¸ªæä½ä¾æ¬¡ä¸²èµ·æ¥ãstream çåå»ºéè¦æå®ä¸ä¸ªæ°æ®æºï¼æ¯å¦ java.util.collection çå­ç±»ï¼list æè setï¼ map ä¸æ¯æãstream çæä½å¯ä»¥ä¸²è¡æ§è¡æèå¹¶è¡æ§è¡ã\n\njava 8æ©å±äºéåç±»ï¼å¯ä»¥éè¿ collection.stream() æè collection.parallelstream() æ¥åå»ºä¸ä¸ªstreamã\n\nä¸é¢ä»ç»stream å¸¸ç¨æ¹æ³ï¼ååå¤æ°æ®\n\nlist<string> stringlist = new arraylist<>();\nstringlist.add("ddd2");\nstringlist.add("aaa2");\nstringlist.add("bbb1");\nstringlist.add("aaa1");\nstringlist.add("bbb3");\nstringlist.add("ccc");\nstringlist.add("bbb2");\nstringlist.add("ddd1");\n\n\n\n# filter(è¿æ»¤)\n\nè¿æ»¤éè¿ä¸ä¸ªpredicateæ¥å£æ¥è¿æ»¤å¹¶åªä¿çç¬¦åæ¡ä»¶çåç´ ï¼è¯¥æä½å±äºä¸­é´æä½ï¼æä»¥æä»¬å¯ä»¥å¨è¿æ»¤åçç»ææ¥åºç¨å¶ä»streamæä½ï¼æ¯å¦foreachï¼ãforeachéè¦ä¸ä¸ªå½æ°æ¥å¯¹è¿æ»¤åçåç´ ä¾æ¬¡æ§è¡ãforeachæ¯ä¸ä¸ªæç»æä½ï¼æä»¥æä»¬ä¸è½å¨foreachä¹åæ¥æ§è¡å¶ä»streamæä½ã\n\nstringlist.stream().filter(s -> s.startswith("a")).foreach(s -> system.out.println(s));\n\n\n\n# sorted(æåº)\n\nsortedï¼æåº ï¼æ¯ä¸ªä¸­é´æä½ï¼å¦ææ²¡ææå®èªå®ä¹comparatorçè¯ï¼ä¼ä½¿ç¨é»è®¤æåºã æåºä¹ååæçæ°æ®æºä¸ä¼æ¹åã\n\n //sorted æåº ä¸­é´æä½ å¦ææ²¡ææå®comparatorçè¯ï¼ä¼ä½¿ç¨é»è®¤æåº æåºä¹åstringlistä¸ä¼æ¹å\nstringlist.stream().sorted().foreach(s -> system.out.println(s));\n\n\nå¤å­æ®µæåºï¼\n\n//å¯¹è±¡éåä»¥ç±»å±æ§ä¸éåº å±æ§äºååº\nlist.stream().sorted(comparator.comparing(ç±»::å±æ§ä¸,comparator.reverseorder()).thencomparing(ç±»::å±æ§äº));\n\n\n\nåºåï¼\n\n//æ¹å¼ä¸ï¼åä»¥å±æ§ä¸ååºï¼åå±æ§ä¸éåºæåº\ncomparator.comparing(ç±»::å±æ§ä¸).reversed();\n//æ¹å¼äºï¼ç´æ¥å°å±æ§ä¸éåºæåº\ncomparator.comparing(ç±»::å±æ§ä¸,comparator.reverseorder());\n\n\n\n# map(æ å°)\n\nmapæ¯ä¸ªä¸­é´æä½ï¼ä¼å°åç´ æ ¹æ®æå®ç function æ¥å£ä¾æ¬¡å°åç´ è½¬æå¦å¤çå¯¹è±¡ã è¿åçstreamç±»åæ¯æ ¹æ®mapä¼ éè¿å»çå½æ°çè¿åå¼å³å®çã\n\nstringlist.stream().map(string::touppercase).foreach(item -> system.out.println(item));\n\n\nç»menuinfoçå­æ®µèµå¼ã\n\nlist<menuinfo> menuinfolist = menuinfolist.stream().map(e -> {\n            e.setmenuname(e.getmeuncode());\n            return e;\n        }).collect(collectors.tolist());\n\n\n\n# match(å¹é)\n\nææå¹éæä½é½æ¯æç»æä½ãstreamæä¾äºå¤ç§å¹éæä½ï¼åè®¸æ£æµæå®çpredicateæ¯å¦å¹éæ´ä¸ªstreamï¼å¹¶è¿åä¸ä¸ª boolean ç±»åçå¼ã\n\nboolean matchresult;\nmatchresult = stringlist.stream().anymatch(s -> s.startswith("a")); //true\nmatchresult = stringlist.stream().allmatch(s -> s.startswith("a")); //false\nmatchresult = stringlist.stream().nonematch(s -> s.startswith("a")); //false\n\n\n\n# count(è®¡æ°)\n\nè®¡æ°æ¯ä¸ä¸ª æç»æä½ï¼è¿åstreamä¸­åç´ çä¸ªæ°ï¼è¿åå¼ç±»åæ¯ longã\n\nlong count = stringlist.stream().count(); //8\n\n\n\n# reduce(è§çº¦)\n\nè¿æ¯ä¸ä¸ª æç»æä½ ï¼åè®¸éè¿æå®çå½æ°æ¥å°streamä¸­çå¤ä¸ªåç´ è§çº¦ä¸ºä¸ä¸ªåç´ ï¼è§çº¦åçç»ææ¯éè¿optional æ¥å£è¡¨ç¤ºçã\n\noptional<string> reduce = stringlist.stream().reduce((s1, s2) -> s1 + "#" + s2); //ddd2#aaa2#bbb1#aaa1#bbb3#ccc#bbb2#ddd1\nreduce.ifpresent(system.out::println);\n\nstring concatreduce = stream.of("a", "b", "c", "d").reduce("", (s1, s2) -> s1.concat(s2)); //abcd\n// æ±æå°å¼ï¼minvalue = -3.0\ndouble minvalue = stream.of(-1.5, 1.0, -3.0, -2.0).reduce(double.max_value, double::min);\n// æ±åï¼sumvalue = 10, æèµ·å§å¼\nint sumvalue = stream.of(1, 2, 3, 4).reduce(0, integer::sum);\n// æ±åï¼sumvalue = 10, æ èµ·å§å¼\nsumvalue = stream.of(1, 2, 3, 4).reduce(integer::sum).get();\n\nreduce = stream.of("a", "b", "c", "d", "e", "f").filter(s -> s.compareto("z") > 0).reduce((s1, s2) -> s1.concat(s2)); //ace\nreduce.ifpresent(system.out::println);\n\n\n\n# æç»æµââcollectæ¹æ³\n\ngroupingbyï¼åç»ï¼ï¼\n\næ ¹æ®èåç±»åè¿è¡åç»\n\nmenu.stream().collect(collectors.groupingby(menu::getmenutype, collectors.tolist()));\n\n\nlistè½¬mapï¼\n\nmap<string, string> menumap = menu.stream().collect(collectors.tomap(menu::getmenutype, menu.getmwnuname()));\n\n\n\n# parallel streams(å¹¶è¡æµ)\n\nstreamæä¸²è¡åå¹¶è¡ä¸¤ç§ï¼ä¸²è¡streamä¸çæä½æ¯å¨ä¸ä¸ªçº¿ç¨ä¸­ä¾æ¬¡å®æï¼èå¹¶è¡streamåæ¯å¨å¤ä¸ªçº¿ç¨ä¸åæ¶æ§è¡ã\n\né¦åæä»¬åå»ºä¸ä¸ªæ²¡æéå¤åç´ çå¤§è¡¨ï¼\n\nint max = 10000;\nlist<string> values = new arraylist<>(max);\nfor (int i = 0; i < max; i++) {\n    uuid uuid = uuid.randomuuid();\n    values.add(uuid.tostring());\n}\n\n\né¦åä½¿ç¨ä¸²è¡æµæåº\n\nlong t0 = system.nanotime();\nlong count = values.stream().sorted().count();\nsystem.out.println(count);\nlong t1 = system.nanotime();\nlong millis = timeunit.nanoseconds.tomillis(t1 - t0);\nsystem.out.println(string.format("sequential sort took: %d ms", millis)); //84 ms\n\n\nç¶åä½¿ç¨å¹¶è¡æµæåº\n\nt0 = system.nanotime();\ncount = values.parallelstream().sorted().count();\nsystem.out.println(count);\nt1 = system.nanotime();\nmillis = timeunit.nanoseconds.tomillis(t1 - t0);\nsystem.out.println(string.format("sequential sort took: %d ms", millis)); //44 ms\n\n\nå¹¶è¡æµå¿«äº50%ï¼åªè¦å°streamæ¹æparallelstreamå³å¯ã\n\n\n# maps\n\nmapsä¸æ¯æstreamï¼ä¸è¿map.keyset().stream(),map.values().stream()åmap.entryset().stream()å¯ä»¥è½¬æ¢æstreamã\n\njava8ä¸­mapsè¿æä¾æ°çæ¹æ³å¤çæ¥å¸¸ä»»å¡ã\n\n\n# putifabsent\n\nputifabsentå¨æ¾å¥æ°æ®æ¶ï¼å¦æå­å¨éå¤çkeyï¼é£ä¹putifabsentä¸ä¼æ¾å¥å¼ã\n\nmap<integer, string> map = new hashmap();\nmap.put(1, "zhagnsan");\nmap.put(2, "lisi");\nmap.keyset().stream();\nmap.values().stream();\nmap.entryset().stream();\n\n\n//putifabsentå¨æ¾å¥æ°æ®æ¶ï¼å¦æå­å¨éå¤çkeyï¼é£ä¹putifabsentä¸ä¼æ¾å¥å¼ã\nmap.putifabsent(2, "wangwu");\nsystem.out.println(map.get(2)); //lisi\n\n//å¦ææ¾å¥æ°æ®çkeyå·²ç»å­å¨ä¸mapä¸­ï¼æåæ¾å¥çæ°æ®ä¼è¦çä¹åå­å¨çæ°æ®\nmap.put(2, "wangwu");\nsystem.out.println(map.get(2)); //wangwu\n\n\n\n# computeifabsentåcomputeifpresent\n\næ°æ®åå¤ï¼\n\nmap<integer, string> map = new hashmap<>();\nfor (int i = 0; i < 10; i++) {\n    map.put(i, "val" + i);\n}\nmap.foreach((key, value) -> system.out.print(value + " ")); //val0 val1 val2 val3 val4 val5 val6 val7 val8 val9\n\n\ncomputeifabsentï¼æ ¹æ®keyæ¾valueï¼å¦æè¿åå¼ä¸ºnullï¼åæ§è¡ç¬¬äºä¸ªåæ°çæ¹æ³ä½ï¼å°æ¹æ³ä½çå¼è¿åå¹¶å­å°mapã\n\nmap.computeifabsent(3, val -> "bdm" + val); //val3\nmap.computeifabsent(23, val -> "bdm" + val); //bdm23\n\n\ncomputeifpresentï¼æ ¹æ®keyæ¾valueï¼å¦ææ¾å°å¯¹åºvalueï¼å°±å°å¼ä¼ å°ç¬¬äºä¸ªåæ°æ¹æ³ä½æ§è¡ï¼å°æ¹æ³ä½çå¼è¿åå¹¶å­å°mapãå¦ææ¾ä¸å°å¯¹åºçvalueï¼å°±ä¸æ§è¡æ¹æ³ä½ã\n\nmap.computeifpresent(3, (k, v) -> v + "aa"); //val3aa\nsystem.out.println(map.get(3));\nmap.computeifpresent(23, (k, v) -> v + "aa"); //null\nsystem.out.println(map.get(23));\n\n\n\n# remove\n\nå¨mapå é¤é®å¼é½éç½®çé¡¹ã\n\nmap.remove(3, "val33");\nmap.get(3) //val3\nmap.remove(3, "val3");\nmap.get(3) //null\n\n\n\n# getordefault\n\néè¿keyè·åvalueï¼å¦æè·åçvalueå¼ä¸ºnullï¼å°±å°ç¬¬äºä¸ªåæ°çå¼è¿åã\n\nmap.getordefault(42, "not found")//not found\n\n\n\n# merge\n\nmerge åçäºææ¯å¦æé®åä¸å­å¨åæå¥ï¼å¦åå¯¹åé®å¯¹åºçå¼ååå¹¶æä½å¹¶éæ°æå¥å°mapä¸­ã\n\nmap.merge(9, "aa", (val, newval) -> val.concat(newval));\nmap.get(9); //val9aa\nmap.merge(10, "bb", (val, newval) -> val.concat(newval));\nmap.get(10); //bb\n',charsets:{cjk:!0},lastUpdated:"2023/11/02, 03:07:46",lastUpdatedTimestamp:1698894466e3},{title:"Java 8 å¹¶è¡æµ",frontmatter:{title:"Java 8 å¹¶è¡æµ",date:"2023-11-02T10:39:59.000Z",permalink:"/pages/f2f56b/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/03.Java/04.Java%20%E6%96%B0%E7%89%B9%E6%80%A7/01.Java8%20%E6%96%B0%E7%89%B9%E6%80%A7/02.Java%208%20%E5%B9%B6%E8%A1%8C%E6%B5%81.html",relativePath:"01.Java ç¥è¯ä½ç³»/03.Java/04.Java æ°ç¹æ§/01.Java8 æ°ç¹æ§/02.Java 8 å¹¶è¡æµ.md",key:"v-854b12bc",path:"/pages/f2f56b/",headers:[{level:1,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:357}],headersStr:"åèèµæ",content:"ä»ä¹æ¯å¹¶è¡æµï¼\n\nå¹¶è¡æµå°±æ¯å°ä¸ä¸ªæµçåå®¹åæå¤ä¸ªæ°æ®åï¼å¹¶ç¨ä¸åççº¿ç¨åå«å¤çæ¯ä¸ªä¸åæ°æ®åçæµã\n\nå¦ä½ä½¿ç¨å¹¶è¡æµï¼\n\nä½¿ç¨ parallelStream() æ¹æ³ä½¿ç¨å¹¶è¡æµæèéè¿ stream.parallel() å°æ®éæµè½¬æ¢æå¹¶è¡æµã\n\nå¹¶è¡æµåçï¼å¹¶è¡æµåé¨ä½¿ç¨äºé»è®¤ç ForkJoinPool çº¿ç¨æ± ãé»è®¤ççº¿ç¨æ°éå°±æ¯å¤çå¨çæ ¸å¿æ°ãjava.util.concurrent.ForkJoinPool.common.parallelism å¯ä»¥æ¹åçº¿ç¨æ± å¤§å°ãä¸è¿è¯¥å¼æ¯å¨å±åéãæ¹åä»ä¼å½±åææå¹¶è¡æµãç®åè¿æ æ³ä¸ºæ¯ä¸ªæµéç½®ä¸å±ççº¿ç¨æ°ã\n\nå¹¶è¡æµä½¿ç¨æ³¨æäºé¡¹ï¼\n\n * å¹¶è¡æµå¹¶ä¸ä¸å®æ¶æå¿«çå¤çæ¹å¼ã\n * å¹¶è¡æµè½ç¶è½»æå®ç°äºå¤çº¿ç¨ï¼ä½æ¯å¹¶æ²¡æè§£å³å¤çº¿ç¨ä¸­å±äº«åéçä¿®æ¹é®é¢ã\n\n\n# åèèµæ\n\n * Java8å¹¶è¡æµï¼æ§è¡éåº¦å¿«çé£èµ·ï¼-é¿éäºå¼åèç¤¾åº",normalizedContent:"ä»ä¹æ¯å¹¶è¡æµï¼\n\nå¹¶è¡æµå°±æ¯å°ä¸ä¸ªæµçåå®¹åæå¤ä¸ªæ°æ®åï¼å¹¶ç¨ä¸åççº¿ç¨åå«å¤çæ¯ä¸ªä¸åæ°æ®åçæµã\n\nå¦ä½ä½¿ç¨å¹¶è¡æµï¼\n\nä½¿ç¨ parallelstream() æ¹æ³ä½¿ç¨å¹¶è¡æµæèéè¿ stream.parallel() å°æ®éæµè½¬æ¢æå¹¶è¡æµã\n\nå¹¶è¡æµåçï¼å¹¶è¡æµåé¨ä½¿ç¨äºé»è®¤ç forkjoinpool çº¿ç¨æ± ãé»è®¤ççº¿ç¨æ°éå°±æ¯å¤çå¨çæ ¸å¿æ°ãjava.util.concurrent.forkjoinpool.common.parallelism å¯ä»¥æ¹åçº¿ç¨æ± å¤§å°ãä¸è¿è¯¥å¼æ¯å¨å±åéãæ¹åä»ä¼å½±åææå¹¶è¡æµãç®åè¿æ æ³ä¸ºæ¯ä¸ªæµéç½®ä¸å±ççº¿ç¨æ°ã\n\nå¹¶è¡æµä½¿ç¨æ³¨æäºé¡¹ï¼\n\n * å¹¶è¡æµå¹¶ä¸ä¸å®æ¶æå¿«çå¤çæ¹å¼ã\n * å¹¶è¡æµè½ç¶è½»æå®ç°äºå¤çº¿ç¨ï¼ä½æ¯å¹¶æ²¡æè§£å³å¤çº¿ç¨ä¸­å±äº«åéçä¿®æ¹é®é¢ã\n\n\n# åèèµæ\n\n * java8å¹¶è¡æµï¼æ§è¡éåº¦å¿«çé£èµ·ï¼-é¿éäºå¼åèç¤¾åº",charsets:{cjk:!0},lastUpdated:"2023/11/02, 03:07:46",lastUpdatedTimestamp:1698894466e3},{title:"JVM åå¾æ¶é",frontmatter:{title:"JVM åå¾æ¶é",date:"2023-10-23T23:55:07.000Z",permalink:"/pages/5bf174/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/03.Java/05.JVM/02.JVM%20%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86.html",relativePath:"01.Java ç¥è¯ä½ç³»/03.Java/05.JVM/02.JVM åå¾æ¶é.md",key:"v-76b6bfea",path:"/pages/5bf174/",headers:[{level:1,title:"ç¸å³æ¦å¿µ",slug:"ç¸å³æ¦å¿µ",normalizedTitle:"ç¸å³æ¦å¿µ",charIndex:2},{level:2,title:"STW",slug:"stw",normalizedTitle:"stw",charIndex:11},{level:2,title:"saft pointï¼å®å¨ç¹ï¼",slug:"saft-point-å®å¨ç¹",normalizedTitle:"saft pointï¼å®å¨ç¹ï¼",charIndex:61},{level:2,title:"åå¾åæ¶ç±»å",slug:"åå¾åæ¶ç±»å",normalizedTitle:"åå¾åæ¶ç±»å",charIndex:432},{level:1,title:"å¯¹è±¡å·²ç»æ­»äº¡ï¼",slug:"å¯¹è±¡å·²ç»æ­»äº¡",normalizedTitle:"å¯¹è±¡å·²ç»æ­»äº¡ï¼",charIndex:703},{level:2,title:"å¼ç¨è®¡æ°ç®æ³",slug:"å¼ç¨è®¡æ°ç®æ³",normalizedTitle:"å¼ç¨è®¡æ°ç®æ³",charIndex:715},{level:2,title:"å¯è¾¾æ§åæç®æ³",slug:"å¯è¾¾æ§åæç®æ³",normalizedTitle:"å¯è¾¾æ§åæç®æ³",charIndex:1289},{level:2,title:"ä¸å¯è¾¾çå¯¹è±¡å¹¶éâéæ­»ä¸å¯â",slug:"ä¸å¯è¾¾çå¯¹è±¡å¹¶é-éæ­»ä¸å¯",normalizedTitle:"ä¸å¯è¾¾çå¯¹è±¡å¹¶éâéæ­»ä¸å¯â",charIndex:1535},{level:1,title:"åå¾æ¶éç®æ³",slug:"åå¾æ¶éç®æ³",normalizedTitle:"åå¾æ¶éç®æ³",charIndex:1808},{level:2,title:"æ è®°-æ¸é¤ç®æ³",slug:"æ è®°-æ¸é¤ç®æ³",normalizedTitle:"æ è®°-æ¸é¤ç®æ³",charIndex:1819},{level:2,title:"æ è®°-å¤å¶ç®æ³",slug:"æ è®°-å¤å¶ç®æ³",normalizedTitle:"æ è®°-å¤å¶ç®æ³",charIndex:1975},{level:2,title:"æ è®°-æ´çç®æ³",slug:"æ è®°-æ´çç®æ³",normalizedTitle:"æ è®°-æ´çç®æ³",charIndex:2137},{level:2,title:"åä»£æ¶éç®æ³",slug:"åä»£æ¶éç®æ³",normalizedTitle:"åä»£æ¶éç®æ³",charIndex:2240},{level:1,title:"åå¾æ¶éå¨",slug:"åå¾æ¶éå¨",normalizedTitle:"åå¾æ¶éå¨",charIndex:2488},{level:2,title:"Serial æ¶éå¨",slug:"serial-æ¶éå¨",normalizedTitle:"serial æ¶éå¨",charIndex:2589},{level:2,title:"Serial Old æ¶éå¨",slug:"serial-old-æ¶éå¨",normalizedTitle:"serial old æ¶éå¨",charIndex:2603},{level:2,title:"Parallel Scavenge æ¶éå¨",slug:"parallel-scavenge-æ¶éå¨",normalizedTitle:"parallel scavenge æ¶éå¨",charIndex:2630},{level:2,title:"Parallel Old æ¶éå¨",slug:"parallel-old-æ¶éå¨",normalizedTitle:"parallel old æ¶éå¨",charIndex:2656},{level:2,title:"ParNew æ¶éå¨",slug:"parnew-æ¶éå¨",normalizedTitle:"parnew æ¶éå¨",charIndex:2677},{level:2,title:"CMS æ¶éå¨",slug:"cms-æ¶éå¨",normalizedTitle:"cms æ¶éå¨",charIndex:2692},{level:2,title:"G1 æ¶éå¨",slug:"g1-æ¶éå¨",normalizedTitle:"g1 æ¶éå¨",charIndex:2704}],headersStr:"ç¸å³æ¦å¿µ STW saft pointï¼å®å¨ç¹ï¼ åå¾åæ¶ç±»å å¯¹è±¡å·²ç»æ­»äº¡ï¼ å¼ç¨è®¡æ°ç®æ³ å¯è¾¾æ§åæç®æ³ ä¸å¯è¾¾çå¯¹è±¡å¹¶éâéæ­»ä¸å¯â åå¾æ¶éç®æ³ æ è®°-æ¸é¤ç®æ³ æ è®°-å¤å¶ç®æ³ æ è®°-æ´çç®æ³ åä»£æ¶éç®æ³ åå¾æ¶éå¨ Serial æ¶éå¨ Serial Old æ¶éå¨ Parallel Scavenge æ¶éå¨ Parallel Old æ¶éå¨ ParNew æ¶éå¨ CMS æ¶éå¨ G1 æ¶éå¨",content:'# ç¸å³æ¦å¿µ\n\n\n# STW\n\nGCå¦ä½éè¦åæ­¢ææåºç¨ç¨åºçè¿ç¨ç§°ä¸ºSTWï¼Stop-the-world ï¼ã\n\n\n# saft pointï¼å®å¨ç¹ï¼\n\næèµ·çº¿ç¨çç¹\n\n * ä»å¨å±è§ç¹æ¥çï¼ææçº¿ç¨å¿é¡»å¨GC è¿è¡åï¼å¨ä¸ä¸ªsafepointå¤é»å¡ï¼blockï¼ã\n * ä»å±é¨è§ç¹æ¥çï¼safepointæ¯ä¸ä¸ªä»£ç åä¸­ç¹æ®çä¸ç¹ï¼è¯¥å¤æ­£å¨æ§è¡ççº¿ç¨å¯ä»¥å GCèé»å¡ã\n * GCçæ è®°é¶æ®µéè¦stop the worldï¼è®©ææJavaçº¿ç¨æèµ·ï¼è¿æ ·JVMæå¯ä»¥å®å¨å°æ¥æ è®°å¯¹è±¡ã\n\nsafepointå¯ä»¥ç¨æ¥å®ç°è®©ææJavaçº¿ç¨æèµ·çéæ±ãè¿æ¯ä¸ç§ "ä¸»å¨å¼"(Voluntary Suspension)çå®ç°\n\nsafe pointæçç¹å®ä½ç½®ä¸»è¦æ:\n\n 1. å¾ªç¯çæ«å°¾ (é²æ­¢å¤§å¾ªç¯çæ¶åä¸ç´ä¸è¿å¥safepointï¼èå¶ä»çº¿ç¨å¨ç­å¾å®è¿å¥safepoint)\n 2. æ¹æ³è¿åå\n 3. è°ç¨æ¹æ³çcallä¹å\n 4. æåºå¼å¸¸çä½ç½®\n\n\n# åå¾åæ¶ç±»å\n\n * æ°çä»£æ¶éï¼Minor GC/Young GCï¼ï¼æç®æ åªæ¯æ°çä»£çåå¾æ¶éãMinor GC éå¸¸é¢ç¹ï¼åæ¶éåº¦æ¯è¾å¿«ã\n\n * èå¹´ä»£æ¶éï¼Major GC/Old GCï¼ï¼æç®æ åªæ¯èå¹´ä»£çåå¾æ¶éï¼ Major GC ä¸è¬æ¯ Minor GCæ¢ 10 åä»¥ä¸ãç®ååªæCMSæ¶éå¨ä¼æåç¬æ¶éèå¹´ä»£çè¡ä¸ºã\n\n * æ´å æ¶éï¼Full GCï¼ï¼æ¶éæ´ä¸ªJavaå åæ¹æ³åºçåå¾æ¶éã\n\n * æ··åæ¶éï¼Mixed GCï¼ï¼æç®æ æ¯æ¶éæ´ä¸ªæ°çä»£ä»¥åé¨åèå¹´ä»£çåå¾æ¶éãç®ååªæG1æ¶éå¨ä¼æè¿ç§è¡ä¸ºã\n\n\n# å¯¹è±¡å·²ç»æ­»äº¡ï¼\n\n\n# å¼ç¨è®¡æ°ç®æ³\n\nç»å¯¹è±¡ä¸­æ·»å ä¸ä¸ªå¼ç¨è®¡æ°å¨ï¼æ¯å½æä¸ä¸ªå°æ¹å¼ç¨å®ï¼è®¡æ°å¨å°±å  1ï¼å½å¼ç¨å¤±æï¼è®¡æ°å¨å°±å 1ï¼ä»»ä½æ¶åè®¡æ°å¨ä¸º 0 çå¯¹è±¡å°±æ¯ä¸å¯è½åè¢«ä½¿ç¨çã\n\nè¿ä¸ªæ¹æ³å®ç°ç®åï¼æçé«ï¼ä½æ¯ç®åä¸»æµçèææºä¸­å¹¶æ²¡æéæ©è¿ä¸ªç®æ³æ¥ç®¡çåå­ï¼å¶æä¸»è¦çåå æ¯å®å¾é¾è§£å³å¯¹è±¡ä¹é´ç¸äºå¾ªç¯å¼ç¨çé®é¢ã æè°å¯¹è±¡ä¹é´çç¸äºå¼ç¨é®é¢ï¼å¦ä¸é¢ä»£ç æç¤ºï¼é¤äºå¯¹è±¡ objA å objB ç¸äºå¼ç¨çå¯¹æ¹ä¹å¤ï¼è¿ä¸¤ä¸ªå¯¹è±¡ä¹é´åæ ä»»ä½å¼ç¨ãä½æ¯ä»ä»¬å ä¸ºäºç¸å¼ç¨å¯¹æ¹ï¼å¯¼è´å®ä»¬çå¼ç¨è®¡æ°å¨é½ä¸ä¸º 0ï¼äºæ¯å¼ç¨è®¡æ°ç®æ³æ æ³éç¥ GC åæ¶å¨åæ¶ä»ä»¬ã\n\npublic class ReferenceCountingGc {\n    Object instance = null;\n\tpublic static void main(String[] args) {\n\t\tReferenceCountingGc objA = new ReferenceCountingGc();\n\t\tReferenceCountingGc objB = new ReferenceCountingGc();\n\t\tobjA.instance = objB;\n\t\tobjB.instance = objA;\n\t\tobjA = null;\n\t\tobjB = null;\n\n\t}\n}\n\n\n\n\n# å¯è¾¾æ§åæç®æ³\n\nè¿ä¸ªç®æ³çåºæ¬ææ³å°±æ¯éè¿ä¸ç³»åçç§°ä¸º âGC Rootsâ çå¯¹è±¡ä½ä¸ºèµ·ç¹ï¼ä»è¿äºèç¹å¼å§åä¸æç´¢ï¼èç¹æèµ°è¿çè·¯å¾ç§°ä¸ºå¼ç¨é¾ï¼å½ä¸ä¸ªå¯¹è±¡å° GC Roots æ²¡æä»»ä½å¼ç¨é¾ç¸è¿çè¯ï¼åè¯ææ­¤å¯¹è±¡æ¯ä¸å¯ç¨çã\n\n\n\nå¯ä½ä¸º GC Roots çå¯¹è±¡åæ¬ä¸é¢å ç§:\n\n * èææºæ (æ å¸§ä¸­çæ¬å°åéè¡¨)ä¸­å¼ç¨çå¯¹è±¡\n * æ¬å°æ¹æ³æ (Native æ¹æ³)ä¸­å¼ç¨çå¯¹è±¡\n * æ¹æ³åºä¸­ç±»éæå±æ§å¼ç¨çå¯¹è±¡\n * æ¹æ³åºä¸­å¸¸éå¼ç¨çå¯¹è±¡\n * ææè¢«åæ­¥éææçå¯¹è±¡\n\n\n# ä¸å¯è¾¾çå¯¹è±¡å¹¶éâéæ­»ä¸å¯â\n\nå³ä½¿å¨å¯è¾¾æ§åææ³ä¸­ä¸å¯è¾¾çå¯¹è±¡ï¼ä¹å¹¶éæ¯âéæ­»ä¸å¯âçï¼è¿æ¶åå®ä»¬ææ¶å¤äºâç¼åé¶æ®µâï¼è¦çæ­£å®£åä¸ä¸ªå¯¹è±¡æ­»äº¡ï¼è³å°è¦ç»åä¸¤æ¬¡æ è®°è¿ç¨ï¼å¯è¾¾æ§åææ³ä¸­ä¸å¯è¾¾çå¯¹è±¡è¢«ç¬¬ä¸æ¬¡æ è®°å¹¶ä¸è¿è¡ä¸æ¬¡ç­éï¼ç­éçæ¡ä»¶æ¯æ­¤å¯¹è±¡æ¯å¦æå¿è¦æ§è¡ finalize æ¹æ³ãå½å¯¹è±¡æ²¡æè¦ç finalize æ¹æ³ï¼æ finalize æ¹æ³å·²ç»è¢«èææºè°ç¨è¿æ¶ï¼èææºå°è¿ä¸¤ç§æåµè§ä¸ºæ²¡æå¿è¦æ§è¡ã\n\nè¢«å¤å®ä¸ºéè¦æ§è¡çå¯¹è±¡å°ä¼è¢«æ¾å¨ä¸ä¸ªéåä¸­è¿è¡ç¬¬äºæ¬¡æ è®°ï¼é¤éè¿ä¸ªå¯¹è±¡ä¸å¼ç¨é¾ä¸çä»»ä½ä¸ä¸ªå¯¹è±¡å»ºç«å³èï¼å¦åå°±ä¼è¢«ççåæ¶ã\n\n\n# åå¾æ¶éç®æ³\n\n\n# æ è®°-æ¸é¤ç®æ³\n\nè¯¥ç®æ³åä¸ºâæ è®°âåâæ¸é¤âé¶æ®µï¼é¦åæ è®°åºææä¸éè¦åæ¶çå¯¹è±¡ï¼å¨æ è®°å®æåç»ä¸åæ¶ææææ²¡æè¢«æ è®°çå¯¹è±¡ãå®æ¯æåºç¡çæ¶éç®æ³ï¼åç»­çç®æ³é½æ¯å¯¹å¶ä¸è¶³è¿è¡æ¹è¿å¾å°ãè¿ç§åå¾æ¶éç®æ³ä¼å¸¦æ¥ä¸¤ä¸ªææ¾çé®é¢ï¼\n\n 1. æçé®é¢\n 2. ç©ºé´é®é¢ï¼æ è®°æ¸é¤åä¼äº§çå¤§éä¸è¿ç»­çç¢çï¼\n\n\n\n\n# æ è®°-å¤å¶ç®æ³\n\nä¸ºäºè§£å³æçé®é¢ï¼âæ è®°-å¤å¶âæ¶éç®æ³åºç°äºãå®å¯ä»¥å°åå­åä¸ºå¤§å°ç¸åçä¸¤åï¼æ¯æ¬¡ä½¿ç¨å¶ä¸­çä¸åãå½è¿ä¸åçåå­ä½¿ç¨å®åï¼å°±å°è¿å­æ´»çå¯¹è±¡å¤å¶å°å¦ä¸åå»ï¼ç¶ååæä½¿ç¨çç©ºé´ä¸æ¬¡æ¸çæãè¿æ ·å°±ä½¿æ¯æ¬¡çåå­åæ¶é½æ¯å¯¹åå­åºé´çä¸åè¿è¡åæ¶ãæ è®°-å¤å¶ç®æ³è½ç¶è§£å³äºç¢çåé®é¢ï¼ä½æ¯å­å¨ç©ºé´æµªè´¹ã\n\n\n\n\n# æ è®°-æ´çç®æ³\n\næ ¹æ®èå¹´ä»£çç¹ç¹æåºçä¸ç§æ è®°ç®æ³ï¼æ è®°è¿ç¨ä»ç¶ä¸âæ è®°-æ¸é¤âç®æ³ä¸æ ·ï¼ä½åç»­æ­¥éª¤ä¸æ¯ç´æ¥å¯¹å¯åæ¶å¯¹è±¡åæ¶ï¼èæ¯è®©ææå­æ´»çå¯¹è±¡åä¸ç«¯ç§»å¨ï¼ç¶åç´æ¥æ¸çæç«¯è¾¹çä»¥å¤çåå­ã\n\n\n\n\n# åä»£æ¶éç®æ³\n\nå½åèææºçåå¾æ¶éé½éç¨åä»£æ¶éç®æ³ï¼è¿ç§ç®æ³æ²¡æä»ä¹æ°çææ³ï¼åªæ¯æ ¹æ®å¯¹è±¡å­æ´»å¨æçä¸åå°åå­åä¸ºå åãä¸è¬å° java å åä¸ºæ°çä»£åèå¹´ä»£ï¼è¿æ ·æä»¬å°±å¯ä»¥æ ¹æ®åä¸ªå¹´ä»£çç¹ç¹éæ©åéçåå¾æ¶éç®æ³ã\n\næ¯å¦å¨æ°çä»£ä¸­ï¼æ¯æ¬¡æ¶éé½ä¼æå¤§éå¯¹è±¡æ­»å»ï¼æä»¥å¯ä»¥éæ©âæ è®°-å¤å¶âç®æ³ï¼åªéè¦ä»åºå°éå¯¹è±¡çå¤å¶ææ¬å°±å¯ä»¥å®ææ¯æ¬¡åå¾æ¶éãèèå¹´ä»£çå¯¹è±¡å­æ´»å çæ¯æ¯è¾é«çï¼èä¸æ²¡æé¢å¤çç©ºé´å¯¹å®è¿è¡åéæä¿ï¼æä»¥æä»¬å¿é¡»éæ©âæ è®°-æ¸é¤âæâæ è®°-æ´çâç®æ³è¿è¡åå¾æ¶éã\n\n\n# åå¾æ¶éå¨\n\nä¸²è¡æ¶éå¨ï¼ä½¿ç¨åçº¿ç¨è¿è¡åå¾åæ¶çæ¶éå¨ï¼æ¯æ¬¡åæ¶æ¶ï¼ä¸²è¡æ¶éå¨åªæä¸ä¸ªå·¥ä½çº¿ç¨ï¼å¯¹äºå¹¶è¡è½åè¾å¼±çè®¡ç®æºæ¥è¯´ï¼ä¸²è¡æ¶éå¨çä¸æ³¨æ§åç¬å æ§å¾å¾ææ´å¥½çæ§è½è¡¨ç°ã\n\nä¸²è¡æ¶éå¨ï¼\n\n * Serial æ¶éå¨\n * Serial Old æ¶éå¨\n\nå¹¶è¡æ¶éå¨ï¼\n\n * Parallel Scavenge æ¶éå¨\n\n * Parallel Old æ¶éå¨\n\n * ParNew æ¶éå¨\n\n * CMS æ¶éå¨\n\n * G1 æ¶éå¨\n\næ 7 ç§ä¸åçåå¾åæ¶å¨ï¼å®ä»¬åå«ç¨äºä¸ååä»£çåå¾åæ¶ã\n\n * æ°çä»£åæ¶å¨ï¼SerialãParNewãParallel Scavenge\n * èå¹´ä»£åæ¶å¨ï¼Serial OldãParallel OldãCMS\n * æ´å åæ¶å¨ï¼G1\n\nå¯éçæ­éæ¹æ¡ï¼\n\næ°çä»£                 èå¹´ä»£\nSerial              Serial Old\nSerial              CMS\nParNew              Serial Old\nParNew              CMS\nParallel Scavenge   Serial Old\nParallel Scavenge   Parallel Old\nG1                  G1\n\n\n# Serial æ¶éå¨\n\nSerialæ¶éå¨æ¯ä¸ä¸ªæ°çä»£æ¶éå¨ï¼åçº¿ç¨æ§è¡ï¼ä½¿ç¨æ è®°-å¤å¶ç®æ³ãå®å¨è¿è¡åå¾æ¶éæ¶ï¼å¿é¡»æåå¶ä»ææçå·¥ä½çº¿ç¨(ç¨æ·çº¿ç¨)ãæ¯JVM Clientæ¨¡å¼ä¸é»è®¤çæ°çä»£æ¶éå¨ãå¯¹äºéå®åä¸ªCPUçç¯å¢æ¥è¯´ï¼Serialæ¶éå¨ç±äºæ²¡æçº¿ç¨äº¤äºçå¼éï¼ä¸å¿ååå¾æ¶éèªç¶å¯ä»¥è·å¾æé«çåçº¿ç¨æ¶éæçã\n\n\n\n\n# Serial Old æ¶éå¨\n\nSerialæ¶éå¨çèå¹´ä»£çæ¬ï¼å®åæ ·æ¯ä¸ä¸ªåçº¿ç¨æ¶éå¨ï¼ä½¿ç¨ âæ è®°-æ´çâç®æ³ãä¹ä¼æå®ææç¨æ·çº¿ç¨ã\n\n\n# Parallel Scavenge æ¶éå¨\n\néç½®åæ°ï¼-XX:+UseParallelGC\n\nç®æ æ¯è¾¾å°ä¸ä¸ªå¯æ§å¶çååéï¼Throughputï¼ã\n\nååé = è¿è¡ç¨æ·ä»£ç æ¶é´ /ï¼è¿è¡ç¨æ·ä»£ç æ¶é´+åå¾æ¶éæ¶é´ï¼ã\n\nèææºæ»å±è¿è¡äº 100 åéï¼å¶ä¸­åå¾æ¶éè±æ 1 åéï¼é£ååéå°±æ¯99%ã\n\n\n\nç¹ç¹ï¼\n\n * æ°çä»£ä½¿ç¨å¹¶è¡åæ¶æ¶éå¨ï¼èå¹´ä»£ä½¿ç¨ä¸²è¡æ¶éå¨\n * ååéä¼åæ¶éå¨\n * æ°çä»£æ¶éå¨å¤å¶ç®æ³ï¼æ¯å¹¶è¡çå¤çº¿ç¨æ¶éå¨ã\n\n\n# Parallel Old æ¶éå¨\n\néç½®åæ°ï¼-XX:+UseParallelOldGC\n\nç¹ç¹ï¼\n\n * Parallel Scavengeæ¶éå¨çèå¹´ä»£çæ¬ï¼ä½¿ç¨å¤çº¿ç¨å âæ è®°-æ´çâç®æ³ã\n * å¨æ³¨éååéä»¥åCPUèµæºææçåºåï¼é½å¯ä»¥ä¼åèèParallel Scavengeå Parallel Oldæ¶éå¨ã\n\n\n# ParNew æ¶éå¨\n\néç½®åæ°ï¼-XX:+UseParNewGC\n\néç½®åæ°ï¼-XX:ParallelGCThreads=n è®¾ç½®å¹¶è¡æ¶éå¨æ¶éæ¶ä½¿ç¨çå¹¶è¡æ¶éçº¿ç¨æ°ãä¸è¬æå¥½åè®¡ç®æºçCPUç¸å½\n\nç¹ç¹ï¼\n\n * æ°çä»£å¹¶è¡ï¼ParNewï¼ï¼èå¹´ä»£ä¸²è¡ï¼Serial Oldï¼\n * Serialæ¶éå¨çå¤çº¿ç¨çæ¬\n * åCPUæ§è½å¹¶ä¸å¦Serialï¼å ä¸ºå­å¨çº¿ç¨äº¤äºçå¼é\n\n\n\n\n# CMS æ¶éå¨\n\néç½®åæ°ï¼-XX:+UseConcMarkSweepGC åºç¨CMSæ¶éå¨ã\n\nå°½ç®¡CMSæ¶éå¨éç¨çæ¯ å¹¶ååæ¶ï¼éç¬å å¼ï¼ ï¼ä½æ¯å¨å¶åå§æ è®°åéæ°æ è®°è¿ä¸¤ä¸ªé¶æ®µä¸­ä»ç¶éè¦æ§è¡âStop-the-Worldâæºå¶æåç¨åºä¸­çå·¥ä½çº¿ç¨ï¼ä¸è¿æåæ¶é´å¹¶ä¸ä¼å¤ªé¿ã\n\nå æ­¤å¯ä»¥è¯´æ ç®åææçåå¾æ¶éå¨é½åä¸å°å®å¨ä¸éè¦âstop-the-World ï¼ åªæ¯å°½å¯è½å°ç¼©ç­æåæ¶é´ ã\n\nç±äºæèè´¹æ¶é´çå¹¶åæ è®°ä¸å¹¶åæ¸é¤é¶æ®µé½ä¸éè¦æåå·¥ä½ï¼æä»¥æ´ä½çåæ¶æ¯ä½åé¡¿çã\n\nå¦å¤ï¼ç±äºå¨åå¾æ¶éé¶æ®µç¨æ·çº¿ç¨æ²¡æä¸­æ­ ï¼æä»¥å¨CMSåæ¶è¿ç¨ä¸­ï¼è¿åºè¯¥ç¡®ä¿åºç¨ç¨åºç¨æ·çº¿ç¨æè¶³å¤çåå­å¯ç¨ã\n\nç¹ç¹:\n\n * ä½å»¶è¿ï¼ åå°STWå¯¹ç¨æ·ä½éªçå½±åãååºæ¶é´åå»¶è¿è¦æ±é«ã\n * å¹¶åæ¶éï¼å¯ä»¥åæ¶æ§è¡ç¨æ·çº¿ç¨\n * CMSæ¶éå¨ ä¸è½åå¶ä»æ¶éå¨é£æ ·ç­å°èå¹´ä»£å ä¹å®å¨è¢«å¡«æ»¡äºåè¿è¡æ¶é ï¼èæ¯å½å åå­ä½¿ç¨çè¾¾å°æä¸éå¼æ¶ï¼ä¾¿å¼å§è¿è¡åæ¶ã\n * CMSæ¶éå¨çåå¾æ¶éç®æ³éç¨çæ¯æ è®°æ¸é¤ç®æ³ã\n * ä¼äº§çåå­ç¢çï¼å¯¼è´å¹¶åæ¸é¤åï¼ç¨æ·çº¿ç¨å¯ç¨çç©ºé´ä¸è¶³ã\n * CMSæ¶éå¨å¯¹CPUèµæºéå¸¸ææã\n\nCMSåå¾åæ¶å¨ï¼\n\nCMSæ´ä¸ªè¿ç¨æ¯ä¹åçæ¶éå¨è¦å¤æï¼æ´ä¸ªè¿ç¨åä¸º 4 ä¸ªä¸»è¦é¶æ®µï¼å³åå§æ è®°é¶æ®µãå¹¶åæ è®°é¶æ®µãéæ°æ è®°é¶æ®µåå¹¶åæ¸é¤é¶æ®µã\n\n> ( æ¶åSTWçé¶æ®µä¸»è¦æ¯ï¼åå§æ è®° å éæ°æ è®° )\n\n * åå§æ è®°ï¼Initial-Markï¼é¶æ®µ ï¼å¨è¿ä¸ªé¶æ®µä¸­ï¼ç¨åºä¸­ææçå·¥ä½çº¿ç¨é½å°ä¼å ä¸ºâstop-the-worldâæºå¶èåºç°ç­æçæåï¼è¿ä¸ªé¶æ®µçä¸»è¦ä»»å¡ä»ä»åªæ¯æ è®°åºGCRootsè½ç´æ¥å³èå°çå¯¹è±¡ãä¸æ¦æ è®°å®æä¹åå°±ä¼æ¢å¤ä¹åè¢«æåçææåºç¨çº¿ç¨ãç±äºç´æ¥å³èå¯¹è±¡æ¯è¾å°ï¼æä»¥è¿éçéåº¦éå¸¸å¿«ããSTWã\n\n * å¹¶åæ è®°ï¼Concurrent-Markï¼é¶æ®µ ï¼ä»GC Rootsçç´æ¥å³èå¯¹è±¡å¼å§éåæ´ä¸ªå¯¹è±¡å¾çè¿ç¨ï¼è¿ä¸ªè¿ç¨èæ¶è¾é¿ä½æ¯ä¸éè¦åé¡¿ç¨æ·çº¿ç¨ï¼å¯ä»¥ä¸åå¾æ¶éçº¿ç¨ä¸èµ·å¹¶åè¿è¡ã\n\n * éæ°æ è®°ï¼Remarkï¼é¶æ®µ ï¼ç±äºå¨å¹¶åæ è®°é¶æ®µä¸­ï¼ç¨åºçå·¥ä½çº¿ç¨ä¼ååå¾æ¶éçº¿ç¨åæ¶è¿è¡æèäº¤åè¿è¡ï¼å æ­¤ä¸ºäº ä¿®æ­£å¹¶åæ è®°æé´ï¼å ç¨æ·ç¨åºç»§ç»­è¿ä½èå¯¼è´æ è®°äº§çåå¨çé£ä¸é¨åå¯¹è±¡çæ è®°è®°å½ ï¼è¿ä¸ªé¶æ®µçåé¡¿æ¶é´éå¸¸ä¼æ¯åå§æ è®°é¶æ®µç¨é¿ä¸äºï¼ä½ä¹è¿æ¯å¹¶åæ è®°é¶æ®µçæ¶é´ç­ããSTWã\n\n * å¹¶åæ¸é¤ï¼Concurrent-Sweepï¼é¶æ®µ ï¼æ­¤é¶æ®µæ¸çå é¤ææ è®°é¶æ®µå¤æ­çå·²ç»æ­»äº¡çå¯¹è±¡ï¼éæ¾åå­ç©ºé´ãç±äºä¸éè¦ç§»å¨å­æ´»å¯¹è±¡ï¼æä»¥è¿ä¸ªé¶æ®µä¹æ¯å¯ä»¥ä¸ç¨æ·çº¿ç¨åæ¶å¹¶åçã\n\n\n# G1 æ¶éå¨\n\néç½®åæ°ï¼-XX:+UseG1Gc åºç¨G1æ¶éå¨\n\néç½®åæ°ï¼-XX:MaxGCPauseMillis æå®æå¤§åé¡¿æ¶é´\n\néç½®åæ°ï¼-XX:ParallelGCThreads è®¾ç½®å¹¶è¡åæ¶ççº¿ç¨æ°é\n\nGarbage-Firstå½ä»æ¶éå¨ææ¯åå±çæåæ²¿ææä¹ä¸ï¼G1æ¯ä¸æ¬¾é¢åæå¡ç«¯åºç¨çåå¾æ¶éå¨ãå¤§åå­ï¼ä¼ä¸éç½®çåå¾æ¶éå¨å¤§å¤é½æ¯G1ã\n\nç¹ç¹ï¼\n\n 1. å¹¶è¡ä¸å¹¶åï¼ååå©ç¨å¤CPUãå¤æ ¸ç¯å¢ä¸çç¡¬ä»¶ä¼å¿\n 2. åä»£æ¶éï¼ä¸éè¦å¶ä»æ¶éå¨éåå°±è½ç¬ç«ç®¡çæ´ä¸ªGCå \n 3. ç©ºé´æ´åï¼âæ è®°âæ´çâç®æ³å®ç°çæ¶éå¨ï¼å±é¨ä¸åºäºâå¤å¶âç®æ³ä¸ä¼äº§çåå­ç©ºé´ç¢ç\n 4. å¯é¢æµçåé¡¿ï¼è½è®©ä½¿ç¨èæç¡®æå®å¨ä¸ä¸ªé¿åº¦ä¸ºMæ¯«ç§çæ¶é´çæ®µåï¼æ¶èå¨åå¾æ¶éä¸çæ¶é´ä¸å¾è¶è¿Næ¯«ç§\n\n\n\nG1æ¶éå¨çè¿ä½å¤§è´å¯ååä¸ºä»¥ä¸å ä¸ªæ­¥éª¤ï¼\n\n 1. åå§æ è®°ï¼æ è®°ä¸ä¸GC Rootsè½ç´æ¥å³èå°çå¯¹è±¡ï¼éè¦åé¡¿çº¿ç¨ï¼ä½èæ¶å¾ç­\n 2. å¹¶åæ è®°ï¼æ¯ä»GC Rootå¼å§å¯¹å ä¸­å¯¹è±¡è¿è¡å¯è¾¾æ§åæï¼æ¾åºå­æ´»çå¯¹è±¡ï¼è¿é¶æ®µèæ¶è¾é¿ï¼ä½å¯ä¸ç¨æ·ç¨åºå¹¶åæ§è¡\n 3. æç»æ è®°ï¼ä¿®æ­£å¨å¹¶åæ è®°æé´å ç¨æ·ç¨åºç»§ç»­è¿ä½èå¯¼è´æ è®°äº§çåå¨çé£ä¸é¨åæ è®°è®°å½\n 4. ç­éåæ¶ï¼å¯¹åä¸ªRegionçåæ¶ä»·å¼åææ¬è¿è¡æåºï¼æ ¹æ®ç¨æ·æææçGCåé¡¿æ¶é´æ¥å¶å®åæ¶è®¡å',normalizedContent:'# ç¸å³æ¦å¿µ\n\n\n# stw\n\ngcå¦ä½éè¦åæ­¢ææåºç¨ç¨åºçè¿ç¨ç§°ä¸ºstwï¼stop-the-world ï¼ã\n\n\n# saft pointï¼å®å¨ç¹ï¼\n\næèµ·çº¿ç¨çç¹\n\n * ä»å¨å±è§ç¹æ¥çï¼ææçº¿ç¨å¿é¡»å¨gc è¿è¡åï¼å¨ä¸ä¸ªsafepointå¤é»å¡ï¼blockï¼ã\n * ä»å±é¨è§ç¹æ¥çï¼safepointæ¯ä¸ä¸ªä»£ç åä¸­ç¹æ®çä¸ç¹ï¼è¯¥å¤æ­£å¨æ§è¡ççº¿ç¨å¯ä»¥å gcèé»å¡ã\n * gcçæ è®°é¶æ®µéè¦stop the worldï¼è®©ææjavaçº¿ç¨æèµ·ï¼è¿æ ·jvmæå¯ä»¥å®å¨å°æ¥æ è®°å¯¹è±¡ã\n\nsafepointå¯ä»¥ç¨æ¥å®ç°è®©ææjavaçº¿ç¨æèµ·çéæ±ãè¿æ¯ä¸ç§ "ä¸»å¨å¼"(voluntary suspension)çå®ç°\n\nsafe pointæçç¹å®ä½ç½®ä¸»è¦æ:\n\n 1. å¾ªç¯çæ«å°¾ (é²æ­¢å¤§å¾ªç¯çæ¶åä¸ç´ä¸è¿å¥safepointï¼èå¶ä»çº¿ç¨å¨ç­å¾å®è¿å¥safepoint)\n 2. æ¹æ³è¿åå\n 3. è°ç¨æ¹æ³çcallä¹å\n 4. æåºå¼å¸¸çä½ç½®\n\n\n# åå¾åæ¶ç±»å\n\n * æ°çä»£æ¶éï¼minor gc/young gcï¼ï¼æç®æ åªæ¯æ°çä»£çåå¾æ¶éãminor gc éå¸¸é¢ç¹ï¼åæ¶éåº¦æ¯è¾å¿«ã\n\n * èå¹´ä»£æ¶éï¼major gc/old gcï¼ï¼æç®æ åªæ¯èå¹´ä»£çåå¾æ¶éï¼ major gc ä¸è¬æ¯ minor gcæ¢ 10 åä»¥ä¸ãç®ååªæcmsæ¶éå¨ä¼æåç¬æ¶éèå¹´ä»£çè¡ä¸ºã\n\n * æ´å æ¶éï¼full gcï¼ï¼æ¶éæ´ä¸ªjavaå åæ¹æ³åºçåå¾æ¶éã\n\n * æ··åæ¶éï¼mixed gcï¼ï¼æç®æ æ¯æ¶éæ´ä¸ªæ°çä»£ä»¥åé¨åèå¹´ä»£çåå¾æ¶éãç®ååªæg1æ¶éå¨ä¼æè¿ç§è¡ä¸ºã\n\n\n# å¯¹è±¡å·²ç»æ­»äº¡ï¼\n\n\n# å¼ç¨è®¡æ°ç®æ³\n\nç»å¯¹è±¡ä¸­æ·»å ä¸ä¸ªå¼ç¨è®¡æ°å¨ï¼æ¯å½æä¸ä¸ªå°æ¹å¼ç¨å®ï¼è®¡æ°å¨å°±å  1ï¼å½å¼ç¨å¤±æï¼è®¡æ°å¨å°±å 1ï¼ä»»ä½æ¶åè®¡æ°å¨ä¸º 0 çå¯¹è±¡å°±æ¯ä¸å¯è½åè¢«ä½¿ç¨çã\n\nè¿ä¸ªæ¹æ³å®ç°ç®åï¼æçé«ï¼ä½æ¯ç®åä¸»æµçèææºä¸­å¹¶æ²¡æéæ©è¿ä¸ªç®æ³æ¥ç®¡çåå­ï¼å¶æä¸»è¦çåå æ¯å®å¾é¾è§£å³å¯¹è±¡ä¹é´ç¸äºå¾ªç¯å¼ç¨çé®é¢ã æè°å¯¹è±¡ä¹é´çç¸äºå¼ç¨é®é¢ï¼å¦ä¸é¢ä»£ç æç¤ºï¼é¤äºå¯¹è±¡ obja å objb ç¸äºå¼ç¨çå¯¹æ¹ä¹å¤ï¼è¿ä¸¤ä¸ªå¯¹è±¡ä¹é´åæ ä»»ä½å¼ç¨ãä½æ¯ä»ä»¬å ä¸ºäºç¸å¼ç¨å¯¹æ¹ï¼å¯¼è´å®ä»¬çå¼ç¨è®¡æ°å¨é½ä¸ä¸º 0ï¼äºæ¯å¼ç¨è®¡æ°ç®æ³æ æ³éç¥ gc åæ¶å¨åæ¶ä»ä»¬ã\n\npublic class referencecountinggc {\n    object instance = null;\n\tpublic static void main(string[] args) {\n\t\treferencecountinggc obja = new referencecountinggc();\n\t\treferencecountinggc objb = new referencecountinggc();\n\t\tobja.instance = objb;\n\t\tobjb.instance = obja;\n\t\tobja = null;\n\t\tobjb = null;\n\n\t}\n}\n\n\n\n\n# å¯è¾¾æ§åæç®æ³\n\nè¿ä¸ªç®æ³çåºæ¬ææ³å°±æ¯éè¿ä¸ç³»åçç§°ä¸º âgc rootsâ çå¯¹è±¡ä½ä¸ºèµ·ç¹ï¼ä»è¿äºèç¹å¼å§åä¸æç´¢ï¼èç¹æèµ°è¿çè·¯å¾ç§°ä¸ºå¼ç¨é¾ï¼å½ä¸ä¸ªå¯¹è±¡å° gc roots æ²¡æä»»ä½å¼ç¨é¾ç¸è¿çè¯ï¼åè¯ææ­¤å¯¹è±¡æ¯ä¸å¯ç¨çã\n\n\n\nå¯ä½ä¸º gc roots çå¯¹è±¡åæ¬ä¸é¢å ç§:\n\n * èææºæ (æ å¸§ä¸­çæ¬å°åéè¡¨)ä¸­å¼ç¨çå¯¹è±¡\n * æ¬å°æ¹æ³æ (native æ¹æ³)ä¸­å¼ç¨çå¯¹è±¡\n * æ¹æ³åºä¸­ç±»éæå±æ§å¼ç¨çå¯¹è±¡\n * æ¹æ³åºä¸­å¸¸éå¼ç¨çå¯¹è±¡\n * ææè¢«åæ­¥éææçå¯¹è±¡\n\n\n# ä¸å¯è¾¾çå¯¹è±¡å¹¶éâéæ­»ä¸å¯â\n\nå³ä½¿å¨å¯è¾¾æ§åææ³ä¸­ä¸å¯è¾¾çå¯¹è±¡ï¼ä¹å¹¶éæ¯âéæ­»ä¸å¯âçï¼è¿æ¶åå®ä»¬ææ¶å¤äºâç¼åé¶æ®µâï¼è¦çæ­£å®£åä¸ä¸ªå¯¹è±¡æ­»äº¡ï¼è³å°è¦ç»åä¸¤æ¬¡æ è®°è¿ç¨ï¼å¯è¾¾æ§åææ³ä¸­ä¸å¯è¾¾çå¯¹è±¡è¢«ç¬¬ä¸æ¬¡æ è®°å¹¶ä¸è¿è¡ä¸æ¬¡ç­éï¼ç­éçæ¡ä»¶æ¯æ­¤å¯¹è±¡æ¯å¦æå¿è¦æ§è¡ finalize æ¹æ³ãå½å¯¹è±¡æ²¡æè¦ç finalize æ¹æ³ï¼æ finalize æ¹æ³å·²ç»è¢«èææºè°ç¨è¿æ¶ï¼èææºå°è¿ä¸¤ç§æåµè§ä¸ºæ²¡æå¿è¦æ§è¡ã\n\nè¢«å¤å®ä¸ºéè¦æ§è¡çå¯¹è±¡å°ä¼è¢«æ¾å¨ä¸ä¸ªéåä¸­è¿è¡ç¬¬äºæ¬¡æ è®°ï¼é¤éè¿ä¸ªå¯¹è±¡ä¸å¼ç¨é¾ä¸çä»»ä½ä¸ä¸ªå¯¹è±¡å»ºç«å³èï¼å¦åå°±ä¼è¢«ççåæ¶ã\n\n\n# åå¾æ¶éç®æ³\n\n\n# æ è®°-æ¸é¤ç®æ³\n\nè¯¥ç®æ³åä¸ºâæ è®°âåâæ¸é¤âé¶æ®µï¼é¦åæ è®°åºææä¸éè¦åæ¶çå¯¹è±¡ï¼å¨æ è®°å®æåç»ä¸åæ¶ææææ²¡æè¢«æ è®°çå¯¹è±¡ãå®æ¯æåºç¡çæ¶éç®æ³ï¼åç»­çç®æ³é½æ¯å¯¹å¶ä¸è¶³è¿è¡æ¹è¿å¾å°ãè¿ç§åå¾æ¶éç®æ³ä¼å¸¦æ¥ä¸¤ä¸ªææ¾çé®é¢ï¼\n\n 1. æçé®é¢\n 2. ç©ºé´é®é¢ï¼æ è®°æ¸é¤åä¼äº§çå¤§éä¸è¿ç»­çç¢çï¼\n\n\n\n\n# æ è®°-å¤å¶ç®æ³\n\nä¸ºäºè§£å³æçé®é¢ï¼âæ è®°-å¤å¶âæ¶éç®æ³åºç°äºãå®å¯ä»¥å°åå­åä¸ºå¤§å°ç¸åçä¸¤åï¼æ¯æ¬¡ä½¿ç¨å¶ä¸­çä¸åãå½è¿ä¸åçåå­ä½¿ç¨å®åï¼å°±å°è¿å­æ´»çå¯¹è±¡å¤å¶å°å¦ä¸åå»ï¼ç¶ååæä½¿ç¨çç©ºé´ä¸æ¬¡æ¸çæãè¿æ ·å°±ä½¿æ¯æ¬¡çåå­åæ¶é½æ¯å¯¹åå­åºé´çä¸åè¿è¡åæ¶ãæ è®°-å¤å¶ç®æ³è½ç¶è§£å³äºç¢çåé®é¢ï¼ä½æ¯å­å¨ç©ºé´æµªè´¹ã\n\n\n\n\n# æ è®°-æ´çç®æ³\n\næ ¹æ®èå¹´ä»£çç¹ç¹æåºçä¸ç§æ è®°ç®æ³ï¼æ è®°è¿ç¨ä»ç¶ä¸âæ è®°-æ¸é¤âç®æ³ä¸æ ·ï¼ä½åç»­æ­¥éª¤ä¸æ¯ç´æ¥å¯¹å¯åæ¶å¯¹è±¡åæ¶ï¼èæ¯è®©ææå­æ´»çå¯¹è±¡åä¸ç«¯ç§»å¨ï¼ç¶åç´æ¥æ¸çæç«¯è¾¹çä»¥å¤çåå­ã\n\n\n\n\n# åä»£æ¶éç®æ³\n\nå½åèææºçåå¾æ¶éé½éç¨åä»£æ¶éç®æ³ï¼è¿ç§ç®æ³æ²¡æä»ä¹æ°çææ³ï¼åªæ¯æ ¹æ®å¯¹è±¡å­æ´»å¨æçä¸åå°åå­åä¸ºå åãä¸è¬å° java å åä¸ºæ°çä»£åèå¹´ä»£ï¼è¿æ ·æä»¬å°±å¯ä»¥æ ¹æ®åä¸ªå¹´ä»£çç¹ç¹éæ©åéçåå¾æ¶éç®æ³ã\n\næ¯å¦å¨æ°çä»£ä¸­ï¼æ¯æ¬¡æ¶éé½ä¼æå¤§éå¯¹è±¡æ­»å»ï¼æä»¥å¯ä»¥éæ©âæ è®°-å¤å¶âç®æ³ï¼åªéè¦ä»åºå°éå¯¹è±¡çå¤å¶ææ¬å°±å¯ä»¥å®ææ¯æ¬¡åå¾æ¶éãèèå¹´ä»£çå¯¹è±¡å­æ´»å çæ¯æ¯è¾é«çï¼èä¸æ²¡æé¢å¤çç©ºé´å¯¹å®è¿è¡åéæä¿ï¼æä»¥æä»¬å¿é¡»éæ©âæ è®°-æ¸é¤âæâæ è®°-æ´çâç®æ³è¿è¡åå¾æ¶éã\n\n\n# åå¾æ¶éå¨\n\nä¸²è¡æ¶éå¨ï¼ä½¿ç¨åçº¿ç¨è¿è¡åå¾åæ¶çæ¶éå¨ï¼æ¯æ¬¡åæ¶æ¶ï¼ä¸²è¡æ¶éå¨åªæä¸ä¸ªå·¥ä½çº¿ç¨ï¼å¯¹äºå¹¶è¡è½åè¾å¼±çè®¡ç®æºæ¥è¯´ï¼ä¸²è¡æ¶éå¨çä¸æ³¨æ§åç¬å æ§å¾å¾ææ´å¥½çæ§è½è¡¨ç°ã\n\nä¸²è¡æ¶éå¨ï¼\n\n * serial æ¶éå¨\n * serial old æ¶éå¨\n\nå¹¶è¡æ¶éå¨ï¼\n\n * parallel scavenge æ¶éå¨\n\n * parallel old æ¶éå¨\n\n * parnew æ¶éå¨\n\n * cms æ¶éå¨\n\n * g1 æ¶éå¨\n\næ 7 ç§ä¸åçåå¾åæ¶å¨ï¼å®ä»¬åå«ç¨äºä¸ååä»£çåå¾åæ¶ã\n\n * æ°çä»£åæ¶å¨ï¼serialãparnewãparallel scavenge\n * èå¹´ä»£åæ¶å¨ï¼serial oldãparallel oldãcms\n * æ´å åæ¶å¨ï¼g1\n\nå¯éçæ­éæ¹æ¡ï¼\n\næ°çä»£                 èå¹´ä»£\nserial              serial old\nserial              cms\nparnew              serial old\nparnew              cms\nparallel scavenge   serial old\nparallel scavenge   parallel old\ng1                  g1\n\n\n# serial æ¶éå¨\n\nserialæ¶éå¨æ¯ä¸ä¸ªæ°çä»£æ¶éå¨ï¼åçº¿ç¨æ§è¡ï¼ä½¿ç¨æ è®°-å¤å¶ç®æ³ãå®å¨è¿è¡åå¾æ¶éæ¶ï¼å¿é¡»æåå¶ä»ææçå·¥ä½çº¿ç¨(ç¨æ·çº¿ç¨)ãæ¯jvm clientæ¨¡å¼ä¸é»è®¤çæ°çä»£æ¶éå¨ãå¯¹äºéå®åä¸ªcpuçç¯å¢æ¥è¯´ï¼serialæ¶éå¨ç±äºæ²¡æçº¿ç¨äº¤äºçå¼éï¼ä¸å¿ååå¾æ¶éèªç¶å¯ä»¥è·å¾æé«çåçº¿ç¨æ¶éæçã\n\n\n\n\n# serial old æ¶éå¨\n\nserialæ¶éå¨çèå¹´ä»£çæ¬ï¼å®åæ ·æ¯ä¸ä¸ªåçº¿ç¨æ¶éå¨ï¼ä½¿ç¨ âæ è®°-æ´çâç®æ³ãä¹ä¼æå®ææç¨æ·çº¿ç¨ã\n\n\n# parallel scavenge æ¶éå¨\n\néç½®åæ°ï¼-xx:+useparallelgc\n\nç®æ æ¯è¾¾å°ä¸ä¸ªå¯æ§å¶çååéï¼throughputï¼ã\n\nååé = è¿è¡ç¨æ·ä»£ç æ¶é´ /ï¼è¿è¡ç¨æ·ä»£ç æ¶é´+åå¾æ¶éæ¶é´ï¼ã\n\nèææºæ»å±è¿è¡äº 100 åéï¼å¶ä¸­åå¾æ¶éè±æ 1 åéï¼é£ååéå°±æ¯99%ã\n\n\n\nç¹ç¹ï¼\n\n * æ°çä»£ä½¿ç¨å¹¶è¡åæ¶æ¶éå¨ï¼èå¹´ä»£ä½¿ç¨ä¸²è¡æ¶éå¨\n * ååéä¼åæ¶éå¨\n * æ°çä»£æ¶éå¨å¤å¶ç®æ³ï¼æ¯å¹¶è¡çå¤çº¿ç¨æ¶éå¨ã\n\n\n# parallel old æ¶éå¨\n\néç½®åæ°ï¼-xx:+useparalleloldgc\n\nç¹ç¹ï¼\n\n * parallel scavengeæ¶éå¨çèå¹´ä»£çæ¬ï¼ä½¿ç¨å¤çº¿ç¨å âæ è®°-æ´çâç®æ³ã\n * å¨æ³¨éååéä»¥åcpuèµæºææçåºåï¼é½å¯ä»¥ä¼åèèparallel scavengeå parallel oldæ¶éå¨ã\n\n\n# parnew æ¶éå¨\n\néç½®åæ°ï¼-xx:+useparnewgc\n\néç½®åæ°ï¼-xx:parallelgcthreads=n è®¾ç½®å¹¶è¡æ¶éå¨æ¶éæ¶ä½¿ç¨çå¹¶è¡æ¶éçº¿ç¨æ°ãä¸è¬æå¥½åè®¡ç®æºçcpuç¸å½\n\nç¹ç¹ï¼\n\n * æ°çä»£å¹¶è¡ï¼parnewï¼ï¼èå¹´ä»£ä¸²è¡ï¼serial oldï¼\n * serialæ¶éå¨çå¤çº¿ç¨çæ¬\n * åcpuæ§è½å¹¶ä¸å¦serialï¼å ä¸ºå­å¨çº¿ç¨äº¤äºçå¼é\n\n\n\n\n# cms æ¶éå¨\n\néç½®åæ°ï¼-xx:+useconcmarksweepgc åºç¨cmsæ¶éå¨ã\n\nå°½ç®¡cmsæ¶éå¨éç¨çæ¯ å¹¶ååæ¶ï¼éç¬å å¼ï¼ ï¼ä½æ¯å¨å¶åå§æ è®°åéæ°æ è®°è¿ä¸¤ä¸ªé¶æ®µä¸­ä»ç¶éè¦æ§è¡âstop-the-worldâæºå¶æåç¨åºä¸­çå·¥ä½çº¿ç¨ï¼ä¸è¿æåæ¶é´å¹¶ä¸ä¼å¤ªé¿ã\n\nå æ­¤å¯ä»¥è¯´æ ç®åææçåå¾æ¶éå¨é½åä¸å°å®å¨ä¸éè¦âstop-the-world ï¼ åªæ¯å°½å¯è½å°ç¼©ç­æåæ¶é´ ã\n\nç±äºæèè´¹æ¶é´çå¹¶åæ è®°ä¸å¹¶åæ¸é¤é¶æ®µé½ä¸éè¦æåå·¥ä½ï¼æä»¥æ´ä½çåæ¶æ¯ä½åé¡¿çã\n\nå¦å¤ï¼ç±äºå¨åå¾æ¶éé¶æ®µç¨æ·çº¿ç¨æ²¡æä¸­æ­ ï¼æä»¥å¨cmsåæ¶è¿ç¨ä¸­ï¼è¿åºè¯¥ç¡®ä¿åºç¨ç¨åºç¨æ·çº¿ç¨æè¶³å¤çåå­å¯ç¨ã\n\nç¹ç¹:\n\n * ä½å»¶è¿ï¼ åå°stwå¯¹ç¨æ·ä½éªçå½±åãååºæ¶é´åå»¶è¿è¦æ±é«ã\n * å¹¶åæ¶éï¼å¯ä»¥åæ¶æ§è¡ç¨æ·çº¿ç¨\n * cmsæ¶éå¨ ä¸è½åå¶ä»æ¶éå¨é£æ ·ç­å°èå¹´ä»£å ä¹å®å¨è¢«å¡«æ»¡äºåè¿è¡æ¶é ï¼èæ¯å½å åå­ä½¿ç¨çè¾¾å°æä¸éå¼æ¶ï¼ä¾¿å¼å§è¿è¡åæ¶ã\n * cmsæ¶éå¨çåå¾æ¶éç®æ³éç¨çæ¯æ è®°æ¸é¤ç®æ³ã\n * ä¼äº§çåå­ç¢çï¼å¯¼è´å¹¶åæ¸é¤åï¼ç¨æ·çº¿ç¨å¯ç¨çç©ºé´ä¸è¶³ã\n * cmsæ¶éå¨å¯¹cpuèµæºéå¸¸ææã\n\ncmsåå¾åæ¶å¨ï¼\n\ncmsæ´ä¸ªè¿ç¨æ¯ä¹åçæ¶éå¨è¦å¤æï¼æ´ä¸ªè¿ç¨åä¸º 4 ä¸ªä¸»è¦é¶æ®µï¼å³åå§æ è®°é¶æ®µãå¹¶åæ è®°é¶æ®µãéæ°æ è®°é¶æ®µåå¹¶åæ¸é¤é¶æ®µã\n\n> ( æ¶åstwçé¶æ®µä¸»è¦æ¯ï¼åå§æ è®° å éæ°æ è®° )\n\n * åå§æ è®°ï¼initial-markï¼é¶æ®µ ï¼å¨è¿ä¸ªé¶æ®µä¸­ï¼ç¨åºä¸­ææçå·¥ä½çº¿ç¨é½å°ä¼å ä¸ºâstop-the-worldâæºå¶èåºç°ç­æçæåï¼è¿ä¸ªé¶æ®µçä¸»è¦ä»»å¡ä»ä»åªæ¯æ è®°åºgcrootsè½ç´æ¥å³èå°çå¯¹è±¡ãä¸æ¦æ è®°å®æä¹åå°±ä¼æ¢å¤ä¹åè¢«æåçææåºç¨çº¿ç¨ãç±äºç´æ¥å³èå¯¹è±¡æ¯è¾å°ï¼æä»¥è¿éçéåº¦éå¸¸å¿«ããstwã\n\n * å¹¶åæ è®°ï¼concurrent-markï¼é¶æ®µ ï¼ä»gc rootsçç´æ¥å³èå¯¹è±¡å¼å§éåæ´ä¸ªå¯¹è±¡å¾çè¿ç¨ï¼è¿ä¸ªè¿ç¨èæ¶è¾é¿ä½æ¯ä¸éè¦åé¡¿ç¨æ·çº¿ç¨ï¼å¯ä»¥ä¸åå¾æ¶éçº¿ç¨ä¸èµ·å¹¶åè¿è¡ã\n\n * éæ°æ è®°ï¼remarkï¼é¶æ®µ ï¼ç±äºå¨å¹¶åæ è®°é¶æ®µä¸­ï¼ç¨åºçå·¥ä½çº¿ç¨ä¼ååå¾æ¶éçº¿ç¨åæ¶è¿è¡æèäº¤åè¿è¡ï¼å æ­¤ä¸ºäº ä¿®æ­£å¹¶åæ è®°æé´ï¼å ç¨æ·ç¨åºç»§ç»­è¿ä½èå¯¼è´æ è®°äº§çåå¨çé£ä¸é¨åå¯¹è±¡çæ è®°è®°å½ ï¼è¿ä¸ªé¶æ®µçåé¡¿æ¶é´éå¸¸ä¼æ¯åå§æ è®°é¶æ®µç¨é¿ä¸äºï¼ä½ä¹è¿æ¯å¹¶åæ è®°é¶æ®µçæ¶é´ç­ããstwã\n\n * å¹¶åæ¸é¤ï¼concurrent-sweepï¼é¶æ®µ ï¼æ­¤é¶æ®µæ¸çå é¤ææ è®°é¶æ®µå¤æ­çå·²ç»æ­»äº¡çå¯¹è±¡ï¼éæ¾åå­ç©ºé´ãç±äºä¸éè¦ç§»å¨å­æ´»å¯¹è±¡ï¼æä»¥è¿ä¸ªé¶æ®µä¹æ¯å¯ä»¥ä¸ç¨æ·çº¿ç¨åæ¶å¹¶åçã\n\n\n# g1 æ¶éå¨\n\néç½®åæ°ï¼-xx:+useg1gc åºç¨g1æ¶éå¨\n\néç½®åæ°ï¼-xx:maxgcpausemillis æå®æå¤§åé¡¿æ¶é´\n\néç½®åæ°ï¼-xx:parallelgcthreads è®¾ç½®å¹¶è¡åæ¶ççº¿ç¨æ°é\n\ngarbage-firstå½ä»æ¶éå¨ææ¯åå±çæåæ²¿ææä¹ä¸ï¼g1æ¯ä¸æ¬¾é¢åæå¡ç«¯åºç¨çåå¾æ¶éå¨ãå¤§åå­ï¼ä¼ä¸éç½®çåå¾æ¶éå¨å¤§å¤é½æ¯g1ã\n\nç¹ç¹ï¼\n\n 1. å¹¶è¡ä¸å¹¶åï¼ååå©ç¨å¤cpuãå¤æ ¸ç¯å¢ä¸çç¡¬ä»¶ä¼å¿\n 2. åä»£æ¶éï¼ä¸éè¦å¶ä»æ¶éå¨éåå°±è½ç¬ç«ç®¡çæ´ä¸ªgcå \n 3. ç©ºé´æ´åï¼âæ è®°âæ´çâç®æ³å®ç°çæ¶éå¨ï¼å±é¨ä¸åºäºâå¤å¶âç®æ³ä¸ä¼äº§çåå­ç©ºé´ç¢ç\n 4. å¯é¢æµçåé¡¿ï¼è½è®©ä½¿ç¨èæç¡®æå®å¨ä¸ä¸ªé¿åº¦ä¸ºmæ¯«ç§çæ¶é´çæ®µåï¼æ¶èå¨åå¾æ¶éä¸çæ¶é´ä¸å¾è¶è¿næ¯«ç§\n\n\n\ng1æ¶éå¨çè¿ä½å¤§è´å¯ååä¸ºä»¥ä¸å ä¸ªæ­¥éª¤ï¼\n\n 1. åå§æ è®°ï¼æ è®°ä¸ä¸gc rootsè½ç´æ¥å³èå°çå¯¹è±¡ï¼éè¦åé¡¿çº¿ç¨ï¼ä½èæ¶å¾ç­\n 2. å¹¶åæ è®°ï¼æ¯ä»gc rootå¼å§å¯¹å ä¸­å¯¹è±¡è¿è¡å¯è¾¾æ§åæï¼æ¾åºå­æ´»çå¯¹è±¡ï¼è¿é¶æ®µèæ¶è¾é¿ï¼ä½å¯ä¸ç¨æ·ç¨åºå¹¶åæ§è¡\n 3. æç»æ è®°ï¼ä¿®æ­£å¨å¹¶åæ è®°æé´å ç¨æ·ç¨åºç»§ç»­è¿ä½èå¯¼è´æ è®°äº§çåå¨çé£ä¸é¨åæ è®°è®°å½\n 4. ç­éåæ¶ï¼å¯¹åä¸ªregionçåæ¶ä»·å¼åææ¬è¿è¡æåºï¼æ ¹æ®ç¨æ·æææçgcåé¡¿æ¶é´æ¥å¶å®åæ¶è®¡å',charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"JVM å¸¸ç¨åæ°",frontmatter:{title:"JVM å¸¸ç¨åæ°",date:"2023-10-23T23:55:07.000Z",permalink:"/pages/c5dfa7/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/03.Java/05.JVM/03.JVM%20%E5%B8%B8%E7%94%A8%E5%8F%82%E6%95%B0.html",relativePath:"01.Java ç¥è¯ä½ç³»/03.Java/05.JVM/03.JVM å¸¸ç¨åæ°.md",key:"v-21848ec2",path:"/pages/c5dfa7/",headers:[{level:1,title:"æ ååæ°ãéæ ååæ°ãä¸ç¨³å®å",slug:"æ ååæ°ãéæ ååæ°ãä¸ç¨³å®å",normalizedTitle:"æ ååæ°ãéæ ååæ°ãä¸ç¨³å®å",charIndex:15},{level:2,title:"æ ååæ°",slug:"æ ååæ°",normalizedTitle:"æ ååæ°",charIndex:15},{level:2,title:"éæ ååæ°",slug:"éæ ååæ°",normalizedTitle:"éæ ååæ°",charIndex:20},{level:2,title:"ä¸ç¨³å®åæ°",slug:"ä¸ç¨³å®åæ°",normalizedTitle:"ä¸ç¨³å®åæ°",charIndex:26},{level:1,title:"å¸¸ç¨åæ°",slug:"å¸¸ç¨åæ°",normalizedTitle:"å¸¸ç¨åæ°",charIndex:1188},{level:2,title:"å¹¶è¡æ¶éå¨ç¸å³åæ°",slug:"å¹¶è¡æ¶éå¨ç¸å³åæ°",normalizedTitle:"å¹¶è¡æ¶éå¨ç¸å³åæ°",charIndex:2301}],headersStr:"æ ååæ°ãéæ ååæ°ãä¸ç¨³å®å æ ååæ° éæ ååæ° ä¸ç¨³å®åæ° å¸¸ç¨åæ° å¹¶è¡æ¶éå¨ç¸å³åæ°",content:"JVMåæ°ä¸»è¦åä¸ºä»¥ä¸ä¸ç§ï¼ æ ååæ°ãéæ ååæ°ãä¸ç¨³å®åæ°ã\n\n\n# æ ååæ°ãéæ ååæ°ãä¸ç¨³å®å\n\n\n# æ ååæ°\n\næ ååæ°ï¼é¡¾åæä¹ï¼æ ååæ°ä¸­åæ¬åè½ä»¥åè¾åºçç»æé½æ¯å¾ç¨³å®çï¼åºæ¬ä¸ ä¸ä¼éçJVMçæ¬çååèåå ãæ ååæ°ä»¥ - å¼å¤´ï¼å¦ï¼java -versionãjava -jarç­ï¼éè¿java -helpå¯ä»¥æ¥è¯¢ææçæ ååæ°ï¼\n\næä»¬å¯ä»¥éè¿ -help å½ä»¤æ¥æ£ç´¢åºæææ ååæ°\n\n\n\n> -help ä¹æ¯ä¸ä¸ªæ ååæ°ï¼åæ¯å¦ä½¿ç¨æ¯è¾å¤ç -versionä¹æ¯ã\n\n\n# éæ ååæ°\n\néæ ååæ°ä»¥ -X å¼å¤´ï¼æ¯æ ååæ°çæ©å±ãå¯¹åºåé¢è®²çæ åååæ°ï¼è¿æ¯éæ åååæ°ã\n\nè¡¨ç¤ºå¨å°æ¥çJVMçæ¬ä¸­å¯è½ä¼åçæ¹åï¼ä½æ¯è¿ç±»ä»¥-Xå¼å§çåæ°ååçæ¯è¾å°ã\n\næä»¬å¯ä»¥éè¿ Java -X å½ä»¤æ¥æ£ç´¢ææ-X åæ°ã\n\n\n\næä»¬å¯ä»¥éè¿è®¾ç½®éæ ååæ°æ¥éç½®å çåå­åéï¼å¸¸ç¨çéæ ååæ°æï¼\n\n * -Xms å åå­çæå°å¼ï¼é»è®¤å¼æ¯æ»åå­/64ï¼ä¸å°äº1Gï¼ï¼é»è®¤æåµä¸ï¼å½å ä¸­å¯ç¨åå­å°äº40%æ¶ï¼å åå­ä¼å¼å§å¢å ï¼ä¸ç´å¢å å°-Xmxçå¤§å°ã\n\n * -Xmx å åå­çæå¤§å¼ï¼é»è®¤å¼æ¯æ»åå­/64ï¼ä¸å°äº1Gï¼ï¼å¦æXmsåXmxé½ä¸è®¾ç½®ï¼åä¸¤èå¤§å°ä¼ç¸åï¼é»è®¤æåµä¸ï¼å½å ä¸­å¯ç¨åå­å¤§äº70%æ¶ï¼å åå­ä¼å¼å§åå°ï¼ä¸ç´åå°å°-Xmsçå¤§å°ï¼\n\n * -Xmn æ°çä»£åå­çæå¤§å¼ï¼åæ¬Edenåºåä¸¤ä¸ªSurvivoråºçæ»åï¼åæ³å¦ï¼-Xmn1024m\n\n * -Xss æ¯ä¸ªçº¿ç¨çæ åå­ï¼ é»è®¤1Mï¼ä¸è¬æ¥è¯´æ¯ä¸éè¦æ¹çã(æ¯è¾å°ç¨)\n\n\n# ä¸ç¨³å®åæ°\n\nè¿æ¯æä»¬æ¥å¸¸å¼åä¸­æ¥è§¦å°æå¤çåæ°ç±»åãè¿ä¹æ¯éæ åååæ°ï¼ç¸å¯¹æ¥è¯´ä¸ç¨³å®ï¼éçJVMçæ¬çååå¯è½ä¼åçååï¼ä¸»è¦ç¨äº JVMè°ä¼ å debugã\n\nä¸ç¨³å®åæ°ä»¥-XX å¼å¤´ï¼æ­¤ç±»åæ°çè®¾ç½®å¾å®¹æå¼èµ·JVM æ§è½ä¸çå·®å¼ï¼ä½¿JVMå­å¨æå¤§çä¸ç¨³å®æ§ã\n\nå¦ææ­¤ç±»åæ°è®¾ç½®åçå°å¤§å¤§æé«JVMçæ§è½åç¨³å®æ§ã\n\nä¸ç¨³å®åæ°åä¸ºä¸ç±»ï¼\n\n * æ§è½åæ°ï¼ç¨äºJVMçæ§è½è°ä¼ååå­åéæ§å¶ï¼å¦åå­å¤§å°çè®¾ç½®ï¼\n * è¡ä¸ºåæ°ï¼ç¨äºæ¹åJVMçåºç¡è¡ä¸ºï¼å¦GCçæ¹å¼åç®æ³çéæ©ï¼\n * è°è¯åæ°ï¼ç¨äºçæ§ãæå°ãè¾åºjvmçä¿¡æ¯ï¼\n\nä¸ç¨³å®åæ°è¯­æ³è§åï¼\n\n 1. å¸å°ç±»ååæ°å¼ï¼\n    * -XX:+\n    * -XX:-\n\nç¤ºä¾ï¼-XX:+UseG1GCï¼è¡¨ç¤ºå¯ç¨G1åå¾æ¶éå¨\n\n\n 2. æ°å­ç±»ååæ°å¼ï¼\n    * -XX:=\n\nç¤ºä¾ï¼-XX:MaxGCPauseMillis=500 ï¼è¡¨ç¤ºè®¾ç½®GCçæå¤§åé¡¿æ¶é´æ¯500ms\n\n\n 3. å­ç¬¦ä¸²ç±»ååæ°å¼ï¼\n    * -XX:=\n\nç¤ºä¾ï¼-XX:HeapDumpPath=./dump.core\n\n\n\n# å¸¸ç¨åæ°\n\nåæ°åç§°                  å«ä¹                                      é»è®¤å¼               \n-Xms                  åå§å å¤§å°                                   ç©çåå­ç1/64(<1GB)   \n-Xmx                  æå¤§å å¤§å°                                   ç©çåå­ç1/4(<1GB     \n-Xmn                  å¹´è½»ä»£å¤§å°                                                     \n-XX:NewSize           è®¾ç½®å¹´è½»ä»£å¤§å°                                                   \n-XX:MaxNewSize        å¹´è½»ä»£æå¤§å¼                                                    \n-XX:PermSize          è®¾ç½®æä¹ä»£(perm gen)åå§å¼                      ç©çåå­ç1/64         \n-XX:MaxPermSize       è®¾ç½®æä¹ä»£æå¤§å¼                                ç©çåå­ç1/4          \n-Xss                  æ¯ä¸ªçº¿ç¨çå æ å¤§å°                                                 \n-XX:ThreadStackSize   çº¿ç¨å æ å¤§å°                                                    \n-XX:NewRatio          å¹´è½»ä»£(åæ¬Edenåä¸¤ä¸ªSurvivoråº)ä¸å¹´èä»£çæ¯å¼(é¤å»æä¹ä»£)                     -XX:NewRatio=4è¡¨ç¤ºå¹´è½»ä»£ä¸å¹´èä»£æå æ¯å¼ä¸º1:4,å¹´è½»ä»£å æ´ä¸ªå æ ç1/5ï¼Xms=Xmxå¹¶ä¸è®¾ç½®äºXmnçæåµä¸ï¼è¯¥åæ°ä¸éè¦è¿è¡è®¾ç½®ã\n-XX:SurvivorRatio     Edenåºä¸Survivoråºçå¤§å°æ¯å¼                                      è®¾ç½®ä¸º8,åä¸¤ä¸ªSurvivoråºä¸ä¸ä¸ªEdenåºçæ¯å¼ä¸º2:8,ä¸ä¸ªSurvivoråºå æ´ä¸ªå¹´è½»ä»£ç1/10\n\n\n# å¹¶è¡æ¶éå¨ç¸å³åæ°\n\nåæ°åç§°                    å«ä¹                                    é»è®¤å¼\n-XX:+UseParallelGC      Full GCéç¨parallelMSC                  \n-XX:+UseParNewGC        è®¾ç½®å¹´è½»ä»£ä¸ºå¹¶è¡æ¶é                            \n-XX:ParallelGCThreads   å¹¶è¡æ¶éå¨ççº¿ç¨æ°                             \n-XX:+UseParallelOldGC   å¹´èä»£åå¾æ¶éæ¹å¼ä¸ºå¹¶è¡æ¶é(Parallel Compacting)   ",normalizedContent:"jvmåæ°ä¸»è¦åä¸ºä»¥ä¸ä¸ç§ï¼ æ ååæ°ãéæ ååæ°ãä¸ç¨³å®åæ°ã\n\n\n# æ ååæ°ãéæ ååæ°ãä¸ç¨³å®å\n\n\n# æ ååæ°\n\næ ååæ°ï¼é¡¾åæä¹ï¼æ ååæ°ä¸­åæ¬åè½ä»¥åè¾åºçç»æé½æ¯å¾ç¨³å®çï¼åºæ¬ä¸ ä¸ä¼éçjvmçæ¬çååèåå ãæ ååæ°ä»¥ - å¼å¤´ï¼å¦ï¼java -versionãjava -jarç­ï¼éè¿java -helpå¯ä»¥æ¥è¯¢ææçæ ååæ°ï¼\n\næä»¬å¯ä»¥éè¿ -help å½ä»¤æ¥æ£ç´¢åºæææ ååæ°\n\n\n\n> -help ä¹æ¯ä¸ä¸ªæ ååæ°ï¼åæ¯å¦ä½¿ç¨æ¯è¾å¤ç -versionä¹æ¯ã\n\n\n# éæ ååæ°\n\néæ ååæ°ä»¥ -x å¼å¤´ï¼æ¯æ ååæ°çæ©å±ãå¯¹åºåé¢è®²çæ åååæ°ï¼è¿æ¯éæ åååæ°ã\n\nè¡¨ç¤ºå¨å°æ¥çjvmçæ¬ä¸­å¯è½ä¼åçæ¹åï¼ä½æ¯è¿ç±»ä»¥-xå¼å§çåæ°ååçæ¯è¾å°ã\n\næä»¬å¯ä»¥éè¿ java -x å½ä»¤æ¥æ£ç´¢ææ-x åæ°ã\n\n\n\næä»¬å¯ä»¥éè¿è®¾ç½®éæ ååæ°æ¥éç½®å çåå­åéï¼å¸¸ç¨çéæ ååæ°æï¼\n\n * -xms å åå­çæå°å¼ï¼é»è®¤å¼æ¯æ»åå­/64ï¼ä¸å°äº1gï¼ï¼é»è®¤æåµä¸ï¼å½å ä¸­å¯ç¨åå­å°äº40%æ¶ï¼å åå­ä¼å¼å§å¢å ï¼ä¸ç´å¢å å°-xmxçå¤§å°ã\n\n * -xmx å åå­çæå¤§å¼ï¼é»è®¤å¼æ¯æ»åå­/64ï¼ä¸å°äº1gï¼ï¼å¦æxmsåxmxé½ä¸è®¾ç½®ï¼åä¸¤èå¤§å°ä¼ç¸åï¼é»è®¤æåµä¸ï¼å½å ä¸­å¯ç¨åå­å¤§äº70%æ¶ï¼å åå­ä¼å¼å§åå°ï¼ä¸ç´åå°å°-xmsçå¤§å°ï¼\n\n * -xmn æ°çä»£åå­çæå¤§å¼ï¼åæ¬edenåºåä¸¤ä¸ªsurvivoråºçæ»åï¼åæ³å¦ï¼-xmn1024m\n\n * -xss æ¯ä¸ªçº¿ç¨çæ åå­ï¼ é»è®¤1mï¼ä¸è¬æ¥è¯´æ¯ä¸éè¦æ¹çã(æ¯è¾å°ç¨)\n\n\n# ä¸ç¨³å®åæ°\n\nè¿æ¯æä»¬æ¥å¸¸å¼åä¸­æ¥è§¦å°æå¤çåæ°ç±»åãè¿ä¹æ¯éæ åååæ°ï¼ç¸å¯¹æ¥è¯´ä¸ç¨³å®ï¼éçjvmçæ¬çååå¯è½ä¼åçååï¼ä¸»è¦ç¨äº jvmè°ä¼ å debugã\n\nä¸ç¨³å®åæ°ä»¥-xx å¼å¤´ï¼æ­¤ç±»åæ°çè®¾ç½®å¾å®¹æå¼èµ·jvm æ§è½ä¸çå·®å¼ï¼ä½¿jvmå­å¨æå¤§çä¸ç¨³å®æ§ã\n\nå¦ææ­¤ç±»åæ°è®¾ç½®åçå°å¤§å¤§æé«jvmçæ§è½åç¨³å®æ§ã\n\nä¸ç¨³å®åæ°åä¸ºä¸ç±»ï¼\n\n * æ§è½åæ°ï¼ç¨äºjvmçæ§è½è°ä¼ååå­åéæ§å¶ï¼å¦åå­å¤§å°çè®¾ç½®ï¼\n * è¡ä¸ºåæ°ï¼ç¨äºæ¹åjvmçåºç¡è¡ä¸ºï¼å¦gcçæ¹å¼åç®æ³çéæ©ï¼\n * è°è¯åæ°ï¼ç¨äºçæ§ãæå°ãè¾åºjvmçä¿¡æ¯ï¼\n\nä¸ç¨³å®åæ°è¯­æ³è§åï¼\n\n 1. å¸å°ç±»ååæ°å¼ï¼\n    * -xx:+\n    * -xx:-\n\nç¤ºä¾ï¼-xx:+useg1gcï¼è¡¨ç¤ºå¯ç¨g1åå¾æ¶éå¨\n\n\n 2. æ°å­ç±»ååæ°å¼ï¼\n    * -xx:=\n\nç¤ºä¾ï¼-xx:maxgcpausemillis=500 ï¼è¡¨ç¤ºè®¾ç½®gcçæå¤§åé¡¿æ¶é´æ¯500ms\n\n\n 3. å­ç¬¦ä¸²ç±»ååæ°å¼ï¼\n    * -xx:=\n\nç¤ºä¾ï¼-xx:heapdumppath=./dump.core\n\n\n\n# å¸¸ç¨åæ°\n\nåæ°åç§°                  å«ä¹                                      é»è®¤å¼               \n-xms                  åå§å å¤§å°                                   ç©çåå­ç1/64(<1gb)   \n-xmx                  æå¤§å å¤§å°                                   ç©çåå­ç1/4(<1gb     \n-xmn                  å¹´è½»ä»£å¤§å°                                                     \n-xx:newsize           è®¾ç½®å¹´è½»ä»£å¤§å°                                                   \n-xx:maxnewsize        å¹´è½»ä»£æå¤§å¼                                                    \n-xx:permsize          è®¾ç½®æä¹ä»£(perm gen)åå§å¼                      ç©çåå­ç1/64         \n-xx:maxpermsize       è®¾ç½®æä¹ä»£æå¤§å¼                                ç©çåå­ç1/4          \n-xss                  æ¯ä¸ªçº¿ç¨çå æ å¤§å°                                                 \n-xx:threadstacksize   çº¿ç¨å æ å¤§å°                                                    \n-xx:newratio          å¹´è½»ä»£(åæ¬edenåä¸¤ä¸ªsurvivoråº)ä¸å¹´èä»£çæ¯å¼(é¤å»æä¹ä»£)                     -xx:newratio=4è¡¨ç¤ºå¹´è½»ä»£ä¸å¹´èä»£æå æ¯å¼ä¸º1:4,å¹´è½»ä»£å æ´ä¸ªå æ ç1/5ï¼xms=xmxå¹¶ä¸è®¾ç½®äºxmnçæåµä¸ï¼è¯¥åæ°ä¸éè¦è¿è¡è®¾ç½®ã\n-xx:survivorratio     edenåºä¸survivoråºçå¤§å°æ¯å¼                                      è®¾ç½®ä¸º8,åä¸¤ä¸ªsurvivoråºä¸ä¸ä¸ªedenåºçæ¯å¼ä¸º2:8,ä¸ä¸ªsurvivoråºå æ´ä¸ªå¹´è½»ä»£ç1/10\n\n\n# å¹¶è¡æ¶éå¨ç¸å³åæ°\n\nåæ°åç§°                    å«ä¹                                    é»è®¤å¼\n-xx:+useparallelgc      full gcéç¨parallelmsc                  \n-xx:+useparnewgc        è®¾ç½®å¹´è½»ä»£ä¸ºå¹¶è¡æ¶é                            \n-xx:parallelgcthreads   å¹¶è¡æ¶éå¨ççº¿ç¨æ°                             \n-xx:+useparalleloldgc   å¹´èä»£åå¾æ¶éæ¹å¼ä¸ºå¹¶è¡æ¶é(parallel compacting)   ",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"JVM é®é¢ææ¥åè°ä¼",frontmatter:{title:"JVM é®é¢ææ¥åè°ä¼",date:"2023-10-23T23:55:07.000Z",permalink:"/pages/7bbf36/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/03.Java/05.JVM/06.JVM%20%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5%E5%8F%8A%E8%B0%83%E4%BC%98.html",relativePath:"01.Java ç¥è¯ä½ç³»/03.Java/05.JVM/06.JVM é®é¢ææ¥åè°ä¼.md",key:"v-4cef543f",path:"/pages/7bbf36/",headers:[{level:1,title:"åå­æº¢åºææ¥",slug:"åå­æº¢åºææ¥",normalizedTitle:"åå­æº¢åºææ¥",charIndex:2},{level:1,title:"åå­æ³æ¼",slug:"åå­æ³æ¼",normalizedTitle:"åå­æ³æ¼",charIndex:75},{level:1,title:"JVM è°ä¼",slug:"jvm-è°ä¼",normalizedTitle:"jvm è°ä¼",charIndex:357},{level:1,title:"Reference",slug:"reference",normalizedTitle:"reference",charIndex:466}],headersStr:"åå­æº¢åºææ¥ åå­æ³æ¼ JVM è°ä¼ Reference",content:"# åå­æº¢åºææ¥\n\n 1. dump åºåå­æä»¶\n 2. Memory Analysisè¿è¡åæï¼å®ä½å°é æåå­æº¢åºçä»£ç ï¼è¿è¡ç¸åºçå¤çã\n\n\n# åå­æ³æ¼\n\n 1. ä½¿ç¨ **jps** å½ä»¤è·åå°å½åJVMè¿ç¨çpid\n 2. ä½¿ç¨ **jstat -gc** å½ä»¤è§å¯GCï¼ å¦æYGCæ¯æ¬¡GCæçåå­å¹¶ä¸å¤ï¼æ¯æ¬¡YGCåé½æä¸é¨ååå­æªåæ¶ï¼å¯¼è´å¨å¤æ¬¡YGCååæ¶ä¸æçåå­è¢«æªå°å çoldåºï¼oldæ»¡äºä¹åFGCåç°ä¹æ¯åæ¶ä¸æãå°±åºæ¬å¯ä»¥ç¡®å®æ¯åå­æ³æ¼é®é¢\n 3. ä½¿ç¨**jmap -dump**å½ä»¤çæå è½¬å­å¿«ç§ã\n 4. ä½¿ç¨MATï¼ MemoryAnalyzer ï¼åædumpæä»¶ï¼æ¾å°å·ä½åå­æ³æ¼çä»£ç ãï¼MATç Leak Suspectsæ¥è¡¨å¸®å©æä»¬å®ä½å°åå­æ³æ¼çä»£ç  ï¼\n\n\n# JVM è°ä¼\n\nJVM è°ä¼çä¸»è¦æ­¥éª¤ï¼\n\n 1. çæ§åæGCæ¥å¿\n 2. åºç°GCæ¶é´é¿æèGCé¢çé«å°±å¾èèè¿è¡JVMè°ä¼\n 3. åæåºç°é®é¢çåå ï¼ç¡®å®è°ä¼ç®æ \n 4. è°æ´åæ°æèä¼åä»£ç å®ç°è°ä¼\n\n\n# Reference\n\n * https://juejin.cn/post/7128377003224334373#heading-0",normalizedContent:"# åå­æº¢åºææ¥\n\n 1. dump åºåå­æä»¶\n 2. memory analysisè¿è¡åæï¼å®ä½å°é æåå­æº¢åºçä»£ç ï¼è¿è¡ç¸åºçå¤çã\n\n\n# åå­æ³æ¼\n\n 1. ä½¿ç¨ **jps** å½ä»¤è·åå°å½åjvmè¿ç¨çpid\n 2. ä½¿ç¨ **jstat -gc** å½ä»¤è§å¯gcï¼ å¦æygcæ¯æ¬¡gcæçåå­å¹¶ä¸å¤ï¼æ¯æ¬¡ygcåé½æä¸é¨ååå­æªåæ¶ï¼å¯¼è´å¨å¤æ¬¡ygcååæ¶ä¸æçåå­è¢«æªå°å çoldåºï¼oldæ»¡äºä¹åfgcåç°ä¹æ¯åæ¶ä¸æãå°±åºæ¬å¯ä»¥ç¡®å®æ¯åå­æ³æ¼é®é¢\n 3. ä½¿ç¨**jmap -dump**å½ä»¤çæå è½¬å­å¿«ç§ã\n 4. ä½¿ç¨matï¼ memoryanalyzer ï¼åædumpæä»¶ï¼æ¾å°å·ä½åå­æ³æ¼çä»£ç ãï¼matç leak suspectsæ¥è¡¨å¸®å©æä»¬å®ä½å°åå­æ³æ¼çä»£ç  ï¼\n\n\n# jvm è°ä¼\n\njvm è°ä¼çä¸»è¦æ­¥éª¤ï¼\n\n 1. çæ§åægcæ¥å¿\n 2. åºç°gcæ¶é´é¿æègcé¢çé«å°±å¾èèè¿è¡jvmè°ä¼\n 3. åæåºç°é®é¢çåå ï¼ç¡®å®è°ä¼ç®æ \n 4. è°æ´åæ°æèä¼åä»£ç å®ç°è°ä¼\n\n\n# reference\n\n * https://juejin.cn/post/7128377003224334373#heading-0",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"Java åå­åºå",frontmatter:{title:"Java åå­åºå",date:"2023-10-23T23:55:07.000Z",permalink:"/pages/ecd0f2/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/03.Java/05.JVM/01.Java%20%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F.html",relativePath:"01.Java ç¥è¯ä½ç³»/03.Java/05.JVM/01.Java åå­åºå.md",key:"v-f445feb8",path:"/pages/ecd0f2/",headers:[{level:1,title:"è¿è¡æ¶æ°æ®åº",slug:"è¿è¡æ¶æ°æ®åº",normalizedTitle:"è¿è¡æ¶æ°æ®åº",charIndex:2},{level:2,title:"ç¨åºè®¡æ°å¨",slug:"ç¨åºè®¡æ°å¨",normalizedTitle:"ç¨åºè®¡æ°å¨",charIndex:37},{level:2,title:"Java èææºæ ",slug:"java-èææºæ ",normalizedTitle:"java èææºæ ",charIndex:46},{level:2,title:"æ¬å°æ¹æ³æ ",slug:"æ¬å°æ¹æ³æ ",normalizedTitle:"æ¬å°æ¹æ³æ ",charIndex:59},{level:2,title:"å ",slug:"å ",normalizedTitle:"å ",charIndex:77},{level:2,title:"æ¹æ³åº",slug:"æ¹æ³åº",normalizedTitle:"æ¹æ³åº",charIndex:82}],headersStr:"è¿è¡æ¶æ°æ®åº ç¨åºè®¡æ°å¨ Java èææºæ  æ¬å°æ¹æ³æ  å  æ¹æ³åº",content:"# è¿è¡æ¶æ°æ®åº\n\nJava è¿è¡æ¶æ°æ®åºåä¸ºï¼\n\nçº¿ç¨ç§æçï¼\n\n * ç¨åºè®¡æ°å¨\n * Java èææºæ \n * æ¬å°æ¹æ³æ \n\nçº¿ç¨å±äº«çï¼\n\n * å \n * æ¹æ³åºï¼æ°¸ä¹ä»£/åç©ºé´ï¼\n * ç´æ¥åå­ï¼éè¿è¡æ¶æ°æ®åºçä¸é¨åï¼\n\n\n# ç¨åºè®¡æ°å¨\n\nç¨åºè®¡æ°å¨æ¯ä¸åè¾å°çåå­ç©ºé´ï¼å¯ä»¥çä½æ¯å½åçº¿ç¨ææ§è¡çå­èç çè¡å·æç¤ºå¨ãå­èç è§£éå¨å·¥ä½æ¶éè¿æ¹åè¿ä¸ªè®¡æ°å¨çå¼æ¥éåä¸ä¸æ¡éè¦æ§è¡çå­èç æä»¤ï¼åæ¯ãå¾ªç¯ãè·³è½¬ãå¼å¸¸å¤çãçº¿ç¨æ¢å¤ç­åè½é½éè¦ä¾èµè¿ä¸ªè®¡æ°å¨æ¥å®æã\n\nå¦å¤ï¼ä¸ºäºçº¿ç¨åæ¢åè½æ¢å¤å°æ­£ç¡®çæ§è¡ä½ç½®ï¼æ¯æ¡çº¿ç¨é½éè¦æä¸ä¸ªç¬ç«çç¨åºè®¡æ°å¨ï¼åçº¿ç¨ä¹é´è®¡æ°å¨äºä¸å½±åï¼ç¬ç«å­å¨ï¼æä»¬ç§°è¿ç±»åå­åºåä¸ºâçº¿ç¨ç§æâçåå­ã\n\nä»ä¸é¢çä»ç»ä¸­æä»¬ç¥éç¨åºè®¡æ°å¨ä¸»è¦æä¸¤ä¸ªä½ç¨ï¼\n\n 1. å­èç è§£éå¨éè¿æ¹åç¨åºè®¡æ°å¨æ¥ä¾æ¬¡è¯»åæä»¤ï¼ä»èå®ç°ä»£ç çæµç¨æ§å¶ï¼å¦ï¼é¡ºåºæ§è¡ãéæ©ãå¾ªç¯ãå¼å¸¸å¤çã\n 2. å¨å¤çº¿ç¨çæåµä¸ï¼ç¨åºè®¡æ°å¨ç¨äºè®°å½å½åçº¿ç¨æ§è¡çä½ç½®ï¼ä»èå½çº¿ç¨è¢«åæ¢åæ¥çæ¶åè½å¤ç¥éè¯¥çº¿ç¨ä¸æ¬¡è¿è¡å°åªå¿äºã\n\næ³¨æï¼ç¨åºè®¡æ°å¨æ¯å¯ä¸ä¸ä¸ªä¸ä¼åºç° OutOfMemoryError çåå­åºåï¼å®ççå½å¨æéççº¿ç¨çåå»ºèåå»ºï¼éççº¿ç¨çç»æèæ­»äº¡ã\n\n\n# Java èææºæ \n\nJavaèææºæ ä¸»è¦ç» Javaæ¹æ³ä½¿ç¨ï¼ææç Java æ¹æ³è°ç¨é½æ¯éè¿æ å®ç°çãæ¹æ³è°ç¨çæ°æ®éè¿æ è¿è¡ä¼ éï¼æ¯ä¸æ¬¡æ¹æ³è°ç¨é½æä¸ä¸ªå¯¹åºçæ å¸§è¢«åå¥æ ä¸­ï¼æ¯ä¸ä¸ªæ¹æ³è°ç¨ç»æåï¼é½ä¼æä¸ä¸ªæ å¸§è¢«å¼¹åºã\n\næ ç±ä¸ä¸ªä¸ªæ å¸§ç»æï¼æ¯ä¸ªæ å¸§é½æ¥æï¼å±é¨åéè¡¨ãæä½æ°æ ãå¨æé¾æ¥ãæ¹æ³è¿åå°åã\n\n\n\n * å±é¨åéè¡¨ï¼ ä¸»è¦å­æ¾äºç¼è¯æå¯ç¥çåç§æ°æ®ç±»åï¼booleanãbyteãcharãshortãintãfloatãlongãdoubleï¼ãå¯¹è±¡å¼ç¨ï¼reference ç±»åï¼å®ä¸åäºå¯¹è±¡æ¬èº«ï¼å¯è½æ¯ä¸ä¸ªæåå¯¹è±¡èµ·å§å°åçå¼ç¨æéï¼ä¹å¯è½æ¯æåä¸ä¸ªä»£è¡¨å¯¹è±¡çå¥ææå¶ä»ä¸æ­¤å¯¹è±¡ç¸å³çä½ç½®ï¼ã\n * æä½æ°æ ï¼ç¨äºå­æ¾æ¹æ³æ§è¡è¿ç¨ä¸­äº§ççä¸­é´è®¡ç®ç»æåè®¡ç®è¿ç¨ä¸­äº§ççä¸´æ¶åé\n * å¨æé¾æ¥ï¼ä¸»è¦æå¡äºä¸ä¸ªæ¹æ³éè¦è°ç¨å¶ä»æ¹æ³çåºæ¯ã å¨ Java æºæä»¶è¢«ç¼è¯æå­èç æä»¶æ¶ï¼ææçåéåæ¹æ³å¼ç¨é½ä½ä¸ºç¬¦å·å¼ç¨ï¼Symbilic Referenceï¼ä¿å­å¨ Class æä»¶çå¸¸éæ± éãå½ä¸ä¸ªæ¹æ³è¦è°ç¨å¶ä»æ¹æ³ï¼éè¦å°å¸¸éæ± ä¸­æåæ¹æ³çç¬¦å·å¼ç¨è½¬åä¸ºå¶å¨åå­å°åä¸­çç´æ¥å¼ç¨ãå¨æé¾æ¥çä½ç¨å°±æ¯ä¸ºäºå°ç¬¦å·å¼ç¨è½¬æ¢ä¸ºè°ç¨æ¹æ³çç´æ¥å¼ç¨ã\n * æ¹æ³è¿åå°åï¼ Java æ¹æ³æä¸¤ç§è¿åæ¹å¼ï¼ä¸ç§æ¯ return è¯­å¥æ­£å¸¸è¿åï¼ä¸ç§æ¯æåºå¼å¸¸ãä¸ç®¡åªç§è¿åæ¹å¼ï¼é½ä¼å¯¼è´æ å¸§è¢«å¼¹åºãä¹å°±æ¯è¯´ï¼ æ å¸§éçæ¹æ³è°ç¨èåå»ºï¼éçæ¹æ³ç»æèéæ¯ãæ è®ºæ¹æ³æ­£å¸¸å®æè¿æ¯å¼å¸¸å®æé½ç®ä½æ¹æ³ç»æã\n\nç¨åºè¿è¡ä¸­Javaèææºæ å¯è½ä¼åºç°ä¸¤ç§éè¯¯ï¼\n\n * StackOverFlowErrorï¼ è¥æ çåå­å¤§å°ä¸åè®¸å¨ææ©å±ï¼é£ä¹å½çº¿ç¨è¯·æ±æ çæ·±åº¦è¶è¿å½å Java èææºæ çæå¤§æ·±åº¦çæ¶åï¼å°±æåº StackOverFlowErroréè¯¯ã\n * OutOfMemoryErrorï¼ å¦ææ çåå­å¤§å°å¯ä»¥å¨ææ©å±ï¼ å¦æèææºå¨å¨ææ©å±æ æ¶æ æ³ç³è¯·å°è¶³å¤çåå­ç©ºé´ï¼åæåºOutOfMemoryErrorå¼å¸¸\n\n\n# æ¬å°æ¹æ³æ \n\nåèææºæ æåæ¥çä½ç¨éå¸¸ç¸ä¼¼ï¼åºå«æ¯ï¼ èææºæ ä¸ºèææºæ§è¡ Java æ¹æ³ ï¼ä¹å°±æ¯å­èç ï¼æå¡ï¼èæ¬å°æ¹æ³æ åä¸ºèææºä½¿ç¨å°ç Native æ¹æ³æå¡ã å¨ HotSpot èææºä¸­å Java èææºæ åäºä¸ºä¸ã\n\næ¬å°æ¹æ³è¢«æ§è¡çæ¶åï¼å¨æ¬å°æ¹æ³æ ä¹ä¼åå»ºä¸ä¸ªæ å¸§ï¼ç¨äºå­æ¾è¯¥æ¬å°æ¹æ³çå±é¨åéè¡¨ãæä½æ°æ ãå¨æé¾æ¥ãåºå£ä¿¡æ¯ã\n\næ¹æ³æ§è¡å®æ¯åç¸åºçæ å¸§ä¹ä¼åºæ å¹¶éæ¾åå­ç©ºé´ï¼ä¹ä¼åºç° StackOverFlowErrorå OutOfMemoryError ä¸¤ç§éè¯¯ã\n\n\n# å \n\nJava èææºæç®¡ççåå­ä¸­æå¤§çä¸åï¼Java å æ¯ææçº¿ç¨å±äº«çä¸ååå­åºåï¼å¨èææºå¯å¨æ¶åå»ºãæ­¤åå­åºåçå¯ä¸ç®çå°±æ¯å­æ¾å¯¹è±¡å®ä¾ï¼å ä¹ææçå¯¹è±¡å®ä¾ä»¥åæ°ç»é½å¨è¿éåéåå­ã\n\nJava å æ¯åå¾æ¶éå¨ç®¡ççä¸»è¦åºåï¼å æ­¤ä¹è¢«ç§°ä½ GC å ï¼Garbage Collected Heapï¼ãå¦æä»åå­åæ¶çè§åº¦çï¼ç±äºç°å¨æ¶éå¨åºæ¬é½æ¯éç¨çåä»£æ¶éç®æ³ï¼æä»¥Javaå ä¸­è¿å¯ä»¥ç»åä¸ºï¼æ°çä»£åèå¹´ä»£ãæ°çä»£åæEdenç©ºé´ãFrom Survivorç©ºé´ãTo Survivorç©ºé´ä¸é¨åã\n\nå è¿éæå®¹æåºç°çå°±æ¯ OutOfMemoryError éè¯¯ï¼å¹¶ä¸åºç°è¿ç§éè¯¯ä¹åçè¡¨ç°å½¢å¼è¿ä¼æå ç§ï¼æ¯å¦ï¼\n\n 1. java.lang.OutOfMemoryError: GC Overhead Limit Exceeded ï¼ å½ JVM è±å¤ªå¤æ¶é´æ§è¡åå¾åæ¶å¹¶ä¸åªè½åæ¶å¾å°çå ç©ºé´æ¶ï¼å°±ä¼åçæ­¤éè¯¯ã\n 2. java.lang.OutOfMemoryError: Java heap space :åå¦å¨åå»ºæ°çå¯¹è±¡æ¶, å åå­ä¸­çç©ºé´ä¸è¶³ä»¥å­æ¾æ°åå»ºçå¯¹è±¡, å°±ä¼å¼åæ­¤éè¯¯ã(åéç½®çæå¤§å åå­æå³ï¼ä¸åå¶äºç©çåå­å¤§å°ãæå¤§å åå­å¯éè¿-Xmxåæ°éç½®ï¼è¥æ²¡æç¹å«éç½®ï¼å°ä¼ä½¿ç¨é»è®¤å¼ãï¼\n\n\n# æ¹æ³åº\n\næ¹æ³åºæ¯ä¸åé»è¾åºåï¼Java èææºè§èåªæ¯è§å®äºæ¹æ³åºçæ¦å¿µåä½ç¨ï¼ä¸åçèææºæ¹æ³åºçå®ç°ä¹æ¯ä¸åçã\n\nå½èææºè¦ä½¿ç¨ä¸ä¸ªç±»æ¶ï¼å®éè¦è¯»åå¹¶è§£æ Class æä»¶è·åç¸å³ä¿¡æ¯ï¼åå°ä¿¡æ¯å­å¥å°æ¹æ³åºãæ¹æ³åºä¼å­å¨å·²è¢«èææºå è½½ç ç±»ä¿¡æ¯ãå­æ®µä¿¡æ¯ãæ¹æ³ä¿¡æ¯ãå¸¸éãéæåéãå³æ¶ç¼è¯å¨ç¼è¯åçä»£ç ç¼å­ç­æ°æ®ã\n\næ¹æ³åºãæ°¸ä¹ä»£ãåç©ºé´å³ç³»ï¼\n\næ¹æ³åºåæ°¸ä¹ä»£ä»¥ååç©ºé´çå³ç³»æç¹åJavaä¸­æ¥å£åç±»çå³ç³»ï¼ç±»å®ç°äºæ¥å£ï¼è¿éçç±»å°±å¯ä»¥çä½æ¯æ°¸ä¹ä»£ååç©ºé´ï¼æ¥å£å¯ä»¥çä½æ¹æ³åºï¼ä¹å°±æ¯æ°¸ä¹ä»£ååç©ºé´æ¯èææºå¯¹èææºè§èä¸­æ¹æ³åºçä¸¤ç§å®ç°æ¹å¼ã æ°¸ä¹ä»£æ¯ JDK 1.8 ä¹åçæ¹æ³åºå®ç°ï¼JDK 1.8 åä»¥åæ¹æ³åºçå®ç°åæäºåç©ºé´ã",normalizedContent:"# è¿è¡æ¶æ°æ®åº\n\njava è¿è¡æ¶æ°æ®åºåä¸ºï¼\n\nçº¿ç¨ç§æçï¼\n\n * ç¨åºè®¡æ°å¨\n * java èææºæ \n * æ¬å°æ¹æ³æ \n\nçº¿ç¨å±äº«çï¼\n\n * å \n * æ¹æ³åºï¼æ°¸ä¹ä»£/åç©ºé´ï¼\n * ç´æ¥åå­ï¼éè¿è¡æ¶æ°æ®åºçä¸é¨åï¼\n\n\n# ç¨åºè®¡æ°å¨\n\nç¨åºè®¡æ°å¨æ¯ä¸åè¾å°çåå­ç©ºé´ï¼å¯ä»¥çä½æ¯å½åçº¿ç¨ææ§è¡çå­èç çè¡å·æç¤ºå¨ãå­èç è§£éå¨å·¥ä½æ¶éè¿æ¹åè¿ä¸ªè®¡æ°å¨çå¼æ¥éåä¸ä¸æ¡éè¦æ§è¡çå­èç æä»¤ï¼åæ¯ãå¾ªç¯ãè·³è½¬ãå¼å¸¸å¤çãçº¿ç¨æ¢å¤ç­åè½é½éè¦ä¾èµè¿ä¸ªè®¡æ°å¨æ¥å®æã\n\nå¦å¤ï¼ä¸ºäºçº¿ç¨åæ¢åè½æ¢å¤å°æ­£ç¡®çæ§è¡ä½ç½®ï¼æ¯æ¡çº¿ç¨é½éè¦æä¸ä¸ªç¬ç«çç¨åºè®¡æ°å¨ï¼åçº¿ç¨ä¹é´è®¡æ°å¨äºä¸å½±åï¼ç¬ç«å­å¨ï¼æä»¬ç§°è¿ç±»åå­åºåä¸ºâçº¿ç¨ç§æâçåå­ã\n\nä»ä¸é¢çä»ç»ä¸­æä»¬ç¥éç¨åºè®¡æ°å¨ä¸»è¦æä¸¤ä¸ªä½ç¨ï¼\n\n 1. å­èç è§£éå¨éè¿æ¹åç¨åºè®¡æ°å¨æ¥ä¾æ¬¡è¯»åæä»¤ï¼ä»èå®ç°ä»£ç çæµç¨æ§å¶ï¼å¦ï¼é¡ºåºæ§è¡ãéæ©ãå¾ªç¯ãå¼å¸¸å¤çã\n 2. å¨å¤çº¿ç¨çæåµä¸ï¼ç¨åºè®¡æ°å¨ç¨äºè®°å½å½åçº¿ç¨æ§è¡çä½ç½®ï¼ä»èå½çº¿ç¨è¢«åæ¢åæ¥çæ¶åè½å¤ç¥éè¯¥çº¿ç¨ä¸æ¬¡è¿è¡å°åªå¿äºã\n\næ³¨æï¼ç¨åºè®¡æ°å¨æ¯å¯ä¸ä¸ä¸ªä¸ä¼åºç° outofmemoryerror çåå­åºåï¼å®ççå½å¨æéççº¿ç¨çåå»ºèåå»ºï¼éççº¿ç¨çç»æèæ­»äº¡ã\n\n\n# java èææºæ \n\njavaèææºæ ä¸»è¦ç» javaæ¹æ³ä½¿ç¨ï¼ææç java æ¹æ³è°ç¨é½æ¯éè¿æ å®ç°çãæ¹æ³è°ç¨çæ°æ®éè¿æ è¿è¡ä¼ éï¼æ¯ä¸æ¬¡æ¹æ³è°ç¨é½æä¸ä¸ªå¯¹åºçæ å¸§è¢«åå¥æ ä¸­ï¼æ¯ä¸ä¸ªæ¹æ³è°ç¨ç»æåï¼é½ä¼æä¸ä¸ªæ å¸§è¢«å¼¹åºã\n\næ ç±ä¸ä¸ªä¸ªæ å¸§ç»æï¼æ¯ä¸ªæ å¸§é½æ¥æï¼å±é¨åéè¡¨ãæä½æ°æ ãå¨æé¾æ¥ãæ¹æ³è¿åå°åã\n\n\n\n * å±é¨åéè¡¨ï¼ ä¸»è¦å­æ¾äºç¼è¯æå¯ç¥çåç§æ°æ®ç±»åï¼booleanãbyteãcharãshortãintãfloatãlongãdoubleï¼ãå¯¹è±¡å¼ç¨ï¼reference ç±»åï¼å®ä¸åäºå¯¹è±¡æ¬èº«ï¼å¯è½æ¯ä¸ä¸ªæåå¯¹è±¡èµ·å§å°åçå¼ç¨æéï¼ä¹å¯è½æ¯æåä¸ä¸ªä»£è¡¨å¯¹è±¡çå¥ææå¶ä»ä¸æ­¤å¯¹è±¡ç¸å³çä½ç½®ï¼ã\n * æä½æ°æ ï¼ç¨äºå­æ¾æ¹æ³æ§è¡è¿ç¨ä¸­äº§ççä¸­é´è®¡ç®ç»æåè®¡ç®è¿ç¨ä¸­äº§ççä¸´æ¶åé\n * å¨æé¾æ¥ï¼ä¸»è¦æå¡äºä¸ä¸ªæ¹æ³éè¦è°ç¨å¶ä»æ¹æ³çåºæ¯ã å¨ java æºæä»¶è¢«ç¼è¯æå­èç æä»¶æ¶ï¼ææçåéåæ¹æ³å¼ç¨é½ä½ä¸ºç¬¦å·å¼ç¨ï¼symbilic referenceï¼ä¿å­å¨ class æä»¶çå¸¸éæ± éãå½ä¸ä¸ªæ¹æ³è¦è°ç¨å¶ä»æ¹æ³ï¼éè¦å°å¸¸éæ± ä¸­æåæ¹æ³çç¬¦å·å¼ç¨è½¬åä¸ºå¶å¨åå­å°åä¸­çç´æ¥å¼ç¨ãå¨æé¾æ¥çä½ç¨å°±æ¯ä¸ºäºå°ç¬¦å·å¼ç¨è½¬æ¢ä¸ºè°ç¨æ¹æ³çç´æ¥å¼ç¨ã\n * æ¹æ³è¿åå°åï¼ java æ¹æ³æä¸¤ç§è¿åæ¹å¼ï¼ä¸ç§æ¯ return è¯­å¥æ­£å¸¸è¿åï¼ä¸ç§æ¯æåºå¼å¸¸ãä¸ç®¡åªç§è¿åæ¹å¼ï¼é½ä¼å¯¼è´æ å¸§è¢«å¼¹åºãä¹å°±æ¯è¯´ï¼ æ å¸§éçæ¹æ³è°ç¨èåå»ºï¼éçæ¹æ³ç»æèéæ¯ãæ è®ºæ¹æ³æ­£å¸¸å®æè¿æ¯å¼å¸¸å®æé½ç®ä½æ¹æ³ç»æã\n\nç¨åºè¿è¡ä¸­javaèææºæ å¯è½ä¼åºç°ä¸¤ç§éè¯¯ï¼\n\n * stackoverflowerrorï¼ è¥æ çåå­å¤§å°ä¸åè®¸å¨ææ©å±ï¼é£ä¹å½çº¿ç¨è¯·æ±æ çæ·±åº¦è¶è¿å½å java èææºæ çæå¤§æ·±åº¦çæ¶åï¼å°±æåº stackoverflowerroréè¯¯ã\n * outofmemoryerrorï¼ å¦ææ çåå­å¤§å°å¯ä»¥å¨ææ©å±ï¼ å¦æèææºå¨å¨ææ©å±æ æ¶æ æ³ç³è¯·å°è¶³å¤çåå­ç©ºé´ï¼åæåºoutofmemoryerrorå¼å¸¸\n\n\n# æ¬å°æ¹æ³æ \n\nåèææºæ æåæ¥çä½ç¨éå¸¸ç¸ä¼¼ï¼åºå«æ¯ï¼ èææºæ ä¸ºèææºæ§è¡ java æ¹æ³ ï¼ä¹å°±æ¯å­èç ï¼æå¡ï¼èæ¬å°æ¹æ³æ åä¸ºèææºä½¿ç¨å°ç native æ¹æ³æå¡ã å¨ hotspot èææºä¸­å java èææºæ åäºä¸ºä¸ã\n\næ¬å°æ¹æ³è¢«æ§è¡çæ¶åï¼å¨æ¬å°æ¹æ³æ ä¹ä¼åå»ºä¸ä¸ªæ å¸§ï¼ç¨äºå­æ¾è¯¥æ¬å°æ¹æ³çå±é¨åéè¡¨ãæä½æ°æ ãå¨æé¾æ¥ãåºå£ä¿¡æ¯ã\n\næ¹æ³æ§è¡å®æ¯åç¸åºçæ å¸§ä¹ä¼åºæ å¹¶éæ¾åå­ç©ºé´ï¼ä¹ä¼åºç° stackoverflowerrorå outofmemoryerror ä¸¤ç§éè¯¯ã\n\n\n# å \n\njava èææºæç®¡ççåå­ä¸­æå¤§çä¸åï¼java å æ¯ææçº¿ç¨å±äº«çä¸ååå­åºåï¼å¨èææºå¯å¨æ¶åå»ºãæ­¤åå­åºåçå¯ä¸ç®çå°±æ¯å­æ¾å¯¹è±¡å®ä¾ï¼å ä¹ææçå¯¹è±¡å®ä¾ä»¥åæ°ç»é½å¨è¿éåéåå­ã\n\njava å æ¯åå¾æ¶éå¨ç®¡ççä¸»è¦åºåï¼å æ­¤ä¹è¢«ç§°ä½ gc å ï¼garbage collected heapï¼ãå¦æä»åå­åæ¶çè§åº¦çï¼ç±äºç°å¨æ¶éå¨åºæ¬é½æ¯éç¨çåä»£æ¶éç®æ³ï¼æä»¥javaå ä¸­è¿å¯ä»¥ç»åä¸ºï¼æ°çä»£åèå¹´ä»£ãæ°çä»£åæedenç©ºé´ãfrom survivorç©ºé´ãto survivorç©ºé´ä¸é¨åã\n\nå è¿éæå®¹æåºç°çå°±æ¯ outofmemoryerror éè¯¯ï¼å¹¶ä¸åºç°è¿ç§éè¯¯ä¹åçè¡¨ç°å½¢å¼è¿ä¼æå ç§ï¼æ¯å¦ï¼\n\n 1. java.lang.outofmemoryerror: gc overhead limit exceeded ï¼ å½ jvm è±å¤ªå¤æ¶é´æ§è¡åå¾åæ¶å¹¶ä¸åªè½åæ¶å¾å°çå ç©ºé´æ¶ï¼å°±ä¼åçæ­¤éè¯¯ã\n 2. java.lang.outofmemoryerror: java heap space :åå¦å¨åå»ºæ°çå¯¹è±¡æ¶, å åå­ä¸­çç©ºé´ä¸è¶³ä»¥å­æ¾æ°åå»ºçå¯¹è±¡, å°±ä¼å¼åæ­¤éè¯¯ã(åéç½®çæå¤§å åå­æå³ï¼ä¸åå¶äºç©çåå­å¤§å°ãæå¤§å åå­å¯éè¿-xmxåæ°éç½®ï¼è¥æ²¡æç¹å«éç½®ï¼å°ä¼ä½¿ç¨é»è®¤å¼ãï¼\n\n\n# æ¹æ³åº\n\næ¹æ³åºæ¯ä¸åé»è¾åºåï¼java èææºè§èåªæ¯è§å®äºæ¹æ³åºçæ¦å¿µåä½ç¨ï¼ä¸åçèææºæ¹æ³åºçå®ç°ä¹æ¯ä¸åçã\n\nå½èææºè¦ä½¿ç¨ä¸ä¸ªç±»æ¶ï¼å®éè¦è¯»åå¹¶è§£æ class æä»¶è·åç¸å³ä¿¡æ¯ï¼åå°ä¿¡æ¯å­å¥å°æ¹æ³åºãæ¹æ³åºä¼å­å¨å·²è¢«èææºå è½½ç ç±»ä¿¡æ¯ãå­æ®µä¿¡æ¯ãæ¹æ³ä¿¡æ¯ãå¸¸éãéæåéãå³æ¶ç¼è¯å¨ç¼è¯åçä»£ç ç¼å­ç­æ°æ®ã\n\næ¹æ³åºãæ°¸ä¹ä»£ãåç©ºé´å³ç³»ï¼\n\næ¹æ³åºåæ°¸ä¹ä»£ä»¥ååç©ºé´çå³ç³»æç¹åjavaä¸­æ¥å£åç±»çå³ç³»ï¼ç±»å®ç°äºæ¥å£ï¼è¿éçç±»å°±å¯ä»¥çä½æ¯æ°¸ä¹ä»£ååç©ºé´ï¼æ¥å£å¯ä»¥çä½æ¹æ³åºï¼ä¹å°±æ¯æ°¸ä¹ä»£ååç©ºé´æ¯èææºå¯¹èææºè§èä¸­æ¹æ³åºçä¸¤ç§å®ç°æ¹å¼ã æ°¸ä¹ä»£æ¯ jdk 1.8 ä¹åçæ¹æ³åºå®ç°ï¼jdk 1.8 åä»¥åæ¹æ³åºçå®ç°åæäºåç©ºé´ã",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"JVM è°ä¼",frontmatter:{title:"JVM è°ä¼",date:"2023-10-23T23:55:07.000Z",permalink:"/pages/b8b917/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/03.Java/05.JVM/05.JVM%20%E8%B0%83%E4%BC%98.html",relativePath:"01.Java ç¥è¯ä½ç³»/03.Java/05.JVM/05.JVM è°ä¼.md",key:"v-76d58b51",path:"/pages/b8b917/",headers:[{level:2,title:"è°ä¼åå",slug:"è°ä¼åå",normalizedTitle:"è°ä¼åå",charIndex:366},{level:2,title:"è°ä¼å³é®ææ ",slug:"è°ä¼å³é®ææ ",normalizedTitle:"è°ä¼å³é®ææ ",charIndex:462},{level:3,title:"ååé",slug:"ååé",normalizedTitle:"ååé",charIndex:44},{level:3,title:"å»¶è¿æååºæ¶é´",slug:"å»¶è¿æååºæ¶é´",normalizedTitle:"å»¶è¿æååºæ¶é´",charIndex:663},{level:3,title:"åå­å ç¨",slug:"åå­å ç¨",normalizedTitle:"åå­å ç¨",charIndex:765},{level:1,title:"JVMè°ä¼ä¸»è¦æ­¥éª¤",slug:"jvmè°ä¼ä¸»è¦æ­¥éª¤",normalizedTitle:"jvmè°ä¼ä¸»è¦æ­¥éª¤",charIndex:869},{level:1,title:"JVMè°ä¼å®è·µ",slug:"jvmè°ä¼å®è·µ",normalizedTitle:"jvmè°ä¼å®è·µ",charIndex:1257},{level:2,title:"åæGCæ¥å¿",slug:"åægcæ¥å¿",normalizedTitle:"åægcæ¥å¿",charIndex:889},{level:3,title:"åå§åæ°è®¾ç½®",slug:"åå§åæ°è®¾ç½®",normalizedTitle:"åå§åæ°è®¾ç½®",charIndex:1280},{level:3,title:"GCæ¥å¿è§£è¯»",slug:"gcæ¥å¿è§£è¯»",normalizedTitle:"gcæ¥å¿è§£è¯»",charIndex:2379},{level:3,title:"GCæ¥å¿å¯è§ååæ",slug:"gcæ¥å¿å¯è§ååæ",normalizedTitle:"gcæ¥å¿å¯è§ååæ",charIndex:3554},{level:5,title:"1) JVMåå­å ç¨æåµï¼",slug:"_1-jvmåå­å ç¨æåµ",normalizedTitle:"1) jvmåå­å ç¨æåµï¼",charIndex:3646},{level:5,title:"2) å³é®æ§è½ææ ï¼",slug:"_2-å³é®æ§è½ææ ",normalizedTitle:"2) å³é®æ§è½ææ ï¼",charIndex:3954},{level:5,title:"3) GC å¯è§åäº¤äºèåç»æ",slug:"_3-gc-å¯è§åäº¤äºèåç»æ",normalizedTitle:"3) gc å¯è§åäº¤äºèåç»æ",charIndex:4128},{level:5,title:"4) GC ç»è®¡",slug:"_4-gc-ç»è®¡",normalizedTitle:"4) gc ç»è®¡",charIndex:4207},{level:5,title:"5) GCåå ï¼",slug:"_5-gcåå ",normalizedTitle:"5) gcåå ï¼",charIndex:4290},{level:2,title:"å åå­ä¸åç©ºé´ä¼å",slug:"å åå­ä¸åç©ºé´ä¼å",normalizedTitle:"å åå­ä¸åç©ºé´ä¼å",charIndex:4827},{level:2,title:"å åå­åé¨ä¼åï¼æ°çä»£åèå¹´ä»£æ¯ä¾",slug:"å åå­åé¨ä¼å-æ°çä»£åèå¹´ä»£æ¯ä¾",normalizedTitle:"å åå­åé¨ä¼åï¼æ°çä»£åèå¹´ä»£æ¯ä¾",charIndex:5048},{level:2,title:"åå¾åæ¶å¨ä¼å",slug:"åå¾åæ¶å¨ä¼å",normalizedTitle:"åå¾åæ¶å¨ä¼å",charIndex:5359},{level:3,title:"G1åå¾æ¶éå¨ï¼éç¹ï¼",slug:"g1åå¾æ¶éå¨-éç¹",normalizedTitle:"g1åå¾æ¶éå¨ï¼éç¹ï¼",charIndex:5625},{level:4,title:"G1åå¾æ¶éå¨çå·¥ä½åç",slug:"g1åå¾æ¶éå¨çå·¥ä½åç",normalizedTitle:"g1åå¾æ¶éå¨çå·¥ä½åç",charIndex:5847},{level:4,title:"G1æ¶éå¨ç¸å³åæ°",slug:"g1æ¶éå¨ç¸å³åæ°",normalizedTitle:"g1æ¶éå¨ç¸å³åæ°",charIndex:6366},{level:1,title:"JVMè°ä¼æ¡ä¾",slug:"jvmè°ä¼æ¡ä¾",normalizedTitle:"jvmè°ä¼æ¡ä¾",charIndex:6845},{level:2,title:"è°ä¼æ¡ä¾ï¼metaspaceå¯¼è´é¢ç¹FGCé®é¢",slug:"è°ä¼æ¡ä¾-metaspaceå¯¼è´é¢ç¹fgcé®é¢",normalizedTitle:"è°ä¼æ¡ä¾ï¼metaspaceå¯¼è´é¢ç¹fgcé®é¢",charIndex:6857},{level:2,title:"è°ä¼æ¡ä¾ï¼YGGåOLD GCé¢ç¹",slug:"è°ä¼æ¡ä¾-yggåold-gcé¢ç¹",normalizedTitle:"è°ä¼æ¡ä¾ï¼yggåold gcé¢ç¹",charIndex:6887},{level:2,title:"è°ä¼æ¡ä¾ï¼OLD GCèæ¶è¾é¿å½±åä¸å¡",slug:"è°ä¼æ¡ä¾-old-gcèæ¶è¾é¿å½±åä¸å¡",normalizedTitle:"è°ä¼æ¡ä¾ï¼old gcèæ¶è¾é¿å½±åä¸å¡",charIndex:6911},{level:2,title:"è°ä¼æ¡ä¾ï¼YGCèæ¶å¢å ",slug:"è°ä¼æ¡ä¾-ygcèæ¶å¢å ",normalizedTitle:"è°ä¼æ¡ä¾ï¼ygcèæ¶å¢å ",charIndex:6985},{level:2,title:"è°ä¼æ¡ä¾ï¼YCGæ¬¡æ°å¢å ",slug:"è°ä¼æ¡ä¾-ycgæ¬¡æ°å¢å ",normalizedTitle:"è°ä¼æ¡ä¾ï¼ycgæ¬¡æ°å¢å ",charIndex:7084}],headersStr:"è°ä¼åå è°ä¼å³é®ææ  ååé å»¶è¿æååºæ¶é´ åå­å ç¨ JVMè°ä¼ä¸»è¦æ­¥éª¤ JVMè°ä¼å®è·µ åæGCæ¥å¿ åå§åæ°è®¾ç½® GCæ¥å¿è§£è¯» GCæ¥å¿å¯è§ååæ 1) JVMåå­å ç¨æåµï¼ 2) å³é®æ§è½ææ ï¼ 3) GC å¯è§åäº¤äºèåç»æ 4) GC ç»è®¡ 5) GCåå ï¼ å åå­ä¸åç©ºé´ä¼å å åå­åé¨ä¼åï¼æ°çä»£åèå¹´ä»£æ¯ä¾ åå¾åæ¶å¨ä¼å G1åå¾æ¶éå¨ï¼éç¹ï¼ G1åå¾æ¶éå¨çå·¥ä½åç G1æ¶éå¨ç¸å³åæ° JVMè°ä¼æ¡ä¾ è°ä¼æ¡ä¾ï¼metaspaceå¯¼è´é¢ç¹FGCé®é¢ è°ä¼æ¡ä¾ï¼YGGåOLD GCé¢ç¹ è°ä¼æ¡ä¾ï¼OLD GCèæ¶è¾é¿å½±åä¸å¡ è°ä¼æ¡ä¾ï¼YGCèæ¶å¢å  è°ä¼æ¡ä¾ï¼YCGæ¬¡æ°å¢å ",content:"ä¸ºä»ä¹è¦è¿è¡JVMè°ä¼ï¼\n\nè°ä¼çæç»ç®çé½æ¯ä¸ºäºåºç¨ç¨åºä½¿ç¨æå°çç¡¬ä»¶æ¶èæ¥æ¿è½½æ´å¤§çååéã\n\njvmè°ä¼ä¸»è¦æ¯éå¯¹åå¾æ¶éå¨çæ¶éæ§è½ä¼åï¼åå°GCçé¢çåFull GCçæ¬¡æ°ï¼ä»¤è¿è¡å¨èææºä¸çåºç¨è½å¤ä½¿ç¨æ´å°çåå­ä»¥åå»¶è¿è·åæ´å¤§çååéååå°æåæ¶é´ã\n\nä»ä¹æ¶åè¿è¡JVMè°ä¼?\n\n 1. ç³»ç»ååéä¸ååºæ§è½ä¸é«æä¸éï¼\n 2. Heapåå­ï¼èå¹´ä»£ï¼æç»­ä¸æ¶¨è¾¾å°è®¾ç½®çæå¤§åå­å¼ï¼\n 3. Full GC æ¬¡æ°é¢ç¹ï¼\n 4. GC åé¡¿æ¶é´è¿é¿ï¼è¶è¿ 1 ç§ï¼ï¼\n 5. åºç¨åºç°OutOfMemory ç­åå­å¼å¸¸ï¼\n 6. åºç¨ä¸­æä½¿ç¨æ¬å°ç¼å­ä¸å ç¨å¤§éåå­ç©ºé´ï¼\n\nè°ä¼è°ä»ä¹ï¼\n\nåå­åé+åå¾åæ¶\n\n 1. åçä½¿ç¨å åå­\n 2. GCé«æåæ¶å ç¨çåå­çåå¾å¯¹è±¡\n 3. GCé«æéæ¾æåå­ç©ºé´\n\n\n# è°ä¼åå\n\n * ä¼åååï¼ä¼åæ¶æè°ä¼åä»£ç è°ä¼ï¼JVMä¼åæ¯ä¸å¾å·²çææ®µ\n   * å¤§å¤æ°çJavaåºç¨ä¸éè¦è¿è¡JVMä¼å\n * è§æµæ§ååï¼åç°é®é¢è§£å³é®é¢ï¼æ²¡æé®é¢ä¸æ¾é®é¢\n\n\n# è°ä¼å³é®ææ \n\n\n# ååé\n\néè¦ææ ä¹ä¸ï¼ååéæ¯è¡¡éç³»ç»å¨åä½æ¶é´éé¢å®æçå·¥ä½æ°éãååééæ±éå¸¸å¿½ç¥å»¶è¿æèååºæ¶é´ãéå¸¸æåµä¸ï¼æåååééè¦ä»¥ç³»ç»ååºåæ¢åæ´å¤åå­æ¶èä½ä¸ºä»£ä»·ã\n\n * TPSï¼æ¯ç§äºå¡æ°\n * Throughputï¼ååé=è¿è¡ç¨æ·ä»£ç æ¶é´/ï¼è¿è¡ç¨æ·ä»£ç æ¶é´+åå¾æ¶éæ¶é´ï¼ï¼èææºæ»å±è¿è¡äº 100 åéï¼å¶ä¸­åå¾æ¶éè±æ 1 åéï¼é£ååéå°±æ¯99%ã\n\n\n# å»¶è¿æååºæ¶é´\n\nå»¶è¿æèååºæ¶é´æ¯è¡¡éåºç¨ä»æ¥æ¶å°ä¸ä¸ªä»»å¡å°å®æè¿ä¸ªä»»å¡æ¶èçæ¶é´ãä¸ä¸ªå»¶è¿æèååºæ¶é´çéæ±éè¦å¿½ç¥ååéãéå¸¸æ¥è®²ï¼æååºç¨çååºæ¶é´éè¦ä»¥æ´ä½ååéææé«åºç¨çåå­æ¶èã\n\n\n# åå­å ç¨\n\nåå­å ç¨æ¯è¡¡éåºç¨æ¶èçåå­ï¼è¿ä¸ªåå­å ç¨æ¯æåºç¨å¨è¿è¡å¨æä¸ä¸ªååéãå»¶è¿ä»¥åå¯ç¨æ§åæç®¡çæ§ææ ä¸çåå­æ¶èï¼åå­å ç¨æ¯éå¸¸æè¿°ä¸ºåºç¨è¿è¡çæ¶åJavaå çå¤§å°æèæ»å±éè¦æ¶èåå­ã\n\n\n# JVMè°ä¼ä¸»è¦æ­¥éª¤\n\n * ç¬¬ä¸æ­¥ï¼çæ§åæGCæ¥å¿\n\n * ç¬¬äºæ­¥ï¼å¤æ­JVMé®é¢ï¼\n   \n   * å¦æåé¡¹åæ°è®¾ç½®åçï¼ç³»ç»æ²¡æè¶æ¶æ¥å¿åºç°ï¼GCé¢çä¸é«ï¼GCèæ¶ä¸é«ï¼é£ä¹æ²¡æå¿è¦è¿è¡GCä¼å\n   \n   * å¦æGCæ¶é´è¶è¿1-3ç§ï¼æèé¢ç¹GCï¼åå¿é¡»ä¼åã\n\n * ç¬¬ä¸æ­¥ï¼ç¡®å®è°ä¼ç®æ \n\n * ç¬¬åæ­¥ï¼è°æ´åæ°\n   \n   * è°ä¼ä¸è¬æ¯ä»æ»¡è¶³ç¨åºçåå­ä½¿ç¨éæ±å¼å§ï¼ä¹åæ¯æ¶é´å»¶è¿è¦æ±ï¼æåææ¯ååéè¦æ±ï¼è¦åºäºè¿ä¸ªæ­¥éª¤æ¥ä¸æ­ä¼åï¼æ¯ä¸ä¸ªæ­¥éª¤é½æ¯è¿è¡ä¸ä¸æ­¥çåºç¡ï¼ä¸å¯éè¡ä¹ã\n\n * ç¬¬äºæ­¥ï¼å¯¹æ¯è°ä¼ååå·®è·\n\n * ç¬¬å­æ­¥ï¼éå¤ï¼ 1 ã 2 ã 3 ã 4 ã 5 æ­¥éª¤\n   \n   * æ¾å°æä½³JVMåæ°è®¾ç½®\n\n * ç¬¬ä¸æ­¥ï¼åºç¨JVMå°åºç¨æå¡å¨ï¼\n   \n   * æ¾å°æåéçåæ°ï¼å°è¿äºåæ°åºç¨å°æææå¡å¨ï¼å¹¶è¿è¡åç»­è·è¸ªã\n\n\n# JVMè°ä¼å®è·µ\n\n\n# åæGCæ¥å¿\n\n\n# åå§åæ°è®¾ç½®\n\nJvmè°ä¼å¸ååæ°è®¾ç½®;\n\n 1. -Xmså åå­çæå°å¼ï¼\n    \n    * é»è®¤æåµä¸ï¼å½å ä¸­å¯ç¨åå­å°äº40%æ¶ï¼å åå­ä¼å¼å§å¢å ï¼ä¸ç´å¢å å°-Xmxçå¤§å°ã\n\n 2. -Xmxå åå­çæå¤§å¼ï¼\n    \n    é»è®¤å¼æ¯æ»åå­/64ï¼ä¸å°äº1Gï¼\n    \n    * é»è®¤æåµä¸ï¼å½å ä¸­å¯ç¨åå­å¤§äº70%æ¶ï¼å åå­ä¼å¼å§åå°ï¼ä¸ç´åå°å°-Xmsçå¤§å°ï¼\n\n 3. -Xmnæ°çä»£åå­çæå¤§å¼ï¼\n    \n    * 1.åæ¬Edenåºåä¸¤ä¸ªSurvivoråºçæ»å\n    * 2.éç½®åæ³å¦ï¼-Xmn1024kï¼-Xmn1024mï¼-Xmn1g\n\n 4. -Xssæ¯ä¸ªçº¿ç¨çæ åå­ï¼\n    \n    * é»è®¤1Mï¼ä¸è¬æ¥è¯´æ¯ä¸éè¦æ¹ãçº¿ç¨æ è¶å°æå³çå¯ä»¥åå»ºççº¿ç¨æ°è¶å¤\n\næ´ä¸ªå çå¤§å° = å¹´è½»ä»£å¤§å° + å¹´èä»£å¤§å°ï¼å çå¤§å°ä¸åå«åç©ºé´å¤§å°ï¼å¦æå¢å¤§äºå¹´è½»ä»£ï¼å¹´èä»£ç¸åºå°±ä¼åå°ï¼å®æ¹é»è®¤çéç½®ä¸ºå¹´èä»£å¤§å°/å¹´è½»ä»£å¤§å°=2/1å·¦å³ï¼\n\nå»ºè®®å¨å¼åæµè¯ç¯å¢å¯ä»¥ç¨XmsåXmxåå«è®¾ç½®æå°å¼æå¤§å¼ï¼ä½æ¯å¨çº¿ä¸çäº§ç¯å¢ï¼XmsåXmxè®¾ç½®çå¼å¿é¡»ä¸æ ·ï¼é²æ­¢æå¨\n\né»è®¤çéç½®æ¯å¦å­å¨æ§è½ç¶é¢ãå¦ææ³è¦ç¡®å®JVMæ§è½é®é¢ç¶é¢ï¼éè¦è¿ä¸æ­¥åæGCæ¥å¿\n\n 1. -XX:+PrintGCDetails å¼å¯GCæ¥å¿åå»ºæ´è¯¦ç»çGCæ¥å¿ ï¼é»è®¤æåµä¸ï¼GCæ¥å¿æ¯å³é­ç\n\n 2. -XX:+PrintGCTimeStampsï¼-XX:+PrintGCDateStamps\n    \n    å¼å¯GCæ¶é´æç¤º\n    \n    * å¼å¯æ¶é´ä¾¿äºæä»¬æ´ç²¾ç¡®å°å¤æ­å æ¬¡GCæä½ä¹é´çæ¶ä¸¤ä¸ªåæ°çåºå«\n    * æ¶é´æ³æ¯ç¸å¯¹äº 0 ï¼ä¾æ®JVMå¯å¨çæ¶é´ï¼çå¼ï¼èæ¥ææ³ï¼date stampï¼æ¯å®éçæ¥æå­ç¬¦ä¸²\n    * ç±äºæ¥ææ³éè¦è¿è¡æ ¼å¼åï¼æä»¥å®çæçå¯è½ä¼åè½»å¾®çå½±åï¼ä¸è¿è¿ç§æä½å¹¶ä¸é¢ç¹ï¼å®é æçå½±åä¹å¾é¾è¢«æä»¬æç¥ã\n\n 3. -XX:+PrintHeapAtGC æå°å çGCæ¥å¿\n\n 4. -Xloggc:./logs/gc.log æå®GCæ¥å¿è·¯å¾\n\nè¿éï¼æä»¬æ¯å¨windowä¸é¢è¿è¡æµè¯ï¼ideaéç½®å¦ä¸ï¼\n\n\n\n> -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:+PrintHeapAtGC -Xloggc:E:/logs/gc-default.log\n> \n> è¿æ ·å°±ä¼å¨eçä¸logsæä»¶å¤¹ä¸é¢ï¼çægc-default.logæ¥å¿\n\n\n\n\n# GCæ¥å¿è§£è¯»\n\nYoung GC æ¥å¿å«ä¹\n\n2022-08-05T13:45:23.336+0800: 4.866: [GC (Metadata GC Threshold) [PSYoungGen: 136353K->20975K(405504K)] 160049K->48437K(720384K), 0.0092260 secs] [Times: user=0.00 sys=0.02, real=0.02 secs] \n\n\n\nè¿éçåå®¹ï¼æä»¬ä¸ä¸ªä¸ä¸ªè§£æï¼\n\n2022-08-05T13:45:23.336+0800: æ¬æ¬¡GCåçæ¶é´\n4.866: ä¸¾ä¾å¯å¨åºç¨çæ¶é´\n[GCãè¡¨ç¤ºGCçç±»åï¼youngGCã (Metadata GC Threshold) åç©ºé´è¶éå¼\n[PSYoungGen: 136353K->20975K(405504Kå¹´è½»ä»£æ»ç©ºé´)] 160049K->48437K(720384K)æ´å ), 0.0092260 secsæ¬æ¬¡åå¾åæ¶èæ¶]\n[Times: user=0.00æ¬æ¬¡GCæ¶èCPUçæ¶é´ sys=0.02ç³»ç»æåæ¶é´, real=0.02 secså®éåºç¨æåæ¶é´]\n\n\n\n\nFullGC æ¥å¿å«ä¹\n\n2022-08-05T20:24:47.815+0800: 6.955: [Full GC (Metadata GC Threshold) [PSYoungGen: 701K->0K(72704K)] [ParOldGen: 38678K->35960K(175104K)] 39380K->35960K(247808K), [Metaspace: 56706K->56706K(1099776K)], 0.1921975 secs] [Times: user=1.03 sys=0.00, real=0.19 secs] \n\n\n\nè¿éçåå®¹ï¼æä»¬ä¹æ¯ä¸ä¸ªä¸ä¸ªè§£æï¼\n\n2022-08-05T20:24:47.815+0800:\n6.955: åå¯å¨æå¡å°±Full GCãæ´å åæ¶ï¼ï¼ã\n\n[Full GC (Metadata GC Threshold) Metaspaceç©ºé´è¶éï¼\n[PSYoungGen: 701K->0K(72704K)] å¹´è½»ä»£æ²¡æåæ¶ç©ºé´\n[ParOldGen: 38678K->35960K(175104K)] 39380K->35960K(247808K), èå¹´ä»£ä¹æ²¡æå°éå¼ï¼æ´å æ´æ²¡æå°éå¼\n[Metaspace: 56706K->56706K(1099776K)], 0.1921975 secs]\n[Times: user=1.03æ¬æ¬¡GCæ¶èCPUçæ¶é´ sys=0.00ç³»ç»æåæ¶é´, real=0.19 secså®éåºç¨æåæ¶é´] \n\n\n\n\n\n# GCæ¥å¿å¯è§ååæ\n\nåæGCæ¥å¿ï¼å°±å¿é¡»è®©GCæ¥å¿è¾åºå°ä¸ä¸ªæä»¶ä¸­ï¼ç¶åä½¿ç¨GCæ¥å¿åæå·¥å·ï¼gceasy.io/) è¿è¡åæ\n\n\n\n> è¿éåæå®ä¹åï¼å¯ä»¥ä¸è½½åææ¥å\n\n\n\n# 1) JVMåå­å ç¨æåµï¼\n\n\n\nGENERATIONãåºåã                 ALLOCATEDãæå¤§å¼ã   PEAKãå ç¨å³°å¼ã\nYoung Generationãå¹´è½»ä»£ã          74.5 mb          74.47 mb\nOld Generationãèå¹´è½»ä»£ã           171 mb           95.62 mb\nMeta Spaceãåç©ºé´ã                1.05 gb          55.38 mb\nYoung + Old + Meta spaceãæ´ä½ã   1.3 gb           212.64 mb\n\n# 2) å³é®æ§è½ææ ï¼\n\n\n\n1 ãååéï¼ ç¾åæ¯è¶é«è¡¨æGCå¼éè¶ä½ãè¿ä¸ªææ åæ äºJVMçååéã\n\n * Throughputï¼97.043%\n\n2 ãGC å»¶è¿ï¼Latency\n\n * Avg Pause GC Timeï¼ 7.80 ms å¹³åGCæåæ¶é´\n * Max Pause GC Timeï¼ 190 ms æå¤§GCæåæ¶é´\n\n# 3) GC å¯è§åäº¤äºèåç»æ\n\n\n\nç±ä¸å¾å¯ä»¥çå°ï¼åçäº3æ¬¡full gc\n\nå­å¨é®é¢ï¼ä¸å¼å§å°±åçäº 3 æ¬¡full gc , å¾ææ¾ä¸å¤ªæ­£å¸¸ï¼\n\n# 4) GC ç»è®¡\n\n\n\nGC Statisticsï¼GCç»è®¡\n\nç±ä¸å¾å¯ä»¥å¾å°ï¼åçgcçæ»æ¬¡æ°ï¼young gcï¼full gcçç»è®¡ï¼gc æåæ¶é´ç»è®¡ã\n\n# 5) GCåå ï¼\n\n\n\nåå                       æ¬¡æ°   å¹³åæ¶é´      æå¤§æ¶é´      æ»èæ¶\nMetadata GC Threshold   6    43.3 ms   190 ms    260 ms\nAllocation Failure      53   3.77 ms   10.0 ms   200 ms\n\nè¿éå¯¹è¿äºåå è§£æä¸ä¸ï¼\n\n 1. Metadata GC Thresholdï¼ åç©ºé´è¶éå¼\n 2. Allocation Failure ï¼å¹´è½»ä»£ç©ºé´ä¸è¶³\n\n> è¿éè¡¥åä¸ä¸ªåå ï¼æ¬æ¡ä¾è¿æ²¡åºç°ç\n\n 3. Ergonomicsï¼è¯ææ¯âäººä½å·¥ç¨å­¦âï¼GCä¸­çErgonomicså«ä¹æ¯è´è´£èªå¨è°è§£gcæåæ¶é´åååéä¹é´å¹³è¡¡ä»èäº§ççGCãç®çæ¯ä½¿å¾èææºæ§è½æ´å¥½çä¸ç§åæ³ã\n\n----------------------------------------\n\nç±æ­¤å¯è§ï¼éè¿å¯è§åçå·¥å·ï¼å¯ä»¥å¿«éçå¸®æä»¬åæGCçæ¥å¿ãæä»¬å¾åäºå©ç¨å·¥å·ã\n\nå ä¸ºgcçæ¥å¿æä»¶ï¼åå®¹å¤ªå¤ï¼é½æ¯å¯å¯éº»éº»çæ°å­ï¼ææ¬ãçå¾å®å¨æ¯å¤´ç¼ã\n\næäºgc easyå¯è§åå·¥å·ï¼èä¸è¿æ¯å¨çº¿çï¼ååçæ¹ä¾¿ãGCæ¥å¿åææ¯åè´¹ç\n\n\n# å åå­ä¸åç©ºé´ä¼å\n\nåç©ºé´é»è®¤åå§å¤§å°ä¸º20.75MBï¼è°æ´åç©ºé´å¤§å°éè¦Full GCãå¯¹äº8Gç©çåå­çæºå¨æ¥è¯´ï¼ä¸è¬å°è¿ä¸¤ä¸ªå¼é½è®¾ç½®ä¸º256Mï¼å¯æ ¹æ®æ¶é´æåµè¿è¡è°æ´ï¼ã\n\nåç©ºé´ä¼åï¼Metaspace å¤ªå°ï¼ä¼é¢ç¹è§¦åFull GCãå¢å Metaspaceç©ºé´å¤§å°ãåæ°-XX:MetaspaceSize=Nï¼è®¾ç½®åç©ºé´å¤§å°ä¸º128MBã\n\nå åå­ï¼åæ°-Xmså-Xmxãå¢å¤§å åå­ãå¢å å¹´è½»ä»£åèå¹´ä»£çç©ºé´ï¼åå°GC\n\n\n# å åå­åé¨ä¼åï¼æ°çä»£åèå¹´ä»£æ¯ä¾\n\nå¹´è½»ä»£åèå¹´ä»£å¤§å°é»è®¤æ¯ä¾ï¼ 1 : 2ãé»è®¤æ¯ä¾å¤§é¨åé½æ¯æåéçã\n\nä½¿ç¨-XX:NewRetio = 4 è¡¨ç¤ºyoungåoldæå æ¯å¼ä¸º1:4ãå¹´è½»ä»£è®¾ç½®å¤ªå°ï¼young gcæ¬¡æ°åå¤äºï¼è¿ä¹æç¹å½±åæ§è½ã\n\n> é¿åæ°çä»£è®¾ç½®è¿å°ï¼å½æ°çä»£è®¾ç½®è¿å°æ¶ï¼ä¼äº§çä¸¤ç§æ¯è¾ææ¾çç°è±¡ï¼ä¸æ¯minor GCæ¬¡æ°é¢ç¹ï¼äºæ¯å¯è½å¯¼è´ minor GCå¯¹è±¡ç´æ¥è¿å¥èå¹´ä»£ãå½èå¹´ä»£åå­ä¸è¶³æ¶ï¼ä¼è§¦åFull GCã\n> \n> é¿åæ°çä»£è®¾ç½®è¿å¤§ï¼å½æ°çä»£è®¾ç½®è¿å¤§æ¶ï¼ä¼å¸¦æ¥ä¸¤ä¸ªé®é¢ï¼ä¸æ¯èå¹´å¤§åå°ï¼å¯è½å¯¼è´FullGCé¢ç¹æ§è¡ï¼äºæ¯ minor GC æ§è¡åæ¶çæ¶é´å¤§å¹åº¦å¢å ã\n\n\n# åå¾åæ¶å¨ä¼å\n\nååéä¼åps+poï¼\n\n * Perallel-Scavengeåå¾æ¶éå¨ï¼-XX:+UsePerallelGC\n\n * Perallel-Oldåå¾æ¶éå¨ãpoæ¯psçèå¹´ä»£å¹¶è¡æ¶éçæ¬ãï¼-XXï¼+UsePerallelOldGC\n\nååºæ¶é´ä¼åparnew+cmsï¼\n\n * ParNewåå¾æ¶éå¨ãSerialçæ¶éå¨çå¤çº¿ç¨çæ¬ãï¼-XX:UseParNewGC\n\n * CMSåå¾æ¶éå¨ï¼ å¹¶å æ¶éå¨(éç¬å å¼)-XX:ConcMarkSweepGCãå¹¶åçæ è®°æ¸æ¥ç®æ³çGCåå¾æ¶éå¨ã\n\n\n# G1åå¾æ¶éå¨ï¼éç¹ï¼\n\nG1ä¸­æä¾äºä¸ç§æ¨¡å¼åå¾åæ¶æ¨¡å¼ï¼ Young GCãMixed GC å Full GC ï¼å¨ä¸åçæ¡ä»¶ä¸è¢«è§¦åã\n\nG1çä½¿ç¨æ­¥éª¤ï¼\n\n * éç½®å¼å¯G1\n * è®¾ç½®å çæå¤§åå­\n * è®¾ç½®GCæå¤§æåæ¶é´ï¼è®¾ç½®100-300ä¹é´æ¯æ¯è¾åçï¼\n   * å¦æè®¾ç½®çGCçæåæ¶é´æ¯è¾å°ï¼ç³»ç»ååéä¼éä½\n   * é»è®¤çå¼æ¯200,\n   * G1è®¾è®¡çç®æ ï¼æ§å¶ç¨æ·çº¿ç¨æ§è¡æ¶é´90%ï¼GCå æ¯æ¶é´10%\n\n# G1åå¾æ¶éå¨çå·¥ä½åç\n\nG1åå¾æ¶éå¨ç¸å¯¹æ¯å¶ä»æ¶éå¨èè¨ï¼æå¤§çåºå«å¨äºå®åæ¶äº å¹´è½»ä»£ãèå¹´ä»£çç©çååï¼ åèä»£ä¹çæ¯å°å ååä¸ºè¥å¹²ä¸ªåºåï¼Regionï¼ï¼è¿äºåºåä¸­åå«äºæé»è¾ä¸çå¹´è½»ä»£ãèå¹´ä»£åºåã\n\nè¿æ ·åçå¥½å¤å°±æ¯ï¼æä»¬åä¹ä¸ç¨åç¬çç©ºé´å¯¹æ¯ä¸ªä»£è¿è¡è®¾ç½®äºï¼ä¸ç¨æå¿æ¯ä¸ªä»£åå­æ¯å¦è¶³å¤ã\n\nå¨G1ååçåºåä¸­ï¼å¹´è½»ä»£çåå¾æ¶éä¾ç¶éç¨æåææåºç¨çº¿ç¨çæ¹å¼ï¼å°å­æ´»å¯¹è±¡æ·è´å°èå¹´ä»£æèSurvivorç©ºé´ï¼G1æ¶éå¨éè¿å°å¯¹è±¡ä»ä¸ä¸ªåºåå¤å¶å°å¦å¤ä¸ä¸ªåºåï¼å®æäºæ¸çå·¥ä½ã\n\nè¿å°±æå³çï¼å¨æ­£å¸¸çå¤çè¿ç¨ä¸­ï¼G1å®æäºå çåç¼©ï¼è³å°æ¯é¨åå çåç¼©ï¼ï¼è¿æ ·ä¹å°±ä¸ä¼æcmsåå­ç¢çé®é¢çå­å¨äºã\n\nYoung GCä¸»è¦æ¯å¯¹Edenåºè¿è¡GCï¼å®å¨Edenç©ºé´èå°½æ¶ä¼è¢«è§¦åã\n\nMixed GCï¼åæ¶å¹´è½»ä»£åå­ï¼åæ¶ä¹åæ¶é¨åèå¹´ä»£çåå­\n\nMixedGCä»ä¹æ¶åè§¦åï¼\n\n-XX:InitiatingHeapOccupancyPercent=n ï¼è®¾ç½®è§¦åæ è®°å¨æç Java å å ç¨çéå¼ãé»è®¤å ç¨çæ¯æ´ä¸ª Java å ç 45%ã\n\nMixedGCä¸»è¦åä¸ºä¸¤æ­¥ï¼\n\n 1. å¨å±å¹¶åæ è®°\n 2. æ·è´å­æ´»å¯¹è±¡\n\n# G1æ¶éå¨ç¸å³åæ°\n\n# ä½¿ç¨ G1 åå¾æ¶éå¨\n-XX:+UseG1GC\n\n# è®¾ç½®ææè¾¾å°çæå¤§GCåé¡¿æ¶é´ææ ï¼JVMä¼å°½åå®ç°ï¼ä½ä¸ä¿è¯è¾¾å°ï¼ï¼é»è®¤å¼æ¯ 200 æ¯«ç§ã\n-XX:MaxGCPauseMillis=\n\n# è®¾ç½®ç G1 åºåçå¤§å°ãå¼æ¯ 2 çå¹ï¼èå´æ¯ 1 MB å° 32 MB ä¹é´ãç®æ æ¯æ ¹æ®æå°ç Java å å¤§å°åååºçº¦ 2048 ä¸ªåºåã\n# é»è®¤æ¯å åå­ç1/2000ã\n-XX:G1HeapRegionSize=n\n\n# è®¾ç½® STW å·¥ä½çº¿ç¨æ°çå¼ãå° n çå¼è®¾ç½®ä¸ºé»è¾å¤çå¨çæ°éãn çå¼ä¸é»è¾å¤çå¨çæ°éç¸åï¼æå¤ä¸º 8ã\n-XX:ParallelGCThreads=n\n\n# è®¾ç½®å¹¶è¡æ è®°ççº¿ç¨æ°ãå° n è®¾ç½®ä¸ºå¹¶è¡åå¾åæ¶çº¿ç¨æ° (ParallelGCThreads)ç 1/4 å·¦å³ã\n-XX:ConcGCThreads=n\n\n# è®¾ç½®è§¦åæ è®°å¨æç Java å å ç¨çéå¼ãé»è®¤å ç¨çæ¯æ´ä¸ª Java å ç 45%ã\n-XX:InitiatingHeapOccupancyPercent=n\n\n\n\n# JVMè°ä¼æ¡ä¾\n\n\n# è°ä¼æ¡ä¾ï¼metaspaceå¯¼è´é¢ç¹FGCé®é¢\n\n\n\n\n# è°ä¼æ¡ä¾ï¼YGGåOLD GCé¢ç¹\n\n\n\n\n# è°ä¼æ¡ä¾ï¼OLD GCèæ¶è¾é¿å½±åä¸å¡\n\nåå ï¼Remakeé¶æ®µæ¶é´è¾é¿\n\nä¼åï¼-XX:+CMSScavengeBeforeRemark\n\n\n# è°ä¼æ¡ä¾ï¼YGCèæ¶å¢å \n\nåå ï¼jacksonè¿è¡ååºååæ¶ä¼å°keyè¿è¡String#internï¼å¯¼è´æ«ææ¶ï¼GCRootåå¤§\n\nè§£å³ï¼ç¦ç¨jacksonçString#intern\n\n\n# è°ä¼æ¡ä¾ï¼YCGæ¬¡æ°å¢å \n\nåå ï¼-XXï¼MaxGCPauseMillisåæ°æ¶é´è®¾ç½®è¿å°ï¼å¯¼è´JVMéä½å¹´è½»ä»£region\n\nè§£å³ï¼\n\n 1. è°å¤§-XXï¼MaxGCPauseMilliså¼\n 2. å°å¹´è½»ä»£regionå¤§å°è®¾ç½®ä¸ºåºå®å¼\n\nè°ä¼æ¡ä¾ï¼",normalizedContent:"ä¸ºä»ä¹è¦è¿è¡jvmè°ä¼ï¼\n\nè°ä¼çæç»ç®çé½æ¯ä¸ºäºåºç¨ç¨åºä½¿ç¨æå°çç¡¬ä»¶æ¶èæ¥æ¿è½½æ´å¤§çååéã\n\njvmè°ä¼ä¸»è¦æ¯éå¯¹åå¾æ¶éå¨çæ¶éæ§è½ä¼åï¼åå°gcçé¢çåfull gcçæ¬¡æ°ï¼ä»¤è¿è¡å¨èææºä¸çåºç¨è½å¤ä½¿ç¨æ´å°çåå­ä»¥åå»¶è¿è·åæ´å¤§çååéååå°æåæ¶é´ã\n\nä»ä¹æ¶åè¿è¡jvmè°ä¼?\n\n 1. ç³»ç»ååéä¸ååºæ§è½ä¸é«æä¸éï¼\n 2. heapåå­ï¼èå¹´ä»£ï¼æç»­ä¸æ¶¨è¾¾å°è®¾ç½®çæå¤§åå­å¼ï¼\n 3. full gc æ¬¡æ°é¢ç¹ï¼\n 4. gc åé¡¿æ¶é´è¿é¿ï¼è¶è¿ 1 ç§ï¼ï¼\n 5. åºç¨åºç°outofmemory ç­åå­å¼å¸¸ï¼\n 6. åºç¨ä¸­æä½¿ç¨æ¬å°ç¼å­ä¸å ç¨å¤§éåå­ç©ºé´ï¼\n\nè°ä¼è°ä»ä¹ï¼\n\nåå­åé+åå¾åæ¶\n\n 1. åçä½¿ç¨å åå­\n 2. gcé«æåæ¶å ç¨çåå­çåå¾å¯¹è±¡\n 3. gcé«æéæ¾æåå­ç©ºé´\n\n\n# è°ä¼åå\n\n * ä¼åååï¼ä¼åæ¶æè°ä¼åä»£ç è°ä¼ï¼jvmä¼åæ¯ä¸å¾å·²çææ®µ\n   * å¤§å¤æ°çjavaåºç¨ä¸éè¦è¿è¡jvmä¼å\n * è§æµæ§ååï¼åç°é®é¢è§£å³é®é¢ï¼æ²¡æé®é¢ä¸æ¾é®é¢\n\n\n# è°ä¼å³é®ææ \n\n\n# ååé\n\néè¦ææ ä¹ä¸ï¼ååéæ¯è¡¡éç³»ç»å¨åä½æ¶é´éé¢å®æçå·¥ä½æ°éãååééæ±éå¸¸å¿½ç¥å»¶è¿æèååºæ¶é´ãéå¸¸æåµä¸ï¼æåååééè¦ä»¥ç³»ç»ååºåæ¢åæ´å¤åå­æ¶èä½ä¸ºä»£ä»·ã\n\n * tpsï¼æ¯ç§äºå¡æ°\n * throughputï¼ååé=è¿è¡ç¨æ·ä»£ç æ¶é´/ï¼è¿è¡ç¨æ·ä»£ç æ¶é´+åå¾æ¶éæ¶é´ï¼ï¼èææºæ»å±è¿è¡äº 100 åéï¼å¶ä¸­åå¾æ¶éè±æ 1 åéï¼é£ååéå°±æ¯99%ã\n\n\n# å»¶è¿æååºæ¶é´\n\nå»¶è¿æèååºæ¶é´æ¯è¡¡éåºç¨ä»æ¥æ¶å°ä¸ä¸ªä»»å¡å°å®æè¿ä¸ªä»»å¡æ¶èçæ¶é´ãä¸ä¸ªå»¶è¿æèååºæ¶é´çéæ±éè¦å¿½ç¥ååéãéå¸¸æ¥è®²ï¼æååºç¨çååºæ¶é´éè¦ä»¥æ´ä½ååéææé«åºç¨çåå­æ¶èã\n\n\n# åå­å ç¨\n\nåå­å ç¨æ¯è¡¡éåºç¨æ¶èçåå­ï¼è¿ä¸ªåå­å ç¨æ¯æåºç¨å¨è¿è¡å¨æä¸ä¸ªååéãå»¶è¿ä»¥åå¯ç¨æ§åæç®¡çæ§ææ ä¸çåå­æ¶èï¼åå­å ç¨æ¯éå¸¸æè¿°ä¸ºåºç¨è¿è¡çæ¶åjavaå çå¤§å°æèæ»å±éè¦æ¶èåå­ã\n\n\n# jvmè°ä¼ä¸»è¦æ­¥éª¤\n\n * ç¬¬ä¸æ­¥ï¼çæ§åægcæ¥å¿\n\n * ç¬¬äºæ­¥ï¼å¤æ­jvmé®é¢ï¼\n   \n   * å¦æåé¡¹åæ°è®¾ç½®åçï¼ç³»ç»æ²¡æè¶æ¶æ¥å¿åºç°ï¼gcé¢çä¸é«ï¼gcèæ¶ä¸é«ï¼é£ä¹æ²¡æå¿è¦è¿è¡gcä¼å\n   \n   * å¦ægcæ¶é´è¶è¿1-3ç§ï¼æèé¢ç¹gcï¼åå¿é¡»ä¼åã\n\n * ç¬¬ä¸æ­¥ï¼ç¡®å®è°ä¼ç®æ \n\n * ç¬¬åæ­¥ï¼è°æ´åæ°\n   \n   * è°ä¼ä¸è¬æ¯ä»æ»¡è¶³ç¨åºçåå­ä½¿ç¨éæ±å¼å§ï¼ä¹åæ¯æ¶é´å»¶è¿è¦æ±ï¼æåææ¯ååéè¦æ±ï¼è¦åºäºè¿ä¸ªæ­¥éª¤æ¥ä¸æ­ä¼åï¼æ¯ä¸ä¸ªæ­¥éª¤é½æ¯è¿è¡ä¸ä¸æ­¥çåºç¡ï¼ä¸å¯éè¡ä¹ã\n\n * ç¬¬äºæ­¥ï¼å¯¹æ¯è°ä¼ååå·®è·\n\n * ç¬¬å­æ­¥ï¼éå¤ï¼ 1 ã 2 ã 3 ã 4 ã 5 æ­¥éª¤\n   \n   * æ¾å°æä½³jvmåæ°è®¾ç½®\n\n * ç¬¬ä¸æ­¥ï¼åºç¨jvmå°åºç¨æå¡å¨ï¼\n   \n   * æ¾å°æåéçåæ°ï¼å°è¿äºåæ°åºç¨å°æææå¡å¨ï¼å¹¶è¿è¡åç»­è·è¸ªã\n\n\n# jvmè°ä¼å®è·µ\n\n\n# åægcæ¥å¿\n\n\n# åå§åæ°è®¾ç½®\n\njvmè°ä¼å¸ååæ°è®¾ç½®;\n\n 1. -xmså åå­çæå°å¼ï¼\n    \n    * é»è®¤æåµä¸ï¼å½å ä¸­å¯ç¨åå­å°äº40%æ¶ï¼å åå­ä¼å¼å§å¢å ï¼ä¸ç´å¢å å°-xmxçå¤§å°ã\n\n 2. -xmxå åå­çæå¤§å¼ï¼\n    \n    é»è®¤å¼æ¯æ»åå­/64ï¼ä¸å°äº1gï¼\n    \n    * é»è®¤æåµä¸ï¼å½å ä¸­å¯ç¨åå­å¤§äº70%æ¶ï¼å åå­ä¼å¼å§åå°ï¼ä¸ç´åå°å°-xmsçå¤§å°ï¼\n\n 3. -xmnæ°çä»£åå­çæå¤§å¼ï¼\n    \n    * 1.åæ¬edenåºåä¸¤ä¸ªsurvivoråºçæ»å\n    * 2.éç½®åæ³å¦ï¼-xmn1024kï¼-xmn1024mï¼-xmn1g\n\n 4. -xssæ¯ä¸ªçº¿ç¨çæ åå­ï¼\n    \n    * é»è®¤1mï¼ä¸è¬æ¥è¯´æ¯ä¸éè¦æ¹ãçº¿ç¨æ è¶å°æå³çå¯ä»¥åå»ºççº¿ç¨æ°è¶å¤\n\næ´ä¸ªå çå¤§å° = å¹´è½»ä»£å¤§å° + å¹´èä»£å¤§å°ï¼å çå¤§å°ä¸åå«åç©ºé´å¤§å°ï¼å¦æå¢å¤§äºå¹´è½»ä»£ï¼å¹´èä»£ç¸åºå°±ä¼åå°ï¼å®æ¹é»è®¤çéç½®ä¸ºå¹´èä»£å¤§å°/å¹´è½»ä»£å¤§å°=2/1å·¦å³ï¼\n\nå»ºè®®å¨å¼åæµè¯ç¯å¢å¯ä»¥ç¨xmsåxmxåå«è®¾ç½®æå°å¼æå¤§å¼ï¼ä½æ¯å¨çº¿ä¸çäº§ç¯å¢ï¼xmsåxmxè®¾ç½®çå¼å¿é¡»ä¸æ ·ï¼é²æ­¢æå¨\n\né»è®¤çéç½®æ¯å¦å­å¨æ§è½ç¶é¢ãå¦ææ³è¦ç¡®å®jvmæ§è½é®é¢ç¶é¢ï¼éè¦è¿ä¸æ­¥åægcæ¥å¿\n\n 1. -xx:+printgcdetails å¼å¯gcæ¥å¿åå»ºæ´è¯¦ç»çgcæ¥å¿ ï¼é»è®¤æåµä¸ï¼gcæ¥å¿æ¯å³é­ç\n\n 2. -xx:+printgctimestampsï¼-xx:+printgcdatestamps\n    \n    å¼å¯gcæ¶é´æç¤º\n    \n    * å¼å¯æ¶é´ä¾¿äºæä»¬æ´ç²¾ç¡®å°å¤æ­å æ¬¡gcæä½ä¹é´çæ¶ä¸¤ä¸ªåæ°çåºå«\n    * æ¶é´æ³æ¯ç¸å¯¹äº 0 ï¼ä¾æ®jvmå¯å¨çæ¶é´ï¼çå¼ï¼èæ¥ææ³ï¼date stampï¼æ¯å®éçæ¥æå­ç¬¦ä¸²\n    * ç±äºæ¥ææ³éè¦è¿è¡æ ¼å¼åï¼æä»¥å®çæçå¯è½ä¼åè½»å¾®çå½±åï¼ä¸è¿è¿ç§æä½å¹¶ä¸é¢ç¹ï¼å®é æçå½±åä¹å¾é¾è¢«æä»¬æç¥ã\n\n 3. -xx:+printheapatgc æå°å çgcæ¥å¿\n\n 4. -xloggc:./logs/gc.log æå®gcæ¥å¿è·¯å¾\n\nè¿éï¼æä»¬æ¯å¨windowä¸é¢è¿è¡æµè¯ï¼ideaéç½®å¦ä¸ï¼\n\n\n\n> -xx:+printgcdetails -xx:+printgctimestamps -xx:+printgcdatestamps -xx:+printheapatgc -xloggc:e:/logs/gc-default.log\n> \n> è¿æ ·å°±ä¼å¨eçä¸logsæä»¶å¤¹ä¸é¢ï¼çægc-default.logæ¥å¿\n\n\n\n\n# gcæ¥å¿è§£è¯»\n\nyoung gc æ¥å¿å«ä¹\n\n2022-08-05t13:45:23.336+0800: 4.866: [gc (metadata gc threshold) [psyounggen: 136353k->20975k(405504k)] 160049k->48437k(720384k), 0.0092260 secs] [times: user=0.00 sys=0.02, real=0.02 secs] \n\n\n\nè¿éçåå®¹ï¼æä»¬ä¸ä¸ªä¸ä¸ªè§£æï¼\n\n2022-08-05t13:45:23.336+0800: æ¬æ¬¡gcåçæ¶é´\n4.866: ä¸¾ä¾å¯å¨åºç¨çæ¶é´\n[gcãè¡¨ç¤ºgcçç±»åï¼younggcã (metadata gc threshold) åç©ºé´è¶éå¼\n[psyounggen: 136353k->20975k(405504kå¹´è½»ä»£æ»ç©ºé´)] 160049k->48437k(720384k)æ´å ), 0.0092260 secsæ¬æ¬¡åå¾åæ¶èæ¶]\n[times: user=0.00æ¬æ¬¡gcæ¶ècpuçæ¶é´ sys=0.02ç³»ç»æåæ¶é´, real=0.02 secså®éåºç¨æåæ¶é´]\n\n\n\n\nfullgc æ¥å¿å«ä¹\n\n2022-08-05t20:24:47.815+0800: 6.955: [full gc (metadata gc threshold) [psyounggen: 701k->0k(72704k)] [paroldgen: 38678k->35960k(175104k)] 39380k->35960k(247808k), [metaspace: 56706k->56706k(1099776k)], 0.1921975 secs] [times: user=1.03 sys=0.00, real=0.19 secs] \n\n\n\nè¿éçåå®¹ï¼æä»¬ä¹æ¯ä¸ä¸ªä¸ä¸ªè§£æï¼\n\n2022-08-05t20:24:47.815+0800:\n6.955: åå¯å¨æå¡å°±full gcãæ´å åæ¶ï¼ï¼ã\n\n[full gc (metadata gc threshold) metaspaceç©ºé´è¶éï¼\n[psyounggen: 701k->0k(72704k)] å¹´è½»ä»£æ²¡æåæ¶ç©ºé´\n[paroldgen: 38678k->35960k(175104k)] 39380k->35960k(247808k), èå¹´ä»£ä¹æ²¡æå°éå¼ï¼æ´å æ´æ²¡æå°éå¼\n[metaspace: 56706k->56706k(1099776k)], 0.1921975 secs]\n[times: user=1.03æ¬æ¬¡gcæ¶ècpuçæ¶é´ sys=0.00ç³»ç»æåæ¶é´, real=0.19 secså®éåºç¨æåæ¶é´] \n\n\n\n\n\n# gcæ¥å¿å¯è§ååæ\n\nåægcæ¥å¿ï¼å°±å¿é¡»è®©gcæ¥å¿è¾åºå°ä¸ä¸ªæä»¶ä¸­ï¼ç¶åä½¿ç¨gcæ¥å¿åæå·¥å·ï¼gceasy.io/) è¿è¡åæ\n\n\n\n> è¿éåæå®ä¹åï¼å¯ä»¥ä¸è½½åææ¥å\n\n\n\n# 1) jvmåå­å ç¨æåµï¼\n\n\n\ngenerationãåºåã                 allocatedãæå¤§å¼ã   peakãå ç¨å³°å¼ã\nyoung generationãå¹´è½»ä»£ã          74.5 mb          74.47 mb\nold generationãèå¹´è½»ä»£ã           171 mb           95.62 mb\nmeta spaceãåç©ºé´ã                1.05 gb          55.38 mb\nyoung + old + meta spaceãæ´ä½ã   1.3 gb           212.64 mb\n\n# 2) å³é®æ§è½ææ ï¼\n\n\n\n1 ãååéï¼ ç¾åæ¯è¶é«è¡¨ægcå¼éè¶ä½ãè¿ä¸ªææ åæ äºjvmçååéã\n\n * throughputï¼97.043%\n\n2 ãgc å»¶è¿ï¼latency\n\n * avg pause gc timeï¼ 7.80 ms å¹³ågcæåæ¶é´\n * max pause gc timeï¼ 190 ms æå¤§gcæåæ¶é´\n\n# 3) gc å¯è§åäº¤äºèåç»æ\n\n\n\nç±ä¸å¾å¯ä»¥çå°ï¼åçäº3æ¬¡full gc\n\nå­å¨é®é¢ï¼ä¸å¼å§å°±åçäº 3 æ¬¡full gc , å¾ææ¾ä¸å¤ªæ­£å¸¸ï¼\n\n# 4) gc ç»è®¡\n\n\n\ngc statisticsï¼gcç»è®¡\n\nç±ä¸å¾å¯ä»¥å¾å°ï¼åçgcçæ»æ¬¡æ°ï¼young gcï¼full gcçç»è®¡ï¼gc æåæ¶é´ç»è®¡ã\n\n# 5) gcåå ï¼\n\n\n\nåå                       æ¬¡æ°   å¹³åæ¶é´      æå¤§æ¶é´      æ»èæ¶\nmetadata gc threshold   6    43.3 ms   190 ms    260 ms\nallocation failure      53   3.77 ms   10.0 ms   200 ms\n\nè¿éå¯¹è¿äºåå è§£æä¸ä¸ï¼\n\n 1. metadata gc thresholdï¼ åç©ºé´è¶éå¼\n 2. allocation failure ï¼å¹´è½»ä»£ç©ºé´ä¸è¶³\n\n> è¿éè¡¥åä¸ä¸ªåå ï¼æ¬æ¡ä¾è¿æ²¡åºç°ç\n\n 3. ergonomicsï¼è¯ææ¯âäººä½å·¥ç¨å­¦âï¼gcä¸­çergonomicså«ä¹æ¯è´è´£èªå¨è°è§£gcæåæ¶é´åååéä¹é´å¹³è¡¡ä»èäº§ççgcãç®çæ¯ä½¿å¾èææºæ§è½æ´å¥½çä¸ç§åæ³ã\n\n----------------------------------------\n\nç±æ­¤å¯è§ï¼éè¿å¯è§åçå·¥å·ï¼å¯ä»¥å¿«éçå¸®æä»¬åægcçæ¥å¿ãæä»¬å¾åäºå©ç¨å·¥å·ã\n\nå ä¸ºgcçæ¥å¿æä»¶ï¼åå®¹å¤ªå¤ï¼é½æ¯å¯å¯éº»éº»çæ°å­ï¼ææ¬ãçå¾å®å¨æ¯å¤´ç¼ã\n\næäºgc easyå¯è§åå·¥å·ï¼èä¸è¿æ¯å¨çº¿çï¼ååçæ¹ä¾¿ãgcæ¥å¿åææ¯åè´¹ç\n\n\n# å åå­ä¸åç©ºé´ä¼å\n\nåç©ºé´é»è®¤åå§å¤§å°ä¸º20.75mbï¼è°æ´åç©ºé´å¤§å°éè¦full gcãå¯¹äº8gç©çåå­çæºå¨æ¥è¯´ï¼ä¸è¬å°è¿ä¸¤ä¸ªå¼é½è®¾ç½®ä¸º256mï¼å¯æ ¹æ®æ¶é´æåµè¿è¡è°æ´ï¼ã\n\nåç©ºé´ä¼åï¼metaspace å¤ªå°ï¼ä¼é¢ç¹è§¦åfull gcãå¢å metaspaceç©ºé´å¤§å°ãåæ°-xx:metaspacesize=nï¼è®¾ç½®åç©ºé´å¤§å°ä¸º128mbã\n\nå åå­ï¼åæ°-xmså-xmxãå¢å¤§å åå­ãå¢å å¹´è½»ä»£åèå¹´ä»£çç©ºé´ï¼åå°gc\n\n\n# å åå­åé¨ä¼åï¼æ°çä»£åèå¹´ä»£æ¯ä¾\n\nå¹´è½»ä»£åèå¹´ä»£å¤§å°é»è®¤æ¯ä¾ï¼ 1 : 2ãé»è®¤æ¯ä¾å¤§é¨åé½æ¯æåéçã\n\nä½¿ç¨-xx:newretio = 4 è¡¨ç¤ºyoungåoldæå æ¯å¼ä¸º1:4ãå¹´è½»ä»£è®¾ç½®å¤ªå°ï¼young gcæ¬¡æ°åå¤äºï¼è¿ä¹æç¹å½±åæ§è½ã\n\n> é¿åæ°çä»£è®¾ç½®è¿å°ï¼å½æ°çä»£è®¾ç½®è¿å°æ¶ï¼ä¼äº§çä¸¤ç§æ¯è¾ææ¾çç°è±¡ï¼ä¸æ¯minor gcæ¬¡æ°é¢ç¹ï¼äºæ¯å¯è½å¯¼è´ minor gcå¯¹è±¡ç´æ¥è¿å¥èå¹´ä»£ãå½èå¹´ä»£åå­ä¸è¶³æ¶ï¼ä¼è§¦åfull gcã\n> \n> é¿åæ°çä»£è®¾ç½®è¿å¤§ï¼å½æ°çä»£è®¾ç½®è¿å¤§æ¶ï¼ä¼å¸¦æ¥ä¸¤ä¸ªé®é¢ï¼ä¸æ¯èå¹´å¤§åå°ï¼å¯è½å¯¼è´fullgcé¢ç¹æ§è¡ï¼äºæ¯ minor gc æ§è¡åæ¶çæ¶é´å¤§å¹åº¦å¢å ã\n\n\n# åå¾åæ¶å¨ä¼å\n\nååéä¼åps+poï¼\n\n * perallel-scavengeåå¾æ¶éå¨ï¼-xx:+useperallelgc\n\n * perallel-oldåå¾æ¶éå¨ãpoæ¯psçèå¹´ä»£å¹¶è¡æ¶éçæ¬ãï¼-xxï¼+useperalleloldgc\n\nååºæ¶é´ä¼åparnew+cmsï¼\n\n * parnewåå¾æ¶éå¨ãserialçæ¶éå¨çå¤çº¿ç¨çæ¬ãï¼-xx:useparnewgc\n\n * cmsåå¾æ¶éå¨ï¼ å¹¶å æ¶éå¨(éç¬å å¼)-xx:concmarksweepgcãå¹¶åçæ è®°æ¸æ¥ç®æ³çgcåå¾æ¶éå¨ã\n\n\n# g1åå¾æ¶éå¨ï¼éç¹ï¼\n\ng1ä¸­æä¾äºä¸ç§æ¨¡å¼åå¾åæ¶æ¨¡å¼ï¼ young gcãmixed gc å full gc ï¼å¨ä¸åçæ¡ä»¶ä¸è¢«è§¦åã\n\ng1çä½¿ç¨æ­¥éª¤ï¼\n\n * éç½®å¼å¯g1\n * è®¾ç½®å çæå¤§åå­\n * è®¾ç½®gcæå¤§æåæ¶é´ï¼è®¾ç½®100-300ä¹é´æ¯æ¯è¾åçï¼\n   * å¦æè®¾ç½®çgcçæåæ¶é´æ¯è¾å°ï¼ç³»ç»ååéä¼éä½\n   * é»è®¤çå¼æ¯200,\n   * g1è®¾è®¡çç®æ ï¼æ§å¶ç¨æ·çº¿ç¨æ§è¡æ¶é´90%ï¼gcå æ¯æ¶é´10%\n\n# g1åå¾æ¶éå¨çå·¥ä½åç\n\ng1åå¾æ¶éå¨ç¸å¯¹æ¯å¶ä»æ¶éå¨èè¨ï¼æå¤§çåºå«å¨äºå®åæ¶äº å¹´è½»ä»£ãèå¹´ä»£çç©çååï¼ åèä»£ä¹çæ¯å°å ååä¸ºè¥å¹²ä¸ªåºåï¼regionï¼ï¼è¿äºåºåä¸­åå«äºæé»è¾ä¸çå¹´è½»ä»£ãèå¹´ä»£åºåã\n\nè¿æ ·åçå¥½å¤å°±æ¯ï¼æä»¬åä¹ä¸ç¨åç¬çç©ºé´å¯¹æ¯ä¸ªä»£è¿è¡è®¾ç½®äºï¼ä¸ç¨æå¿æ¯ä¸ªä»£åå­æ¯å¦è¶³å¤ã\n\nå¨g1ååçåºåä¸­ï¼å¹´è½»ä»£çåå¾æ¶éä¾ç¶éç¨æåææåºç¨çº¿ç¨çæ¹å¼ï¼å°å­æ´»å¯¹è±¡æ·è´å°èå¹´ä»£æèsurvivorç©ºé´ï¼g1æ¶éå¨éè¿å°å¯¹è±¡ä»ä¸ä¸ªåºåå¤å¶å°å¦å¤ä¸ä¸ªåºåï¼å®æäºæ¸çå·¥ä½ã\n\nè¿å°±æå³çï¼å¨æ­£å¸¸çå¤çè¿ç¨ä¸­ï¼g1å®æäºå çåç¼©ï¼è³å°æ¯é¨åå çåç¼©ï¼ï¼è¿æ ·ä¹å°±ä¸ä¼æcmsåå­ç¢çé®é¢çå­å¨äºã\n\nyoung gcä¸»è¦æ¯å¯¹edenåºè¿è¡gcï¼å®å¨edenç©ºé´èå°½æ¶ä¼è¢«è§¦åã\n\nmixed gcï¼åæ¶å¹´è½»ä»£åå­ï¼åæ¶ä¹åæ¶é¨åèå¹´ä»£çåå­\n\nmixedgcä»ä¹æ¶åè§¦åï¼\n\n-xx:initiatingheapoccupancypercent=n ï¼è®¾ç½®è§¦åæ è®°å¨æç java å å ç¨çéå¼ãé»è®¤å ç¨çæ¯æ´ä¸ª java å ç 45%ã\n\nmixedgcä¸»è¦åä¸ºä¸¤æ­¥ï¼\n\n 1. å¨å±å¹¶åæ è®°\n 2. æ·è´å­æ´»å¯¹è±¡\n\n# g1æ¶éå¨ç¸å³åæ°\n\n# ä½¿ç¨ g1 åå¾æ¶éå¨\n-xx:+useg1gc\n\n# è®¾ç½®ææè¾¾å°çæå¤§gcåé¡¿æ¶é´ææ ï¼jvmä¼å°½åå®ç°ï¼ä½ä¸ä¿è¯è¾¾å°ï¼ï¼é»è®¤å¼æ¯ 200 æ¯«ç§ã\n-xx:maxgcpausemillis=\n\n# è®¾ç½®ç g1 åºåçå¤§å°ãå¼æ¯ 2 çå¹ï¼èå´æ¯ 1 mb å° 32 mb ä¹é´ãç®æ æ¯æ ¹æ®æå°ç java å å¤§å°åååºçº¦ 2048 ä¸ªåºåã\n# é»è®¤æ¯å åå­ç1/2000ã\n-xx:g1heapregionsize=n\n\n# è®¾ç½® stw å·¥ä½çº¿ç¨æ°çå¼ãå° n çå¼è®¾ç½®ä¸ºé»è¾å¤çå¨çæ°éãn çå¼ä¸é»è¾å¤çå¨çæ°éç¸åï¼æå¤ä¸º 8ã\n-xx:parallelgcthreads=n\n\n# è®¾ç½®å¹¶è¡æ è®°ççº¿ç¨æ°ãå° n è®¾ç½®ä¸ºå¹¶è¡åå¾åæ¶çº¿ç¨æ° (parallelgcthreads)ç 1/4 å·¦å³ã\n-xx:concgcthreads=n\n\n# è®¾ç½®è§¦åæ è®°å¨æç java å å ç¨çéå¼ãé»è®¤å ç¨çæ¯æ´ä¸ª java å ç 45%ã\n-xx:initiatingheapoccupancypercent=n\n\n\n\n# jvmè°ä¼æ¡ä¾\n\n\n# è°ä¼æ¡ä¾ï¼metaspaceå¯¼è´é¢ç¹fgcé®é¢\n\n\n\n\n# è°ä¼æ¡ä¾ï¼yggåold gcé¢ç¹\n\n\n\n\n# è°ä¼æ¡ä¾ï¼old gcèæ¶è¾é¿å½±åä¸å¡\n\nåå ï¼remakeé¶æ®µæ¶é´è¾é¿\n\nä¼åï¼-xx:+cmsscavengebeforeremark\n\n\n# è°ä¼æ¡ä¾ï¼ygcèæ¶å¢å \n\nåå ï¼jacksonè¿è¡ååºååæ¶ä¼å°keyè¿è¡string#internï¼å¯¼è´æ«ææ¶ï¼gcrootåå¤§\n\nè§£å³ï¼ç¦ç¨jacksonçstring#intern\n\n\n# è°ä¼æ¡ä¾ï¼ycgæ¬¡æ°å¢å \n\nåå ï¼-xxï¼maxgcpausemillisåæ°æ¶é´è®¾ç½®è¿å°ï¼å¯¼è´jvméä½å¹´è½»ä»£region\n\nè§£å³ï¼\n\n 1. è°å¤§-xxï¼maxgcpausemilliså¼\n 2. å°å¹´è½»ä»£regionå¤§å°è®¾ç½®ä¸ºåºå®å¼\n\nè°ä¼æ¡ä¾ï¼",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"JVM å¸¸ç¨çè°ä¼å·¥å·",frontmatter:{title:"JVM å¸¸ç¨çè°ä¼å·¥å·",date:"2023-10-23T23:55:07.000Z",permalink:"/pages/2cdbc6/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/03.Java/05.JVM/04.JVM%20%E5%B8%B8%E7%94%A8%E7%9A%84%E8%B0%83%E4%BC%98%E5%B7%A5%E5%85%B7.html",relativePath:"01.Java ç¥è¯ä½ç³»/03.Java/05.JVM/04.JVM å¸¸ç¨çè°ä¼å·¥å·.md",key:"v-5c1cca71",path:"/pages/2cdbc6/",headers:[{level:1,title:"JDKå·¥å·å",slug:"jdkå·¥å·å",normalizedTitle:"jdkå·¥å·å",charIndex:2},{level:2,title:"jps",slug:"jps",normalizedTitle:"jps",charIndex:13},{level:2,title:"jstat",slug:"jstat",normalizedTitle:"jstat",charIndex:225},{level:2,title:"jinfo",slug:"jinfo",normalizedTitle:"jinfo",charIndex:1026},{level:2,title:"jmap",slug:"jmap",normalizedTitle:"jmap",charIndex:1251},{level:1,title:"VisualVMå·¥å·",slug:"visualvmå·¥å·",normalizedTitle:"visualvmå·¥å·",charIndex:1876},{level:1,title:"MemoryAnalyzerå·¥å·",slug:"memoryanalyzerå·¥å·",normalizedTitle:"memoryanalyzerå·¥å·",charIndex:2341},{level:1,title:"ç¬¬ä¸æ¹ GCEasy",slug:"ç¬¬ä¸æ¹-gceasy",normalizedTitle:"ç¬¬ä¸æ¹ gceasy",charIndex:2552}],headersStr:"JDKå·¥å·å jps jstat jinfo jmap VisualVMå·¥å· MemoryAnalyzerå·¥å· ç¬¬ä¸æ¹ GCEasy",content:"# JDKå·¥å·å\n\n\n# jps\n\njps:Java Virtual Machine Process Status Tool\n\næ¥çJavaè¿ç¨ ï¼ç¸å½äºLinuxä¸çpså½ä»¤ï¼åªä¸è¿å®åªååºJavaè¿ç¨ã\n\njps ï¼ååºJavaç¨åºè¿ç¨IDåMainå½æ°åç§°\njps -q ï¼åªè¾åºè¿ç¨ID\njps -m ï¼è¾åºä¼ éç»Javaè¿ç¨ï¼ä¸»å½æ°ï¼çåæ°\njps -l ï¼è¾åºä¸»å½æ°çå®æ´è·¯å¾\njps -v ï¼æ¾ç¤ºä¼ éç»Javaèæçåæ°\n\n\n\n\n\n# jstat\n\njstat:JVM Statistics Monitoring Tool\n\njstatå¯ä»¥æ¥çJavaç¨åºè¿è¡æ¶ç¸å³ä¿¡æ¯ï¼å¯ä»¥éè¿å®æ¥çå ä¿¡æ¯çç¸å³æåµ\n\njstat -<options> [-t] [-h<lines>] <vmid> [<interval> [<count>]]\n\n\noptionsï¼ç±ä»¥ä¸å¼ææ\n-classï¼æ¾ç¤ºClassLoaderçç¸å³ä¿¡æ¯\n-compilerï¼æ¾ç¤ºJITç¼è¯çç¸å³ä¿¡æ¯\n-gcï¼æ¾ç¤ºä¸GCç¸å³ä¿¡æ¯\n-gccapacityï¼æ¾ç¤ºåä¸ªä»£çå®¹éåä½¿ç¨æåµ\n-gccauseï¼æ¾ç¤ºåå¾æ¶éç¸å³ä¿¡æ¯ï¼å-gcutilï¼ï¼åæ¶æ¾ç¤ºæåä¸æ¬¡æå½åæ­£å¨åççåå¾æ¶éçè¯±ååå \n-gcnewï¼æ¾ç¤ºæ°çä»£ä¿¡æ¯\n-gcnewcapacityï¼æ¾ç¤ºæ°çä»£å¤§å°åä½¿ç¨æåµ\n-gcoldï¼æ¾ç¤ºèå¹´ä»£ä¿¡æ¯\n-gcoldcapacityï¼æ¾ç¤ºèå¹´ä»£å¤§å°\n-gcpermcapacityï¼æ¾ç¤ºæ°¸ä¹ä»£å¤§å°\n-gcutilï¼æ¾ç¤ºåå¾æ¶éä¿¡æ¯\n\n\nç¤ºä¾ï¼\n\njstat -gcutil pid 5s 5\n# 5sæ¯é 5 ç§éæ ·ä¸æ¬¡\n# 5éæ ·äºæ¬¡\n\n\n\n\nS0  å¹´è½»ä»£ä¸­ç¬¬ä¸ä¸ªsurvivorï¼å¹¸å­åºï¼å·²ä½¿ç¨çå å½åå®¹éç¾åæ¯\nS1  å¹´è½»ä»£ä¸­ç¬¬äºä¸ªsurvivorï¼å¹¸å­åºï¼å·²ä½¿ç¨çå å½åå®¹éç¾åæ¯\nE   å¹´è½»ä»£ä¸­Edenï¼ä¼ç¸å­ï¼å·²ä½¿ç¨çå å½åå®¹éç¾åæ¯\nO   oldä»£å·²ä½¿ç¨çå å½åå®¹éç¾åæ¯\nM   metaspaceå·²ä½¿ç¨çå å½åå®¹éç¾åæ¯\nCCS åç¼©ä½¿ç¨æ¯ä¾\nYGC ä»åºç¨ç¨åºå¯å¨å°éæ ·æ¶å¹´è½»ä»£ä¸­gcæ¬¡æ°\nYGCT ä»åºç¨ç¨åºå¯å¨å°éæ ·æ¶å¹´è½»ä»£ä¸­gcæç¨æ¶é´(s)\nFGC ä»åºç¨ç¨åºå¯å¨å°éæ ·æ¶oldä»£(å¨gc)gcæ¬¡æ°\nFGCT ä»åºç¨ç¨åºå¯å¨å°éæ ·æ¶oldä»£(å¨gc)gcæç¨æ¶é´(s)\nGCT ä»åºç¨ç¨åºå¯å¨å°éæ ·æ¶gcç¨çæ»æ¶é´(s)\n\n\n\n# jinfo\n\njinfoï¼Java Configuration Info\n\njinfoå¯ä»¥ç¨æ¥æ¥çæ­£å¨è¿è¡çjavaç¨åºçæ©å±åæ°ï¼çè³æ¯æè¿è¡æ¶ï¼ä¿®æ¹é¨ååæ°\n\njinfo [option] <pid>\n\n\n-flags æå°èææº VM åæ°\n-flag <name> æå°æå®èææº VM åæ°\n-flag [+|-]<name> æå¼æå³é­èææºåæ°\n-flag <name>=<value> è®¾ç½®æå®èææºåæ°çå¼\n\n\nç¤ºä¾ï¼\n\n\n\n\n# jmap\n\njmap:Memory Map\n\njmapç¨æ¥æ¥çå åå­ä½¿ç¨ç¶åµï¼ä¸è¬ç»åjhatä½¿ç¨ã\n\nåæ°ï¼\n\noptionï¼ éé¡¹åæ°ã\npidï¼ éè¦æå°éç½®ä¿¡æ¯çè¿ç¨IDã\nexecutableï¼ äº§çæ ¸å¿dumpçJavaå¯æ§è¡æä»¶ã\ncoreï¼ éè¦æå°éç½®ä¿¡æ¯çæ ¸å¿æä»¶ã\nserver-idï¼ å¯éçå¯ä¸idï¼å¦æç¸åçè¿ç¨ä¸»æºä¸è¿è¡äºå¤å°è°è¯æå¡å¨ï¼ç¨æ­¤éé¡¹åæ°æ è¯æå¡å¨ã\nremote server IP or hostname è¿ç¨è°è¯æå¡å¨çIPå°åæä¸»æºåã\n\noption\nno optionï¼ æ¥çè¿ç¨çåå­æ åä¿¡æ¯,ç±»ä¼¼ Solaris pmap å½ä»¤ã\nheapï¼ æ¾ç¤ºJavaå è¯¦ç»ä¿¡æ¯\nhisto[:live]ï¼ æ¾ç¤ºå ä¸­å¯¹è±¡çç»è®¡ä¿¡æ¯\nclstatsï¼æå°ç±»å è½½å¨ä¿¡æ¯\nfinalizerinfoï¼ æ¾ç¤ºå¨F-Queueéåç­å¾Finalizerçº¿ç¨æ§è¡finalizeræ¹æ³çå¯¹è±¡\n\ndump:<dump-options>ï¼çæå è½¬å¨å¿«ç§\nFï¼ å½-dumpæ²¡æååºæ¶ï¼ä½¿ç¨-dumpæè-histoåæ°. å¨è¿ä¸ªæ¨¡å¼ä¸,liveå­åæ°æ æ.\nhelpï¼æå°å¸®å©ä¿¡æ¯\nJ<flag>ï¼æå®ä¼ éç»è¿è¡jmapçJVMçåæ°\n\n\n\nç¤ºä¾ï¼heap\n\nå½ä»¤ï¼jmap -heap pid\n\næè¿°ï¼æ¾ç¤ºJavaå è¯¦ç»ä¿¡æ¯\n\næå°ä¸ä¸ªå çæè¦ä¿¡æ¯ï¼åæ¬ä½¿ç¨çGCç®æ³ãå éç½®ä¿¡æ¯åååå­åºååå­ä½¿ç¨ä¿¡æ¯\n\n\n\n\n# VisualVMå·¥å·\n\nå¼åå¤§å Java åºç¨ç¨åºçè¿ç¨ä¸­é¾åéå°åå­æ³é²ãæ§è½ç¶é¢ç­é®é¢ï¼æ¯å¦æä»¶ãç½ç»ãæ°æ®åºçè¿æ¥æªéæ¾ï¼æªä¼åçç®æ³ç­ã\n\néçåºç¨ç¨åºçæç»­è¿è¡ï¼å¯è½ä¼é ææ´ä¸ªç³»ç»è¿è¡æçä¸éï¼ä¸¥éçåä¼é æç³»ç»å´©æºãä¸ºäºæ¾åºç¨åºä¸­éèçè¿äºé®é¢ï¼å¨é¡¹ç®å¼ååæå¾å¾ä¼ä½¿ç¨æ§è½åæå·¥å·æ¥å¯¹åºç¨ç¨åºçæ§è½è¿è¡åæåä¼åã\n\nVisualVM æ¯ä¸æ¬¾åè´¹çæ§è½åæå·¥å·ãåæ¶ï¼å®è½èªå¨éæ©æ´å¿«æ´è½»éçº§çææ¯å°½éåå°æ§è½åæå¯¹åºç¨ç¨åºé æçå½±åï¼æé«æ§è½åæçç²¾åº¦ã\n\nä¸è¬æ¥è¯´ï¼jdké½ä¼èªå¸¦è¯¥å·¥å·ï¼å·ä½çè·¯å¾ï¼ä¸ºå®è£çjdkè·¯å¾ä¸é¢ã\n\n\n\n\n\nç´æ¥å¯ä»¥çæ§å°javaè¿ç¨ï¼åå»æå¼éè¦çæ§çjavaè¿ç¨å³å¯ã\n\nä½¿ç¨ visual gcæä»¶åæGC\n\nå®è£ visual gcåèï¼https://www.cnblogs.com/seamy/p/15649609.html\n\nvisual gc ä½¿ç¨ä»ç»åèï¼https://www.cnblogs.com/reycg-blog/p/7805075.html\n\n\n# MemoryAnalyzerå·¥å·\n\nMemory Analyzer (Eclipse MAT)æ¯ä¸ä¸ªè·¨å¹³å°çå¼æºå·¥å·ï¼æ¨ä¸ä»å¯ä»¥ç¨å®æ¥åæåå­é®é¢ï¼ä¹å¯ä»¥ç¨æ¥çæ§æ´ä¸ª Java åºç¨ç¨åºçç¶æåè¡ä¸ºãéè¿è¯»ååºç¨ç¨åºè¿è¡æ¶ç± Java è¿è¡æ¶ç¯å¢çæçè½¬å¨æä»¶å¿«ç§ï¼Memory Analyzer ä½¿æ¨è½å¤åæé£äºè°è¯ä»£ç å¯è½æ æ³åç°çå¤æé®é¢ã\n\nå¯ä»¥åææä»¬çheap dumpæä»¶ï¼å¿«éæ¾å°åå­æ³æ¼çå°æ¹ã\n\n\n# ç¬¬ä¸æ¹ GCEasy\n\n> gceasy.io/\n\nä¸çé¦åéç¨æºå¨å­¦ä¹ ç®æ³è§£å³GCæ¥å¿åæé®é¢ï¼GCeasyåç½®æºå¨æºè½å¯ä»¥èªå¨æ£æµJVMåAndroid GCæ¥å¿ä¸­çé®é¢ï¼å¹¶æ¨èè§£å³æ¹æ¡ã\n\nGCæ¥å¿åææ¯åè´¹çï¼ Machine Learning æ¶è´¹\n\n * å ç§åè§£å³GCååå­é®é¢\n * JVMå ä¼åå»ºè®®\n * æºå¨å­¦ä¹ ç®æ³",normalizedContent:"# jdkå·¥å·å\n\n\n# jps\n\njps:java virtual machine process status tool\n\næ¥çjavaè¿ç¨ ï¼ç¸å½äºlinuxä¸çpså½ä»¤ï¼åªä¸è¿å®åªååºjavaè¿ç¨ã\n\njps ï¼ååºjavaç¨åºè¿ç¨idåmainå½æ°åç§°\njps -q ï¼åªè¾åºè¿ç¨id\njps -m ï¼è¾åºä¼ éç»javaè¿ç¨ï¼ä¸»å½æ°ï¼çåæ°\njps -l ï¼è¾åºä¸»å½æ°çå®æ´è·¯å¾\njps -v ï¼æ¾ç¤ºä¼ éç»javaèæçåæ°\n\n\n\n\n\n# jstat\n\njstat:jvm statistics monitoring tool\n\njstatå¯ä»¥æ¥çjavaç¨åºè¿è¡æ¶ç¸å³ä¿¡æ¯ï¼å¯ä»¥éè¿å®æ¥çå ä¿¡æ¯çç¸å³æåµ\n\njstat -<options> [-t] [-h<lines>] <vmid> [<interval> [<count>]]\n\n\noptionsï¼ç±ä»¥ä¸å¼ææ\n-classï¼æ¾ç¤ºclassloaderçç¸å³ä¿¡æ¯\n-compilerï¼æ¾ç¤ºjitç¼è¯çç¸å³ä¿¡æ¯\n-gcï¼æ¾ç¤ºä¸gcç¸å³ä¿¡æ¯\n-gccapacityï¼æ¾ç¤ºåä¸ªä»£çå®¹éåä½¿ç¨æåµ\n-gccauseï¼æ¾ç¤ºåå¾æ¶éç¸å³ä¿¡æ¯ï¼å-gcutilï¼ï¼åæ¶æ¾ç¤ºæåä¸æ¬¡æå½åæ­£å¨åççåå¾æ¶éçè¯±ååå \n-gcnewï¼æ¾ç¤ºæ°çä»£ä¿¡æ¯\n-gcnewcapacityï¼æ¾ç¤ºæ°çä»£å¤§å°åä½¿ç¨æåµ\n-gcoldï¼æ¾ç¤ºèå¹´ä»£ä¿¡æ¯\n-gcoldcapacityï¼æ¾ç¤ºèå¹´ä»£å¤§å°\n-gcpermcapacityï¼æ¾ç¤ºæ°¸ä¹ä»£å¤§å°\n-gcutilï¼æ¾ç¤ºåå¾æ¶éä¿¡æ¯\n\n\nç¤ºä¾ï¼\n\njstat -gcutil pid 5s 5\n# 5sæ¯é 5 ç§éæ ·ä¸æ¬¡\n# 5éæ ·äºæ¬¡\n\n\n\n\ns0  å¹´è½»ä»£ä¸­ç¬¬ä¸ä¸ªsurvivorï¼å¹¸å­åºï¼å·²ä½¿ç¨çå å½åå®¹éç¾åæ¯\ns1  å¹´è½»ä»£ä¸­ç¬¬äºä¸ªsurvivorï¼å¹¸å­åºï¼å·²ä½¿ç¨çå å½åå®¹éç¾åæ¯\ne   å¹´è½»ä»£ä¸­edenï¼ä¼ç¸å­ï¼å·²ä½¿ç¨çå å½åå®¹éç¾åæ¯\no   oldä»£å·²ä½¿ç¨çå å½åå®¹éç¾åæ¯\nm   metaspaceå·²ä½¿ç¨çå å½åå®¹éç¾åæ¯\nccs åç¼©ä½¿ç¨æ¯ä¾\nygc ä»åºç¨ç¨åºå¯å¨å°éæ ·æ¶å¹´è½»ä»£ä¸­gcæ¬¡æ°\nygct ä»åºç¨ç¨åºå¯å¨å°éæ ·æ¶å¹´è½»ä»£ä¸­gcæç¨æ¶é´(s)\nfgc ä»åºç¨ç¨åºå¯å¨å°éæ ·æ¶oldä»£(å¨gc)gcæ¬¡æ°\nfgct ä»åºç¨ç¨åºå¯å¨å°éæ ·æ¶oldä»£(å¨gc)gcæç¨æ¶é´(s)\ngct ä»åºç¨ç¨åºå¯å¨å°éæ ·æ¶gcç¨çæ»æ¶é´(s)\n\n\n\n# jinfo\n\njinfoï¼java configuration info\n\njinfoå¯ä»¥ç¨æ¥æ¥çæ­£å¨è¿è¡çjavaç¨åºçæ©å±åæ°ï¼çè³æ¯æè¿è¡æ¶ï¼ä¿®æ¹é¨ååæ°\n\njinfo [option] <pid>\n\n\n-flags æå°èææº vm åæ°\n-flag <name> æå°æå®èææº vm åæ°\n-flag [+|-]<name> æå¼æå³é­èææºåæ°\n-flag <name>=<value> è®¾ç½®æå®èææºåæ°çå¼\n\n\nç¤ºä¾ï¼\n\n\n\n\n# jmap\n\njmap:memory map\n\njmapç¨æ¥æ¥çå åå­ä½¿ç¨ç¶åµï¼ä¸è¬ç»åjhatä½¿ç¨ã\n\nåæ°ï¼\n\noptionï¼ éé¡¹åæ°ã\npidï¼ éè¦æå°éç½®ä¿¡æ¯çè¿ç¨idã\nexecutableï¼ äº§çæ ¸å¿dumpçjavaå¯æ§è¡æä»¶ã\ncoreï¼ éè¦æå°éç½®ä¿¡æ¯çæ ¸å¿æä»¶ã\nserver-idï¼ å¯éçå¯ä¸idï¼å¦æç¸åçè¿ç¨ä¸»æºä¸è¿è¡äºå¤å°è°è¯æå¡å¨ï¼ç¨æ­¤éé¡¹åæ°æ è¯æå¡å¨ã\nremote server ip or hostname è¿ç¨è°è¯æå¡å¨çipå°åæä¸»æºåã\n\noption\nno optionï¼ æ¥çè¿ç¨çåå­æ åä¿¡æ¯,ç±»ä¼¼ solaris pmap å½ä»¤ã\nheapï¼ æ¾ç¤ºjavaå è¯¦ç»ä¿¡æ¯\nhisto[:live]ï¼ æ¾ç¤ºå ä¸­å¯¹è±¡çç»è®¡ä¿¡æ¯\nclstatsï¼æå°ç±»å è½½å¨ä¿¡æ¯\nfinalizerinfoï¼ æ¾ç¤ºå¨f-queueéåç­å¾finalizerçº¿ç¨æ§è¡finalizeræ¹æ³çå¯¹è±¡\n\ndump:<dump-options>ï¼çæå è½¬å¨å¿«ç§\nfï¼ å½-dumpæ²¡æååºæ¶ï¼ä½¿ç¨-dumpæè-histoåæ°. å¨è¿ä¸ªæ¨¡å¼ä¸,liveå­åæ°æ æ.\nhelpï¼æå°å¸®å©ä¿¡æ¯\nj<flag>ï¼æå®ä¼ éç»è¿è¡jmapçjvmçåæ°\n\n\n\nç¤ºä¾ï¼heap\n\nå½ä»¤ï¼jmap -heap pid\n\næè¿°ï¼æ¾ç¤ºjavaå è¯¦ç»ä¿¡æ¯\n\næå°ä¸ä¸ªå çæè¦ä¿¡æ¯ï¼åæ¬ä½¿ç¨çgcç®æ³ãå éç½®ä¿¡æ¯åååå­åºååå­ä½¿ç¨ä¿¡æ¯\n\n\n\n\n# visualvmå·¥å·\n\nå¼åå¤§å java åºç¨ç¨åºçè¿ç¨ä¸­é¾åéå°åå­æ³é²ãæ§è½ç¶é¢ç­é®é¢ï¼æ¯å¦æä»¶ãç½ç»ãæ°æ®åºçè¿æ¥æªéæ¾ï¼æªä¼åçç®æ³ç­ã\n\néçåºç¨ç¨åºçæç»­è¿è¡ï¼å¯è½ä¼é ææ´ä¸ªç³»ç»è¿è¡æçä¸éï¼ä¸¥éçåä¼é æç³»ç»å´©æºãä¸ºäºæ¾åºç¨åºä¸­éèçè¿äºé®é¢ï¼å¨é¡¹ç®å¼ååæå¾å¾ä¼ä½¿ç¨æ§è½åæå·¥å·æ¥å¯¹åºç¨ç¨åºçæ§è½è¿è¡åæåä¼åã\n\nvisualvm æ¯ä¸æ¬¾åè´¹çæ§è½åæå·¥å·ãåæ¶ï¼å®è½èªå¨éæ©æ´å¿«æ´è½»éçº§çææ¯å°½éåå°æ§è½åæå¯¹åºç¨ç¨åºé æçå½±åï¼æé«æ§è½åæçç²¾åº¦ã\n\nä¸è¬æ¥è¯´ï¼jdké½ä¼èªå¸¦è¯¥å·¥å·ï¼å·ä½çè·¯å¾ï¼ä¸ºå®è£çjdkè·¯å¾ä¸é¢ã\n\n\n\n\n\nç´æ¥å¯ä»¥çæ§å°javaè¿ç¨ï¼åå»æå¼éè¦çæ§çjavaè¿ç¨å³å¯ã\n\nä½¿ç¨ visual gcæä»¶åægc\n\nå®è£ visual gcåèï¼https://www.cnblogs.com/seamy/p/15649609.html\n\nvisual gc ä½¿ç¨ä»ç»åèï¼https://www.cnblogs.com/reycg-blog/p/7805075.html\n\n\n# memoryanalyzerå·¥å·\n\nmemory analyzer (eclipse mat)æ¯ä¸ä¸ªè·¨å¹³å°çå¼æºå·¥å·ï¼æ¨ä¸ä»å¯ä»¥ç¨å®æ¥åæåå­é®é¢ï¼ä¹å¯ä»¥ç¨æ¥çæ§æ´ä¸ª java åºç¨ç¨åºçç¶æåè¡ä¸ºãéè¿è¯»ååºç¨ç¨åºè¿è¡æ¶ç± java è¿è¡æ¶ç¯å¢çæçè½¬å¨æä»¶å¿«ç§ï¼memory analyzer ä½¿æ¨è½å¤åæé£äºè°è¯ä»£ç å¯è½æ æ³åç°çå¤æé®é¢ã\n\nå¯ä»¥åææä»¬çheap dumpæä»¶ï¼å¿«éæ¾å°åå­æ³æ¼çå°æ¹ã\n\n\n# ç¬¬ä¸æ¹ gceasy\n\n> gceasy.io/\n\nä¸çé¦åéç¨æºå¨å­¦ä¹ ç®æ³è§£å³gcæ¥å¿åæé®é¢ï¼gceasyåç½®æºå¨æºè½å¯ä»¥èªå¨æ£æµjvmåandroid gcæ¥å¿ä¸­çé®é¢ï¼å¹¶æ¨èè§£å³æ¹æ¡ã\n\ngcæ¥å¿åææ¯åè´¹çï¼ machine learning æ¶è´¹\n\n * å ç§åè§£å³gcååå­é®é¢\n * jvmå ä¼åå»ºè®®\n * æºå¨å­¦ä¹ ç®æ³",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"Spring Bean",frontmatter:{title:"Spring Bean",date:"2023-10-24T03:39:10.000Z",permalink:"/pages/47235b/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/04.%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/01.%E5%B8%B8%E7%94%A8%E6%A1%86%E6%9E%B6/01.Spring/01.Spring%20Bean.html",relativePath:"01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/01.å¸¸ç¨æ¡æ¶/01.Spring/01.Spring Bean.md",key:"v-17d22485",path:"/pages/47235b/",headers:[{level:1,title:"Spring beanç®ä»",slug:"spring-beanç®ä»",normalizedTitle:"spring beanç®ä»",charIndex:2},{level:1,title:"Spring Bean å¸¸ç¨æ³¨è§£",slug:"spring-bean-å¸¸ç¨æ³¨è§£",normalizedTitle:"spring bean å¸¸ç¨æ³¨è§£",charIndex:783},{level:1,title:"beançå½å¨æ",slug:"beançå½å¨æ",normalizedTitle:"beançå½å¨æ",charIndex:1664},{level:2,title:"å®è·µï¼@PostConstructå@PreDestroyæ¿ä»£æ¹æ¡",slug:"å®è·µ-postconstructå-predestroyæ¿ä»£æ¹æ¡",normalizedTitle:"å®è·µï¼@postconstructå@predestroyæ¿ä»£æ¹æ¡",charIndex:2528},{level:1,title:"reference",slug:"reference",normalizedTitle:"reference",charIndex:3507}],headersStr:"Spring beanç®ä» Spring Bean å¸¸ç¨æ³¨è§£ beançå½å¨æ å®è·µï¼@PostConstructå@PreDestroyæ¿ä»£æ¹æ¡ reference",content:'# Spring beanç®ä»\n\nbean æçæ¯é£äºè¢« IoC å®¹å¨æç®¡ççå¯¹è±¡ã\n\nSpring ä¸­ Bean çä½ç¨åéå¸¸æä¸é¢å ç§ï¼\n\n * singleton : å¯ä¸ bean å®ä¾ï¼Spring ä¸­ç bean é»è®¤é½æ¯åä¾çï¼å¯¹åä¾è®¾è®¡æ¨¡å¼çåºç¨ã\n * prototype : æ¯æ¬¡è¯·æ±é½ä¼åå»ºä¸ä¸ªæ°ç bean å®ä¾ãæ¯æ¬¡getBeané½ä¼éæ°åå»ºä¸ä¸ªbeanã\n * request : æ¯ä¸æ¬¡ HTTP è¯·æ±é½ä¼äº§çä¸ä¸ªæ°ç beanï¼è¯¥ bean ä»å¨å½å HTTP request åææã\n * session : æ¯ä¸æ¬¡æ¥èªæ° session ç HTTP è¯·æ±é½ä¼äº§çä¸ä¸ªæ°ç beanï¼è¯¥ bean ä»å¨å½å HTTP session åææã\n * global-session ï¼ å¨å± session ä½ç¨åï¼ä»ä»å¨åºäº portlet ç web åºç¨ä¸­æææä¹ï¼Spring5 å·²ç»æ²¡æäºãPortlet æ¯è½å¤çæè¯­ä¹ä»£ç (ä¾å¦ï¼HTML)çæ®µçå°å Java Web æä»¶ãå®ä»¬åºäº portlet å®¹å¨ï¼å¯ä»¥å servlet ä¸æ ·å¤ç HTTP è¯·æ±ãä½æ¯ï¼ä¸ servlet ä¸åï¼æ¯ä¸ª portlet é½æä¸åçä¼è¯\n\nå¤çº¿ç¨ä¸åä¾beançº¿ç¨é®é¢å¦ä½è§£å³ï¼\n\nåä¾ bean å­å¨çº¿ç¨é®é¢ï¼ä¸»è¦æ¯å ä¸ºå½å¤ä¸ªçº¿ç¨æä½åä¸ä¸ªå¯¹è±¡çæ¶åæ¯å­å¨èµæºç«äºçã\n\nå¸¸è§çæä¸¤ç§è§£å³åæ³ï¼\n\n 1. å¨ bean ä¸­å°½éé¿åå®ä¹å¯åçæååéã\n 2. å¨ç±»ä¸­å®ä¹ä¸ä¸ª ThreadLocal æååéï¼å°éè¦çå¯åæååéä¿å­å¨ ThreadLocal ä¸­ï¼æ¨èçä¸ç§æ¹å¼ï¼ã\n\nä¸è¿ï¼å¤§é¨å bean å®éé½æ¯æ ç¶æï¼æ²¡æå®ä¾åéï¼çï¼æ¯å¦ DaoãServiceï¼ï¼è¿ç§æåµä¸ï¼ bean æ¯çº¿ç¨å®å¨çã\n\n\n# Spring Bean å¸¸ç¨æ³¨è§£\n\nå°ä¸ä¸ªç±»å£°æä¸º bean çæ³¨è§£æåªäº?\n\næä»¬ä¸è¬ä½¿ç¨ @Autowired æ³¨è§£èªå¨è£é beanï¼è¦æ³æç±»æ è¯æå¯ç¨äº @Autowired æ³¨è§£èªå¨è£éç bean çç±»,éç¨ä»¥ä¸æ³¨è§£å¯å®ç°ï¼\n\n * @Component ï¼éç¨çæ³¨è§£ï¼å¯æ æ³¨ä»»æç±»ä¸º Spring ç»ä»¶ãå¦æä¸ä¸ª Bean ä¸ç¥éå±äºåªä¸ªå±ï¼å¯ä»¥ä½¿ç¨@Component æ³¨è§£æ æ³¨ã\n * @Repository : å¯¹åºæä¹å±å³ Dao å±ï¼ä¸»è¦ç¨äºæ°æ®åºç¸å³æä½ã\n * @Service : å¯¹åºæå¡å±ï¼ä¸»è¦æ¶åä¸äºå¤æçé»è¾ï¼éè¦ç¨å° Dao å±ã\n * @Controller : å¯¹åº Spring MVC æ§å¶å±ï¼ä¸»è¦ç¨æ·æ¥åç¨æ·è¯·æ±å¹¶è°ç¨ Service å±è¿åæ°æ®ç»åç«¯é¡µé¢ã\n\n@Component å @Bean çåºå«æ¯ä»ä¹ï¼\n\n@Component æ³¨è§£ä½ç¨äºç±»ï¼è@Beanæ³¨è§£ä½ç¨äºæ¹æ³ã\n\n@Componentéå¸¸æ¯éè¿ç±»è·¯å¾æ«ææ¥èªå¨ä¾¦æµä»¥åèªå¨è£éå° Spring å®¹å¨ä¸­ï¼æä»¬å¯ä»¥ä½¿ç¨ @ComponentScan æ³¨è§£å®ä¹è¦æ«æçè·¯å¾ä»ä¸­æ¾åºæ è¯äºéè¦è£éçç±»èªå¨è£éå° Spring ç bean å®¹å¨ä¸­ï¼ã@Bean æ³¨è§£éå¸¸æ¯æä»¬å¨æ æè¯¥æ³¨è§£çæ¹æ³ä¸­å®ä¹äº§çè¿ä¸ª bean,@Beanåè¯äº Spring è¿æ¯æä¸ªç±»çå®ä¾ï¼å½æéè¦ç¨å®çæ¶åè¿ç»æã\n\n@Bean æ³¨è§£æ¯ @Component æ³¨è§£çèªå®ä¹æ§æ´å¼ºï¼èä¸å¾å¤å°æ¹æä»¬åªè½éè¿ @Bean æ³¨è§£æ¥æ³¨å beanãæ¯å¦å½æä»¬å¼ç¨ç¬¬ä¸æ¹åºä¸­çç±»éè¦è£éå° Springå®¹å¨æ¶ï¼ååªè½éè¿ @Beanæ¥å®ç°ã\n\n@Beanæ³¨è§£ä½¿ç¨ç¤ºä¾ï¼\n\n@Configuration\npublic class AppConfig {\n    @Bean\n    public TransferService transferService() {\n        return new TransferServiceImpl();\n    }\n}\n\n\n\n# beançå½å¨æ\n\n * Bean å®¹å¨æ¾å°éç½®æä»¶ä¸­ Spring Bean çå®ä¹ã\n * Bean å®¹å¨å©ç¨ Java Reflection API åå»ºä¸ä¸ª Bean çå®ä¾ã\n * å¦ææ¶åå°ä¸äºå±æ§å¼ å©ç¨ set()æ¹æ³è®¾ç½®ä¸äºå±æ§å¼ã\n * å¦æ Bean å®ç°äº BeanNameAware æ¥å£ï¼è°ç¨ setBeanName()æ¹æ³ï¼ä¼ å¥ Bean çåå­ã\n * å¦æ Bean å®ç°äº BeanClassLoaderAware æ¥å£ï¼è°ç¨ setBeanClassLoader()æ¹æ³ï¼ä¼ å¥ ClassLoaderå¯¹è±¡çå®ä¾ã\n * å¦æ Bean å®ç°äº BeanFactoryAware æ¥å£ï¼è°ç¨ setBeanFactory()æ¹æ³ï¼ä¼ å¥ BeanFactoryå¯¹è±¡çå®ä¾ã\n * ä¸ä¸é¢çç±»ä¼¼ï¼å¦æå®ç°äºå¶ä» *.Awareæ¥å£ï¼å°±è°ç¨ç¸åºçæ¹æ³ã\n * å¦ææåå è½½è¿ä¸ª Bean ç Spring å®¹å¨ç¸å³ç BeanPostProcessor å¯¹è±¡ï¼æ§è¡postProcessBeforeInitialization() æ¹æ³\n * å¦æ Bean å®ç°äºInitializingBeanæ¥å£ï¼æ§è¡afterPropertiesSet()æ¹æ³ã\n * å¦æ Bean å¨éç½®æä»¶ä¸­çå®ä¹åå« init-method å±æ§ï¼æ§è¡æå®çæ¹æ³ã\n * å¦ææåå è½½è¿ä¸ª Bean ç Spring å®¹å¨ç¸å³ç BeanPostProcessor å¯¹è±¡ï¼æ§è¡postProcessAfterInitialization() æ¹æ³\n * å½è¦éæ¯ Bean çæ¶åï¼å¦æ Bean å®ç°äº DisposableBean æ¥å£ï¼æ§è¡ destroy() æ¹æ³ã\n * å½è¦éæ¯ Bean çæ¶åï¼å¦æ Bean å¨éç½®æä»¶ä¸­çå®ä¹åå« destroy-method å±æ§ï¼æ§è¡æå®çæ¹æ³ã\n\nå¾ç¤ºï¼\n\n\n\nä¸ä¹æ¯è¾ç±»ä¼¼çä¸­æçæ¬:\n\n\n\n@PostConstructå@PreDestroy\n\n\n# å®è·µï¼@PostConstructå@PreDestroyæ¿ä»£æ¹æ¡\n\n@PostConstructå@PreDestroy æ¯ä¸¤ä¸ªä½ç¨äºServletçå½å¨æçæ³¨è§£ã\n\n 1. @PostConstruct : ç¨æ¥ä¿®é¥°æ¹æ³ï¼æ è®°å¨é¡¹ç®å¯å¨çæ¶åæ§è¡è¿ä¸ªæ¹æ³,ä¸è¬ç¨æ¥æ§è¡æäºåå§åæä½æ¯å¦å¨å±éç½®ãPostConstruct æ³¨è§£çæ¹æ³ä¼å¨æé å½æ°ä¹åæ§è¡,Servlet çinit()æ¹æ³ä¹åæ§è¡ã\n 2. @PreDestroy : å½ bean è¢« Web å®¹å¨çæ¶åè¢«è°ç¨ï¼ä¸è¬ç¨æ¥éæ¾ bean æææçèµæºããPostConstruct æ³¨è§£çæ¹æ³ä¼å¨Servlet çdestroy()æ¹æ³ä¹åæ§è¡ã\n\nä½¿ç¨Springæä¾çInitializingBeanåDisposableBeanæ¥å£æ¿ä»£@PostConstructå@PreDestroyã\n\npackage cn.javaguide.config;\n\nimport org.springframework.beans.factory.DisposableBean;\nimport org.springframework.beans.factory.InitializingBean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class MyConfiguration2 implements InitializingBean, DisposableBean {\n    public MyConfiguration2() {\n        System.out.println("æé æ¹æ³è¢«è°ç¨");\n    }\n\n    @Override\n    public void afterPropertiesSet() {\n        System.out.println("afterPropertiesSetæ¹æ³è¢«è°ç¨");\n    }\n\n    @Override\n    public void destroy() {\n        System.out.println("destroyæ¹æ³è¢«è°ç¨");\n    }\n}\n\n\n\n\n\n# reference\n\n * Springå¸¸è§é®é¢æ»ç» | JavaGuide\n\n * Spring Beanççå½å¨æï¼éå¸¸è¯¦ç»ï¼ - Chandler Qian - åå®¢å­\n\n * ä½ ä¼ç¨@PostConstructå@PreDestroyä¸ï¼Java9+ä¸­çæ¿ä»£æ¹æ¡ç¥éä¸ï¼-è¾è®¯äºå¼åèç¤¾åº-è¾è®¯äº',normalizedContent:'# spring beanç®ä»\n\nbean æçæ¯é£äºè¢« ioc å®¹å¨æç®¡ççå¯¹è±¡ã\n\nspring ä¸­ bean çä½ç¨åéå¸¸æä¸é¢å ç§ï¼\n\n * singleton : å¯ä¸ bean å®ä¾ï¼spring ä¸­ç bean é»è®¤é½æ¯åä¾çï¼å¯¹åä¾è®¾è®¡æ¨¡å¼çåºç¨ã\n * prototype : æ¯æ¬¡è¯·æ±é½ä¼åå»ºä¸ä¸ªæ°ç bean å®ä¾ãæ¯æ¬¡getbeané½ä¼éæ°åå»ºä¸ä¸ªbeanã\n * request : æ¯ä¸æ¬¡ http è¯·æ±é½ä¼äº§çä¸ä¸ªæ°ç beanï¼è¯¥ bean ä»å¨å½å http request åææã\n * session : æ¯ä¸æ¬¡æ¥èªæ° session ç http è¯·æ±é½ä¼äº§çä¸ä¸ªæ°ç beanï¼è¯¥ bean ä»å¨å½å http session åææã\n * global-session ï¼ å¨å± session ä½ç¨åï¼ä»ä»å¨åºäº portlet ç web åºç¨ä¸­æææä¹ï¼spring5 å·²ç»æ²¡æäºãportlet æ¯è½å¤çæè¯­ä¹ä»£ç (ä¾å¦ï¼html)çæ®µçå°å java web æä»¶ãå®ä»¬åºäº portlet å®¹å¨ï¼å¯ä»¥å servlet ä¸æ ·å¤ç http è¯·æ±ãä½æ¯ï¼ä¸ servlet ä¸åï¼æ¯ä¸ª portlet é½æä¸åçä¼è¯\n\nå¤çº¿ç¨ä¸åä¾beançº¿ç¨é®é¢å¦ä½è§£å³ï¼\n\nåä¾ bean å­å¨çº¿ç¨é®é¢ï¼ä¸»è¦æ¯å ä¸ºå½å¤ä¸ªçº¿ç¨æä½åä¸ä¸ªå¯¹è±¡çæ¶åæ¯å­å¨èµæºç«äºçã\n\nå¸¸è§çæä¸¤ç§è§£å³åæ³ï¼\n\n 1. å¨ bean ä¸­å°½éé¿åå®ä¹å¯åçæååéã\n 2. å¨ç±»ä¸­å®ä¹ä¸ä¸ª threadlocal æååéï¼å°éè¦çå¯åæååéä¿å­å¨ threadlocal ä¸­ï¼æ¨èçä¸ç§æ¹å¼ï¼ã\n\nä¸è¿ï¼å¤§é¨å bean å®éé½æ¯æ ç¶æï¼æ²¡æå®ä¾åéï¼çï¼æ¯å¦ daoãserviceï¼ï¼è¿ç§æåµä¸ï¼ bean æ¯çº¿ç¨å®å¨çã\n\n\n# spring bean å¸¸ç¨æ³¨è§£\n\nå°ä¸ä¸ªç±»å£°æä¸º bean çæ³¨è§£æåªäº?\n\næä»¬ä¸è¬ä½¿ç¨ @autowired æ³¨è§£èªå¨è£é beanï¼è¦æ³æç±»æ è¯æå¯ç¨äº @autowired æ³¨è§£èªå¨è£éç bean çç±»,éç¨ä»¥ä¸æ³¨è§£å¯å®ç°ï¼\n\n * @component ï¼éç¨çæ³¨è§£ï¼å¯æ æ³¨ä»»æç±»ä¸º spring ç»ä»¶ãå¦æä¸ä¸ª bean ä¸ç¥éå±äºåªä¸ªå±ï¼å¯ä»¥ä½¿ç¨@component æ³¨è§£æ æ³¨ã\n * @repository : å¯¹åºæä¹å±å³ dao å±ï¼ä¸»è¦ç¨äºæ°æ®åºç¸å³æä½ã\n * @service : å¯¹åºæå¡å±ï¼ä¸»è¦æ¶åä¸äºå¤æçé»è¾ï¼éè¦ç¨å° dao å±ã\n * @controller : å¯¹åº spring mvc æ§å¶å±ï¼ä¸»è¦ç¨æ·æ¥åç¨æ·è¯·æ±å¹¶è°ç¨ service å±è¿åæ°æ®ç»åç«¯é¡µé¢ã\n\n@component å @bean çåºå«æ¯ä»ä¹ï¼\n\n@component æ³¨è§£ä½ç¨äºç±»ï¼è@beanæ³¨è§£ä½ç¨äºæ¹æ³ã\n\n@componentéå¸¸æ¯éè¿ç±»è·¯å¾æ«ææ¥èªå¨ä¾¦æµä»¥åèªå¨è£éå° spring å®¹å¨ä¸­ï¼æä»¬å¯ä»¥ä½¿ç¨ @componentscan æ³¨è§£å®ä¹è¦æ«æçè·¯å¾ä»ä¸­æ¾åºæ è¯äºéè¦è£éçç±»èªå¨è£éå° spring ç bean å®¹å¨ä¸­ï¼ã@bean æ³¨è§£éå¸¸æ¯æä»¬å¨æ æè¯¥æ³¨è§£çæ¹æ³ä¸­å®ä¹äº§çè¿ä¸ª bean,@beanåè¯äº spring è¿æ¯æä¸ªç±»çå®ä¾ï¼å½æéè¦ç¨å®çæ¶åè¿ç»æã\n\n@bean æ³¨è§£æ¯ @component æ³¨è§£çèªå®ä¹æ§æ´å¼ºï¼èä¸å¾å¤å°æ¹æä»¬åªè½éè¿ @bean æ³¨è§£æ¥æ³¨å beanãæ¯å¦å½æä»¬å¼ç¨ç¬¬ä¸æ¹åºä¸­çç±»éè¦è£éå° springå®¹å¨æ¶ï¼ååªè½éè¿ @beanæ¥å®ç°ã\n\n@beanæ³¨è§£ä½¿ç¨ç¤ºä¾ï¼\n\n@configuration\npublic class appconfig {\n    @bean\n    public transferservice transferservice() {\n        return new transferserviceimpl();\n    }\n}\n\n\n\n# beançå½å¨æ\n\n * bean å®¹å¨æ¾å°éç½®æä»¶ä¸­ spring bean çå®ä¹ã\n * bean å®¹å¨å©ç¨ java reflection api åå»ºä¸ä¸ª bean çå®ä¾ã\n * å¦ææ¶åå°ä¸äºå±æ§å¼ å©ç¨ set()æ¹æ³è®¾ç½®ä¸äºå±æ§å¼ã\n * å¦æ bean å®ç°äº beannameaware æ¥å£ï¼è°ç¨ setbeanname()æ¹æ³ï¼ä¼ å¥ bean çåå­ã\n * å¦æ bean å®ç°äº beanclassloaderaware æ¥å£ï¼è°ç¨ setbeanclassloader()æ¹æ³ï¼ä¼ å¥ classloaderå¯¹è±¡çå®ä¾ã\n * å¦æ bean å®ç°äº beanfactoryaware æ¥å£ï¼è°ç¨ setbeanfactory()æ¹æ³ï¼ä¼ å¥ beanfactoryå¯¹è±¡çå®ä¾ã\n * ä¸ä¸é¢çç±»ä¼¼ï¼å¦æå®ç°äºå¶ä» *.awareæ¥å£ï¼å°±è°ç¨ç¸åºçæ¹æ³ã\n * å¦ææåå è½½è¿ä¸ª bean ç spring å®¹å¨ç¸å³ç beanpostprocessor å¯¹è±¡ï¼æ§è¡postprocessbeforeinitialization() æ¹æ³\n * å¦æ bean å®ç°äºinitializingbeanæ¥å£ï¼æ§è¡afterpropertiesset()æ¹æ³ã\n * å¦æ bean å¨éç½®æä»¶ä¸­çå®ä¹åå« init-method å±æ§ï¼æ§è¡æå®çæ¹æ³ã\n * å¦ææåå è½½è¿ä¸ª bean ç spring å®¹å¨ç¸å³ç beanpostprocessor å¯¹è±¡ï¼æ§è¡postprocessafterinitialization() æ¹æ³\n * å½è¦éæ¯ bean çæ¶åï¼å¦æ bean å®ç°äº disposablebean æ¥å£ï¼æ§è¡ destroy() æ¹æ³ã\n * å½è¦éæ¯ bean çæ¶åï¼å¦æ bean å¨éç½®æä»¶ä¸­çå®ä¹åå« destroy-method å±æ§ï¼æ§è¡æå®çæ¹æ³ã\n\nå¾ç¤ºï¼\n\n\n\nä¸ä¹æ¯è¾ç±»ä¼¼çä¸­æçæ¬:\n\n\n\n@postconstructå@predestroy\n\n\n# å®è·µï¼@postconstructå@predestroyæ¿ä»£æ¹æ¡\n\n@postconstructå@predestroy æ¯ä¸¤ä¸ªä½ç¨äºservletçå½å¨æçæ³¨è§£ã\n\n 1. @postconstruct : ç¨æ¥ä¿®é¥°æ¹æ³ï¼æ è®°å¨é¡¹ç®å¯å¨çæ¶åæ§è¡è¿ä¸ªæ¹æ³,ä¸è¬ç¨æ¥æ§è¡æäºåå§åæä½æ¯å¦å¨å±éç½®ãpostconstruct æ³¨è§£çæ¹æ³ä¼å¨æé å½æ°ä¹åæ§è¡,servlet çinit()æ¹æ³ä¹åæ§è¡ã\n 2. @predestroy : å½ bean è¢« web å®¹å¨çæ¶åè¢«è°ç¨ï¼ä¸è¬ç¨æ¥éæ¾ bean æææçèµæºããpostconstruct æ³¨è§£çæ¹æ³ä¼å¨servlet çdestroy()æ¹æ³ä¹åæ§è¡ã\n\nä½¿ç¨springæä¾çinitializingbeanådisposablebeanæ¥å£æ¿ä»£@postconstructå@predestroyã\n\npackage cn.javaguide.config;\n\nimport org.springframework.beans.factory.disposablebean;\nimport org.springframework.beans.factory.initializingbean;\nimport org.springframework.context.annotation.configuration;\n\n@configuration\npublic class myconfiguration2 implements initializingbean, disposablebean {\n    public myconfiguration2() {\n        system.out.println("æé æ¹æ³è¢«è°ç¨");\n    }\n\n    @override\n    public void afterpropertiesset() {\n        system.out.println("afterpropertiessetæ¹æ³è¢«è°ç¨");\n    }\n\n    @override\n    public void destroy() {\n        system.out.println("destroyæ¹æ³è¢«è°ç¨");\n    }\n}\n\n\n\n\n\n# reference\n\n * springå¸¸è§é®é¢æ»ç» | javaguide\n\n * spring beanççå½å¨æï¼éå¸¸è¯¦ç»ï¼ - chandler qian - åå®¢å­\n\n * ä½ ä¼ç¨@postconstructå@predestroyä¸ï¼java9+ä¸­çæ¿ä»£æ¹æ¡ç¥éä¸ï¼-è¾è®¯äºå¼åèç¤¾åº-è¾è®¯äº',charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"Springäºå¡æ»ç»",frontmatter:{title:"Springäºå¡æ»ç»",date:"2023-10-24T03:39:10.000Z",permalink:"/pages/5fcbaa/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/04.%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/01.%E5%B8%B8%E7%94%A8%E6%A1%86%E6%9E%B6/01.Spring/02.Spring%E4%BA%8B%E5%8A%A1%E6%80%BB%E7%BB%93.html",relativePath:"01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/01.å¸¸ç¨æ¡æ¶/01.Spring/02.Springäºå¡æ»ç».md",key:"v-1b7e4ff2",path:"/pages/5fcbaa/",headers:[{level:1,title:"Spring æ¯æä¸¤ç§æ¹å¼çäºå¡ç®¡ç",slug:"spring-æ¯æä¸¤ç§æ¹å¼çäºå¡ç®¡ç",normalizedTitle:"spring æ¯æä¸¤ç§æ¹å¼çäºå¡ç®¡ç",charIndex:2},{level:2,title:"ç¼ç¨å¼äºå¡ç®¡ç",slug:"ç¼ç¨å¼äºå¡ç®¡ç",normalizedTitle:"ç¼ç¨å¼äºå¡ç®¡ç",charIndex:25},{level:2,title:"å£°æå¼äºå¡ç®¡ç",slug:"å£°æå¼äºå¡ç®¡ç",normalizedTitle:"å£°æå¼äºå¡ç®¡ç",charIndex:1117},{level:1,title:"Spring äºå¡ç®¡çæ¥å£ä»ç»",slug:"spring-äºå¡ç®¡çæ¥å£ä»ç»",normalizedTitle:"spring äºå¡ç®¡çæ¥å£ä»ç»",charIndex:1391},{level:2,title:"PlatformTransactionManager:äºå¡ç®¡çæ¥å£",slug:"platformtransactionmanager-äºå¡ç®¡çæ¥å£",normalizedTitle:"platformtransactionmanager:äºå¡ç®¡çæ¥å£",charIndex:1844},{level:2,title:"TransactionDefinition:äºå¡å±æ§",slug:"transactiondefinition-äºå¡å±æ§",normalizedTitle:"transactiondefinition:äºå¡å±æ§",charIndex:2572},{level:2,title:"TransactionStatus:äºå¡ç¶æ",slug:"transactionstatus-äºå¡ç¶æ",normalizedTitle:"transactionstatus:äºå¡ç¶æ",charIndex:3765},{level:1,title:"@Transactional æ³¨è§£ä½¿ç¨è¯¦è§£",slug:"transactional-æ³¨è§£ä½¿ç¨è¯¦è§£",normalizedTitle:"@transactional æ³¨è§£ä½¿ç¨è¯¦è§£",charIndex:4189},{level:2,title:"@Transactional ä½ç¨èå´",slug:"transactional-ä½ç¨èå´",normalizedTitle:"@transactional ä½ç¨èå´",charIndex:4215},{level:2,title:"@Transactional å¸¸ç¨éç½®åæ°",slug:"transactional-å¸¸ç¨éç½®åæ°",normalizedTitle:"@transactional å¸¸ç¨éç½®åæ°",charIndex:4519},{level:3,title:"propagationå±æ§",slug:"propagationå±æ§",normalizedTitle:"propagationå±æ§",charIndex:5272},{level:3,title:"isolation å±æ§",slug:"isolation-å±æ§",normalizedTitle:"isolation å±æ§",charIndex:5814},{level:3,title:"timeout å±æ§",slug:"timeout-å±æ§",normalizedTitle:"timeout å±æ§",charIndex:6445},{level:3,title:"readOnly å±æ§",slug:"readonly-å±æ§",normalizedTitle:"readonly å±æ§",charIndex:6513},{level:3,title:"rollbackFor å±æ§",slug:"rollbackfor-å±æ§",normalizedTitle:"rollbackfor å±æ§",charIndex:6608},{level:3,title:"noRollbackForå±æ§",slug:"norollbackforå±æ§",normalizedTitle:"norollbackforå±æ§",charIndex:6710},{level:2,title:"@Transactional æ³¨è§£åç",slug:"transactional-æ³¨è§£åç",normalizedTitle:"@transactional æ³¨è§£åç",charIndex:6774},{level:2,title:"@Transactional  å¤±æçåºæ¯",slug:"transactional-å¤±æçåºæ¯",normalizedTitle:"@transactional  å¤±æçåºæ¯",charIndex:null},{level:3,title:"1.@Transactional åºç¨å¨é publicä¿®é¥°çæ¹æ³ä¸",slug:"_1-transactional-åºç¨å¨é-publicä¿®é¥°çæ¹æ³ä¸",normalizedTitle:"1.@transactional åºç¨å¨é publicä¿®é¥°çæ¹æ³ä¸",charIndex:8067},{level:3,title:"2.@Transactional æ³¨è§£å±æ§ propagation è®¾ç½®éè¯¯",slug:"_2-transactional-æ³¨è§£å±æ§-propagation-è®¾ç½®éè¯¯",normalizedTitle:"2.@transactional æ³¨è§£å±æ§ propagation è®¾ç½®éè¯¯",charIndex:8844},{level:3,title:"3.@Transactional  æ³¨è§£å±æ§ rollbackFor è®¾ç½®éè¯¯",slug:"_3-transactional-æ³¨è§£å±æ§-rollbackfor-è®¾ç½®éè¯¯",normalizedTitle:"3.@transactional  æ³¨è§£å±æ§ rollbackfor è®¾ç½®éè¯¯",charIndex:null},{level:3,title:"4.åä¸ä¸ªç±»ä¸­æ¹æ³è°ç¨ï¼å¯¼è´ @Transactional å¤±æ",slug:"_4-åä¸ä¸ªç±»ä¸­æ¹æ³è°ç¨-å¯¼è´-transactional-å¤±æ",normalizedTitle:"4.åä¸ä¸ªç±»ä¸­æ¹æ³è°ç¨ï¼å¯¼è´ @transactional å¤±æ",charIndex:9896},{level:3,title:"5.å¼å¸¸è¢«catchå¤çå¯¼è´ @Transactional å¤±æ",slug:"_5-å¼å¸¸è¢«catchå¤çå¯¼è´-transactional-å¤±æ",normalizedTitle:"5.å¼å¸¸è¢«catchå¤çå¯¼è´ @transactional å¤±æ",charIndex:10336},{level:3,title:"6.æ°æ®åºå¼æä¸æ¯æäºå¡",slug:"_6-æ°æ®åºå¼æä¸æ¯æäºå¡",normalizedTitle:"6.æ°æ®åºå¼æä¸æ¯æäºå¡",charIndex:11528}],headersStr:"Spring æ¯æä¸¤ç§æ¹å¼çäºå¡ç®¡ç ç¼ç¨å¼äºå¡ç®¡ç å£°æå¼äºå¡ç®¡ç Spring äºå¡ç®¡çæ¥å£ä»ç» PlatformTransactionManager:äºå¡ç®¡çæ¥å£ TransactionDefinition:äºå¡å±æ§ TransactionStatus:äºå¡ç¶æ @Transactional æ³¨è§£ä½¿ç¨è¯¦è§£ @Transactional ä½ç¨èå´ @Transactional å¸¸ç¨éç½®åæ° propagationå±æ§ isolation å±æ§ timeout å±æ§ readOnly å±æ§ rollbackFor å±æ§ noRollbackForå±æ§ @Transactional æ³¨è§£åç @Transactional  å¤±æçåºæ¯ 1.@Transactional åºç¨å¨é publicä¿®é¥°çæ¹æ³ä¸ 2.@Transactional æ³¨è§£å±æ§ propagation è®¾ç½®éè¯¯ 3.@Transactional  æ³¨è§£å±æ§ rollbackFor è®¾ç½®éè¯¯ 4.åä¸ä¸ªç±»ä¸­æ¹æ³è°ç¨ï¼å¯¼è´ @Transactional å¤±æ 5.å¼å¸¸è¢«catchå¤çå¯¼è´ @Transactional å¤±æ 6.æ°æ®åºå¼æä¸æ¯æäºå¡",content:'# Spring æ¯æä¸¤ç§æ¹å¼çäºå¡ç®¡ç\n\n\n# ç¼ç¨å¼äºå¡ç®¡ç\n\néè¿ TransactionTemplateæèTransactionManageræå¨ç®¡çäºå¡ï¼å®éåºç¨ä¸­å¾å°ä½¿ç¨ï¼ä½æ¯å¯¹äºä½ çè§£ Spring äºå¡ç®¡çåçæå¸®å©ã\n\nä½¿ç¨TransactionTemplate è¿è¡ç¼ç¨å¼äºå¡ç®¡ççç¤ºä¾ä»£ç å¦ä¸ï¼\n\n@Autowired\nprivate TransactionTemplate transactionTemplate;\npublic void testTransaction() {\n\n        transactionTemplate.execute(new TransactionCallbackWithoutResult() {\n            @Override\n            protected void doInTransactionWithoutResult(TransactionStatus transactionStatus) {\n\n                try {\n\n                    // ....  ä¸å¡ä»£ç \n                } catch (Exception e){\n                    //åæ»\n                    transactionStatus.setRollbackOnly();\n                }\n\n            }\n        });\n}\n\n\n\nä½¿ç¨ TransactionManager è¿è¡ç¼ç¨å¼äºå¡ç®¡ççç¤ºä¾ä»£ç å¦ä¸ï¼\n\n@Autowired\nprivate PlatformTransactionManager transactionManager;\n\npublic void testTransaction() {\n\n  TransactionStatus status = transactionManager.getTransaction(new DefaultTransactionDefinition());\n          try {\n               // ....  ä¸å¡ä»£ç \n              transactionManager.commit(status);\n          } catch (Exception e) {\n              transactionManager.rollback(status);\n          }\n}\n\n\n\n\n# å£°æå¼äºå¡ç®¡ç\n\næ¨èä½¿ç¨ï¼ä»£ç ä¾µå¥æ§æå°ï¼ï¼å®éæ¯éè¿ AOP å®ç°ï¼åºäº@Transactional çå¨æ³¨è§£æ¹å¼ä½¿ç¨æå¤ï¼ã\n\nä½¿ç¨ @Transactionalæ³¨è§£è¿è¡äºå¡ç®¡ççç¤ºä¾ä»£ç å¦ä¸ï¼\n\n@Transactional(propagation=propagation.PROPAGATION_REQUIRED)\npublic void aMethod {\n  //do something\n  B b = new B();\n  C c = new C();\n  b.bMethod();\n  c.cMethod();\n}\n\n\n\n\n# Spring äºå¡ç®¡çæ¥å£ä»ç»\n\nSpring æ¡æ¶ä¸­ï¼äºå¡ç®¡çç¸å³æéè¦ç 3 ä¸ªæ¥å£å¦ä¸ï¼\n\n * PlatformTransactionManagerï¼ ï¼å¹³å°ï¼äºå¡ç®¡çå¨ï¼Spring äºå¡ç­ç¥çæ ¸å¿ã\n\n * TransactionDefinitionï¼ äºå¡å®ä¹ä¿¡æ¯(äºå¡éç¦»çº§å«ãä¼ æ­è¡ä¸ºãè¶æ¶ãåªè¯»ãåæ»è§å)ã\n\n * TransactionStatusï¼ äºå¡è¿è¡ç¶æã\n\nå¯ä»¥æ PlatformTransactionManager æ¥å£å¯ä»¥è¢«çä½æ¯äºå¡ä¸å±çç®¡çèï¼è TransactionDefinition å TransactionStatus è¿ä¸¤ä¸ªæ¥å£å¯ä»¥çä½æ¯äºå¡çæè¿°ã\n\nPlatformTransactionManager ä¼æ ¹æ® TransactionDefinition çå®ä¹æ¯å¦äºå¡è¶æ¶æ¶é´ãéç¦»çº§å«ãä¼ æ­è¡ä¸ºç­æ¥è¿è¡äºå¡ç®¡ç ï¼è TransactionStatus æ¥å£åæä¾äºä¸äºæ¹æ³æ¥è·åäºå¡ç¸åºçç¶ææ¯å¦æ¯å¦æ°äºå¡ãæ¯å¦å¯ä»¥åæ»ç­ç­ã\n\n\n# PlatformTransactionManager:äºå¡ç®¡çæ¥å£\n\nSpring å¹¶ä¸ç´æ¥ç®¡çäºå¡ï¼èæ¯æä¾äºå¤ç§äºå¡ç®¡çå¨ ãSpring äºå¡ç®¡çå¨çæ¥å£æ¯ï¼ PlatformTransactionManager ã\n\néè¿è¿ä¸ªæ¥å£ï¼Spring ä¸ºåä¸ªå¹³å°å¦ JDBC(DataSourceTransactionManager)ãHibernate(HibernateTransactionManager)ãJPA(JpaTransactionManager)ç­é½æä¾äºå¯¹åºçäºå¡ç®¡çå¨ï¼ä½æ¯å·ä½çå®ç°å°±æ¯åä¸ªå¹³å°èªå·±çäºæäºã\n\n\n\nPlatformTransactionManager æ¥å£çå·ä½å®ç°å¦ä¸:\n\npackage org.springframework.transaction;\n\nimport org.springframework.lang.Nullable;\n\npublic interface PlatformTransactionManager {\n    //è·å¾äºå¡\n    TransactionStatus getTransaction(@Nullable TransactionDefinition var1) throws TransactionException;\n    //æäº¤äºå¡\n    void commit(TransactionStatus var1) throws TransactionException;\n    //åæ»äºå¡\n    void rollback(TransactionStatus var1) throws TransactionException;\n}\n\n\n\n\n\n# TransactionDefinition:äºå¡å±æ§\n\näºå¡ç®¡çå¨æ¥å£ PlatformTransactionManager éè¿ getTransaction(TransactionDefinition definition) æ¹æ³æ¥å¾å°ä¸ä¸ªäºå¡ï¼è¿ä¸ªæ¹æ³éé¢çåæ°æ¯ TransactionDefinition ç±» ï¼è¿ä¸ªç±»å°±å®ä¹äºä¸äºåºæ¬çäºå¡å±æ§ã\n\né£ä¹ä»ä¹æ¯ äºå¡å±æ§ å¢ï¼\n\näºå¡å±æ§å¯ä»¥çè§£æäºå¡çä¸äºåºæ¬éç½®ï¼æè¿°äºäºå¡ç­ç¥å¦ä½åºç¨å°æ¹æ³ä¸ã\n\näºå¡å±æ§åå«äº 5 ä¸ªæ¹é¢:\n\n\n\nTransactionDefinition æ¥å£ä¸­å®ä¹äº 5 ä¸ªæ¹æ³ä»¥åä¸äºè¡¨ç¤ºäºå¡å±æ§çå¸¸éæ¯å¦éç¦»çº§å«ãä¼ æ­è¡ä¸ºç­ç­ã\n\npackage org.springframework.transaction;\n\nimport org.springframework.lang.Nullable;\n\npublic interface TransactionDefinition {\n    int PROPAGATION_REQUIRED = 0;\n    int PROPAGATION_SUPPORTS = 1;\n    int PROPAGATION_MANDATORY = 2;\n    int PROPAGATION_REQUIRES_NEW = 3;\n    int PROPAGATION_NOT_SUPPORTED = 4;\n    int PROPAGATION_NEVER = 5;\n    int PROPAGATION_NESTED = 6;\n    int ISOLATION_DEFAULT = -1;\n    int ISOLATION_READ_UNCOMMITTED = 1;\n    int ISOLATION_READ_COMMITTED = 2;\n    int ISOLATION_REPEATABLE_READ = 4;\n    int ISOLATION_SERIALIZABLE = 8;\n    int TIMEOUT_DEFAULT = -1;\n    // è¿åäºå¡çä¼ æ­è¡ä¸ºï¼é»è®¤å¼ä¸º REQUIREDã\n    int getPropagationBehavior();\n    //è¿åäºå¡çéç¦»çº§å«ï¼é»è®¤å¼æ¯ DEFAULT\n    int getIsolationLevel();\n    // è¿åäºå¡çè¶æ¶æ¶é´ï¼é»è®¤å¼ä¸º-1ãå¦æè¶è¿è¯¥æ¶é´éå¶ä½äºå¡è¿æ²¡æå®æï¼åèªå¨åæ»äºå¡ã\n    int getTimeout();\n    // è¿åæ¯å¦ä¸ºåªè¯»äºå¡ï¼é»è®¤å¼ä¸º false\n    boolean isReadOnly();\n\n    @Nullable\n    String getName();\n}\n\n\n\n\n# TransactionStatus:äºå¡ç¶æ\n\nTransactionStatusæ¥å£ç¨æ¥è®°å½äºå¡çç¶æ è¯¥æ¥å£å®ä¹äºä¸ç»æ¹æ³,ç¨æ¥è·åæå¤æ­äºå¡çç¸åºç¶æä¿¡æ¯ã\n\nPlatformTransactionManager.getTransaction(â¦)æ¹æ³è¿åä¸ä¸ª TransactionStatus å¯¹è±¡ã\n\nTransactionStatus æ¥å£æ¥å£åå®¹å¦ä¸ï¼\n\npublic interface TransactionStatus{\n    boolean isNewTransaction(); // æ¯å¦æ¯æ°çäºå¡\n    boolean hasSavepoint(); // æ¯å¦ææ¢å¤ç¹\n    void setRollbackOnly();  // è®¾ç½®ä¸ºåªåæ»\n    boolean isRollbackOnly(); // æ¯å¦ä¸ºåªåæ»\n    boolean isCompleted; // æ¯å¦å·²å®æ\n}\n\n\n\n\n# @Transactional æ³¨è§£ä½¿ç¨è¯¦è§£\n\n\n# @Transactional ä½ç¨èå´\n\n@Transactional å¯ä»¥ä½ç¨å¨æ¥å£ãç±»ãç±»æ¹æ³ï¼\n\n * ä½ç¨äºç±»ï¼å½æ@Transactional æ³¨è§£æ¾å¨ç±»ä¸æ¶ï¼è¡¨ç¤ºææè¯¥ç±»çpublicæ¹æ³ é½éç½®ç¸åçäºå¡å±æ§ä¿¡æ¯ã\n * ä½ç¨äºæ¹æ³ï¼å½ç±»éç½®äº@Transactionalï¼æ¹æ³ä¹éç½®äº@Transactionalï¼æ¹æ³çäºå¡ä¼è¦çç±»çäºå¡éç½®ä¿¡æ¯ãè¯¥æ³¨è§£åªè½åºç¨å° public æ¹æ³ä¸ï¼å¦åæ¹æ³äºå¡ä¸çæã\n * ä½ç¨äºæ¥å£ï¼ä¸æ¨èè¿ç§ä½¿ç¨æ¹æ³ï¼å ä¸ºä¸æ¦æ æ³¨å¨Interfaceä¸å¹¶ä¸éç½®äºSpring AOP ä½¿ç¨CGLibå¨æä»£çï¼å°ä¼å¯¼è´@Transactionalæ³¨è§£å¤±æ\n\n\n# @Transactional å¸¸ç¨éç½®åæ°\n\n@Transactionalæ³¨è§£æºç å¦ä¸ï¼éé¢åå«äºåºæ¬äºå¡å±æ§çéç½®ï¼\n\n@Target({ElementType.TYPE, ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\n@Inherited\n@Documented\npublic @interface Transactional {\n\n\t@AliasFor("transactionManager")\n\tString value() default "";\n\n\t@AliasFor("value")\n\tString transactionManager() default "";\n\n\tPropagation propagation() default Propagation.REQUIRED;\n\n\tIsolation isolation() default Isolation.DEFAULT;\n\n\tint timeout() default TransactionDefinition.TIMEOUT_DEFAULT;\n\n\tboolean readOnly() default false;\n\n\tClass<? extends Throwable>[] rollbackFor() default {};\n\n\tString[] rollbackForClassName() default {};\n\n\tClass<? extends Throwable>[] noRollbackFor() default {};\n\n\tString[] noRollbackForClassName() default {};\n\n}\n\n\n\n\n# propagationå±æ§\n\npropagation ä»£è¡¨äºå¡çä¼ æ­è¡ä¸ºï¼é»è®¤å¼ä¸º Propagation.REQUIREDï¼å¶ä»çå±æ§ä¿¡æ¯å¦ä¸ï¼\n\näºå¡ä¼ æ­è¡ä¸ºç±»å                    è¯´æ\nPROPAGATION_REQUIRED        å¦æå½åæ²¡æäºå¡ï¼å°±æ°å»ºä¸ä¸ªäºå¡ï¼å¦æå·²ç»å­å¨ä¸ä¸ªäºå¡ä¸­ï¼å å¥å°è¿ä¸ªäºå¡ä¸­ãè¿æ¯æå¸¸è§çéæ©ã\nPROPAGATION_SUPPORTS        æ¯æå½åäºå¡ï¼å¦æå½åæ²¡æäºå¡ï¼å°±ä»¥éäºå¡æ¹å¼æ§è¡ã\nPROPAGATION_MANDATORY       ä½¿ç¨å½åçäºå¡ï¼å¦æå½åæ²¡æäºå¡ï¼å°±æåºå¼å¸¸ã\nPROPAGATION_REQUIRES_NEW    æ°å»ºäºå¡ï¼å¦æå½åå­å¨äºå¡ï¼æå½åäºå¡æèµ·ã\nPROPAGATION_NOT_SUPPORTED   ä»¥éäºå¡æ¹å¼æ§è¡æä½ï¼å¦æå½åå­å¨äºå¡ï¼å°±æå½åäºå¡æèµ·ã\nPROPAGATION_NEVER           ä»¥éäºå¡æ¹å¼æ§è¡ï¼å¦æå½åå­å¨äºå¡ï¼åæåºå¼å¸¸ã\nPROPAGATION_NESTED          å¦æå½åå­å¨äºå¡ï¼åå¨åµå¥äºå¡åæ§è¡ãå¦æå½åæ²¡æäºå¡ï¼åæ§è¡ä¸PROPAGATION_REQUIREDç±»ä¼¼çæä½ã\n\n\n# isolation å±æ§\n\nisolation ï¼äºå¡çéç¦»çº§å«ï¼é»è®¤å¼ä¸º ISOLATION_DEFAULTã\n\n * TransactionDefinition.ISOLATION_DEFAULTï¼ ä½¿ç¨åç«¯æ°æ®åºé»è®¤çéç¦»çº§å«ï¼Mysql é»è®¤éç¨ç REPEATABLE_READéç¦»çº§å«ï¼ Oracle é»è®¤éç¨ç READ_COMMITTEDéç¦»çº§å«.\n * TransactionDefinition.ISOLATION_READ_UNCOMMITTEDï¼æä½çéç¦»çº§å«ï¼åè®¸è¯»åå°æªæäº¤çæ°æ®åæ´ï¼å¯è½ä¼å¯¼è´èè¯»ãå¹»è¯»æä¸å¯éå¤è¯»\n * TransactionDefinition.ISOLATION_READ_COMMITTEDï¼åè®¸è¯»åå¹¶åäºå¡å·²ç»æäº¤çæ°æ®ï¼å¯ä»¥é»æ­¢èè¯»ï¼ä½æ¯å¹»è¯»æä¸å¯éå¤è¯»ä»æå¯è½åç\n * TransactionDefinition.ISOLATION_REPEATABLE_READï¼å¯¹åä¸å­æ®µçå¤æ¬¡è¯»åç»æé½æ¯ä¸è´çï¼é¤éæ°æ®æ¯è¢«æ¬èº«äºå¡èªå·±æä¿®æ¹ï¼å¯ä»¥é»æ­¢èè¯»åä¸å¯éå¤è¯»ï¼ä½å¹»è¯»ä»æå¯è½åçã\n * TransactionDefinition.ISOLATION_SERIALIZABLEï¼ æé«çéç¦»çº§å«ï¼å®å¨æä»ACIDçéç¦»çº§å«ãææçäºå¡ä¾æ¬¡éä¸ªæ§è¡ï¼è¿æ ·äºå¡ä¹é´å°±å®å¨ä¸å¯è½äº§çå¹²æ°ï¼ä¹å°±æ¯è¯´ï¼è¯¥çº§å«å¯ä»¥é²æ­¢èè¯»ãä¸å¯éå¤è¯»ä»¥åå¹»è¯»ãä½æ¯è¿å°ä¸¥éå½±åç¨åºçæ§è½ãéå¸¸æåµä¸ä¹ä¸ä¼ç¨å°è¯¥çº§å«ã\n\n\n# timeout å±æ§\n\ntimeout ï¼äºå¡çè¶æ¶æ¶é´ï¼é»è®¤å¼ä¸º -1ãå¦æè¶è¿è¯¥æ¶é´éå¶ä½äºå¡è¿æ²¡æå®æï¼åèªå¨åæ»äºå¡ã\n\n\n# readOnly å±æ§\n\nreadOnly ï¼æå®äºå¡æ¯å¦ä¸ºåªè¯»äºå¡ï¼é»è®¤å¼ä¸º falseï¼ä¸ºäºå¿½ç¥é£äºä¸éè¦äºå¡çæ¹æ³ï¼æ¯å¦è¯»åæ°æ®ï¼å¯ä»¥è®¾ç½® read-only ä¸º trueã\n\n\n# rollbackFor å±æ§\n\nrollbackFor ï¼ç¨äºæå®è½å¤è§¦åäºå¡åæ»çå¼å¸¸ç±»åï¼å¯ä»¥æå®å¤ä¸ªå¼å¸¸ç±»åã@Transactional æ³¨è§£é»è®¤ç rollbackFor æ¯è¿è¡æ¶å¼å¸¸\n\n\n# noRollbackForå±æ§\n\nnoRollbackForï¼æåºæå®çå¼å¸¸ç±»åï¼ä¸åæ»äºå¡ï¼ä¹å¯ä»¥æå®å¤ä¸ªå¼å¸¸ç±»åã\n\n\n# @Transactional æ³¨è§£åç\n\nSpring @Transactional æ³¨è§£å®ç°äºå¡çåçæ¯å¨æä»£çãè°ç¨é¡ºåºæ¯å¼å¯äºå¡ï¼æ§è¡ç®æ æ¹æ³ï¼æäº¤æåæ»äºå¡ãå¦æç±»å®ç°äºæ¥å£ï¼éè¿JDKåå»ºä»£çå¯¹è±¡ï¼å¦æç±»æ²¡æå®ç°æ¥å£ï¼é£ä¹éè¿cgLibåå»ºä»£çå¯¹è±¡ã\n\ncreateAopProxy() æ¹æ³ å³å®äºæ¯ä½¿ç¨ JDK è¿æ¯ Cglib æ¥åå¨æä»£çï¼æºç å¦ä¸ï¼\n\npublic class DefaultAopProxyFactory implements AopProxyFactory, Serializable {\n\n\t@Override\n\tpublic AopProxy createAopProxy(AdvisedSupport config) throws AopConfigException {\n\t\tif (config.isOptimize() || config.isProxyTargetClass() || hasNoUserSuppliedProxyInterfaces(config)) {\n\t\t\tClass<?> targetClass = config.getTargetClass();\n\t\t\tif (targetClass == null) {\n\t\t\t\tthrow new AopConfigException("TargetSource cannot determine target class: " +\n\t\t\t\t\t\t"Either an interface or a target is required for proxy creation.");\n\t\t\t}\n\t\t\tif (targetClass.isInterface() || Proxy.isProxyClass(targetClass)) {\n\t\t\t\treturn new JdkDynamicAopProxy(config);\n\t\t\t}\n\t\t\treturn new ObjenesisCglibAopProxy(config);\n\t\t}\n\t\telse {\n\t\t\treturn new JdkDynamicAopProxy(config);\n\t\t}\n\t}\n  .......\n}\n\n\n\nå¦æä¸ä¸ªç±»æèä¸ä¸ªç±»ä¸­ç public æ¹æ³ä¸è¢«æ æ³¨@Transactional æ³¨è§£çè¯ï¼Spring å®¹å¨å°±ä¼å¨å¯å¨çæ¶åä¸ºå¶åå»ºä¸ä¸ªä»£çç±»ï¼å¨è°ç¨è¢«@Transactional æ³¨è§£ç public æ¹æ³çæ¶åï¼å®éè°ç¨çæ¯ï¼TransactionInterceptor ç±»ä¸­ç invoke()æ¹æ³ãè¿ä¸ªæ¹æ³çä½ç¨å°±æ¯å¨ç®æ æ¹æ³ä¹åå¼å¯äºå¡ï¼æ¹æ³æ§è¡è¿ç¨ä¸­å¦æéå°å¼å¸¸çæ¶ååæ»äºå¡ï¼æ¹æ³è°ç¨å®æä¹åæäº¤äºå¡ã\n\n> TransactionInterceptor ç±»ä¸­ç invoke()æ¹æ³åé¨å®éè°ç¨çæ¯ TransactionAspectSupport ç±»ç invokeWithinTransaction()æ¹æ³ã\n\n\n# @Transactional å¤±æçåºæ¯\n\n\n# 1.@Transactional åºç¨å¨é publicä¿®é¥°çæ¹æ³ä¸\n\nå¦æTransactionalæ³¨è§£åºç¨å¨épublic ä¿®é¥°çæ¹æ³ä¸ï¼Transactionalå°ä¼å¤±æã\n\nä¹æä»¥ä¼å¤±ææ¯å ä¸ºå¨Spring AOP ä»£çæ¶ï¼å¦ä¸å¾æç¤º TransactionInterceptor ï¼äºå¡æ¦æªå¨ï¼å¨ç®æ æ¹æ³æ§è¡ååè¿è¡æ¦æªï¼DynamicAdvisedInterceptorï¼CglibAopProxy çåé¨ç±»ï¼ç intercept æ¹æ³æ JdkDynamicAopProxy ç invoke æ¹æ³ä¼é´æ¥è°ç¨ AbstractFallbackTransactionAttributeSourceç computeTransactionAttribute æ¹æ³ï¼è·åTransactional æ³¨è§£çäºå¡éç½®ä¿¡æ¯ã\n\nprotected TransactionAttribute computeTransactionAttribute(Method method,\n    Class<?> targetClass) {\n        // Don\'t allow no-public methods as required.\n        if (allowPublicMethodsOnly() && !Modifier.isPublic(method.getModifiers())) {\n        return null;\n}\n\n\næ­¤æ¹æ³ä¼æ£æ¥ç®æ æ¹æ³çä¿®é¥°ç¬¦æ¯å¦ä¸º publicï¼ä¸æ¯ publicåä¸ä¼è·å@Transactional çå±æ§éç½®ä¿¡æ¯ã\n\næ³¨æï¼protectedãprivate ä¿®é¥°çæ¹æ³ä¸ä½¿ç¨ @Transactional æ³¨è§£ï¼è½ç¶äºå¡æ æï¼ä½ä¸ä¼æä»»ä½æ¥éï¼è¿æ¯æä»¬å¾å®¹ç¯éçä¸ç¹ã\n\n\n# 2.@Transactional æ³¨è§£å±æ§ propagation è®¾ç½®éè¯¯\n\nè¿ç§å¤±ææ¯ç±äºéç½®éè¯¯ï¼è¥æ¯éè¯¯çéç½®ä»¥ä¸ä¸ç§ propagationï¼äºå¡å°ä¸ä¼åçåæ»ã\n\nTransactionDefinition.PROPAGATION_SUPPORTSï¼å¦æå½åå­å¨äºå¡ï¼åå å¥è¯¥äºå¡ï¼å¦æå½åæ²¡æäºå¡ï¼åä»¥éäºå¡çæ¹å¼ç»§ç»­è¿è¡ã\n\nTransactionDefinition.PROPAGATION_NOT_SUPPORTEDï¼ä»¥éäºå¡æ¹å¼è¿è¡ï¼å¦æå½åå­å¨äºå¡ï¼åæå½åäºå¡æèµ·ã\n\nTransactionDefinition.PROPAGATION_NEVERï¼ä»¥éäºå¡æ¹å¼è¿è¡ï¼å¦æå½åå­å¨äºå¡ï¼åæåºå¼å¸¸\n\n\n# 3.@Transactional æ³¨è§£å±æ§ rollbackFor è®¾ç½®éè¯¯\n\nrollbackFor å¯ä»¥æå®è½å¤è§¦åäºå¡åæ»çå¼å¸¸ç±»åãSpringé»è®¤æåºäºæªæ£æ¥uncheckedå¼å¸¸ï¼ç»§æ¿èª RuntimeException çå¼å¸¸ï¼æè Erroræåæ»äºå¡ï¼å¶ä»å¼å¸¸ä¸ä¼è§¦ååæ»äºå¡ãå¦æå¨äºå¡ä¸­æåºå¶ä»ç±»åçå¼å¸¸ï¼ä½å´ææ Spring è½å¤åæ»äºå¡ï¼å°±éè¦æå® rollbackFor å±æ§ï¼å¦ææªæå® rollbackFor å±æ§åäºå¡ä¸ä¼åæ»ã\n\n// å¸æèªå®ä¹çå¼å¸¸å¯ä»¥è¿è¡åæ»\n@Transactional(propagation= Propagation.REQUIRED,rollbackFor= MyException.class)\n\n\nè¥å¨ç®æ æ¹æ³ä¸­æåºçå¼å¸¸æ¯ rollbackFor æå®çå¼å¸¸çå­ç±»ï¼äºå¡åæ ·ä¼åæ»ãSpring æºç å¦ä¸ï¼\n\nprivate int getDepth(Class<?> exceptionClass, int depth) {\n  if (exceptionClass.getName().contains(this.exceptionName)) {\n    // Found it!    return depth;\n}\n// If we\'ve gone as far as we can go and haven\'t found it...\nif (exceptionClass == Throwable.class) {\n    return -1;\n}\nreturn getDepth(exceptionClass.getSuperclass(), depth + 1);\n}\n\n\n\n# 4.åä¸ä¸ªç±»ä¸­æ¹æ³è°ç¨ï¼å¯¼è´ @Transactional å¤±æ\n\nå¼åä¸­é¿åä¸äºä¼å¯¹åä¸ä¸ªç±»éé¢çæ¹æ³è°ç¨ï¼æ¯å¦æä¸ä¸ªç±»Testï¼å®çä¸ä¸ªæ¹æ³Aï¼Aåè°ç¨æ¬ç±»çæ¹æ³Bï¼ä¸è®ºæ¹æ³Bæ¯ç¨publicè¿æ¯privateä¿®é¥°ï¼ï¼ä½æ¹æ³Aæ²¡æå£°ææ³¨è§£äºå¡ï¼èBæ¹æ³æãåå¤é¨è°ç¨æ¹æ³Aä¹åï¼æ¹æ³Bçäºå¡æ¯ä¸ä¼èµ·ä½ç¨çãè¿ä¹æ¯ç»å¸¸ç¯éè¯¯çä¸ä¸ªå°æ¹ã\n\né£ä¸ºå¥ä¼åºç°è¿ç§æåµï¼å¶å®è¿è¿æ¯ç±äºä½¿ç¨ Spring AOPä»£çé æçï¼å ä¸ºåªæå½äºå¡æ¹æ³è¢«å½åç±»ä»¥å¤çä»£ç è°ç¨æ¶ï¼æä¼ç±Springçæçä»£çå¯¹è±¡æ¥ç®¡çã\n\nå¦æä¸å®è¦å¨æ¬ç±»è¿è¡æ¹æ³è°ç¨ï¼å¹¶ä¸è¦è®©@Transactional çæçè¯ï¼å¯ä»¥å°æ¬ç±»å¯¹è±¡æ³¨å¥èªèº«çå±æ§ä¸­ãæ¯å¦ï¼\n\npublic class A() {\n\t@Resource\n\tprivate A a;\n\t\n\tpublic void a() {\n\t\ta.b();\n\t}\n\t\n\t@Transactional \n\tpublic void b() {\n\t\t\n\t}\n}\n\n\n\n# 5.å¼å¸¸è¢«catchå¤çå¯¼è´ @Transactional å¤±æ\n\nè¿ç§æåµæ¯æå¸¸è§çä¸ç§ @Transactional æ³¨è§£å¤±æåºæ¯\n\n@Transactional\nprivate Integer A() throws Exception {\n    int insert = 0;\n    try {\n        CityInfoDict cityInfoDict = new CityInfoDict();\n        cityInfoDict.setCityName("2");\n        cityInfoDict.setParentCityId(2);\n        /**\n         * A æå¥å­æ®µä¸º 2çæ°æ®\n         */\n        insert = cityInfoDictMapper.insert(cityInfoDict);\n        /**\n         * B æå¥å­æ®µä¸º 3çæ°æ®\n         */\n        b.insertB();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\n\nå¦æBæ¹æ³åé¨æäºå¼å¸¸ï¼èAæ¹æ³æ­¤æ¶try catchäºBæ¹æ³çå¼å¸¸ï¼é£è¿ä¸ªäºå¡è¿è½æ­£å¸¸åæ»åï¼\n\nç­æ¡ï¼ä¸è½ï¼\n\nä¼æåºå¼å¸¸ï¼\n\norg.springframework.transaction.UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only\n\n\nå ä¸ºå½ServiceBä¸­æåºäºä¸ä¸ªå¼å¸¸ä»¥åï¼ServiceBæ è¯å½åäºå¡éè¦rollbackãä½æ¯ServiceAä¸­ç±äºä½ æå¨çæè·è¿ä¸ªå¼å¸¸å¹¶è¿è¡å¤çï¼ServiceAè®¤ä¸ºå½åäºå¡åºè¯¥æ­£å¸¸commitãæ­¤æ¶å°±åºç°äºååä¸ä¸è´ï¼ä¹å°±æ¯å ä¸ºè¿æ ·ï¼æåºäºåé¢çUnexpectedRollbackExceptionå¼å¸¸ã\n\nspringçäºå¡æ¯å¨è°ç¨ä¸å¡æ¹æ³ä¹åå¼å§çï¼ä¸å¡æ¹æ³æ§è¡å®æ¯ä¹åææ§è¡commit or rollbackï¼äºå¡æ¯å¦æ§è¡åå³äºæ¯å¦æåºruntimeå¼å¸¸ãå¦ææåºruntime exception å¹¶å¨ä½ çä¸å¡æ¹æ³ä¸­æ²¡æcatchå°çè¯ï¼äºå¡ä¼åæ»ã\n\nå¨ä¸å¡æ¹æ³ä¸­ä¸è¬ä¸éè¦catchå¼å¸¸ï¼å¦æéè¦catchä¸å®è¦æåºthrow new RuntimeException()ï¼æèæ³¨è§£ä¸­æå®æå¼å¸¸ç±»å**@Transactional(rollbackFor=Exception.class)**ï¼å¦åä¼å¯¼è´äºå¡å¤±æï¼æ°æ®commité ææ°æ®ä¸ä¸è´ï¼æä»¥æäºæ¶å try catchååä¼ç»èæ·»è¶³ã\n\n\n# 6.æ°æ®åºå¼æä¸æ¯æäºå¡\n\nè¿ç§æåµåºç°çæ¦çå¹¶ä¸é«ï¼äºå¡è½å¦çææ°æ®åºå¼ææ¯å¦æ¯æäºå¡æ¯å³é®ãå¸¸ç¨çMySQLæ°æ®åºé»è®¤ä½¿ç¨æ¯æäºå¡çinnodbå¼æãä¸æ¦æ°æ®åºå¼æåæ¢æä¸æ¯æäºå¡çmyisamï¼é£äºå¡å°±ä»æ ¹æ¬ä¸å¤±æäºã',normalizedContent:'# spring æ¯æä¸¤ç§æ¹å¼çäºå¡ç®¡ç\n\n\n# ç¼ç¨å¼äºå¡ç®¡ç\n\néè¿ transactiontemplateæètransactionmanageræå¨ç®¡çäºå¡ï¼å®éåºç¨ä¸­å¾å°ä½¿ç¨ï¼ä½æ¯å¯¹äºä½ çè§£ spring äºå¡ç®¡çåçæå¸®å©ã\n\nä½¿ç¨transactiontemplate è¿è¡ç¼ç¨å¼äºå¡ç®¡ççç¤ºä¾ä»£ç å¦ä¸ï¼\n\n@autowired\nprivate transactiontemplate transactiontemplate;\npublic void testtransaction() {\n\n        transactiontemplate.execute(new transactioncallbackwithoutresult() {\n            @override\n            protected void dointransactionwithoutresult(transactionstatus transactionstatus) {\n\n                try {\n\n                    // ....  ä¸å¡ä»£ç \n                } catch (exception e){\n                    //åæ»\n                    transactionstatus.setrollbackonly();\n                }\n\n            }\n        });\n}\n\n\n\nä½¿ç¨ transactionmanager è¿è¡ç¼ç¨å¼äºå¡ç®¡ççç¤ºä¾ä»£ç å¦ä¸ï¼\n\n@autowired\nprivate platformtransactionmanager transactionmanager;\n\npublic void testtransaction() {\n\n  transactionstatus status = transactionmanager.gettransaction(new defaulttransactiondefinition());\n          try {\n               // ....  ä¸å¡ä»£ç \n              transactionmanager.commit(status);\n          } catch (exception e) {\n              transactionmanager.rollback(status);\n          }\n}\n\n\n\n\n# å£°æå¼äºå¡ç®¡ç\n\næ¨èä½¿ç¨ï¼ä»£ç ä¾µå¥æ§æå°ï¼ï¼å®éæ¯éè¿ aop å®ç°ï¼åºäº@transactional çå¨æ³¨è§£æ¹å¼ä½¿ç¨æå¤ï¼ã\n\nä½¿ç¨ @transactionalæ³¨è§£è¿è¡äºå¡ç®¡ççç¤ºä¾ä»£ç å¦ä¸ï¼\n\n@transactional(propagation=propagation.propagation_required)\npublic void amethod {\n  //do something\n  b b = new b();\n  c c = new c();\n  b.bmethod();\n  c.cmethod();\n}\n\n\n\n\n# spring äºå¡ç®¡çæ¥å£ä»ç»\n\nspring æ¡æ¶ä¸­ï¼äºå¡ç®¡çç¸å³æéè¦ç 3 ä¸ªæ¥å£å¦ä¸ï¼\n\n * platformtransactionmanagerï¼ ï¼å¹³å°ï¼äºå¡ç®¡çå¨ï¼spring äºå¡ç­ç¥çæ ¸å¿ã\n\n * transactiondefinitionï¼ äºå¡å®ä¹ä¿¡æ¯(äºå¡éç¦»çº§å«ãä¼ æ­è¡ä¸ºãè¶æ¶ãåªè¯»ãåæ»è§å)ã\n\n * transactionstatusï¼ äºå¡è¿è¡ç¶æã\n\nå¯ä»¥æ platformtransactionmanager æ¥å£å¯ä»¥è¢«çä½æ¯äºå¡ä¸å±çç®¡çèï¼è transactiondefinition å transactionstatus è¿ä¸¤ä¸ªæ¥å£å¯ä»¥çä½æ¯äºå¡çæè¿°ã\n\nplatformtransactionmanager ä¼æ ¹æ® transactiondefinition çå®ä¹æ¯å¦äºå¡è¶æ¶æ¶é´ãéç¦»çº§å«ãä¼ æ­è¡ä¸ºç­æ¥è¿è¡äºå¡ç®¡ç ï¼è transactionstatus æ¥å£åæä¾äºä¸äºæ¹æ³æ¥è·åäºå¡ç¸åºçç¶ææ¯å¦æ¯å¦æ°äºå¡ãæ¯å¦å¯ä»¥åæ»ç­ç­ã\n\n\n# platformtransactionmanager:äºå¡ç®¡çæ¥å£\n\nspring å¹¶ä¸ç´æ¥ç®¡çäºå¡ï¼èæ¯æä¾äºå¤ç§äºå¡ç®¡çå¨ ãspring äºå¡ç®¡çå¨çæ¥å£æ¯ï¼ platformtransactionmanager ã\n\néè¿è¿ä¸ªæ¥å£ï¼spring ä¸ºåä¸ªå¹³å°å¦ jdbc(datasourcetransactionmanager)ãhibernate(hibernatetransactionmanager)ãjpa(jpatransactionmanager)ç­é½æä¾äºå¯¹åºçäºå¡ç®¡çå¨ï¼ä½æ¯å·ä½çå®ç°å°±æ¯åä¸ªå¹³å°èªå·±çäºæäºã\n\n\n\nplatformtransactionmanager æ¥å£çå·ä½å®ç°å¦ä¸:\n\npackage org.springframework.transaction;\n\nimport org.springframework.lang.nullable;\n\npublic interface platformtransactionmanager {\n    //è·å¾äºå¡\n    transactionstatus gettransaction(@nullable transactiondefinition var1) throws transactionexception;\n    //æäº¤äºå¡\n    void commit(transactionstatus var1) throws transactionexception;\n    //åæ»äºå¡\n    void rollback(transactionstatus var1) throws transactionexception;\n}\n\n\n\n\n\n# transactiondefinition:äºå¡å±æ§\n\näºå¡ç®¡çå¨æ¥å£ platformtransactionmanager éè¿ gettransaction(transactiondefinition definition) æ¹æ³æ¥å¾å°ä¸ä¸ªäºå¡ï¼è¿ä¸ªæ¹æ³éé¢çåæ°æ¯ transactiondefinition ç±» ï¼è¿ä¸ªç±»å°±å®ä¹äºä¸äºåºæ¬çäºå¡å±æ§ã\n\né£ä¹ä»ä¹æ¯ äºå¡å±æ§ å¢ï¼\n\näºå¡å±æ§å¯ä»¥çè§£æäºå¡çä¸äºåºæ¬éç½®ï¼æè¿°äºäºå¡ç­ç¥å¦ä½åºç¨å°æ¹æ³ä¸ã\n\näºå¡å±æ§åå«äº 5 ä¸ªæ¹é¢:\n\n\n\ntransactiondefinition æ¥å£ä¸­å®ä¹äº 5 ä¸ªæ¹æ³ä»¥åä¸äºè¡¨ç¤ºäºå¡å±æ§çå¸¸éæ¯å¦éç¦»çº§å«ãä¼ æ­è¡ä¸ºç­ç­ã\n\npackage org.springframework.transaction;\n\nimport org.springframework.lang.nullable;\n\npublic interface transactiondefinition {\n    int propagation_required = 0;\n    int propagation_supports = 1;\n    int propagation_mandatory = 2;\n    int propagation_requires_new = 3;\n    int propagation_not_supported = 4;\n    int propagation_never = 5;\n    int propagation_nested = 6;\n    int isolation_default = -1;\n    int isolation_read_uncommitted = 1;\n    int isolation_read_committed = 2;\n    int isolation_repeatable_read = 4;\n    int isolation_serializable = 8;\n    int timeout_default = -1;\n    // è¿åäºå¡çä¼ æ­è¡ä¸ºï¼é»è®¤å¼ä¸º requiredã\n    int getpropagationbehavior();\n    //è¿åäºå¡çéç¦»çº§å«ï¼é»è®¤å¼æ¯ default\n    int getisolationlevel();\n    // è¿åäºå¡çè¶æ¶æ¶é´ï¼é»è®¤å¼ä¸º-1ãå¦æè¶è¿è¯¥æ¶é´éå¶ä½äºå¡è¿æ²¡æå®æï¼åèªå¨åæ»äºå¡ã\n    int gettimeout();\n    // è¿åæ¯å¦ä¸ºåªè¯»äºå¡ï¼é»è®¤å¼ä¸º false\n    boolean isreadonly();\n\n    @nullable\n    string getname();\n}\n\n\n\n\n# transactionstatus:äºå¡ç¶æ\n\ntransactionstatusæ¥å£ç¨æ¥è®°å½äºå¡çç¶æ è¯¥æ¥å£å®ä¹äºä¸ç»æ¹æ³,ç¨æ¥è·åæå¤æ­äºå¡çç¸åºç¶æä¿¡æ¯ã\n\nplatformtransactionmanager.gettransaction(â¦)æ¹æ³è¿åä¸ä¸ª transactionstatus å¯¹è±¡ã\n\ntransactionstatus æ¥å£æ¥å£åå®¹å¦ä¸ï¼\n\npublic interface transactionstatus{\n    boolean isnewtransaction(); // æ¯å¦æ¯æ°çäºå¡\n    boolean hassavepoint(); // æ¯å¦ææ¢å¤ç¹\n    void setrollbackonly();  // è®¾ç½®ä¸ºåªåæ»\n    boolean isrollbackonly(); // æ¯å¦ä¸ºåªåæ»\n    boolean iscompleted; // æ¯å¦å·²å®æ\n}\n\n\n\n\n# @transactional æ³¨è§£ä½¿ç¨è¯¦è§£\n\n\n# @transactional ä½ç¨èå´\n\n@transactional å¯ä»¥ä½ç¨å¨æ¥å£ãç±»ãç±»æ¹æ³ï¼\n\n * ä½ç¨äºç±»ï¼å½æ@transactional æ³¨è§£æ¾å¨ç±»ä¸æ¶ï¼è¡¨ç¤ºææè¯¥ç±»çpublicæ¹æ³ é½éç½®ç¸åçäºå¡å±æ§ä¿¡æ¯ã\n * ä½ç¨äºæ¹æ³ï¼å½ç±»éç½®äº@transactionalï¼æ¹æ³ä¹éç½®äº@transactionalï¼æ¹æ³çäºå¡ä¼è¦çç±»çäºå¡éç½®ä¿¡æ¯ãè¯¥æ³¨è§£åªè½åºç¨å° public æ¹æ³ä¸ï¼å¦åæ¹æ³äºå¡ä¸çæã\n * ä½ç¨äºæ¥å£ï¼ä¸æ¨èè¿ç§ä½¿ç¨æ¹æ³ï¼å ä¸ºä¸æ¦æ æ³¨å¨interfaceä¸å¹¶ä¸éç½®äºspring aop ä½¿ç¨cglibå¨æä»£çï¼å°ä¼å¯¼è´@transactionalæ³¨è§£å¤±æ\n\n\n# @transactional å¸¸ç¨éç½®åæ°\n\n@transactionalæ³¨è§£æºç å¦ä¸ï¼éé¢åå«äºåºæ¬äºå¡å±æ§çéç½®ï¼\n\n@target({elementtype.type, elementtype.method})\n@retention(retentionpolicy.runtime)\n@inherited\n@documented\npublic @interface transactional {\n\n\t@aliasfor("transactionmanager")\n\tstring value() default "";\n\n\t@aliasfor("value")\n\tstring transactionmanager() default "";\n\n\tpropagation propagation() default propagation.required;\n\n\tisolation isolation() default isolation.default;\n\n\tint timeout() default transactiondefinition.timeout_default;\n\n\tboolean readonly() default false;\n\n\tclass<? extends throwable>[] rollbackfor() default {};\n\n\tstring[] rollbackforclassname() default {};\n\n\tclass<? extends throwable>[] norollbackfor() default {};\n\n\tstring[] norollbackforclassname() default {};\n\n}\n\n\n\n\n# propagationå±æ§\n\npropagation ä»£è¡¨äºå¡çä¼ æ­è¡ä¸ºï¼é»è®¤å¼ä¸º propagation.requiredï¼å¶ä»çå±æ§ä¿¡æ¯å¦ä¸ï¼\n\näºå¡ä¼ æ­è¡ä¸ºç±»å                    è¯´æ\npropagation_required        å¦æå½åæ²¡æäºå¡ï¼å°±æ°å»ºä¸ä¸ªäºå¡ï¼å¦æå·²ç»å­å¨ä¸ä¸ªäºå¡ä¸­ï¼å å¥å°è¿ä¸ªäºå¡ä¸­ãè¿æ¯æå¸¸è§çéæ©ã\npropagation_supports        æ¯æå½åäºå¡ï¼å¦æå½åæ²¡æäºå¡ï¼å°±ä»¥éäºå¡æ¹å¼æ§è¡ã\npropagation_mandatory       ä½¿ç¨å½åçäºå¡ï¼å¦æå½åæ²¡æäºå¡ï¼å°±æåºå¼å¸¸ã\npropagation_requires_new    æ°å»ºäºå¡ï¼å¦æå½åå­å¨äºå¡ï¼æå½åäºå¡æèµ·ã\npropagation_not_supported   ä»¥éäºå¡æ¹å¼æ§è¡æä½ï¼å¦æå½åå­å¨äºå¡ï¼å°±æå½åäºå¡æèµ·ã\npropagation_never           ä»¥éäºå¡æ¹å¼æ§è¡ï¼å¦æå½åå­å¨äºå¡ï¼åæåºå¼å¸¸ã\npropagation_nested          å¦æå½åå­å¨äºå¡ï¼åå¨åµå¥äºå¡åæ§è¡ãå¦æå½åæ²¡æäºå¡ï¼åæ§è¡ä¸propagation_requiredç±»ä¼¼çæä½ã\n\n\n# isolation å±æ§\n\nisolation ï¼äºå¡çéç¦»çº§å«ï¼é»è®¤å¼ä¸º isolation_defaultã\n\n * transactiondefinition.isolation_defaultï¼ ä½¿ç¨åç«¯æ°æ®åºé»è®¤çéç¦»çº§å«ï¼mysql é»è®¤éç¨ç repeatable_readéç¦»çº§å«ï¼ oracle é»è®¤éç¨ç read_committedéç¦»çº§å«.\n * transactiondefinition.isolation_read_uncommittedï¼æä½çéç¦»çº§å«ï¼åè®¸è¯»åå°æªæäº¤çæ°æ®åæ´ï¼å¯è½ä¼å¯¼è´èè¯»ãå¹»è¯»æä¸å¯éå¤è¯»\n * transactiondefinition.isolation_read_committedï¼åè®¸è¯»åå¹¶åäºå¡å·²ç»æäº¤çæ°æ®ï¼å¯ä»¥é»æ­¢èè¯»ï¼ä½æ¯å¹»è¯»æä¸å¯éå¤è¯»ä»æå¯è½åç\n * transactiondefinition.isolation_repeatable_readï¼å¯¹åä¸å­æ®µçå¤æ¬¡è¯»åç»æé½æ¯ä¸è´çï¼é¤éæ°æ®æ¯è¢«æ¬èº«äºå¡èªå·±æä¿®æ¹ï¼å¯ä»¥é»æ­¢èè¯»åä¸å¯éå¤è¯»ï¼ä½å¹»è¯»ä»æå¯è½åçã\n * transactiondefinition.isolation_serializableï¼ æé«çéç¦»çº§å«ï¼å®å¨æä»acidçéç¦»çº§å«ãææçäºå¡ä¾æ¬¡éä¸ªæ§è¡ï¼è¿æ ·äºå¡ä¹é´å°±å®å¨ä¸å¯è½äº§çå¹²æ°ï¼ä¹å°±æ¯è¯´ï¼è¯¥çº§å«å¯ä»¥é²æ­¢èè¯»ãä¸å¯éå¤è¯»ä»¥åå¹»è¯»ãä½æ¯è¿å°ä¸¥éå½±åç¨åºçæ§è½ãéå¸¸æåµä¸ä¹ä¸ä¼ç¨å°è¯¥çº§å«ã\n\n\n# timeout å±æ§\n\ntimeout ï¼äºå¡çè¶æ¶æ¶é´ï¼é»è®¤å¼ä¸º -1ãå¦æè¶è¿è¯¥æ¶é´éå¶ä½äºå¡è¿æ²¡æå®æï¼åèªå¨åæ»äºå¡ã\n\n\n# readonly å±æ§\n\nreadonly ï¼æå®äºå¡æ¯å¦ä¸ºåªè¯»äºå¡ï¼é»è®¤å¼ä¸º falseï¼ä¸ºäºå¿½ç¥é£äºä¸éè¦äºå¡çæ¹æ³ï¼æ¯å¦è¯»åæ°æ®ï¼å¯ä»¥è®¾ç½® read-only ä¸º trueã\n\n\n# rollbackfor å±æ§\n\nrollbackfor ï¼ç¨äºæå®è½å¤è§¦åäºå¡åæ»çå¼å¸¸ç±»åï¼å¯ä»¥æå®å¤ä¸ªå¼å¸¸ç±»åã@transactional æ³¨è§£é»è®¤ç rollbackfor æ¯è¿è¡æ¶å¼å¸¸\n\n\n# norollbackforå±æ§\n\nnorollbackforï¼æåºæå®çå¼å¸¸ç±»åï¼ä¸åæ»äºå¡ï¼ä¹å¯ä»¥æå®å¤ä¸ªå¼å¸¸ç±»åã\n\n\n# @transactional æ³¨è§£åç\n\nspring @transactional æ³¨è§£å®ç°äºå¡çåçæ¯å¨æä»£çãè°ç¨é¡ºåºæ¯å¼å¯äºå¡ï¼æ§è¡ç®æ æ¹æ³ï¼æäº¤æåæ»äºå¡ãå¦æç±»å®ç°äºæ¥å£ï¼éè¿jdkåå»ºä»£çå¯¹è±¡ï¼å¦æç±»æ²¡æå®ç°æ¥å£ï¼é£ä¹éè¿cglibåå»ºä»£çå¯¹è±¡ã\n\ncreateaopproxy() æ¹æ³ å³å®äºæ¯ä½¿ç¨ jdk è¿æ¯ cglib æ¥åå¨æä»£çï¼æºç å¦ä¸ï¼\n\npublic class defaultaopproxyfactory implements aopproxyfactory, serializable {\n\n\t@override\n\tpublic aopproxy createaopproxy(advisedsupport config) throws aopconfigexception {\n\t\tif (config.isoptimize() || config.isproxytargetclass() || hasnousersuppliedproxyinterfaces(config)) {\n\t\t\tclass<?> targetclass = config.gettargetclass();\n\t\t\tif (targetclass == null) {\n\t\t\t\tthrow new aopconfigexception("targetsource cannot determine target class: " +\n\t\t\t\t\t\t"either an interface or a target is required for proxy creation.");\n\t\t\t}\n\t\t\tif (targetclass.isinterface() || proxy.isproxyclass(targetclass)) {\n\t\t\t\treturn new jdkdynamicaopproxy(config);\n\t\t\t}\n\t\t\treturn new objenesiscglibaopproxy(config);\n\t\t}\n\t\telse {\n\t\t\treturn new jdkdynamicaopproxy(config);\n\t\t}\n\t}\n  .......\n}\n\n\n\nå¦æä¸ä¸ªç±»æèä¸ä¸ªç±»ä¸­ç public æ¹æ³ä¸è¢«æ æ³¨@transactional æ³¨è§£çè¯ï¼spring å®¹å¨å°±ä¼å¨å¯å¨çæ¶åä¸ºå¶åå»ºä¸ä¸ªä»£çç±»ï¼å¨è°ç¨è¢«@transactional æ³¨è§£ç public æ¹æ³çæ¶åï¼å®éè°ç¨çæ¯ï¼transactioninterceptor ç±»ä¸­ç invoke()æ¹æ³ãè¿ä¸ªæ¹æ³çä½ç¨å°±æ¯å¨ç®æ æ¹æ³ä¹åå¼å¯äºå¡ï¼æ¹æ³æ§è¡è¿ç¨ä¸­å¦æéå°å¼å¸¸çæ¶ååæ»äºå¡ï¼æ¹æ³è°ç¨å®æä¹åæäº¤äºå¡ã\n\n> transactioninterceptor ç±»ä¸­ç invoke()æ¹æ³åé¨å®éè°ç¨çæ¯ transactionaspectsupport ç±»ç invokewithintransaction()æ¹æ³ã\n\n\n# @transactional å¤±æçåºæ¯\n\n\n# 1.@transactional åºç¨å¨é publicä¿®é¥°çæ¹æ³ä¸\n\nå¦ætransactionalæ³¨è§£åºç¨å¨épublic ä¿®é¥°çæ¹æ³ä¸ï¼transactionalå°ä¼å¤±æã\n\nä¹æä»¥ä¼å¤±ææ¯å ä¸ºå¨spring aop ä»£çæ¶ï¼å¦ä¸å¾æç¤º transactioninterceptor ï¼äºå¡æ¦æªå¨ï¼å¨ç®æ æ¹æ³æ§è¡ååè¿è¡æ¦æªï¼dynamicadvisedinterceptorï¼cglibaopproxy çåé¨ç±»ï¼ç intercept æ¹æ³æ jdkdynamicaopproxy ç invoke æ¹æ³ä¼é´æ¥è°ç¨ abstractfallbacktransactionattributesourceç computetransactionattribute æ¹æ³ï¼è·åtransactional æ³¨è§£çäºå¡éç½®ä¿¡æ¯ã\n\nprotected transactionattribute computetransactionattribute(method method,\n    class<?> targetclass) {\n        // don\'t allow no-public methods as required.\n        if (allowpublicmethodsonly() && !modifier.ispublic(method.getmodifiers())) {\n        return null;\n}\n\n\næ­¤æ¹æ³ä¼æ£æ¥ç®æ æ¹æ³çä¿®é¥°ç¬¦æ¯å¦ä¸º publicï¼ä¸æ¯ publicåä¸ä¼è·å@transactional çå±æ§éç½®ä¿¡æ¯ã\n\næ³¨æï¼protectedãprivate ä¿®é¥°çæ¹æ³ä¸ä½¿ç¨ @transactional æ³¨è§£ï¼è½ç¶äºå¡æ æï¼ä½ä¸ä¼æä»»ä½æ¥éï¼è¿æ¯æä»¬å¾å®¹ç¯éçä¸ç¹ã\n\n\n# 2.@transactional æ³¨è§£å±æ§ propagation è®¾ç½®éè¯¯\n\nè¿ç§å¤±ææ¯ç±äºéç½®éè¯¯ï¼è¥æ¯éè¯¯çéç½®ä»¥ä¸ä¸ç§ propagationï¼äºå¡å°ä¸ä¼åçåæ»ã\n\ntransactiondefinition.propagation_supportsï¼å¦æå½åå­å¨äºå¡ï¼åå å¥è¯¥äºå¡ï¼å¦æå½åæ²¡æäºå¡ï¼åä»¥éäºå¡çæ¹å¼ç»§ç»­è¿è¡ã\n\ntransactiondefinition.propagation_not_supportedï¼ä»¥éäºå¡æ¹å¼è¿è¡ï¼å¦æå½åå­å¨äºå¡ï¼åæå½åäºå¡æèµ·ã\n\ntransactiondefinition.propagation_neverï¼ä»¥éäºå¡æ¹å¼è¿è¡ï¼å¦æå½åå­å¨äºå¡ï¼åæåºå¼å¸¸\n\n\n# 3.@transactional æ³¨è§£å±æ§ rollbackfor è®¾ç½®éè¯¯\n\nrollbackfor å¯ä»¥æå®è½å¤è§¦åäºå¡åæ»çå¼å¸¸ç±»åãspringé»è®¤æåºäºæªæ£æ¥uncheckedå¼å¸¸ï¼ç»§æ¿èª runtimeexception çå¼å¸¸ï¼æè erroræåæ»äºå¡ï¼å¶ä»å¼å¸¸ä¸ä¼è§¦ååæ»äºå¡ãå¦æå¨äºå¡ä¸­æåºå¶ä»ç±»åçå¼å¸¸ï¼ä½å´ææ spring è½å¤åæ»äºå¡ï¼å°±éè¦æå® rollbackfor å±æ§ï¼å¦ææªæå® rollbackfor å±æ§åäºå¡ä¸ä¼åæ»ã\n\n// å¸æèªå®ä¹çå¼å¸¸å¯ä»¥è¿è¡åæ»\n@transactional(propagation= propagation.required,rollbackfor= myexception.class)\n\n\nè¥å¨ç®æ æ¹æ³ä¸­æåºçå¼å¸¸æ¯ rollbackfor æå®çå¼å¸¸çå­ç±»ï¼äºå¡åæ ·ä¼åæ»ãspring æºç å¦ä¸ï¼\n\nprivate int getdepth(class<?> exceptionclass, int depth) {\n  if (exceptionclass.getname().contains(this.exceptionname)) {\n    // found it!    return depth;\n}\n// if we\'ve gone as far as we can go and haven\'t found it...\nif (exceptionclass == throwable.class) {\n    return -1;\n}\nreturn getdepth(exceptionclass.getsuperclass(), depth + 1);\n}\n\n\n\n# 4.åä¸ä¸ªç±»ä¸­æ¹æ³è°ç¨ï¼å¯¼è´ @transactional å¤±æ\n\nå¼åä¸­é¿åä¸äºä¼å¯¹åä¸ä¸ªç±»éé¢çæ¹æ³è°ç¨ï¼æ¯å¦æä¸ä¸ªç±»testï¼å®çä¸ä¸ªæ¹æ³aï¼aåè°ç¨æ¬ç±»çæ¹æ³bï¼ä¸è®ºæ¹æ³bæ¯ç¨publicè¿æ¯privateä¿®é¥°ï¼ï¼ä½æ¹æ³aæ²¡æå£°ææ³¨è§£äºå¡ï¼èbæ¹æ³æãåå¤é¨è°ç¨æ¹æ³aä¹åï¼æ¹æ³bçäºå¡æ¯ä¸ä¼èµ·ä½ç¨çãè¿ä¹æ¯ç»å¸¸ç¯éè¯¯çä¸ä¸ªå°æ¹ã\n\né£ä¸ºå¥ä¼åºç°è¿ç§æåµï¼å¶å®è¿è¿æ¯ç±äºä½¿ç¨ spring aopä»£çé æçï¼å ä¸ºåªæå½äºå¡æ¹æ³è¢«å½åç±»ä»¥å¤çä»£ç è°ç¨æ¶ï¼æä¼ç±springçæçä»£çå¯¹è±¡æ¥ç®¡çã\n\nå¦æä¸å®è¦å¨æ¬ç±»è¿è¡æ¹æ³è°ç¨ï¼å¹¶ä¸è¦è®©@transactional çæçè¯ï¼å¯ä»¥å°æ¬ç±»å¯¹è±¡æ³¨å¥èªèº«çå±æ§ä¸­ãæ¯å¦ï¼\n\npublic class a() {\n\t@resource\n\tprivate a a;\n\t\n\tpublic void a() {\n\t\ta.b();\n\t}\n\t\n\t@transactional \n\tpublic void b() {\n\t\t\n\t}\n}\n\n\n\n# 5.å¼å¸¸è¢«catchå¤çå¯¼è´ @transactional å¤±æ\n\nè¿ç§æåµæ¯æå¸¸è§çä¸ç§ @transactional æ³¨è§£å¤±æåºæ¯\n\n@transactional\nprivate integer a() throws exception {\n    int insert = 0;\n    try {\n        cityinfodict cityinfodict = new cityinfodict();\n        cityinfodict.setcityname("2");\n        cityinfodict.setparentcityid(2);\n        /**\n         * a æå¥å­æ®µä¸º 2çæ°æ®\n         */\n        insert = cityinfodictmapper.insert(cityinfodict);\n        /**\n         * b æå¥å­æ®µä¸º 3çæ°æ®\n         */\n        b.insertb();\n    } catch (exception e) {\n        e.printstacktrace();\n    }\n}\n\n\nå¦æbæ¹æ³åé¨æäºå¼å¸¸ï¼èaæ¹æ³æ­¤æ¶try catchäºbæ¹æ³çå¼å¸¸ï¼é£è¿ä¸ªäºå¡è¿è½æ­£å¸¸åæ»åï¼\n\nç­æ¡ï¼ä¸è½ï¼\n\nä¼æåºå¼å¸¸ï¼\n\norg.springframework.transaction.unexpectedrollbackexception: transaction rolled back because it has been marked as rollback-only\n\n\nå ä¸ºå½servicebä¸­æåºäºä¸ä¸ªå¼å¸¸ä»¥åï¼servicebæ è¯å½åäºå¡éè¦rollbackãä½æ¯serviceaä¸­ç±äºä½ æå¨çæè·è¿ä¸ªå¼å¸¸å¹¶è¿è¡å¤çï¼serviceaè®¤ä¸ºå½åäºå¡åºè¯¥æ­£å¸¸commitãæ­¤æ¶å°±åºç°äºååä¸ä¸è´ï¼ä¹å°±æ¯å ä¸ºè¿æ ·ï¼æåºäºåé¢çunexpectedrollbackexceptionå¼å¸¸ã\n\nspringçäºå¡æ¯å¨è°ç¨ä¸å¡æ¹æ³ä¹åå¼å§çï¼ä¸å¡æ¹æ³æ§è¡å®æ¯ä¹åææ§è¡commit or rollbackï¼äºå¡æ¯å¦æ§è¡åå³äºæ¯å¦æåºruntimeå¼å¸¸ãå¦ææåºruntime exception å¹¶å¨ä½ çä¸å¡æ¹æ³ä¸­æ²¡æcatchå°çè¯ï¼äºå¡ä¼åæ»ã\n\nå¨ä¸å¡æ¹æ³ä¸­ä¸è¬ä¸éè¦catchå¼å¸¸ï¼å¦æéè¦catchä¸å®è¦æåºthrow new runtimeexception()ï¼æèæ³¨è§£ä¸­æå®æå¼å¸¸ç±»å**@transactional(rollbackfor=exception.class)**ï¼å¦åä¼å¯¼è´äºå¡å¤±æï¼æ°æ®commité ææ°æ®ä¸ä¸è´ï¼æä»¥æäºæ¶å try catchååä¼ç»èæ·»è¶³ã\n\n\n# 6.æ°æ®åºå¼æä¸æ¯æäºå¡\n\nè¿ç§æåµåºç°çæ¦çå¹¶ä¸é«ï¼äºå¡è½å¦çææ°æ®åºå¼ææ¯å¦æ¯æäºå¡æ¯å³é®ãå¸¸ç¨çmysqlæ°æ®åºé»è®¤ä½¿ç¨æ¯æäºå¡çinnodbå¼æãä¸æ¦æ°æ®åºå¼æåæ¢æä¸æ¯æäºå¡çmyisamï¼é£äºå¡å°±ä»æ ¹æ¬ä¸å¤±æäºã',charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"åå¸å¼éä»ç»",frontmatter:{title:"åå¸å¼éä»ç»",date:"2023-10-24T03:41:14.000Z",permalink:"/pages/4418d1/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/04.%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/02.%E5%88%86%E5%B8%83%E5%BC%8F/01.%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/01.%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E4%BB%8B%E7%BB%8D.html",relativePath:"01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/02.åå¸å¼/01.åå¸å¼é/01.åå¸å¼éä»ç».md",key:"v-4bab47ca",path:"/pages/4418d1/",headers:[{level:1,title:"ä¸ºä»ä¹éè¦åå¸å¼éï¼",slug:"ä¸ºä»ä¹éè¦åå¸å¼é",normalizedTitle:"ä¸ºä»ä¹éè¦åå¸å¼éï¼",charIndex:2},{level:1,title:"åå¸å¼éåºè¯¥å·å¤çåªäºæ¡ä»¶ï¼",slug:"åå¸å¼éåºè¯¥å·å¤çåªäºæ¡ä»¶",normalizedTitle:"åå¸å¼éåºè¯¥å·å¤çåªäºæ¡ä»¶ï¼",charIndex:745},{level:1,title:"åå¸å¼éå¸¸è§å®ç°æ¹å¼æåªäºï¼",slug:"åå¸å¼éå¸¸è§å®ç°æ¹å¼æåªäº",normalizedTitle:"åå¸å¼éå¸¸è§å®ç°æ¹å¼æåªäºï¼",charIndex:1062},{level:1,title:"æ»ç»",slug:"æ»ç»",normalizedTitle:"æ»ç»",charIndex:1300},{level:1,title:"reference",slug:"reference",normalizedTitle:"reference",charIndex:1518}],headersStr:"ä¸ºä»ä¹éè¦åå¸å¼éï¼ åå¸å¼éåºè¯¥å·å¤çåªäºæ¡ä»¶ï¼ åå¸å¼éå¸¸è§å®ç°æ¹å¼æåªäºï¼ æ»ç» reference",content:"# ä¸ºä»ä¹éè¦åå¸å¼éï¼\n\nå¨å¤çº¿ç¨ç¯å¢ä¸­ï¼å¦æå¤ä¸ªçº¿ç¨åæ¶è®¿é®å±äº«èµæºï¼ä¾å¦åååºå­ãå¤åè®¢åï¼ï¼ä¼åçæ°æ®ç«äºï¼å¯è½ä¼å¯¼è´åºç°èæ°æ®æèç³»ç»é®é¢ï¼å¨èå°ç¨åºçæ­£å¸¸è¿è¡ã\n\nä¸ºäºä¿è¯å±äº«èµæºè¢«å®å¨å°è®¿é®ï¼æä»¬éè¦ä½¿ç¨äºæ¥æä½å¯¹å±äº«èµæºè¿è¡ä¿æ¤ï¼å³åä¸æ¶å»åªåè®¸ä¸ä¸ªçº¿ç¨è®¿é®å±äº«èµæºï¼å¶ä»çº¿ç¨éè¦ç­å¾å½åçº¿ç¨éæ¾åæè½è®¿é®ãè¿æ ·å¯ä»¥é¿åæ°æ®ç«äºåèæ°æ®é®é¢ï¼ä¿è¯ç¨åºçæ­£ç¡®æ§åç¨³å®æ§ã\n\nå¦ä½æè½å®ç°å±äº«èµæºçäºæ¥è®¿é®å¢ï¼ éæ¯ä¸ä¸ªæ¯è¾éç¨çè§£å³æ¹æ¡ï¼æ´åç¡®ç¹æ¥è¯´æ¯æ²è§éã\n\næ²è§éæ»æ¯åè®¾æåçæåµï¼è®¤ä¸ºå±äº«èµæºæ¯æ¬¡è¢«è®¿é®çæ¶åå°±ä¼åºç°é®é¢(æ¯å¦å±äº«æ°æ®è¢«ä¿®æ¹)ï¼æä»¥æ¯æ¬¡å¨è·åèµæºæä½çæ¶åé½ä¼ä¸éï¼è¿æ ·å¶ä»çº¿ç¨æ³æ¿å°è¿ä¸ªèµæºå°±ä¼é»å¡ç´å°éè¢«ä¸ä¸ä¸ªææèéæ¾ãä¹å°±æ¯è¯´ï¼å±äº«èµæºæ¯æ¬¡åªç»ä¸ä¸ªçº¿ç¨ä½¿ç¨ï¼å¶å®çº¿ç¨é»å¡ï¼ç¨å®ååæèµæºè½¬è®©ç»å¶å®çº¿ç¨ã\n\nå¯¹äºåæºå¤çº¿ç¨æ¥è¯´ï¼å¨ Java ä¸­ï¼æä»¬éå¸¸ä½¿ç¨ ReetrantLock ç±»ãsynchronized å³é®å­è¿ç±» JDK èªå¸¦ç æ¬å°é æ¥æ§å¶ä¸ä¸ª JVM è¿ç¨åçå¤ä¸ªçº¿ç¨å¯¹æ¬å°å±äº«èµæºçè®¿é®ã\n\nåå¸å¼ç³»ç»ä¸ï¼ä¸åçæå¡/å®¢æ·ç«¯éå¸¸è¿è¡å¨ç¬ç«ç JVM è¿ç¨ä¸ãå¦æå¤ä¸ª JVM è¿ç¨å±äº«åä¸ä»½èµæºçè¯ï¼ä½¿ç¨æ¬å°éå°±æ²¡åæ³å®ç°èµæºçäºæ¥è®¿é®äºãäºæ¯ï¼åå¸å¼é å°±è¯çäºã\n\nä¸¾ä¸ªä¾å­ï¼ç³»ç»çè®¢åæå¡ä¸å±é¨ç½²äº 3 ä»½ï¼é½å¯¹å¤æä¾æå¡ãç¨æ·ä¸è®¢åä¹åéè¦æ£æ¥åºå­ï¼ä¸ºäºé²æ­¢è¶åï¼è¿ééè¦å éä»¥å®ç°å¯¹æ£æ¥åºå­æä½çåæ­¥è®¿é®ãç±äºè®¢åæå¡ä½äºä¸åç JVM è¿ç¨ä¸­ï¼æ¬å°éå¨è¿ç§æåµä¸å°±æ²¡åæ³æ­£å¸¸å·¥ä½äºãæä»¬éè¦ç¨å°åå¸å¼éï¼è¿æ ·çè¯ï¼å³ä½¿å¤ä¸ªçº¿ç¨ä¸å¨åä¸ä¸ª JVM è¿ç¨ä¸­ä¹è½è·åå°åä¸æéï¼è¿èå®ç°å±äº«èµæºçäºæ¥è®¿é®ã\n\n\n# åå¸å¼éåºè¯¥å·å¤çåªäºæ¡ä»¶ï¼\n\nä¸ä¸ªæåºæ¬çåå¸å¼ééè¦æ»¡è¶³ï¼\n\n * äºæ¥ï¼ä»»æä¸ä¸ªæ¶å»ï¼éåªè½è¢«ä¸ä¸ªçº¿ç¨ææã\n * é«å¯ç¨ï¼éæå¡æ¯é«å¯ç¨çï¼å½ä¸ä¸ªéæå¡åºç°é®é¢ï¼è½å¤èªå¨åæ¢å°å¦å¤ä¸ä¸ªéæå¡ãå¹¶ä¸ï¼å³ä½¿å®¢æ·ç«¯çéæ¾éçä»£ç é»è¾åºç°é®é¢ï¼éæç»ä¸å®è¿æ¯ä¼è¢«éæ¾ï¼ä¸ä¼å½±åå¶ä»çº¿ç¨å¯¹å±äº«èµæºçè®¿é®ãè¿ä¸è¬æ¯éè¿è¶æ¶æºå¶å®ç°çã\n * å¯éå¥ï¼ä¸ä¸ªèç¹è·åäºéä¹åï¼è¿å¯ä»¥åæ¬¡è·åéã\n\né¤äºä¸é¢è¿ä¸ä¸ªåºæ¬æ¡ä»¶ä¹å¤ï¼ä¸ä¸ªå¥½çåå¸å¼éè¿éè¦æ»¡è¶³ä¸é¢è¿äºæ¡ä»¶ï¼\n\n * é«æ§è½ï¼è·ååéæ¾éçæä½åºè¯¥å¿«éå®æï¼å¹¶ä¸ä¸åºè¯¥å¯¹æ´ä¸ªç³»ç»çæ§è½é æè¿å¤§å½±åã\n * éé»å¡ï¼å¦æè·åä¸å°éï¼ä¸è½æ éæç­å¾ï¼é¿åå¯¹ç³»ç»æ­£å¸¸è¿è¡é æå½±åã\n\n\n# åå¸å¼éå¸¸è§å®ç°æ¹å¼æåªäºï¼\n\nå¸¸è§åå¸å¼éå®ç°æ¹æ¡å¦ä¸ï¼\n\n * åºäºå³ç³»åæ°æ®åºæ¯å¦ MySQL å®ç°åå¸å¼éã\n * åºäºåå¸å¼åè°æå¡ ZooKeeper å®ç°åå¸å¼éã\n * åºäºåå¸å¼é®å¼å­å¨ç³»ç»æ¯å¦ Redis ãEtcd å®ç°åå¸å¼éã\n\nå³ç³»åæ°æ®åºçæ¹å¼ä¸è¬æ¯éè¿å¯ä¸ç´¢å¼æèæä»éå®ç°ãä¸è¿ï¼ä¸è¬ä¸ä¼ä½¿ç¨è¿ç§æ¹å¼ï¼é®é¢å¤ªå¤æ¯å¦æ§è½å¤ªå·®ãä¸å·å¤éå¤±ææºå¶ã\n\nåºäº ZooKeeper æè Redis å®ç°åå¸å¼éè¿ä¸¤ç§å®ç°æ¹å¼è¦ç¨çæ´å¤ä¸äºã\n\n\n# æ»ç»\n\nè¿ç¯æç« æä»¬ä¸»è¦ä»ç»äºï¼\n\n * åå¸å¼éçç¨éï¼åå¸å¼ç³»ç»ä¸ï¼ä¸åçæå¡/å®¢æ·ç«¯éå¸¸è¿è¡å¨ç¬ç«ç JVM è¿ç¨ä¸ãå¦æå¤ä¸ª JVM è¿ç¨å±äº«åä¸ä»½èµæºçè¯ï¼ä½¿ç¨æ¬å°éå°±æ²¡åæ³å®ç°èµæºçäºæ¥è®¿é®äºã\n * åå¸å¼éçåºè¯¥å·å¤çæ¡ä»¶ï¼äºæ¥ãé«å¯ç¨ãå¯éå¥ãé«æ§è½ãéé»å¡ã\n * åå¸å¼éçå¸¸è§å®ç°æ¹å¼ï¼å³ç³»åæ°æ®åºæ¯å¦ MySQLãåå¸å¼åè°æå¡ ZooKeeperãåå¸å¼é®å¼å­å¨ç³»ç»æ¯å¦ Redis ãEtcd ã\n\n\n# reference\n\n * åå¸å¼éä»ç»",normalizedContent:"# ä¸ºä»ä¹éè¦åå¸å¼éï¼\n\nå¨å¤çº¿ç¨ç¯å¢ä¸­ï¼å¦æå¤ä¸ªçº¿ç¨åæ¶è®¿é®å±äº«èµæºï¼ä¾å¦åååºå­ãå¤åè®¢åï¼ï¼ä¼åçæ°æ®ç«äºï¼å¯è½ä¼å¯¼è´åºç°èæ°æ®æèç³»ç»é®é¢ï¼å¨èå°ç¨åºçæ­£å¸¸è¿è¡ã\n\nä¸ºäºä¿è¯å±äº«èµæºè¢«å®å¨å°è®¿é®ï¼æä»¬éè¦ä½¿ç¨äºæ¥æä½å¯¹å±äº«èµæºè¿è¡ä¿æ¤ï¼å³åä¸æ¶å»åªåè®¸ä¸ä¸ªçº¿ç¨è®¿é®å±äº«èµæºï¼å¶ä»çº¿ç¨éè¦ç­å¾å½åçº¿ç¨éæ¾åæè½è®¿é®ãè¿æ ·å¯ä»¥é¿åæ°æ®ç«äºåèæ°æ®é®é¢ï¼ä¿è¯ç¨åºçæ­£ç¡®æ§åç¨³å®æ§ã\n\nå¦ä½æè½å®ç°å±äº«èµæºçäºæ¥è®¿é®å¢ï¼ éæ¯ä¸ä¸ªæ¯è¾éç¨çè§£å³æ¹æ¡ï¼æ´åç¡®ç¹æ¥è¯´æ¯æ²è§éã\n\næ²è§éæ»æ¯åè®¾æåçæåµï¼è®¤ä¸ºå±äº«èµæºæ¯æ¬¡è¢«è®¿é®çæ¶åå°±ä¼åºç°é®é¢(æ¯å¦å±äº«æ°æ®è¢«ä¿®æ¹)ï¼æä»¥æ¯æ¬¡å¨è·åèµæºæä½çæ¶åé½ä¼ä¸éï¼è¿æ ·å¶ä»çº¿ç¨æ³æ¿å°è¿ä¸ªèµæºå°±ä¼é»å¡ç´å°éè¢«ä¸ä¸ä¸ªææèéæ¾ãä¹å°±æ¯è¯´ï¼å±äº«èµæºæ¯æ¬¡åªç»ä¸ä¸ªçº¿ç¨ä½¿ç¨ï¼å¶å®çº¿ç¨é»å¡ï¼ç¨å®ååæèµæºè½¬è®©ç»å¶å®çº¿ç¨ã\n\nå¯¹äºåæºå¤çº¿ç¨æ¥è¯´ï¼å¨ java ä¸­ï¼æä»¬éå¸¸ä½¿ç¨ reetrantlock ç±»ãsynchronized å³é®å­è¿ç±» jdk èªå¸¦ç æ¬å°é æ¥æ§å¶ä¸ä¸ª jvm è¿ç¨åçå¤ä¸ªçº¿ç¨å¯¹æ¬å°å±äº«èµæºçè®¿é®ã\n\nåå¸å¼ç³»ç»ä¸ï¼ä¸åçæå¡/å®¢æ·ç«¯éå¸¸è¿è¡å¨ç¬ç«ç jvm è¿ç¨ä¸ãå¦æå¤ä¸ª jvm è¿ç¨å±äº«åä¸ä»½èµæºçè¯ï¼ä½¿ç¨æ¬å°éå°±æ²¡åæ³å®ç°èµæºçäºæ¥è®¿é®äºãäºæ¯ï¼åå¸å¼é å°±è¯çäºã\n\nä¸¾ä¸ªä¾å­ï¼ç³»ç»çè®¢åæå¡ä¸å±é¨ç½²äº 3 ä»½ï¼é½å¯¹å¤æä¾æå¡ãç¨æ·ä¸è®¢åä¹åéè¦æ£æ¥åºå­ï¼ä¸ºäºé²æ­¢è¶åï¼è¿ééè¦å éä»¥å®ç°å¯¹æ£æ¥åºå­æä½çåæ­¥è®¿é®ãç±äºè®¢åæå¡ä½äºä¸åç jvm è¿ç¨ä¸­ï¼æ¬å°éå¨è¿ç§æåµä¸å°±æ²¡åæ³æ­£å¸¸å·¥ä½äºãæä»¬éè¦ç¨å°åå¸å¼éï¼è¿æ ·çè¯ï¼å³ä½¿å¤ä¸ªçº¿ç¨ä¸å¨åä¸ä¸ª jvm è¿ç¨ä¸­ä¹è½è·åå°åä¸æéï¼è¿èå®ç°å±äº«èµæºçäºæ¥è®¿é®ã\n\n\n# åå¸å¼éåºè¯¥å·å¤çåªäºæ¡ä»¶ï¼\n\nä¸ä¸ªæåºæ¬çåå¸å¼ééè¦æ»¡è¶³ï¼\n\n * äºæ¥ï¼ä»»æä¸ä¸ªæ¶å»ï¼éåªè½è¢«ä¸ä¸ªçº¿ç¨ææã\n * é«å¯ç¨ï¼éæå¡æ¯é«å¯ç¨çï¼å½ä¸ä¸ªéæå¡åºç°é®é¢ï¼è½å¤èªå¨åæ¢å°å¦å¤ä¸ä¸ªéæå¡ãå¹¶ä¸ï¼å³ä½¿å®¢æ·ç«¯çéæ¾éçä»£ç é»è¾åºç°é®é¢ï¼éæç»ä¸å®è¿æ¯ä¼è¢«éæ¾ï¼ä¸ä¼å½±åå¶ä»çº¿ç¨å¯¹å±äº«èµæºçè®¿é®ãè¿ä¸è¬æ¯éè¿è¶æ¶æºå¶å®ç°çã\n * å¯éå¥ï¼ä¸ä¸ªèç¹è·åäºéä¹åï¼è¿å¯ä»¥åæ¬¡è·åéã\n\né¤äºä¸é¢è¿ä¸ä¸ªåºæ¬æ¡ä»¶ä¹å¤ï¼ä¸ä¸ªå¥½çåå¸å¼éè¿éè¦æ»¡è¶³ä¸é¢è¿äºæ¡ä»¶ï¼\n\n * é«æ§è½ï¼è·ååéæ¾éçæä½åºè¯¥å¿«éå®æï¼å¹¶ä¸ä¸åºè¯¥å¯¹æ´ä¸ªç³»ç»çæ§è½é æè¿å¤§å½±åã\n * éé»å¡ï¼å¦æè·åä¸å°éï¼ä¸è½æ éæç­å¾ï¼é¿åå¯¹ç³»ç»æ­£å¸¸è¿è¡é æå½±åã\n\n\n# åå¸å¼éå¸¸è§å®ç°æ¹å¼æåªäºï¼\n\nå¸¸è§åå¸å¼éå®ç°æ¹æ¡å¦ä¸ï¼\n\n * åºäºå³ç³»åæ°æ®åºæ¯å¦ mysql å®ç°åå¸å¼éã\n * åºäºåå¸å¼åè°æå¡ zookeeper å®ç°åå¸å¼éã\n * åºäºåå¸å¼é®å¼å­å¨ç³»ç»æ¯å¦ redis ãetcd å®ç°åå¸å¼éã\n\nå³ç³»åæ°æ®åºçæ¹å¼ä¸è¬æ¯éè¿å¯ä¸ç´¢å¼æèæä»éå®ç°ãä¸è¿ï¼ä¸è¬ä¸ä¼ä½¿ç¨è¿ç§æ¹å¼ï¼é®é¢å¤ªå¤æ¯å¦æ§è½å¤ªå·®ãä¸å·å¤éå¤±ææºå¶ã\n\nåºäº zookeeper æè redis å®ç°åå¸å¼éè¿ä¸¤ç§å®ç°æ¹å¼è¦ç¨çæ´å¤ä¸äºã\n\n\n# æ»ç»\n\nè¿ç¯æç« æä»¬ä¸»è¦ä»ç»äºï¼\n\n * åå¸å¼éçç¨éï¼åå¸å¼ç³»ç»ä¸ï¼ä¸åçæå¡/å®¢æ·ç«¯éå¸¸è¿è¡å¨ç¬ç«ç jvm è¿ç¨ä¸ãå¦æå¤ä¸ª jvm è¿ç¨å±äº«åä¸ä»½èµæºçè¯ï¼ä½¿ç¨æ¬å°éå°±æ²¡åæ³å®ç°èµæºçäºæ¥è®¿é®äºã\n * åå¸å¼éçåºè¯¥å·å¤çæ¡ä»¶ï¼äºæ¥ãé«å¯ç¨ãå¯éå¥ãé«æ§è½ãéé»å¡ã\n * åå¸å¼éçå¸¸è§å®ç°æ¹å¼ï¼å³ç³»åæ°æ®åºæ¯å¦ mysqlãåå¸å¼åè°æå¡ zookeeperãåå¸å¼é®å¼å­å¨ç³»ç»æ¯å¦ redis ãetcd ã\n\n\n# reference\n\n * åå¸å¼éä»ç»",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"åå¸å¼éå¸¸è§å®ç°æ¹æ¡æ»ç»",frontmatter:{title:"åå¸å¼éå¸¸è§å®ç°æ¹æ¡æ»ç»",date:"2023-10-24T03:41:14.000Z",permalink:"/pages/d51c58/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/04.%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/02.%E5%88%86%E5%B8%83%E5%BC%8F/01.%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/02.%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B8%B8%E8%A7%81%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88%E6%80%BB%E7%BB%93.html",relativePath:"01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/02.åå¸å¼/01.åå¸å¼é/02.åå¸å¼éå¸¸è§å®ç°æ¹æ¡æ»ç».md",key:"v-d97f40f6",path:"/pages/d51c58/",headers:[{level:1,title:"åºäº Redis å®ç°åå¸å¼é",slug:"åºäº-redis-å®ç°åå¸å¼é",normalizedTitle:"åºäº redis å®ç°åå¸å¼é",charIndex:82},{level:2,title:"å¦ä½åºäº Redis å®ç°ä¸ä¸ªæç®æçåå¸å¼éï¼",slug:"å¦ä½åºäº-redis-å®ç°ä¸ä¸ªæç®æçåå¸å¼é",normalizedTitle:"å¦ä½åºäº redis å®ç°ä¸ä¸ªæç®æçåå¸å¼éï¼",charIndex:102},{level:2,title:"ä¸ºä»ä¹è¦ç»éè®¾ç½®ä¸ä¸ªè¿ææ¶é´ï¼",slug:"ä¸ºä»ä¹è¦ç»éè®¾ç½®ä¸ä¸ªè¿ææ¶é´",normalizedTitle:"ä¸ºä»ä¹è¦ç»éè®¾ç½®ä¸ä¸ªè¿ææ¶é´ï¼",charIndex:823},{level:2,title:"å¦ä½å®ç°éçä¼éç»­æï¼",slug:"å¦ä½å®ç°éçä¼éç»­æ",normalizedTitle:"å¦ä½å®ç°éçä¼éç»­æï¼",charIndex:1307},{level:2,title:"å¦ä½å®ç°å¯éå¥é",slug:"å¦ä½å®ç°å¯éå¥é",normalizedTitle:"å¦ä½å®ç°å¯éå¥é",charIndex:2576},{level:2,title:"Redis å¦ä½è§£å³éç¾¤æåµä¸åå¸å¼éçå¯é æ§ï¼",slug:"redis-å¦ä½è§£å³éç¾¤æåµä¸åå¸å¼éçå¯é æ§",normalizedTitle:"redis å¦ä½è§£å³éç¾¤æåµä¸åå¸å¼éçå¯é æ§ï¼",charIndex:3064},{level:1,title:"åºäº ZooKeeper å®ç°åå¸å¼é",slug:"åºäº-zookeeper-å®ç°åå¸å¼é",normalizedTitle:"åºäº zookeeper å®ç°åå¸å¼é",charIndex:3624},{level:2,title:"å¦ä½åºäº ZooKeeper å®ç°åå¸å¼éï¼",slug:"å¦ä½åºäº-zookeeper-å®ç°åå¸å¼é",normalizedTitle:"å¦ä½åºäº zookeeper å®ç°åå¸å¼éï¼",charIndex:3712},{level:2,title:"ä¸ºä»ä¹è¦ç¨ä¸´æ¶é¡ºåºèç¹ï¼",slug:"ä¸ºä»ä¹è¦ç¨ä¸´æ¶é¡ºåºèç¹",normalizedTitle:"ä¸ºä»ä¹è¦ç¨ä¸´æ¶é¡ºåºèç¹ï¼",charIndex:5431},{level:2,title:"ä¸ºä»ä¹è¦è®¾ç½®å¯¹åä¸ä¸ªèç¹ççå¬ï¼",slug:"ä¸ºä»ä¹è¦è®¾ç½®å¯¹åä¸ä¸ªèç¹ççå¬",normalizedTitle:"ä¸ºä»ä¹è¦è®¾ç½®å¯¹åä¸ä¸ªèç¹ççå¬ï¼",charIndex:6143},{level:2,title:"å¦ä½å®ç°å¯éå¥éï¼",slug:"å¦ä½å®ç°å¯éå¥é-2",normalizedTitle:"å¦ä½å®ç°å¯éå¥éï¼",charIndex:6537},{level:1,title:"æ»ç»",slug:"æ»ç»",normalizedTitle:"æ»ç»",charIndex:8453},{level:1,title:"reference",slug:"reference",normalizedTitle:"reference",charIndex:8598}],headersStr:"åºäº Redis å®ç°åå¸å¼é å¦ä½åºäº Redis å®ç°ä¸ä¸ªæç®æçåå¸å¼éï¼ ä¸ºä»ä¹è¦ç»éè®¾ç½®ä¸ä¸ªè¿ææ¶é´ï¼ å¦ä½å®ç°éçä¼éç»­æï¼ å¦ä½å®ç°å¯éå¥é Redis å¦ä½è§£å³éç¾¤æåµä¸åå¸å¼éçå¯é æ§ï¼ åºäº ZooKeeper å®ç°åå¸å¼é å¦ä½åºäº ZooKeeper å®ç°åå¸å¼éï¼ ä¸ºä»ä¹è¦ç¨ä¸´æ¶é¡ºåºèç¹ï¼ ä¸ºä»ä¹è¦è®¾ç½®å¯¹åä¸ä¸ªèç¹ççå¬ï¼ å¦ä½å®ç°å¯éå¥éï¼ æ»ç» reference",content:'éå¸¸æåµä¸ï¼ä¸è¬ä¼éæ©åºäºRedisæèZooKeeperå®ç°åå¸å¼éï¼Redis å®ç° APæ¶æçåå¸å¼éï¼ZooKeeper å®ç°CPæ¶æçåå¸å¼éã\n\n\n# åºäº Redis å®ç°åå¸å¼é\n\n\n# å¦ä½åºäº Redis å®ç°ä¸ä¸ªæç®æçåå¸å¼éï¼\n\nä¸è®ºæ¯æ¬å°éè¿æ¯åå¸å¼éï¼æ ¸å¿é½å¨äºâäºæ¥âã\n\nå¨ Redis ä¸­ï¼ SETNX å½ä»¤æ¯å¯ä»¥å¸®å©æä»¬å®ç°äºæ¥ãSETNX å³ SET if Not eXists (å¯¹åº Java ä¸­ç setIfAbsent æ¹æ³)ï¼å¦æ key ä¸å­å¨çè¯ï¼æä¼è®¾ç½® key çå¼ãå¦æ key å·²ç»å­å¨ï¼ SETNX å¥ä¹ä¸åã\n\n> SETNX lockKey uniqueValue\n(integer) 1\n> SETNX lockKey uniqueValue\n(integer) 0\n\n\néæ¾éçè¯ï¼ç´æ¥éè¿ DEL å½ä»¤å é¤å¯¹åºç key å³å¯ã\n\n> DEL lockKey\n(integer) 1\n\n\nä¸ºäºé²æ­¢è¯¯å å°å¶ä»çéï¼è¿éæä»¬å»ºè®®ä½¿ç¨ Lua èæ¬éè¿ key å¯¹åºç valueï¼å¯ä¸å¼ï¼æ¥å¤æ­ã\n\néç¨ Lua èæ¬æ¯ä¸ºäºä¿è¯è§£éæä½çåå­æ§ãå ä¸º Redis å¨æ§è¡ Lua èæ¬æ¶ï¼å¯ä»¥ä»¥åå­æ§çæ¹å¼æ§è¡ï¼ä»èä¿è¯äºééæ¾æä½çåå­æ§ã\n\n// éæ¾éæ¶ï¼åæ¯è¾éå¯¹åºç value å¼æ¯å¦ç¸ç­ï¼é¿åéçè¯¯éæ¾\nif redis.call("get",KEYS[1]) == ARGV[1] then\n    return redis.call("del",KEYS[1])\nelse\n    return 0\nend\n\n\nè¿æ¯ä¸ç§æç®æç Redis åå¸å¼éå®ç°ï¼å®ç°æ¹å¼æ¯è¾ç®åï¼æ§è½ä¹å¾é«æãä¸è¿ï¼è¿ç§æ¹å¼å®ç°åå¸å¼éå­å¨ä¸äºé®é¢ãå°±æ¯å¦åºç¨ç¨åºéå°ä¸äºé®é¢æ¯å¦éæ¾éçé»è¾çªç¶ææï¼å¯è½ä¼å¯¼è´éæ æ³è¢«éæ¾ï¼è¿èé æå±äº«èµæºæ æ³åè¢«å¶ä»çº¿ç¨/è¿ç¨è®¿é®ã\n\n\n# ä¸ºä»ä¹è¦ç»éè®¾ç½®ä¸ä¸ªè¿ææ¶é´ï¼\n\nä¸ºäºé¿åéæ æ³è¢«éæ¾ï¼æä»¬å¯ä»¥æ³å°çä¸ä¸ªè§£å³åæ³å°±æ¯ï¼ç»è¿ä¸ª keyï¼ä¹å°±æ¯éï¼ è®¾ç½®ä¸ä¸ªè¿ææ¶é´ ã\n\n127.0.0.1:6379> SET lockKey uniqueValue EX 3 NX\nOK\n\n\n * lockKeyï¼å éçéåï¼\n * uniqueValueï¼è½å¤å¯ä¸æ ç¤ºéçéæºå­ç¬¦ä¸²ï¼\n * NXï¼åªæå½ lockKey å¯¹åºç key å¼ä¸å­å¨çæ¶åæè½ SET æåï¼\n * EXï¼è¿ææ¶é´è®¾ç½®ï¼ç§ä¸ºåä½ï¼EX 3 æ ç¤ºè¿ä¸ªéæä¸ä¸ª 3 ç§çèªå¨è¿ææ¶é´ãä¸ EX å¯¹åºçæ¯ PXï¼æ¯«ç§ä¸ºåä½ï¼ï¼è¿ä¸¤ä¸ªé½æ¯è¿ææ¶é´è®¾ç½®ã\n\nä¸å®è¦ä¿è¯è®¾ç½®æå® key çå¼åè¿ææ¶é´æ¯ä¸ä¸ªåå­æä½ï¼ï¼ï¼ ä¸ç¶çè¯ï¼ä¾ç¶å¯è½ä¼åºç°éæ æ³è¢«éæ¾çé®é¢ã\n\nè¿æ ·ç¡®å®å¯ä»¥è§£å³é®é¢ï¼ä¸è¿ï¼è¿ç§è§£å³åæ³åæ ·å­å¨æ¼æ´ï¼å¦ææä½å±äº«èµæºçæ¶é´å¤§äºè¿ææ¶é´ï¼å°±ä¼åºç°éæåè¿æçé®é¢ï¼è¿èå¯¼è´åå¸å¼éç´æ¥å¤±æãå¦æéçè¶æ¶æ¶é´è®¾ç½®è¿é¿ï¼åä¼å½±åå°æ§è½ã\n\nä½ æè®¸å¨æ³ï¼å¦ææä½å±äº«èµæºçæä½è¿æªå®æï¼éè¿ææ¶é´è½å¤èªå·±ç»­æå°±å¥½äºï¼\n\n\n# å¦ä½å®ç°éçä¼éç»­æï¼\n\nå¯¹äº Java å¼åçå°ä¼ä¼´æ¥è¯´ï¼å·²ç»æäºç°æçè§£å³æ¹æ¡ï¼Redisson ãå¶ä»è¯­è¨çè§£å³æ¹æ¡ï¼å¯ä»¥å¨ Redis å®æ¹ææ¡£ä¸­æ¾å°ï¼å°åï¼https://redis.io/topics/distlock ã\n\nRedisson æ¯ä¸ä¸ªå¼æºç Java è¯­è¨ Redis å®¢æ·ç«¯ï¼æä¾äºå¾å¤å¼ç®±å³ç¨çåè½ï¼ä¸ä»ä»åæ¬å¤ç§åå¸å¼éçå®ç°ãå¹¶ä¸ï¼Redisson è¿æ¯æ Redis åæºãRedis SentinelãRedis Cluster ç­å¤ç§é¨ç½²æ¶æã\n\nRedisson ä¸­çåå¸å¼éèªå¸¦èªå¨ç»­ææºå¶ï¼ä½¿ç¨èµ·æ¥éå¸¸ç®åï¼åçä¹æ¯è¾ç®åï¼å¶æä¾äºä¸ä¸ªä¸é¨ç¨æ¥çæ§åç»­æéç Watch Dogï¼ çé¨çï¼ï¼å¦ææä½å±äº«èµæºççº¿ç¨è¿æªæ§è¡å®æçè¯ï¼Watch Dog ä¼ä¸æ­å°å»¶é¿éçè¿ææ¶é´ï¼è¿èä¿è¯éä¸ä¼å ä¸ºè¶æ¶èè¢«éæ¾ã\n\nçé¨çåå­çç±æ¥äº getLockWatchdogTimeout() æ¹æ³ï¼è¿ä¸ªæ¹æ³è¿åçæ¯çé¨çç»éç»­æçè¿ææ¶é´ï¼é»è®¤ä¸º 30 ç§ï¼redisson-3.17.6ï¼ã\n\né»è®¤æåµä¸ï¼æ¯è¿ 10 ç§ï¼çé¨çå°±ä¼æ§è¡ç»­ææä½ï¼å°éçè¶æ¶æ¶é´è®¾ç½®ä¸º 30 ç§ãçé¨çç»­æåä¹ä¼åå¤æ­æ¯å¦éè¦æ§è¡ç»­ææä½ï¼éè¦æä¼æ§è¡ç»­æï¼å¦ååæ¶ç»­ææä½ã\n\n> é»è®¤æåµä¸ï¼çé¨ççç»­ææ¶é´æ¯30sï¼ä¹å¯ä»¥éè¿ä¿®æ¹Config.lockWatchdogTimeoutæ¥å¦è¡æå®ãå¦å¤Redisson è¿æä¾äºå¯ä»¥æå®leaseTimeåæ°çå éæ¹æ³æ¥æå®å éçæ¶é´ãè¶è¿è¿ä¸ªæ¶é´åéä¾¿èªå¨è§£å¼äºï¼ä¸ä¼å»¶é¿éçæææã\n> \n> watchDog åªæå¨æªæ¾ç¤ºæå®å éæ¶é´ï¼leaseTimeï¼æ¶æä¼çæã\n\nè¿éä»¥ Redisson çåå¸å¼å¯éå¥é RLock ä¸ºä¾æ¥è¯´æå¦ä½ä½¿ç¨ Redisson å®ç°åå¸å¼éï¼\n\n// 1.è·åæå®çåå¸å¼éå¯¹è±¡\nRLock lock = redisson.getLock("lock");\n// 2.æ¿éä¸ä¸è®¾ç½®éè¶æ¶æ¶é´ï¼å·å¤ Watch Dog èªå¨ç»­ææºå¶\nlock.lock();\n// 3.æ§è¡ä¸å¡\n...\n// 4.éæ¾é\nlock.unlock();\n\n\nåªææªæå®éè¶æ¶æ¶é´ï¼æä¼ä½¿ç¨å° Watch Dog èªå¨ç»­ææºå¶ã\n\n// æå¨ç»éè®¾ç½®è¿ææ¶é´ï¼ä¸å·å¤ Watch Dog èªå¨ç»­ææºå¶\nlock.lock(10, TimeUnit.SECONDS);\n\n\nç¨åºéæ¾éæä½æ¶å ä¸ºå¼å¸¸æ²¡æè¢«æ§è¡ï¼é£ä¹éæ æ³è¢«éæ¾ï¼æä»¥éæ¾éæä½ä¸å®è¦æ¾å° finally {} ä¸­ã\n\nå¦æéæ¾éæä½æ¬èº«å¼å¸¸äºï¼watch dog è¿ä¼ä¸åçç»­æåï¼ä¸ä¼ï¼å ä¸ºæ è®ºéæ¾éæä½æ¯å¦æåï¼EXPIRATION_RENEWAL_MAPä¸­çç®æ  ExpirationEntry å¯¹è±¡å·²ç»è¢«ç§»é¤äºï¼watch dog éè¿å¤æ­åå°±ä¸ä¼ç»§ç»­ç»éç»­æäºã\n\nå¦æä½¿ç¨ Redis æ¥å®ç°åå¸å¼éçè¯ï¼è¿æ¯æ¯è¾æ¨èç´æ¥åºäº Redisson æ¥åçã\n\n\n# å¦ä½å®ç°å¯éå¥é\n\næè°å¯éå¥éæçæ¯å¨ä¸ä¸ªçº¿ç¨ä¸­å¯ä»¥å¤æ¬¡è·ååä¸æéï¼æ¯å¦ä¸ä¸ªçº¿ç¨å¨æ§è¡ä¸ä¸ªå¸¦éçæ¹æ³ï¼è¯¥æ¹æ³ä¸­åè°ç¨äºå¦ä¸ä¸ªéè¦ç¸åéçæ¹æ³ï¼åè¯¥çº¿ç¨å¯ä»¥ç´æ¥æ§è¡è°ç¨çæ¹æ³å³å¯éå¥ ï¼èæ ééæ°è·å¾éãå Java ä¸­ç synchronized å ReentrantLock é½å±äºå¯éå¥éã\n\nä¸å¯éå¥çåå¸å¼éåºæ¬å¯ä»¥æ»¡è¶³ç»å¤§é¨åä¸å¡åºæ¯äºï¼ä¸äºç¹æ®çåºæ¯å¯è½ä¼éè¦ä½¿ç¨å¯éå¥çåå¸å¼éã\n\nå¯éå¥åå¸å¼éçå®ç°æ ¸å¿æè·¯æ¯çº¿ç¨å¨è·åéçæ¶åå¤æ­æ¯å¦ä¸ºèªå·±çéï¼å¦ææ¯çè¯ï¼å°±ä¸ç¨åéæ°è·åäºãä¸ºæ­¤ï¼æä»¬å¯ä»¥ä¸ºæ¯ä¸ªéå³èä¸ä¸ªå¯éå¥è®¡æ°å¨åä¸ä¸ªå æå®ççº¿ç¨ãå½å¯éå¥è®¡æ°å¨å¤§äº 0 æ¶ï¼åéè¢«å æï¼éè¦å¤æ­å æè¯¥éççº¿ç¨åè¯·æ±è·åéççº¿ç¨æ¯å¦ä¸ºåä¸ä¸ªã\n\nå®éé¡¹ç®ä¸­ï¼æä»¬ä¸éè¦èªå·±æå¨å®ç°ï¼æ¨èä½¿ç¨æä»¬ä¸é¢æå°ç Redisson ï¼å¶åç½®äºå¤ç§ç±»åçéæ¯å¦å¯éå¥éï¼Reentrant Lockï¼ãèªæéï¼Spin Lockï¼ãå¬å¹³éï¼Fair Lockï¼ãå¤ééï¼MultiLockï¼ã çº¢éï¼RedLockï¼ã è¯»åéï¼ReadWriteLockï¼ã\n\n\n# Redis å¦ä½è§£å³éç¾¤æåµä¸åå¸å¼éçå¯é æ§ï¼\n\nä¸ºäºé¿ååç¹æéï¼çäº§ç¯å¢ä¸ç Redis æå¡éå¸¸æ¯éç¾¤åé¨ç½²çã\n\nRedis éç¾¤ä¸ï¼ä¸é¢ä»ç»å°çåå¸å¼éçå®ç°ä¼å­å¨ä¸äºé®é¢ãç±äº Redis éç¾¤æ°æ®åæ­¥å°åä¸ªèç¹æ¶æ¯å¼æ­¥çï¼å¦æå¨ Redis ä¸»èç¹è·åå°éåï¼å¨æ²¡æåæ­¥å°å¶ä»èç¹æ¶ï¼Redis ä¸»èç¹å®æºäºï¼æ­¤æ¶æ°ç Redis ä¸»èç¹ä¾ç¶å¯ä»¥è·åéï¼æä»¥å¤ä¸ªåºç¨æå¡å°±å¯ä»¥åæ¶è·åå°éã\n\néå¯¹è¿ä¸ªé®é¢ï¼Redis ä¹ç¶ antirez è®¾è®¡äº Redlock ç®æ³ æ¥è§£å³ã\n\nRedlock ç®æ³çææ³æ¯è®©å®¢æ·ç«¯å Redis éç¾¤ä¸­çå¤ä¸ªç¬ç«ç Redis å®ä¾ä¾æ¬¡è¯·æ±ç³è¯·å éï¼å¦æå®¢æ·ç«¯è½å¤ååæ°ä»¥ä¸çå®ä¾æåå°å®æå éæä½ï¼é£ä¹æä»¬å°±è®¤ä¸ºï¼å®¢æ·ç«¯æåå°è·å¾åå¸å¼éï¼å¦åå éå¤±è´¥ã\n\nå³ä½¿é¨å Redis èç¹åºç°é®é¢ï¼åªè¦ä¿è¯ Redis éç¾¤ä¸­æåæ°ä»¥ä¸ç Redis èç¹å¯ç¨ï¼åå¸å¼éæå¡å°±æ¯æ­£å¸¸çã\n\nå®éé¡¹ç®ä¸­ä¸å»ºè®®ä½¿ç¨ Redlock ç®æ³ï¼ææ¬åæ¶çä¸ææ­£æ¯ã\n\nå¦æä¸æ¯éè¦å®ç°ç»å¯¹å¯é çåå¸å¼éçè¯ï¼å¶å®åæºç Redis å°±å®å¨å¤äºï¼å®ç°ç®åï¼æ§è½ä¹éå¸¸é«ãå¦æä½ å¿é¡»è¦å®ç°ä¸ä¸ªç»å¯¹å¯é çåå¸å¼éçè¯ï¼å¯ä»¥åºäº ZooKeeper æ¥åï¼åªæ¯æ§è½ä¼å·®ä¸äºã\n\n\n# åºäº ZooKeeper å®ç°åå¸å¼é\n\nRedis å®ç°åå¸å¼éæ§è½è¾é«ï¼ZooKeeper å®ç°åå¸å¼éå¯é æ§æ´é«ãå®éé¡¹ç®ä¸­ï¼æä»¬åºè¯¥æ ¹æ®ä¸å¡çå·ä½éæ±æ¥éæ©ã\n\n\n# å¦ä½åºäº ZooKeeper å®ç°åå¸å¼éï¼\n\nZooKeeper åå¸å¼éæ¯åºäº ä¸´æ¶é¡ºåºèç¹ å Watcherï¼äºä»¶çå¬å¨ï¼ å®ç°çã\n\nè·åéï¼\n\n 1. é¦åæä»¬è¦æä¸ä¸ªæä¹èç¹/locksï¼å®¢æ·ç«¯è·åéå°±æ¯å¨locksä¸åå»ºä¸´æ¶é¡ºåºèç¹ã\n 2. åè®¾å®¢æ·ç«¯ 1 åå»ºäº/locks/lock1èç¹ï¼åå»ºæåä¹åï¼ä¼å¤æ­ lock1æ¯å¦æ¯ /locks ä¸æå°çå­èç¹ã\n 3. å¦æ lock1æ¯æå°çå­èç¹ï¼åè·åéæåãå¦åï¼è·åéå¤±è´¥ã\n 4. å¦æè·åéå¤±è´¥ï¼åè¯´ææå¶ä»çå®¢æ·ç«¯å·²ç»æåè·åéãå®¢æ·ç«¯ 1 å¹¶ä¸ä¼ä¸åå°å¾ªç¯å»å°è¯å éï¼èæ¯å¨åä¸ä¸ªèç¹æ¯å¦/locks/lock0ä¸æ³¨åä¸ä¸ªäºä»¶çå¬å¨ãè¿ä¸ªçå¬å¨çä½ç¨æ¯å½åä¸ä¸ªèç¹éæ¾éä¹åéç¥å®¢æ·ç«¯ 1ï¼é¿åæ æèªæï¼ï¼è¿æ ·å®¢æ·ç«¯ 1 å°±å éæåäºã\n\néæ¾éï¼\n\n 1. æåè·åéçå®¢æ·ç«¯å¨æ§è¡å®ä¸å¡æµç¨ä¹åï¼ä¼å°å¯¹åºçå­èç¹å é¤ã\n 2. æåè·åéçå®¢æ·ç«¯å¨åºç°æéä¹åï¼å¯¹åºçå­èç¹ç±äºæ¯ä¸´æ¶é¡ºåºèç¹ï¼ä¹ä¼è¢«èªå¨å é¤ï¼é¿åäºéæ æ³è¢«éæ¾ã\n 3. æä»¬åé¢è¯´çäºä»¶çå¬å¨å¶å®çå¬çå°±æ¯è¿ä¸ªå­èç¹å é¤äºä»¶ï¼å­èç¹å é¤å°±æå³çéè¢«éæ¾ã\n\nå®éé¡¹ç®ä¸­ï¼æ¨èä½¿ç¨ Curator æ¥å®ç° ZooKeeper åå¸å¼éãCurator æ¯ Netflix å¬å¸å¼æºçä¸å¥ ZooKeeper Java å®¢æ·ç«¯æ¡æ¶ï¼ç¸æ¯äº ZooKeeper èªå¸¦çå®¢æ·ç«¯ zookeeper æ¥è¯´ï¼Curator çå°è£æ´å å®åï¼åç§ API é½å¯ä»¥æ¯è¾æ¹ä¾¿å°ä½¿ç¨ã\n\nCuratorä¸»è¦å®ç°äºä¸é¢åç§éï¼\n\n * InterProcessMutexï¼åå¸å¼å¯éå¥æå®é\n * InterProcessSemaphoreMutexï¼åå¸å¼ä¸å¯éå¥æå®é\n * InterProcessReadWriteLockï¼åå¸å¼è¯»åé\n * InterProcessMultiLockï¼å°å¤ä¸ªéä½ä¸ºåä¸ªå®ä½ç®¡ççå®¹å¨ï¼è·åéçæ¶åè·åææéï¼éæ¾éä¹ä¼éæ¾ææéèµæºï¼å¿½ç¥éæ¾å¤±è´¥çéï¼ã\n\nCuratorFramework client = ZKUtils.getClient();\nclient.start();\n// åå¸å¼å¯éå¥æå®é\nInterProcessLock lock1 = new InterProcessMutex(client, lockPath1);\n// åå¸å¼ä¸å¯éå¥æå®é\nInterProcessLock lock2 = new InterProcessSemaphoreMutex(client, lockPath2);\n// å°å¤ä¸ªéä½ä¸ºä¸ä¸ªæ´ä½\nInterProcessMultiLock lock = new InterProcessMultiLock(Arrays.asList(lock1, lock2));\n\nif (!lock.acquire(10, TimeUnit.SECONDS)) {\n   throw new IllegalStateException("ä¸è½è·åå¤é");\n}\nSystem.out.println("å·²è·åå¤é");\nSystem.out.println("æ¯å¦æç¬¬ä¸ä¸ªé: " + lock1.isAcquiredInThisProcess());\nSystem.out.println("æ¯å¦æç¬¬äºä¸ªé: " + lock2.isAcquiredInThisProcess());\ntry {\n    // èµæºæä½\n    resource.use();\n} finally {\n    System.out.println("éæ¾å¤ä¸ªé");\n    lock.release();\n}\nSystem.out.println("æ¯å¦æç¬¬ä¸ä¸ªé: " + lock1.isAcquiredInThisProcess());\nSystem.out.println("æ¯å¦æç¬¬äºä¸ªé: " + lock2.isAcquiredInThisProcess());\nclient.close();\n\n\n\n# ä¸ºä»ä¹è¦ç¨ä¸´æ¶é¡ºåºèç¹ï¼\n\næ¯ä¸ªæ°æ®èç¹å¨ ZooKeeper ä¸­è¢«ç§°ä¸º znodeï¼å®æ¯ ZooKeeper ä¸­æ°æ®çæå°ååã\n\næä»¬éå¸¸æ¯å° znode åä¸º 4 å¤§ç±»ï¼\n\n * æä¹ï¼PERSISTENTï¼èç¹ï¼ä¸æ¦åå»ºå°±ä¸ç´å­å¨å³ä½¿ ZooKeeper éç¾¤å®æºï¼ç´å°å°å¶å é¤ã\n * ä¸´æ¶ï¼EPHEMERALï¼èç¹ï¼ä¸´æ¶èç¹ççå½å¨ææ¯ä¸ å®¢æ·ç«¯ä¼è¯ï¼sessionï¼ ç»å®çï¼ä¼è¯æ¶å¤±åèç¹æ¶å¤± ãå¹¶ä¸ï¼ä¸´æ¶èç¹åªè½åå¶å­èç¹ ï¼ä¸è½åå»ºå­èç¹ã\n * æä¹é¡ºåºï¼PERSISTENT_SEQUENTIALï¼èç¹ï¼é¤äºå·ææä¹ï¼PERSISTENTï¼èç¹çç¹æ§ä¹å¤ï¼ å­èç¹çåç§°è¿å·æé¡ºåºæ§ãæ¯å¦ /node1/app0000000001ã/node1/app0000000002 ã\n * ä¸´æ¶é¡ºåºï¼EPHEMERAL_SEQUENTIALï¼èç¹ï¼é¤äºå·å¤ä¸´æ¶ï¼EPHEMERALï¼èç¹çç¹æ§ä¹å¤ï¼å­èç¹çåç§°è¿å·æé¡ºåºæ§ã\n\nå¯ä»¥çåºï¼ä¸´æ¶èç¹ç¸æ¯æä¹èç¹ï¼æä¸»è¦çæ¯å¯¹ä¼è¯å¤±æçæåµå¤çä¸ä¸æ ·ï¼ä¸´æ¶èç¹ä¼è¯æ¶å¤±åå¯¹åºçèç¹æ¶å¤±ãè¿æ ·çè¯ï¼å¦æå®¢æ·ç«¯åçå¼å¸¸å¯¼è´æ²¡æ¥å¾åéæ¾éä¹æ²¡å³ç³»ï¼ä¼è¯å¤±æèç¹èªå¨è¢«å é¤ï¼ä¸ä¼åçæ­»éçé®é¢ã\n\nä½¿ç¨ Redis å®ç°åå¸å¼éçæ¶åï¼æä»¬æ¯éè¿è¿ææ¶é´æ¥é¿åéæ æ³è¢«éæ¾å¯¼è´æ­»éé®é¢çï¼è ZooKeeper ç´æ¥å©ç¨ä¸´æ¶èç¹çç¹æ§å³å¯ã\n\nåè®¾ä¸ä½¿ç¨é¡ºåºèç¹çè¯ï¼ææå°è¯è·åéçå®¢æ·ç«¯é½ä¼å¯¹ææéçå­èç¹å çå¬å¨ãå½è¯¥éè¢«éæ¾ä¹åï¼å¿å¿ä¼é æææå°è¯è·åéçå®¢æ·ç«¯æ¥äºå¤ºéï¼è¿æ ·å¯¹æ§è½ä¸åå¥½ãä½¿ç¨é¡ºåºèç¹ä¹åï¼åªéè¦çå¬åä¸ä¸ªèç¹å°±å¥½äºï¼å¯¹æ§è½æ´åå¥½ã\n\n\n# ä¸ºä»ä¹è¦è®¾ç½®å¯¹åä¸ä¸ªèç¹ççå¬ï¼\n\n> Watcherï¼äºä»¶çå¬å¨ï¼ï¼æ¯ ZooKeeper ä¸­çä¸ä¸ªå¾éè¦çç¹æ§ãZooKeeper åè®¸ç¨æ·å¨æå®èç¹ä¸æ³¨åä¸äº Watcherï¼å¹¶ä¸å¨ä¸äºç¹å®äºä»¶è§¦åçæ¶åï¼ZooKeeper æå¡ç«¯ä¼å°äºä»¶éç¥å°æå´è¶£çå®¢æ·ç«¯ä¸å»ï¼è¯¥æºå¶æ¯ ZooKeeper å®ç°åå¸å¼åè°æå¡çéè¦ç¹æ§ã\n\nåä¸æ¶é´æ®µåï¼å¯è½ä¼æå¾å¤å®¢æ·ç«¯åæ¶è·åéï¼ä½åªæä¸ä¸ªå¯ä»¥è·åæåãå¦æè·åéå¤±è´¥ï¼åè¯´ææå¶ä»çå®¢æ·ç«¯å·²ç»æåè·åéãè·åéå¤±è´¥çå®¢æ·ç«¯å¹¶ä¸ä¼ä¸åå°å¾ªç¯å»å°è¯å éï¼èæ¯å¨åä¸ä¸ªèç¹æ³¨åä¸ä¸ªäºä»¶çå¬å¨ã\n\nè¿ä¸ªäºä»¶çå¬å¨çä½ç¨æ¯ï¼å½åä¸ä¸ªèç¹å¯¹åºçå®¢æ·ç«¯éæ¾éä¹åï¼ä¹å°±æ¯åä¸ä¸ªèç¹è¢«å é¤ä¹åï¼çå¬çæ¯å é¤äºä»¶ï¼ï¼éç¥è·åéå¤±è´¥çå®¢æ·ç«¯ï¼å¤éç­å¾ççº¿ç¨ï¼Java ä¸­ç wait/notifyAll ï¼ï¼è®©å®å°è¯å»è·åéï¼ç¶åå°±æåè·åéäºã\n\n\n# å¦ä½å®ç°å¯éå¥éï¼\n\nè¿éä»¥ Curator ç InterProcessMutex å¯¹å¯éå¥éçå®ç°æ¥ä»ç»ï¼æºç å°åï¼InterProcessMutex.javaï¼ã\n\nå½æä»¬è°ç¨ InterProcessMutex#acquireæ¹æ³è·åéçæ¶åï¼ä¼è°ç¨InterProcessMutex#internalLockæ¹æ³ã\n\n// è·åå¯éå¥äºæ¥éï¼ç´å°è·åæåä¸ºæ­¢\n@Override\npublic void acquire() throws Exception {\n  if (!internalLock(-1, null)) {\n    throw new IOException("Lost connection while trying to acquire lock: " + basePath);\n  }\n}\n\n\ninternalLock æ¹æ³ä¼åè·åå½åè¯·æ±éççº¿ç¨ï¼ç¶åä» threadData( ConcurrentMap<Thread, LockData> ç±»å)ä¸­è·åå½åçº¿ç¨å¯¹åºç lockData ã lockData åå«éçä¿¡æ¯åå éçæ¬¡æ°ï¼æ¯å®ç°å¯éå¥éçå³é®ã\n\nç¬¬ä¸æ¬¡è·åéçæ¶åï¼lockDataä¸º nullãè·åéæåä¹åï¼ä¼å°å½åçº¿ç¨åå¯¹åºç lockData æ¾å° threadData ä¸­\n\nprivate boolean internalLock(long time, TimeUnit unit) throws Exception {\n  // è·åå½åè¯·æ±éççº¿ç¨\n  Thread currentThread = Thread.currentThread();\n  // æ¿å¯¹åºç lockData\n  LockData lockData = threadData.get(currentThread);\n  // ç¬¬ä¸æ¬¡è·åéçè¯ï¼lockData ä¸º null\n  if (lockData != null) {\n    // å½åçº¿ç¨è·åè¿ä¸æ¬¡éä¹å\n    // å ä¸ºå½åçº¿ç¨çéå­å¨ï¼ lockCount èªå¢åè¿åï¼å®ç°ééå¥.\n    lockData.lockCount.incrementAndGet();\n    return true;\n  }\n  // å°è¯è·åé\n  String lockPath = internals.attemptLock(time, unit, getLockNodeBytes());\n  if (lockPath != null) {\n    LockData newLockData = new LockData(currentThread, lockPath);\n     // è·åéæåä¹åï¼å°å½åçº¿ç¨åå¯¹åºç lockData æ¾å° threadData ä¸­\n    threadData.put(currentThread, newLockData);\n    return true;\n  }\n\n  return false;\n}\n\n\nLockDataæ¯ InterProcessMutexä¸­çä¸ä¸ªéæåé¨ç±»ã\n\nprivate final ConcurrentMap<Thread, LockData> threadData = Maps.newConcurrentMap();\n\nprivate static class LockData\n{\n    // å½åææéççº¿ç¨\n    final Thread owningThread;\n    // éå¯¹åºçå­èç¹\n    final String lockPath;\n    // å éçæ¬¡æ°\n    final AtomicInteger lockCount = new AtomicInteger(1);\n\n    private LockData(Thread owningThread, String lockPath)\n    {\n      this.owningThread = owningThread;\n      this.lockPath = lockPath;\n    }\n}\n\n\nå¦æå·²ç»è·åè¿ä¸æ¬¡éï¼åé¢åæ¥è·åéçè¯ï¼ç´æ¥å°±ä¼å¨ if (lockData != null) è¿éè¢«æ¦ä¸äºï¼ç¶åå°±ä¼æ§è¡lockData.lockCount.incrementAndGet(); å°å éæ¬¡æ°å  1ã\n\næ´ä¸ªå¯éå¥éçå®ç°é»è¾éå¸¸ç®åï¼ç´æ¥å¨å®¢æ·ç«¯å¤æ­å½åçº¿ç¨ææ²¡æè·åéï¼æçè¯ç´æ¥å°å éæ¬¡æ°å  1 å°±å¯ä»¥äºã\n\n\n# æ»ç»\n\nè¿ç¯æç« æä»¬ä»ç»äºå®ç°åå¸å¼éçä¸¤ç§å¸¸è§æ¹å¼ãè³äºå·ä½éæ© Redis è¿æ¯ ZooKeeper æ¥å®ç°åå¸å¼éï¼è¿æ¯è¦çä¸å¡çå·ä½éæ±ãå¦æå¯¹æ§è½è¦æ±æ¯è¾é«çè¯ï¼å»ºè®®ä½¿ç¨ Redis å®ç°åå¸å¼éãå¦æå¯¹å¯é æ§è¦æ±æ¯è¾é«çè¯ï¼å»ºè®®ä½¿ç¨ ZooKeeper å®ç°åå¸å¼éã\n\n\n# reference\n\n * redissonä¸­ççé¨çæºå¶æ»ç» - é­æè£ - åå®¢å­\n * Redis ä½¿ç¨Redisson+Rlockå®ç°åå¸å¼é - å­¦æ æ­¢å¢ï¼è´µå¨å½ä¸ - åå®¢å­\n * åå¸å¼éå¸¸è§å®ç°æ¹æ¡æ»ç»\n * Redisson åå¸å¼éå®æä¸ watch dog æºå¶è§£è¯» - ä¸å¸ç±åè¹æ-Soochow - åå®¢å­',normalizedContent:'éå¸¸æåµä¸ï¼ä¸è¬ä¼éæ©åºäºredisæèzookeeperå®ç°åå¸å¼éï¼redis å®ç° apæ¶æçåå¸å¼éï¼zookeeper å®ç°cpæ¶æçåå¸å¼éã\n\n\n# åºäº redis å®ç°åå¸å¼é\n\n\n# å¦ä½åºäº redis å®ç°ä¸ä¸ªæç®æçåå¸å¼éï¼\n\nä¸è®ºæ¯æ¬å°éè¿æ¯åå¸å¼éï¼æ ¸å¿é½å¨äºâäºæ¥âã\n\nå¨ redis ä¸­ï¼ setnx å½ä»¤æ¯å¯ä»¥å¸®å©æä»¬å®ç°äºæ¥ãsetnx å³ set if not exists (å¯¹åº java ä¸­ç setifabsent æ¹æ³)ï¼å¦æ key ä¸å­å¨çè¯ï¼æä¼è®¾ç½® key çå¼ãå¦æ key å·²ç»å­å¨ï¼ setnx å¥ä¹ä¸åã\n\n> setnx lockkey uniquevalue\n(integer) 1\n> setnx lockkey uniquevalue\n(integer) 0\n\n\néæ¾éçè¯ï¼ç´æ¥éè¿ del å½ä»¤å é¤å¯¹åºç key å³å¯ã\n\n> del lockkey\n(integer) 1\n\n\nä¸ºäºé²æ­¢è¯¯å å°å¶ä»çéï¼è¿éæä»¬å»ºè®®ä½¿ç¨ lua èæ¬éè¿ key å¯¹åºç valueï¼å¯ä¸å¼ï¼æ¥å¤æ­ã\n\néç¨ lua èæ¬æ¯ä¸ºäºä¿è¯è§£éæä½çåå­æ§ãå ä¸º redis å¨æ§è¡ lua èæ¬æ¶ï¼å¯ä»¥ä»¥åå­æ§çæ¹å¼æ§è¡ï¼ä»èä¿è¯äºééæ¾æä½çåå­æ§ã\n\n// éæ¾éæ¶ï¼åæ¯è¾éå¯¹åºç value å¼æ¯å¦ç¸ç­ï¼é¿åéçè¯¯éæ¾\nif redis.call("get",keys[1]) == argv[1] then\n    return redis.call("del",keys[1])\nelse\n    return 0\nend\n\n\nè¿æ¯ä¸ç§æç®æç redis åå¸å¼éå®ç°ï¼å®ç°æ¹å¼æ¯è¾ç®åï¼æ§è½ä¹å¾é«æãä¸è¿ï¼è¿ç§æ¹å¼å®ç°åå¸å¼éå­å¨ä¸äºé®é¢ãå°±æ¯å¦åºç¨ç¨åºéå°ä¸äºé®é¢æ¯å¦éæ¾éçé»è¾çªç¶ææï¼å¯è½ä¼å¯¼è´éæ æ³è¢«éæ¾ï¼è¿èé æå±äº«èµæºæ æ³åè¢«å¶ä»çº¿ç¨/è¿ç¨è®¿é®ã\n\n\n# ä¸ºä»ä¹è¦ç»éè®¾ç½®ä¸ä¸ªè¿ææ¶é´ï¼\n\nä¸ºäºé¿åéæ æ³è¢«éæ¾ï¼æä»¬å¯ä»¥æ³å°çä¸ä¸ªè§£å³åæ³å°±æ¯ï¼ç»è¿ä¸ª keyï¼ä¹å°±æ¯éï¼ è®¾ç½®ä¸ä¸ªè¿ææ¶é´ ã\n\n127.0.0.1:6379> set lockkey uniquevalue ex 3 nx\nok\n\n\n * lockkeyï¼å éçéåï¼\n * uniquevalueï¼è½å¤å¯ä¸æ ç¤ºéçéæºå­ç¬¦ä¸²ï¼\n * nxï¼åªæå½ lockkey å¯¹åºç key å¼ä¸å­å¨çæ¶åæè½ set æåï¼\n * exï¼è¿ææ¶é´è®¾ç½®ï¼ç§ä¸ºåä½ï¼ex 3 æ ç¤ºè¿ä¸ªéæä¸ä¸ª 3 ç§çèªå¨è¿ææ¶é´ãä¸ ex å¯¹åºçæ¯ pxï¼æ¯«ç§ä¸ºåä½ï¼ï¼è¿ä¸¤ä¸ªé½æ¯è¿ææ¶é´è®¾ç½®ã\n\nä¸å®è¦ä¿è¯è®¾ç½®æå® key çå¼åè¿ææ¶é´æ¯ä¸ä¸ªåå­æä½ï¼ï¼ï¼ ä¸ç¶çè¯ï¼ä¾ç¶å¯è½ä¼åºç°éæ æ³è¢«éæ¾çé®é¢ã\n\nè¿æ ·ç¡®å®å¯ä»¥è§£å³é®é¢ï¼ä¸è¿ï¼è¿ç§è§£å³åæ³åæ ·å­å¨æ¼æ´ï¼å¦ææä½å±äº«èµæºçæ¶é´å¤§äºè¿ææ¶é´ï¼å°±ä¼åºç°éæåè¿æçé®é¢ï¼è¿èå¯¼è´åå¸å¼éç´æ¥å¤±æãå¦æéçè¶æ¶æ¶é´è®¾ç½®è¿é¿ï¼åä¼å½±åå°æ§è½ã\n\nä½ æè®¸å¨æ³ï¼å¦ææä½å±äº«èµæºçæä½è¿æªå®æï¼éè¿ææ¶é´è½å¤èªå·±ç»­æå°±å¥½äºï¼\n\n\n# å¦ä½å®ç°éçä¼éç»­æï¼\n\nå¯¹äº java å¼åçå°ä¼ä¼´æ¥è¯´ï¼å·²ç»æäºç°æçè§£å³æ¹æ¡ï¼redisson ãå¶ä»è¯­è¨çè§£å³æ¹æ¡ï¼å¯ä»¥å¨ redis å®æ¹ææ¡£ä¸­æ¾å°ï¼å°åï¼https://redis.io/topics/distlock ã\n\nredisson æ¯ä¸ä¸ªå¼æºç java è¯­è¨ redis å®¢æ·ç«¯ï¼æä¾äºå¾å¤å¼ç®±å³ç¨çåè½ï¼ä¸ä»ä»åæ¬å¤ç§åå¸å¼éçå®ç°ãå¹¶ä¸ï¼redisson è¿æ¯æ redis åæºãredis sentinelãredis cluster ç­å¤ç§é¨ç½²æ¶æã\n\nredisson ä¸­çåå¸å¼éèªå¸¦èªå¨ç»­ææºå¶ï¼ä½¿ç¨èµ·æ¥éå¸¸ç®åï¼åçä¹æ¯è¾ç®åï¼å¶æä¾äºä¸ä¸ªä¸é¨ç¨æ¥çæ§åç»­æéç watch dogï¼ çé¨çï¼ï¼å¦ææä½å±äº«èµæºççº¿ç¨è¿æªæ§è¡å®æçè¯ï¼watch dog ä¼ä¸æ­å°å»¶é¿éçè¿ææ¶é´ï¼è¿èä¿è¯éä¸ä¼å ä¸ºè¶æ¶èè¢«éæ¾ã\n\nçé¨çåå­çç±æ¥äº getlockwatchdogtimeout() æ¹æ³ï¼è¿ä¸ªæ¹æ³è¿åçæ¯çé¨çç»éç»­æçè¿ææ¶é´ï¼é»è®¤ä¸º 30 ç§ï¼redisson-3.17.6ï¼ã\n\né»è®¤æåµä¸ï¼æ¯è¿ 10 ç§ï¼çé¨çå°±ä¼æ§è¡ç»­ææä½ï¼å°éçè¶æ¶æ¶é´è®¾ç½®ä¸º 30 ç§ãçé¨çç»­æåä¹ä¼åå¤æ­æ¯å¦éè¦æ§è¡ç»­ææä½ï¼éè¦æä¼æ§è¡ç»­æï¼å¦ååæ¶ç»­ææä½ã\n\n> é»è®¤æåµä¸ï¼çé¨ççç»­ææ¶é´æ¯30sï¼ä¹å¯ä»¥éè¿ä¿®æ¹config.lockwatchdogtimeoutæ¥å¦è¡æå®ãå¦å¤redisson è¿æä¾äºå¯ä»¥æå®leasetimeåæ°çå éæ¹æ³æ¥æå®å éçæ¶é´ãè¶è¿è¿ä¸ªæ¶é´åéä¾¿èªå¨è§£å¼äºï¼ä¸ä¼å»¶é¿éçæææã\n> \n> watchdog åªæå¨æªæ¾ç¤ºæå®å éæ¶é´ï¼leasetimeï¼æ¶æä¼çæã\n\nè¿éä»¥ redisson çåå¸å¼å¯éå¥é rlock ä¸ºä¾æ¥è¯´æå¦ä½ä½¿ç¨ redisson å®ç°åå¸å¼éï¼\n\n// 1.è·åæå®çåå¸å¼éå¯¹è±¡\nrlock lock = redisson.getlock("lock");\n// 2.æ¿éä¸ä¸è®¾ç½®éè¶æ¶æ¶é´ï¼å·å¤ watch dog èªå¨ç»­ææºå¶\nlock.lock();\n// 3.æ§è¡ä¸å¡\n...\n// 4.éæ¾é\nlock.unlock();\n\n\nåªææªæå®éè¶æ¶æ¶é´ï¼æä¼ä½¿ç¨å° watch dog èªå¨ç»­ææºå¶ã\n\n// æå¨ç»éè®¾ç½®è¿ææ¶é´ï¼ä¸å·å¤ watch dog èªå¨ç»­ææºå¶\nlock.lock(10, timeunit.seconds);\n\n\nç¨åºéæ¾éæä½æ¶å ä¸ºå¼å¸¸æ²¡æè¢«æ§è¡ï¼é£ä¹éæ æ³è¢«éæ¾ï¼æä»¥éæ¾éæä½ä¸å®è¦æ¾å° finally {} ä¸­ã\n\nå¦æéæ¾éæä½æ¬èº«å¼å¸¸äºï¼watch dog è¿ä¼ä¸åçç»­æåï¼ä¸ä¼ï¼å ä¸ºæ è®ºéæ¾éæä½æ¯å¦æåï¼expiration_renewal_mapä¸­çç®æ  expirationentry å¯¹è±¡å·²ç»è¢«ç§»é¤äºï¼watch dog éè¿å¤æ­åå°±ä¸ä¼ç»§ç»­ç»éç»­æäºã\n\nå¦æä½¿ç¨ redis æ¥å®ç°åå¸å¼éçè¯ï¼è¿æ¯æ¯è¾æ¨èç´æ¥åºäº redisson æ¥åçã\n\n\n# å¦ä½å®ç°å¯éå¥é\n\næè°å¯éå¥éæçæ¯å¨ä¸ä¸ªçº¿ç¨ä¸­å¯ä»¥å¤æ¬¡è·ååä¸æéï¼æ¯å¦ä¸ä¸ªçº¿ç¨å¨æ§è¡ä¸ä¸ªå¸¦éçæ¹æ³ï¼è¯¥æ¹æ³ä¸­åè°ç¨äºå¦ä¸ä¸ªéè¦ç¸åéçæ¹æ³ï¼åè¯¥çº¿ç¨å¯ä»¥ç´æ¥æ§è¡è°ç¨çæ¹æ³å³å¯éå¥ ï¼èæ ééæ°è·å¾éãå java ä¸­ç synchronized å reentrantlock é½å±äºå¯éå¥éã\n\nä¸å¯éå¥çåå¸å¼éåºæ¬å¯ä»¥æ»¡è¶³ç»å¤§é¨åä¸å¡åºæ¯äºï¼ä¸äºç¹æ®çåºæ¯å¯è½ä¼éè¦ä½¿ç¨å¯éå¥çåå¸å¼éã\n\nå¯éå¥åå¸å¼éçå®ç°æ ¸å¿æè·¯æ¯çº¿ç¨å¨è·åéçæ¶åå¤æ­æ¯å¦ä¸ºèªå·±çéï¼å¦ææ¯çè¯ï¼å°±ä¸ç¨åéæ°è·åäºãä¸ºæ­¤ï¼æä»¬å¯ä»¥ä¸ºæ¯ä¸ªéå³èä¸ä¸ªå¯éå¥è®¡æ°å¨åä¸ä¸ªå æå®ççº¿ç¨ãå½å¯éå¥è®¡æ°å¨å¤§äº 0 æ¶ï¼åéè¢«å æï¼éè¦å¤æ­å æè¯¥éççº¿ç¨åè¯·æ±è·åéççº¿ç¨æ¯å¦ä¸ºåä¸ä¸ªã\n\nå®éé¡¹ç®ä¸­ï¼æä»¬ä¸éè¦èªå·±æå¨å®ç°ï¼æ¨èä½¿ç¨æä»¬ä¸é¢æå°ç redisson ï¼å¶åç½®äºå¤ç§ç±»åçéæ¯å¦å¯éå¥éï¼reentrant lockï¼ãèªæéï¼spin lockï¼ãå¬å¹³éï¼fair lockï¼ãå¤ééï¼multilockï¼ã çº¢éï¼redlockï¼ã è¯»åéï¼readwritelockï¼ã\n\n\n# redis å¦ä½è§£å³éç¾¤æåµä¸åå¸å¼éçå¯é æ§ï¼\n\nä¸ºäºé¿ååç¹æéï¼çäº§ç¯å¢ä¸ç redis æå¡éå¸¸æ¯éç¾¤åé¨ç½²çã\n\nredis éç¾¤ä¸ï¼ä¸é¢ä»ç»å°çåå¸å¼éçå®ç°ä¼å­å¨ä¸äºé®é¢ãç±äº redis éç¾¤æ°æ®åæ­¥å°åä¸ªèç¹æ¶æ¯å¼æ­¥çï¼å¦æå¨ redis ä¸»èç¹è·åå°éåï¼å¨æ²¡æåæ­¥å°å¶ä»èç¹æ¶ï¼redis ä¸»èç¹å®æºäºï¼æ­¤æ¶æ°ç redis ä¸»èç¹ä¾ç¶å¯ä»¥è·åéï¼æä»¥å¤ä¸ªåºç¨æå¡å°±å¯ä»¥åæ¶è·åå°éã\n\néå¯¹è¿ä¸ªé®é¢ï¼redis ä¹ç¶ antirez è®¾è®¡äº redlock ç®æ³ æ¥è§£å³ã\n\nredlock ç®æ³çææ³æ¯è®©å®¢æ·ç«¯å redis éç¾¤ä¸­çå¤ä¸ªç¬ç«ç redis å®ä¾ä¾æ¬¡è¯·æ±ç³è¯·å éï¼å¦æå®¢æ·ç«¯è½å¤ååæ°ä»¥ä¸çå®ä¾æåå°å®æå éæä½ï¼é£ä¹æä»¬å°±è®¤ä¸ºï¼å®¢æ·ç«¯æåå°è·å¾åå¸å¼éï¼å¦åå éå¤±è´¥ã\n\nå³ä½¿é¨å redis èç¹åºç°é®é¢ï¼åªè¦ä¿è¯ redis éç¾¤ä¸­æåæ°ä»¥ä¸ç redis èç¹å¯ç¨ï¼åå¸å¼éæå¡å°±æ¯æ­£å¸¸çã\n\nå®éé¡¹ç®ä¸­ä¸å»ºè®®ä½¿ç¨ redlock ç®æ³ï¼ææ¬åæ¶çä¸ææ­£æ¯ã\n\nå¦æä¸æ¯éè¦å®ç°ç»å¯¹å¯é çåå¸å¼éçè¯ï¼å¶å®åæºç redis å°±å®å¨å¤äºï¼å®ç°ç®åï¼æ§è½ä¹éå¸¸é«ãå¦æä½ å¿é¡»è¦å®ç°ä¸ä¸ªç»å¯¹å¯é çåå¸å¼éçè¯ï¼å¯ä»¥åºäº zookeeper æ¥åï¼åªæ¯æ§è½ä¼å·®ä¸äºã\n\n\n# åºäº zookeeper å®ç°åå¸å¼é\n\nredis å®ç°åå¸å¼éæ§è½è¾é«ï¼zookeeper å®ç°åå¸å¼éå¯é æ§æ´é«ãå®éé¡¹ç®ä¸­ï¼æä»¬åºè¯¥æ ¹æ®ä¸å¡çå·ä½éæ±æ¥éæ©ã\n\n\n# å¦ä½åºäº zookeeper å®ç°åå¸å¼éï¼\n\nzookeeper åå¸å¼éæ¯åºäº ä¸´æ¶é¡ºåºèç¹ å watcherï¼äºä»¶çå¬å¨ï¼ å®ç°çã\n\nè·åéï¼\n\n 1. é¦åæä»¬è¦æä¸ä¸ªæä¹èç¹/locksï¼å®¢æ·ç«¯è·åéå°±æ¯å¨locksä¸åå»ºä¸´æ¶é¡ºåºèç¹ã\n 2. åè®¾å®¢æ·ç«¯ 1 åå»ºäº/locks/lock1èç¹ï¼åå»ºæåä¹åï¼ä¼å¤æ­ lock1æ¯å¦æ¯ /locks ä¸æå°çå­èç¹ã\n 3. å¦æ lock1æ¯æå°çå­èç¹ï¼åè·åéæåãå¦åï¼è·åéå¤±è´¥ã\n 4. å¦æè·åéå¤±è´¥ï¼åè¯´ææå¶ä»çå®¢æ·ç«¯å·²ç»æåè·åéãå®¢æ·ç«¯ 1 å¹¶ä¸ä¼ä¸åå°å¾ªç¯å»å°è¯å éï¼èæ¯å¨åä¸ä¸ªèç¹æ¯å¦/locks/lock0ä¸æ³¨åä¸ä¸ªäºä»¶çå¬å¨ãè¿ä¸ªçå¬å¨çä½ç¨æ¯å½åä¸ä¸ªèç¹éæ¾éä¹åéç¥å®¢æ·ç«¯ 1ï¼é¿åæ æèªæï¼ï¼è¿æ ·å®¢æ·ç«¯ 1 å°±å éæåäºã\n\néæ¾éï¼\n\n 1. æåè·åéçå®¢æ·ç«¯å¨æ§è¡å®ä¸å¡æµç¨ä¹åï¼ä¼å°å¯¹åºçå­èç¹å é¤ã\n 2. æåè·åéçå®¢æ·ç«¯å¨åºç°æéä¹åï¼å¯¹åºçå­èç¹ç±äºæ¯ä¸´æ¶é¡ºåºèç¹ï¼ä¹ä¼è¢«èªå¨å é¤ï¼é¿åäºéæ æ³è¢«éæ¾ã\n 3. æä»¬åé¢è¯´çäºä»¶çå¬å¨å¶å®çå¬çå°±æ¯è¿ä¸ªå­èç¹å é¤äºä»¶ï¼å­èç¹å é¤å°±æå³çéè¢«éæ¾ã\n\nå®éé¡¹ç®ä¸­ï¼æ¨èä½¿ç¨ curator æ¥å®ç° zookeeper åå¸å¼éãcurator æ¯ netflix å¬å¸å¼æºçä¸å¥ zookeeper java å®¢æ·ç«¯æ¡æ¶ï¼ç¸æ¯äº zookeeper èªå¸¦çå®¢æ·ç«¯ zookeeper æ¥è¯´ï¼curator çå°è£æ´å å®åï¼åç§ api é½å¯ä»¥æ¯è¾æ¹ä¾¿å°ä½¿ç¨ã\n\ncuratorä¸»è¦å®ç°äºä¸é¢åç§éï¼\n\n * interprocessmutexï¼åå¸å¼å¯éå¥æå®é\n * interprocesssemaphoremutexï¼åå¸å¼ä¸å¯éå¥æå®é\n * interprocessreadwritelockï¼åå¸å¼è¯»åé\n * interprocessmultilockï¼å°å¤ä¸ªéä½ä¸ºåä¸ªå®ä½ç®¡ççå®¹å¨ï¼è·åéçæ¶åè·åææéï¼éæ¾éä¹ä¼éæ¾ææéèµæºï¼å¿½ç¥éæ¾å¤±è´¥çéï¼ã\n\ncuratorframework client = zkutils.getclient();\nclient.start();\n// åå¸å¼å¯éå¥æå®é\ninterprocesslock lock1 = new interprocessmutex(client, lockpath1);\n// åå¸å¼ä¸å¯éå¥æå®é\ninterprocesslock lock2 = new interprocesssemaphoremutex(client, lockpath2);\n// å°å¤ä¸ªéä½ä¸ºä¸ä¸ªæ´ä½\ninterprocessmultilock lock = new interprocessmultilock(arrays.aslist(lock1, lock2));\n\nif (!lock.acquire(10, timeunit.seconds)) {\n   throw new illegalstateexception("ä¸è½è·åå¤é");\n}\nsystem.out.println("å·²è·åå¤é");\nsystem.out.println("æ¯å¦æç¬¬ä¸ä¸ªé: " + lock1.isacquiredinthisprocess());\nsystem.out.println("æ¯å¦æç¬¬äºä¸ªé: " + lock2.isacquiredinthisprocess());\ntry {\n    // èµæºæä½\n    resource.use();\n} finally {\n    system.out.println("éæ¾å¤ä¸ªé");\n    lock.release();\n}\nsystem.out.println("æ¯å¦æç¬¬ä¸ä¸ªé: " + lock1.isacquiredinthisprocess());\nsystem.out.println("æ¯å¦æç¬¬äºä¸ªé: " + lock2.isacquiredinthisprocess());\nclient.close();\n\n\n\n# ä¸ºä»ä¹è¦ç¨ä¸´æ¶é¡ºåºèç¹ï¼\n\næ¯ä¸ªæ°æ®èç¹å¨ zookeeper ä¸­è¢«ç§°ä¸º znodeï¼å®æ¯ zookeeper ä¸­æ°æ®çæå°ååã\n\næä»¬éå¸¸æ¯å° znode åä¸º 4 å¤§ç±»ï¼\n\n * æä¹ï¼persistentï¼èç¹ï¼ä¸æ¦åå»ºå°±ä¸ç´å­å¨å³ä½¿ zookeeper éç¾¤å®æºï¼ç´å°å°å¶å é¤ã\n * ä¸´æ¶ï¼ephemeralï¼èç¹ï¼ä¸´æ¶èç¹ççå½å¨ææ¯ä¸ å®¢æ·ç«¯ä¼è¯ï¼sessionï¼ ç»å®çï¼ä¼è¯æ¶å¤±åèç¹æ¶å¤± ãå¹¶ä¸ï¼ä¸´æ¶èç¹åªè½åå¶å­èç¹ ï¼ä¸è½åå»ºå­èç¹ã\n * æä¹é¡ºåºï¼persistent_sequentialï¼èç¹ï¼é¤äºå·ææä¹ï¼persistentï¼èç¹çç¹æ§ä¹å¤ï¼ å­èç¹çåç§°è¿å·æé¡ºåºæ§ãæ¯å¦ /node1/app0000000001ã/node1/app0000000002 ã\n * ä¸´æ¶é¡ºåºï¼ephemeral_sequentialï¼èç¹ï¼é¤äºå·å¤ä¸´æ¶ï¼ephemeralï¼èç¹çç¹æ§ä¹å¤ï¼å­èç¹çåç§°è¿å·æé¡ºåºæ§ã\n\nå¯ä»¥çåºï¼ä¸´æ¶èç¹ç¸æ¯æä¹èç¹ï¼æä¸»è¦çæ¯å¯¹ä¼è¯å¤±æçæåµå¤çä¸ä¸æ ·ï¼ä¸´æ¶èç¹ä¼è¯æ¶å¤±åå¯¹åºçèç¹æ¶å¤±ãè¿æ ·çè¯ï¼å¦æå®¢æ·ç«¯åçå¼å¸¸å¯¼è´æ²¡æ¥å¾åéæ¾éä¹æ²¡å³ç³»ï¼ä¼è¯å¤±æèç¹èªå¨è¢«å é¤ï¼ä¸ä¼åçæ­»éçé®é¢ã\n\nä½¿ç¨ redis å®ç°åå¸å¼éçæ¶åï¼æä»¬æ¯éè¿è¿ææ¶é´æ¥é¿åéæ æ³è¢«éæ¾å¯¼è´æ­»éé®é¢çï¼è zookeeper ç´æ¥å©ç¨ä¸´æ¶èç¹çç¹æ§å³å¯ã\n\nåè®¾ä¸ä½¿ç¨é¡ºåºèç¹çè¯ï¼ææå°è¯è·åéçå®¢æ·ç«¯é½ä¼å¯¹ææéçå­èç¹å çå¬å¨ãå½è¯¥éè¢«éæ¾ä¹åï¼å¿å¿ä¼é æææå°è¯è·åéçå®¢æ·ç«¯æ¥äºå¤ºéï¼è¿æ ·å¯¹æ§è½ä¸åå¥½ãä½¿ç¨é¡ºåºèç¹ä¹åï¼åªéè¦çå¬åä¸ä¸ªèç¹å°±å¥½äºï¼å¯¹æ§è½æ´åå¥½ã\n\n\n# ä¸ºä»ä¹è¦è®¾ç½®å¯¹åä¸ä¸ªèç¹ççå¬ï¼\n\n> watcherï¼äºä»¶çå¬å¨ï¼ï¼æ¯ zookeeper ä¸­çä¸ä¸ªå¾éè¦çç¹æ§ãzookeeper åè®¸ç¨æ·å¨æå®èç¹ä¸æ³¨åä¸äº watcherï¼å¹¶ä¸å¨ä¸äºç¹å®äºä»¶è§¦åçæ¶åï¼zookeeper æå¡ç«¯ä¼å°äºä»¶éç¥å°æå´è¶£çå®¢æ·ç«¯ä¸å»ï¼è¯¥æºå¶æ¯ zookeeper å®ç°åå¸å¼åè°æå¡çéè¦ç¹æ§ã\n\nåä¸æ¶é´æ®µåï¼å¯è½ä¼æå¾å¤å®¢æ·ç«¯åæ¶è·åéï¼ä½åªæä¸ä¸ªå¯ä»¥è·åæåãå¦æè·åéå¤±è´¥ï¼åè¯´ææå¶ä»çå®¢æ·ç«¯å·²ç»æåè·åéãè·åéå¤±è´¥çå®¢æ·ç«¯å¹¶ä¸ä¼ä¸åå°å¾ªç¯å»å°è¯å éï¼èæ¯å¨åä¸ä¸ªèç¹æ³¨åä¸ä¸ªäºä»¶çå¬å¨ã\n\nè¿ä¸ªäºä»¶çå¬å¨çä½ç¨æ¯ï¼å½åä¸ä¸ªèç¹å¯¹åºçå®¢æ·ç«¯éæ¾éä¹åï¼ä¹å°±æ¯åä¸ä¸ªèç¹è¢«å é¤ä¹åï¼çå¬çæ¯å é¤äºä»¶ï¼ï¼éç¥è·åéå¤±è´¥çå®¢æ·ç«¯ï¼å¤éç­å¾ççº¿ç¨ï¼java ä¸­ç wait/notifyall ï¼ï¼è®©å®å°è¯å»è·åéï¼ç¶åå°±æåè·åéäºã\n\n\n# å¦ä½å®ç°å¯éå¥éï¼\n\nè¿éä»¥ curator ç interprocessmutex å¯¹å¯éå¥éçå®ç°æ¥ä»ç»ï¼æºç å°åï¼interprocessmutex.javaï¼ã\n\nå½æä»¬è°ç¨ interprocessmutex#acquireæ¹æ³è·åéçæ¶åï¼ä¼è°ç¨interprocessmutex#internallockæ¹æ³ã\n\n// è·åå¯éå¥äºæ¥éï¼ç´å°è·åæåä¸ºæ­¢\n@override\npublic void acquire() throws exception {\n  if (!internallock(-1, null)) {\n    throw new ioexception("lost connection while trying to acquire lock: " + basepath);\n  }\n}\n\n\ninternallock æ¹æ³ä¼åè·åå½åè¯·æ±éççº¿ç¨ï¼ç¶åä» threaddata( concurrentmap<thread, lockdata> ç±»å)ä¸­è·åå½åçº¿ç¨å¯¹åºç lockdata ã lockdata åå«éçä¿¡æ¯åå éçæ¬¡æ°ï¼æ¯å®ç°å¯éå¥éçå³é®ã\n\nç¬¬ä¸æ¬¡è·åéçæ¶åï¼lockdataä¸º nullãè·åéæåä¹åï¼ä¼å°å½åçº¿ç¨åå¯¹åºç lockdata æ¾å° threaddata ä¸­\n\nprivate boolean internallock(long time, timeunit unit) throws exception {\n  // è·åå½åè¯·æ±éççº¿ç¨\n  thread currentthread = thread.currentthread();\n  // æ¿å¯¹åºç lockdata\n  lockdata lockdata = threaddata.get(currentthread);\n  // ç¬¬ä¸æ¬¡è·åéçè¯ï¼lockdata ä¸º null\n  if (lockdata != null) {\n    // å½åçº¿ç¨è·åè¿ä¸æ¬¡éä¹å\n    // å ä¸ºå½åçº¿ç¨çéå­å¨ï¼ lockcount èªå¢åè¿åï¼å®ç°ééå¥.\n    lockdata.lockcount.incrementandget();\n    return true;\n  }\n  // å°è¯è·åé\n  string lockpath = internals.attemptlock(time, unit, getlocknodebytes());\n  if (lockpath != null) {\n    lockdata newlockdata = new lockdata(currentthread, lockpath);\n     // è·åéæåä¹åï¼å°å½åçº¿ç¨åå¯¹åºç lockdata æ¾å° threaddata ä¸­\n    threaddata.put(currentthread, newlockdata);\n    return true;\n  }\n\n  return false;\n}\n\n\nlockdataæ¯ interprocessmutexä¸­çä¸ä¸ªéæåé¨ç±»ã\n\nprivate final concurrentmap<thread, lockdata> threaddata = maps.newconcurrentmap();\n\nprivate static class lockdata\n{\n    // å½åææéççº¿ç¨\n    final thread owningthread;\n    // éå¯¹åºçå­èç¹\n    final string lockpath;\n    // å éçæ¬¡æ°\n    final atomicinteger lockcount = new atomicinteger(1);\n\n    private lockdata(thread owningthread, string lockpath)\n    {\n      this.owningthread = owningthread;\n      this.lockpath = lockpath;\n    }\n}\n\n\nå¦æå·²ç»è·åè¿ä¸æ¬¡éï¼åé¢åæ¥è·åéçè¯ï¼ç´æ¥å°±ä¼å¨ if (lockdata != null) è¿éè¢«æ¦ä¸äºï¼ç¶åå°±ä¼æ§è¡lockdata.lockcount.incrementandget(); å°å éæ¬¡æ°å  1ã\n\næ´ä¸ªå¯éå¥éçå®ç°é»è¾éå¸¸ç®åï¼ç´æ¥å¨å®¢æ·ç«¯å¤æ­å½åçº¿ç¨ææ²¡æè·åéï¼æçè¯ç´æ¥å°å éæ¬¡æ°å  1 å°±å¯ä»¥äºã\n\n\n# æ»ç»\n\nè¿ç¯æç« æä»¬ä»ç»äºå®ç°åå¸å¼éçä¸¤ç§å¸¸è§æ¹å¼ãè³äºå·ä½éæ© redis è¿æ¯ zookeeper æ¥å®ç°åå¸å¼éï¼è¿æ¯è¦çä¸å¡çå·ä½éæ±ãå¦æå¯¹æ§è½è¦æ±æ¯è¾é«çè¯ï¼å»ºè®®ä½¿ç¨ redis å®ç°åå¸å¼éãå¦æå¯¹å¯é æ§è¦æ±æ¯è¾é«çè¯ï¼å»ºè®®ä½¿ç¨ zookeeper å®ç°åå¸å¼éã\n\n\n# reference\n\n * redissonä¸­ççé¨çæºå¶æ»ç» - é­æè£ - åå®¢å­\n * redis ä½¿ç¨redisson+rlockå®ç°åå¸å¼é - å­¦æ æ­¢å¢ï¼è´µå¨å½ä¸ - åå®¢å­\n * åå¸å¼éå¸¸è§å®ç°æ¹æ¡æ»ç»\n * redisson åå¸å¼éå®æä¸ watch dog æºå¶è§£è¯» - ä¸å¸ç±åè¹æ-soochow - åå®¢å­',charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"å¹ç­æ§ä»ç»",frontmatter:{title:"å¹ç­æ§ä»ç»",date:"2023-10-24T03:41:21.000Z",permalink:"/pages/8c09c7/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/04.%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/02.%E5%88%86%E5%B8%83%E5%BC%8F/02.%E5%B9%82%E7%AD%89%E6%80%A7/01.%E5%B9%82%E7%AD%89%E6%80%A7%E4%BB%8B%E7%BB%8D.html",relativePath:"01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/02.åå¸å¼/02.å¹ç­æ§/01.å¹ç­æ§ä»ç».md",key:"v-3bafe364",path:"/pages/8c09c7/",headers:[{level:1,title:"reference",slug:"reference",normalizedTitle:"reference",charIndex:465}],headersStr:"reference",content:"**ä»ä¹æ¯å¹ç­ï¼**å¨åå¸å¼ç³»ç»ä¸­ï¼å¹ç­æ¯å¯¹è¯·æ±æä½ç»æçä¸ä¸ªæè¿°ï¼è¿ä¸ªæè¿°å°±æ¯ä¸è®ºæ§è¡å¤å°æ¬¡ç¸åçè¯·æ±ï¼äº§ççææåè¿åçç»æé½åååºåä¸ªè¯·æ±æ¯ä¸æ ·çã\n\nä¸¾ä¸ªä¾å­ï¼åå¦ååç«¯æ²¡æä¿è¯æ¥å£å¹ç­æ§ï¼ç¨æ·å¨ç§æååæ¯ï¼åæ¶ç¹å»äºå¤æ¬¡ç§æååæé®ï¼åç«¯å¤çäºå¤æ¬¡ç¸åçè®¢åè¯·æ±ï¼ç»æå¯¼è´ä¸ä¸ªäººç§æäºå¤ä¸ªååãè¿ä¸ªæ¯è¯å®ä¸è½åºç°çï¼å±äºéå¸¸ä¸¥éçbugã\n\nä¿è¯åå¸å¼æ¥å£çå¹ç­æ§å¯¹äºæ°æ®çä¸è´æ§è³å³éè¦ï¼ç¹å«æ¯åæ¯ä»è¿ç§æ¶åå°é±çæ¥å£ãä¿è¯å¹ç­æ§è¿ä¸ªæä½å¹¶ä¸æ¯è¯´åç«¯åäºå°±å¯ä»¥ï¼åç«¯åæ ·è¦åã\n\nåç«¯ä¿è¯å¹ç­æ§çè¯æ¯è¾ç®åï¼ä¸è¬éè¿å½ç¨æ·æäº¤è¯·æ±åå°æé®ç½®ç°æ¥åå°ãåç«¯ä¿è¯å¹ç­æ§å°±ç¨å¾®éº»ç¦ä¸ç¹ï¼æ¹æ³ä¹æ¯æå¾å¤ç§ï¼æ¯å¦ï¼\n\n 1. åå¸å¼é\n 2. å¯ä¸ç´¢å¼ï¼ä¸å¡å­æ®µçå¯ä¸ç´¢å¼çº¦æï¼é²æ­¢éå¤æ°æ®äº§çã\n 3. ä¹è§éï¼åæ¥åºçæ¬å·ï¼åéè¿çæ¬å·æ´æ°æ°æ®ï¼çæ¬å·ä¸è´ææ´æ°æ°æ®\n 4. ç¶ææºï¼ç¶ææºå¯è½çèµ·æ¥åä¹è§éæç¹ä¸æ ·ï¼ä½æ¯æä¸ä¸ªå³é®çåºå«ï¼ä¹è§éççæ¬å·æ¯æ ççï¼èç¶ææºä¸è¬é½æ¯æè¾¹ççã\n 5. è·åtoken\n\n\n# reference\n\n * å¹ç­æ§å¸¸ç¨çè§£å³æ¹æ¡ - æé",normalizedContent:"**ä»ä¹æ¯å¹ç­ï¼**å¨åå¸å¼ç³»ç»ä¸­ï¼å¹ç­æ¯å¯¹è¯·æ±æä½ç»æçä¸ä¸ªæè¿°ï¼è¿ä¸ªæè¿°å°±æ¯ä¸è®ºæ§è¡å¤å°æ¬¡ç¸åçè¯·æ±ï¼äº§ççææåè¿åçç»æé½åååºåä¸ªè¯·æ±æ¯ä¸æ ·çã\n\nä¸¾ä¸ªä¾å­ï¼åå¦ååç«¯æ²¡æä¿è¯æ¥å£å¹ç­æ§ï¼ç¨æ·å¨ç§æååæ¯ï¼åæ¶ç¹å»äºå¤æ¬¡ç§æååæé®ï¼åç«¯å¤çäºå¤æ¬¡ç¸åçè®¢åè¯·æ±ï¼ç»æå¯¼è´ä¸ä¸ªäººç§æäºå¤ä¸ªååãè¿ä¸ªæ¯è¯å®ä¸è½åºç°çï¼å±äºéå¸¸ä¸¥éçbugã\n\nä¿è¯åå¸å¼æ¥å£çå¹ç­æ§å¯¹äºæ°æ®çä¸è´æ§è³å³éè¦ï¼ç¹å«æ¯åæ¯ä»è¿ç§æ¶åå°é±çæ¥å£ãä¿è¯å¹ç­æ§è¿ä¸ªæä½å¹¶ä¸æ¯è¯´åç«¯åäºå°±å¯ä»¥ï¼åç«¯åæ ·è¦åã\n\nåç«¯ä¿è¯å¹ç­æ§çè¯æ¯è¾ç®åï¼ä¸è¬éè¿å½ç¨æ·æäº¤è¯·æ±åå°æé®ç½®ç°æ¥åå°ãåç«¯ä¿è¯å¹ç­æ§å°±ç¨å¾®éº»ç¦ä¸ç¹ï¼æ¹æ³ä¹æ¯æå¾å¤ç§ï¼æ¯å¦ï¼\n\n 1. åå¸å¼é\n 2. å¯ä¸ç´¢å¼ï¼ä¸å¡å­æ®µçå¯ä¸ç´¢å¼çº¦æï¼é²æ­¢éå¤æ°æ®äº§çã\n 3. ä¹è§éï¼åæ¥åºçæ¬å·ï¼åéè¿çæ¬å·æ´æ°æ°æ®ï¼çæ¬å·ä¸è´ææ´æ°æ°æ®\n 4. ç¶ææºï¼ç¶ææºå¯è½çèµ·æ¥åä¹è§éæç¹ä¸æ ·ï¼ä½æ¯æä¸ä¸ªå³é®çåºå«ï¼ä¹è§éççæ¬å·æ¯æ ççï¼èç¶ææºä¸è¬é½æ¯æè¾¹ççã\n 5. è·åtoken\n\n\n# reference\n\n * å¹ç­æ§å¸¸ç¨çè§£å³æ¹æ¡ - æé",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"RPCä»ç»",frontmatter:{title:"RPCä»ç»",date:"2023-10-24T03:40:33.000Z",permalink:"/pages/126fc8/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/04.%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/02.%E5%88%86%E5%B8%83%E5%BC%8F/03.RPC%E4%BB%8B%E7%BB%8D.html",relativePath:"01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/02.åå¸å¼/03.RPCä»ç».md",key:"v-af103070",path:"/pages/126fc8/",headers:[{level:1,title:"RPCæ¯ä»ä¹",slug:"rpcæ¯ä»ä¹",normalizedTitle:"rpcæ¯ä»ä¹",charIndex:2},{level:1,title:"RPCåç",slug:"rpcåç",normalizedTitle:"rpcåç",charIndex:309}],headersStr:"RPCæ¯ä»ä¹ RPCåç",content:"# RPCæ¯ä»ä¹\n\nRPCï¼Remote Procedure Callï¼ï¼è¿ç¨è¿ç¨è°ç¨ï¼å®æ¯ä¸ç§éè¿ç½ç»ä»è¿ç¨è®¡ç®æºç¨åºä¸è¯·æ±æå¡ï¼èä¸éè¦äºè§£åºå±ç½ç»ææ¯çåè®®ã\n\næ¯å¦ä¸¤ä¸ªä¸åçæå¡ AãB é¨ç½²å¨ä¸¤å°ä¸åçæºå¨ä¸ï¼é£ä¹æå¡ A å¦ææ³è¦è°ç¨æå¡ B ä¸­çæä¸ªæ¹æ³è¯¥æä¹åå¢ï¼ä½¿ç¨ HTTPè¯·æ± å½ç¶å¯ä»¥ï¼ä½æ¯å¯è½ä¼æ¯è¾æ¢èä¸ä¸äºä¼ååçå¹¶ä¸å¥½ã RPC çåºç°å°±æ¯ä¸ºäºè§£å³è¿ä¸ªé®é¢ã\n\nRPCä¸»è¦è§£å³äºï¼è®©åå¸å¼æèå¾®æå¡ç³»ç»ä¸­ä¸åæå¡ä¹é´çè°ç¨åæ¬å°è°ç¨ä¸æ ·ç®åã\n\nä¸¾ä¸ªä¾å­ï¼ä¸¤ä¸ªä¸åçæå¡ AãB é¨ç½²å¨ä¸¤å°ä¸åçæºå¨ä¸ï¼æå¡ A å¦ææ³è¦è°ç¨æå¡ B ä¸­çæä¸ªæ¹æ³çè¯å°±å¯ä»¥éè¿ RPC æ¥åã\n\n\n# RPCåç\n\n\n\n 1. æå¡æ¶è´¹ç«¯ï¼clientï¼ä»¥æ¬å°è°ç¨çæ¹å¼è°ç¨è¿ç¨æå¡ï¼\n\n 2. å®¢æ·ç«¯ Stubï¼client stubï¼ æ¥æ¶å°è°ç¨åè´è´£å°æ¹æ³ãåæ°ç­ç»è£æè½å¤è¿è¡ç½ç»ä¼ è¾çæ¶æ¯ä½ï¼åºååï¼ï¼RpcRequestï¼\n\n 3. å®¢æ·ç«¯ Stubï¼client stubï¼ æ¾å°è¿ç¨æå¡çå°åï¼å¹¶å°æ¶æ¯åéå°æå¡æä¾ç«¯ï¼\n\n 4. æå¡ç«¯ Stubï¼æ¡©ï¼æ¶å°æ¶æ¯å°æ¶æ¯ååºååä¸ºJavaå¯¹è±¡: RpcRequestï¼\n\n 5. æå¡ç«¯ Stubï¼æ¡©ï¼æ ¹æ®RpcRequestä¸­çç±»ãæ¹æ³ãæ¹æ³åæ°ç­ä¿¡æ¯è°ç¨æ¬å°çæ¹æ³ï¼\n\n 6. æå¡ç«¯ Stubï¼æ¡©ï¼å¾å°æ¹æ³æ§è¡ç»æå¹¶å°ç»è£æè½å¤è¿è¡ç½ç»ä¼ è¾çæ¶æ¯ä½ï¼RpcResponseï¼åºååï¼åéè³æ¶è´¹æ¹ï¼\n\n 7. å®¢æ·ç«¯ Stubï¼client stubï¼æ¥æ¶å°æ¶æ¯å¹¶å°æ¶æ¯ååºååä¸ºJavaå¯¹è±¡:RpcResponse ï¼è¿æ ·ä¹å°±å¾å°äºæç»ç»æã\n\nåè´´ä¸ä¸ªç½ä¸çæ¶åºå¾ï¼è¾å©çè§£ï¼\n\n",normalizedContent:"# rpcæ¯ä»ä¹\n\nrpcï¼remote procedure callï¼ï¼è¿ç¨è¿ç¨è°ç¨ï¼å®æ¯ä¸ç§éè¿ç½ç»ä»è¿ç¨è®¡ç®æºç¨åºä¸è¯·æ±æå¡ï¼èä¸éè¦äºè§£åºå±ç½ç»ææ¯çåè®®ã\n\næ¯å¦ä¸¤ä¸ªä¸åçæå¡ aãb é¨ç½²å¨ä¸¤å°ä¸åçæºå¨ä¸ï¼é£ä¹æå¡ a å¦ææ³è¦è°ç¨æå¡ b ä¸­çæä¸ªæ¹æ³è¯¥æä¹åå¢ï¼ä½¿ç¨ httpè¯·æ± å½ç¶å¯ä»¥ï¼ä½æ¯å¯è½ä¼æ¯è¾æ¢èä¸ä¸äºä¼ååçå¹¶ä¸å¥½ã rpc çåºç°å°±æ¯ä¸ºäºè§£å³è¿ä¸ªé®é¢ã\n\nrpcä¸»è¦è§£å³äºï¼è®©åå¸å¼æèå¾®æå¡ç³»ç»ä¸­ä¸åæå¡ä¹é´çè°ç¨åæ¬å°è°ç¨ä¸æ ·ç®åã\n\nä¸¾ä¸ªä¾å­ï¼ä¸¤ä¸ªä¸åçæå¡ aãb é¨ç½²å¨ä¸¤å°ä¸åçæºå¨ä¸ï¼æå¡ a å¦ææ³è¦è°ç¨æå¡ b ä¸­çæä¸ªæ¹æ³çè¯å°±å¯ä»¥éè¿ rpc æ¥åã\n\n\n# rpcåç\n\n\n\n 1. æå¡æ¶è´¹ç«¯ï¼clientï¼ä»¥æ¬å°è°ç¨çæ¹å¼è°ç¨è¿ç¨æå¡ï¼\n\n 2. å®¢æ·ç«¯ stubï¼client stubï¼ æ¥æ¶å°è°ç¨åè´è´£å°æ¹æ³ãåæ°ç­ç»è£æè½å¤è¿è¡ç½ç»ä¼ è¾çæ¶æ¯ä½ï¼åºååï¼ï¼rpcrequestï¼\n\n 3. å®¢æ·ç«¯ stubï¼client stubï¼ æ¾å°è¿ç¨æå¡çå°åï¼å¹¶å°æ¶æ¯åéå°æå¡æä¾ç«¯ï¼\n\n 4. æå¡ç«¯ stubï¼æ¡©ï¼æ¶å°æ¶æ¯å°æ¶æ¯ååºååä¸ºjavaå¯¹è±¡: rpcrequestï¼\n\n 5. æå¡ç«¯ stubï¼æ¡©ï¼æ ¹æ®rpcrequestä¸­çç±»ãæ¹æ³ãæ¹æ³åæ°ç­ä¿¡æ¯è°ç¨æ¬å°çæ¹æ³ï¼\n\n 6. æå¡ç«¯ stubï¼æ¡©ï¼å¾å°æ¹æ³æ§è¡ç»æå¹¶å°ç»è£æè½å¤è¿è¡ç½ç»ä¼ è¾çæ¶æ¯ä½ï¼rpcresponseï¼åºååï¼åéè³æ¶è´¹æ¹ï¼\n\n 7. å®¢æ·ç«¯ stubï¼client stubï¼æ¥æ¶å°æ¶æ¯å¹¶å°æ¶æ¯ååºååä¸ºjavaå¯¹è±¡:rpcresponse ï¼è¿æ ·ä¹å°±å¾å°äºæç»ç»æã\n\nåè´´ä¸ä¸ªç½ä¸çæ¶åºå¾ï¼è¾å©çè§£ï¼\n\n",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"SpringCloud",frontmatter:{title:"SpringCloud",date:"2023-10-24T07:34:59.000Z",permalink:"/pages/d2a1d0/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/04.%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/03.%E5%BE%AE%E6%9C%8D%E5%8A%A1/01.SpringCloud/01.SpringCloud.html",relativePath:"01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/03.å¾®æå¡/01.SpringCloud/01.SpringCloud.md",key:"v-0b8ed9f8",path:"/pages/d2a1d0/",headers:[{level:2,title:"Ribbon",slug:"ribbon",normalizedTitle:"ribbon",charIndex:2},{level:2,title:"OpenFeign",slug:"openfeign",normalizedTitle:"openfeign",charIndex:40},{level:2,title:"Gateway",slug:"gateway",normalizedTitle:"gateway",charIndex:206}],headersStr:"Ribbon OpenFeign Gateway",content:"# Ribbon\n\nRibbonæ¯æçè´è½½åè¡¡ç­ç¥ãé»è®¤çè´è½½åè¡¡ç­ç¥\n\n\n# OpenFeign\n\nFeign æ¯Netfixå¼åçå£°æå¼ãæ¨¡çåçHTTPå®¢æ·ç«¯ã\n\nOpenFeignï¼Feginå¢å¼ºï¼æ¯æSpringMVCæ³¨è§£ã\n\n@FeginClientï¼å¨æä»£çï¼\n\næ¥å¿éç½®ï¼\n\n * å¨å±éç½®\n * å±é¨éç½®\n\nè¶æ¶æ¶é´éç½®ï¼\n\n * è¿æ¥è¶æ¶æ¶é´\n * è¯·æ±å¤çè¶æ¶æ¶é´\n\nèªå®ä¹æ¦æªå¨\n\n\n# Gateway\n\nAPIç½å³ã\n\nGatewayç½å³ç»ä»¶ãç¹æ§ï¼\n\n * å¨æè·¯ç±\n * è·¯å¾éå\n * éææµæ§éçº§\n * æ­è¨åè¿æ»¤å¨\n\næ ¸å¿æ¦å¿µï¼\n\n * è·¯ç±\n * æ­è¨\n * è¿æ»¤å¨\n\næ­è¨å·¥åï¼\n\n * åç½®æ­è¨å·¥å\n * èªå®ä¹è·¯ç±æ­è¨å·¥å\n\nè¿æ»¤å¨å·¥åï¼å±é¨è¿æ»¤å¨ï¼ï¼\n\n * åç½®è¿æ»¤å¨å·¥å\n * èªå®ä¹è¿æ»¤å¨å·¥å\n\nå¨å±è¿æ»¤å¨ï¼\n\n * åç½®å¨å±è¿æ»¤å¨\n * èªå®ä¹å¨å±è¿æ»¤å¨\n\nGatewayæ´åNacosã\n\nGatewayè¯·æ±æ¥å¿è®°å½\n\nGatewayè·¨åå¤ç\n\nGatewayæ´åSentinelè¿è¡éæµéçº§ã\n\nGatewayé«å¯ç¨é¨ç½²ï¼Nginxè´è½½åè¡¡",normalizedContent:"# ribbon\n\nribbonæ¯æçè´è½½åè¡¡ç­ç¥ãé»è®¤çè´è½½åè¡¡ç­ç¥\n\n\n# openfeign\n\nfeign æ¯netfixå¼åçå£°æå¼ãæ¨¡çåçhttpå®¢æ·ç«¯ã\n\nopenfeignï¼feginå¢å¼ºï¼æ¯æspringmvcæ³¨è§£ã\n\n@feginclientï¼å¨æä»£çï¼\n\næ¥å¿éç½®ï¼\n\n * å¨å±éç½®\n * å±é¨éç½®\n\nè¶æ¶æ¶é´éç½®ï¼\n\n * è¿æ¥è¶æ¶æ¶é´\n * è¯·æ±å¤çè¶æ¶æ¶é´\n\nèªå®ä¹æ¦æªå¨\n\n\n# gateway\n\napiç½å³ã\n\ngatewayç½å³ç»ä»¶ãç¹æ§ï¼\n\n * å¨æè·¯ç±\n * è·¯å¾éå\n * éææµæ§éçº§\n * æ­è¨åè¿æ»¤å¨\n\næ ¸å¿æ¦å¿µï¼\n\n * è·¯ç±\n * æ­è¨\n * è¿æ»¤å¨\n\næ­è¨å·¥åï¼\n\n * åç½®æ­è¨å·¥å\n * èªå®ä¹è·¯ç±æ­è¨å·¥å\n\nè¿æ»¤å¨å·¥åï¼å±é¨è¿æ»¤å¨ï¼ï¼\n\n * åç½®è¿æ»¤å¨å·¥å\n * èªå®ä¹è¿æ»¤å¨å·¥å\n\nå¨å±è¿æ»¤å¨ï¼\n\n * åç½®å¨å±è¿æ»¤å¨\n * èªå®ä¹å¨å±è¿æ»¤å¨\n\ngatewayæ´ånacosã\n\ngatewayè¯·æ±æ¥å¿è®°å½\n\ngatewayè·¨åå¤ç\n\ngatewayæ´åsentinelè¿è¡éæµéçº§ã\n\ngatewayé«å¯ç¨é¨ç½²ï¼nginxè´è½½åè¡¡",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"SpringCloudAlibaba",frontmatter:{title:"SpringCloudAlibaba",date:"2023-10-24T07:35:15.000Z",permalink:"/pages/a8e8ff/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/04.%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/03.%E5%BE%AE%E6%9C%8D%E5%8A%A1/02.SpringCloudAlibaba/01.SpringCloudAlibaba.html",relativePath:"01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/03.å¾®æå¡/02.SpringCloudAlibaba/01.SpringCloudAlibaba.md",key:"v-31eab8d8",path:"/pages/a8e8ff/",headers:[{level:2,title:"Nacos",slug:"nacos",normalizedTitle:"nacos",charIndex:45},{level:3,title:"æ³¨åä¸­å¿",slug:"æ³¨åä¸­å¿",normalizedTitle:"æ³¨åä¸­å¿",charIndex:117},{level:3,title:"éç½®ä¸­å¿",slug:"éç½®ä¸­å¿",normalizedTitle:"éç½®ä¸­å¿",charIndex:277},{level:3,title:"éç¾¤",slug:"éç¾¤",normalizedTitle:"éç¾¤",charIndex:562},{level:2,title:"Sentinel",slug:"sentinel",normalizedTitle:"sentinel",charIndex:633},{level:2,title:"Seata",slug:"seata",normalizedTitle:"seata",charIndex:999}],headersStr:"Nacos æ³¨åä¸­å¿ éç½®ä¸­å¿ éç¾¤ Sentinel Seata",content:"Spring Cloud Alibaba è´åäºæä¾å¾®æå¡å¼åçä¸ç«å¼è§£å³æ¹æ¡ã\n\n\n# Nacos\n\nNacos ä¸ä¸ªæ´æäºæå»ºäºåçåºç¨çå¨ææå¡åç°ãéç½®ç®¡çåæå¡ç®¡çå¹³å°ã\n\nNacos æ¯æCPåAPï¼é»è®¤ä½¿ç¨AP\n\n\n# æ³¨åä¸­å¿\n\nå¿è·³æºå¶ï¼è§£å³æå¡å¤è´è½½æå¡å®æºçé®é¢ã\n\nNacos Discoverï¼æå¡æ³¨åä¸åç°ï¼å®æ¶æåæå¡åè¡¨ã\n\nå®¢æ·ç«¯è´è½½åè¡¡ï¼Nacosé»è®¤ä½¿ç¨Ribbonåè´è½½åè¡¡ã\n\nä¿®æ¹Ribbonçè´è½½åè¡¡ç­ç¥ãèªå®ä¹Ribbonè´è½½åè¡¡ç­ç¥ã\n\nä½¿ç¨LoadBalanceræ¿æ¢Ribbonåè´è½½åè¡¡ã\n\n\n# éç½®ä¸­å¿\n\nç¹æ§ï¼\n\n * ç»´æ¤æ§ï¼éä¸­å¼éç½®ç®¡ç\n * æ¶ææ§ï¼æ´æ°éç½®ä¿¡æ¯\n * å®å¨æ§ï¼æéç®¡ç\n\næ¦å¿µï¼\n\n * å½åç©ºé´\n * ç»\n * Data Id\n\næå¡è¯»åNacoséç½®ä¸­å¿éç½®ä¿¡æ¯ï¼\n\n * é»è®¤éç½®æä»¶ï¼æ¯æå¤profileéç½®ï¼\n * èªå®ä¹éç½®æä»¶ï¼extension-configsãshared-configsï¼\n\néç½®æä»¶ä¼åçº§ï¼profile>é»è®¤éç½®æä»¶>extension-configsï¼ä¸æ è¶å¤§ä¼åçº§è¶å¤§ï¼>shared-configsï¼ä¸æ è¶å¤§ä¼åçº§è¶å¤§ï¼\n\n@Valueéå @RefreshScopeæè½èªå¨å·æ°ã\n\n\n# éç¾¤\n\nNacoséç¾¤æ­å»ºï¼\n\n 1. Nacosä¿®æ¹æ°æ®æºä¸ºMySQLï¼éç½®ä¸ºéç¾¤æ¨¡å¼\n 2. ä¿®æ¹Nginxéç½®æä»¶åè´è½½åè¡¡ã\n\n\n# Sentinel\n\næå¡éªå´©ï¼æå¡æä¾èä¸å¯ç¨å¯¼è´æå¡è°ç¨èä¸å¯ç¨ï¼å¹¶å°ä¸å¯ç¨éæ¸æ¾å¤§çè¿ç¨ã\n\nè§£å³æ¹æ³ââæ·»å å®¹éæºå¶ï¼\n\n * è¶æ¶æºå¶\n * æå¡éæµ\n * æå¡éçº§\n * æå¡çæ­\n\nSentinel æ¯é¢ååå¸å¼ãå¤è¯­è¨å¼æåæå¡æ¶æçæµéæ²»çç»ä»¶ã\n\nSentinel åä¸ºæ ¸å¿åºåæ§å¶å°ä¸¤ä¸ªé¨åã\n\næ ¸å¿æ¦å¿µï¼\n\n * èµæºï¼å¯ä»¥æ¯ä»»ä½ä¸è¥¿ï¼æå¡ï¼æå¡éçæ¹æ³ï¼çè³æ¯ä¸æ®µä»£ç ã\n * è§åï¼æµéæ§å¶è§åãçæ­éçº§è§åãç³»ç»ä¿æ¤è§åãæ¥æºè®¿é®æ§å¶è§å å ç­ç¹åæ°è§åãé»è®¤ä¿å­å°åå­ä¸­ï¼å¯ä»¥éç½®æä¹åï¼æ¯å¦æ´åNacoséç½®ä¸­å¿ï¼\n\nä½¿ç¨ Sentinel æ¥è¿è¡èµæºä¿æ¤ï¼ä¸»è¦åä¸ºå ä¸ªæ­¥éª¤:\n\n 1. å®ä¹èµæº\n 2. å®ä¹è§å\n 3. æ£éªè§åæ¯å¦çæ\n\nSentinel æ´å OpenFeignã\n\n\n# Seata\n\nåå¸å¼äºå¡çè®ºåºç¡ï¼\n\n * 2PC\n * 3PC\n\n2PC äºå¡å®ç°ï¼\n\n * ATæ¨¡å¼ï¼æ ä¾µå¥æ§ï¼ï¼\n   * è§£æSQLãBeforeImageãæ§è¡SQLãAfterImageãè¡é\n   * æåï¼å é¤è¡éï¼\n * TCC\n * SAGA\n * XA\n\nSeataæ¯ä¸æ¬¾å¼æºçåå¸å¼äºå¡è§£å³æ¹æ¡ã\n\næ¯æATãTCCãSAGAãXAäºå¡æ¨¡å¼ãæ¨èä½¿ç¨ATæ¨¡å¼ã\n\nSeata è§è²ï¼\n\n * äºå¡åè°è\n * äºå¡ç®¡çå¨\n * èµæºç®¡çå¨\n\nSeataç¯å¢æ­å»ºï¼\n\n * Seata æå¡ç«¯é«å¯ç¨é¨ç½²ï¼ä½¿ç¨DBæ°æ®æº+Nacosï¼æ³¨åä¸­å¿+éç½®ä¸­å¿ï¼\n * Seata å®¢æ·ç«¯æ­å»º\n\n@GlobalTransacationalæ³¨è§£ä½¿ç¨ã\n\nSeata ATæ¨¡å¼çåçã",normalizedContent:"spring cloud alibaba è´åäºæä¾å¾®æå¡å¼åçä¸ç«å¼è§£å³æ¹æ¡ã\n\n\n# nacos\n\nnacos ä¸ä¸ªæ´æäºæå»ºäºåçåºç¨çå¨ææå¡åç°ãéç½®ç®¡çåæå¡ç®¡çå¹³å°ã\n\nnacos æ¯æcpåapï¼é»è®¤ä½¿ç¨ap\n\n\n# æ³¨åä¸­å¿\n\nå¿è·³æºå¶ï¼è§£å³æå¡å¤è´è½½æå¡å®æºçé®é¢ã\n\nnacos discoverï¼æå¡æ³¨åä¸åç°ï¼å®æ¶æåæå¡åè¡¨ã\n\nå®¢æ·ç«¯è´è½½åè¡¡ï¼nacosé»è®¤ä½¿ç¨ribbonåè´è½½åè¡¡ã\n\nä¿®æ¹ribbonçè´è½½åè¡¡ç­ç¥ãèªå®ä¹ribbonè´è½½åè¡¡ç­ç¥ã\n\nä½¿ç¨loadbalanceræ¿æ¢ribbonåè´è½½åè¡¡ã\n\n\n# éç½®ä¸­å¿\n\nç¹æ§ï¼\n\n * ç»´æ¤æ§ï¼éä¸­å¼éç½®ç®¡ç\n * æ¶ææ§ï¼æ´æ°éç½®ä¿¡æ¯\n * å®å¨æ§ï¼æéç®¡ç\n\næ¦å¿µï¼\n\n * å½åç©ºé´\n * ç»\n * data id\n\næå¡è¯»ånacoséç½®ä¸­å¿éç½®ä¿¡æ¯ï¼\n\n * é»è®¤éç½®æä»¶ï¼æ¯æå¤profileéç½®ï¼\n * èªå®ä¹éç½®æä»¶ï¼extension-configsãshared-configsï¼\n\néç½®æä»¶ä¼åçº§ï¼profile>é»è®¤éç½®æä»¶>extension-configsï¼ä¸æ è¶å¤§ä¼åçº§è¶å¤§ï¼>shared-configsï¼ä¸æ è¶å¤§ä¼åçº§è¶å¤§ï¼\n\n@valueéå @refreshscopeæè½èªå¨å·æ°ã\n\n\n# éç¾¤\n\nnacoséç¾¤æ­å»ºï¼\n\n 1. nacosä¿®æ¹æ°æ®æºä¸ºmysqlï¼éç½®ä¸ºéç¾¤æ¨¡å¼\n 2. ä¿®æ¹nginxéç½®æä»¶åè´è½½åè¡¡ã\n\n\n# sentinel\n\næå¡éªå´©ï¼æå¡æä¾èä¸å¯ç¨å¯¼è´æå¡è°ç¨èä¸å¯ç¨ï¼å¹¶å°ä¸å¯ç¨éæ¸æ¾å¤§çè¿ç¨ã\n\nè§£å³æ¹æ³ââæ·»å å®¹éæºå¶ï¼\n\n * è¶æ¶æºå¶\n * æå¡éæµ\n * æå¡éçº§\n * æå¡çæ­\n\nsentinel æ¯é¢ååå¸å¼ãå¤è¯­è¨å¼æåæå¡æ¶æçæµéæ²»çç»ä»¶ã\n\nsentinel åä¸ºæ ¸å¿åºåæ§å¶å°ä¸¤ä¸ªé¨åã\n\næ ¸å¿æ¦å¿µï¼\n\n * èµæºï¼å¯ä»¥æ¯ä»»ä½ä¸è¥¿ï¼æå¡ï¼æå¡éçæ¹æ³ï¼çè³æ¯ä¸æ®µä»£ç ã\n * è§åï¼æµéæ§å¶è§åãçæ­éçº§è§åãç³»ç»ä¿æ¤è§åãæ¥æºè®¿é®æ§å¶è§å å ç­ç¹åæ°è§åãé»è®¤ä¿å­å°åå­ä¸­ï¼å¯ä»¥éç½®æä¹åï¼æ¯å¦æ´ånacoséç½®ä¸­å¿ï¼\n\nä½¿ç¨ sentinel æ¥è¿è¡èµæºä¿æ¤ï¼ä¸»è¦åä¸ºå ä¸ªæ­¥éª¤:\n\n 1. å®ä¹èµæº\n 2. å®ä¹è§å\n 3. æ£éªè§åæ¯å¦çæ\n\nsentinel æ´å openfeignã\n\n\n# seata\n\nåå¸å¼äºå¡çè®ºåºç¡ï¼\n\n * 2pc\n * 3pc\n\n2pc äºå¡å®ç°ï¼\n\n * atæ¨¡å¼ï¼æ ä¾µå¥æ§ï¼ï¼\n   * è§£æsqlãbeforeimageãæ§è¡sqlãafterimageãè¡é\n   * æåï¼å é¤è¡éï¼\n * tcc\n * saga\n * xa\n\nseataæ¯ä¸æ¬¾å¼æºçåå¸å¼äºå¡è§£å³æ¹æ¡ã\n\næ¯æatãtccãsagaãxaäºå¡æ¨¡å¼ãæ¨èä½¿ç¨atæ¨¡å¼ã\n\nseata è§è²ï¼\n\n * äºå¡åè°è\n * äºå¡ç®¡çå¨\n * èµæºç®¡çå¨\n\nseataç¯å¢æ­å»ºï¼\n\n * seata æå¡ç«¯é«å¯ç¨é¨ç½²ï¼ä½¿ç¨dbæ°æ®æº+nacosï¼æ³¨åä¸­å¿+éç½®ä¸­å¿ï¼\n * seata å®¢æ·ç«¯æ­å»º\n\n@globaltransacationalæ³¨è§£ä½¿ç¨ã\n\nseata atæ¨¡å¼çåçã",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"Dubbo",frontmatter:{title:"Dubbo",date:"2023-10-24T03:38:56.000Z",permalink:"/pages/80c6b1/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/04.%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/02.%E5%88%86%E5%B8%83%E5%BC%8F/04.Dubbo.html",relativePath:"01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/02.åå¸å¼/04.Dubbo.md",key:"v-d2430cca",path:"/pages/80c6b1/",headers:[{level:1,title:"Dubboç®ä»",slug:"dubboç®ä»",normalizedTitle:"dubboç®ä»",charIndex:2},{level:2,title:"Dubboæ¯ä»ä¹",slug:"dubboæ¯ä»ä¹",normalizedTitle:"dubboæ¯ä»ä¹",charIndex:14},{level:2,title:"Dubboæ¶æ",slug:"dubboæ¶æ",normalizedTitle:"dubboæ¶æ",charIndex:454},{level:1,title:"Dubboåºç¨å®ä¾",slug:"dubboåºç¨å®ä¾",normalizedTitle:"dubboåºç¨å®ä¾",charIndex:878},{level:2,title:"å¤æ³¨åä¸­å¿",slug:"å¤æ³¨åä¸­å¿",normalizedTitle:"å¤æ³¨åä¸­å¿",charIndex:892}],headersStr:"Dubboç®ä» Dubboæ¯ä»ä¹ Dubboæ¶æ Dubboåºç¨å®ä¾ å¤æ³¨åä¸­å¿",content:'# Dubboç®ä»\n\n\n# Dubboæ¯ä»ä¹\n\nApache Dubbo æ¯ä¸æ¬¾é«æ§è½ãè½»éçº§çå¼æº Java RPC æ¡æ¶ã\n\næä¾äºå­å¤§æ ¸å¿è½å\n\n 1. é¢åæ¥å£ä»£ççé«æ§è½RPCè°ç¨ã\n\n 2. æºè½å®¹éåè´è½½åè¡¡ã\n\n 3. æå¡èªå¨æ³¨åååç°ã\n\n 4. é«åº¦å¯æ©å±è½åã\n\n 5. è¿è¡ææµéè°åº¦ã\n\n 6. å¯è§åçæå¡æ²»çä¸è¿ç»´ã\n\nç®åæ¥è¯´å°±æ¯ï¼ Dubbo ä¸åå¯ä»¥å¸®å©æä»¬è°ç¨è¿ç¨æå¡ï¼è¿æä¾äºä¸äºå¶ä»å¼ç®±å³ç¨çåè½æ¯å¦æºè½è´è½½åè¡¡ã\n\n\n\nDubboè½å¸®å©æä»¬è§£å³ä»ä¹é®é¢ï¼\n\n * è´è½½åè¡¡ ï¼ åä¸ä¸ªæå¡é¨ç½²å¨ä¸åçæºå¨æ¶è¯¥è°ç¨é£ä¸å°æºå¨ä¸çæå¡ã\n\n * æå¡è°ç¨é¾è·¯çæ ï¼ éçç³»ç»çåå±ï¼æå¡è¶æ¥è¶å¤ï¼æå¡é´ä¾èµå³ç³»åå¾éè¸ªå¤æï¼çè³åä¸æ¸åªä¸ªåºç¨è¦å¨åªä¸ªåºç¨ä¹åå¯å¨ï¼æ¶æå¸é½ä¸è½å®æ´çæè¿°åºç¨çæ¶æå³ç³»ãDubbo å¯ä»¥ä¸ºæä»¬è§£å³æå¡ä¹é´äºç¸æ¯å¦ä½è°ç¨çã\n\n * æå¡è®¿é®ååä»¥åæ¶é¿ç»è®¡ãèµæºè°åº¦åæ²»ç ï¼åºäºè®¿é®ååå®æ¶ç®¡çéç¾¤å®¹éï¼æé«éç¾¤å©ç¨çã\n\n\n# Dubboæ¶æ\n\n\n\nèç¹è§è²è¯´æï¼\n\nèç¹          è§è²è¯´æ\nProvider    æ´é²æå¡çæå¡æä¾æ¹\nConsumer    è°ç¨è¿ç¨æå¡çæå¡æ¶è´¹æ¹\nRegistry    æå¡æ³¨åä¸åç°çæ³¨åä¸­å¿\nMonitor     ç»è®¡æå¡çè°ç¨æ¬¡æ°åè°ç¨æ¶é´ççæ§ä¸­å¿\nContainer   æå¡è¿è¡å®¹å¨\n\nè°ç¨å³ç³»è¯´æï¼\n\n 1. æå¡å®¹å¨è´è´£å¯å¨ï¼å è½½ï¼è¿è¡æå¡æä¾èã\n\n 2. æå¡æä¾èå¨å¯å¨æ¶ï¼åæ³¨åä¸­å¿æ³¨åèªå·±æä¾çæå¡ã\n\n 3. æå¡æ¶è´¹èå¨å¯å¨æ¶ï¼åæ³¨åä¸­å¿è®¢éèªå·±æéçæå¡ã\n\n 4. æ³¨åä¸­å¿è¿åæå¡æä¾èå°ååè¡¨ç»æ¶è´¹èï¼å¦ææåæ´ï¼æ³¨åä¸­å¿å°åºäºé¿è¿æ¥æ¨éåæ´æ°æ®ç»æ¶è´¹èã\n\n 5. æå¡æ¶è´¹èï¼ä»æä¾èå°ååè¡¨ä¸­ï¼åºäºè½¯è´è½½åè¡¡ç®æ³ï¼éä¸å°æä¾èè¿è¡è°ç¨ï¼å¦æè°ç¨å¤±è´¥ï¼åéå¦ä¸å°è°ç¨ã\n\n 6. æå¡æ¶è´¹èåæä¾èï¼å¨åå­ä¸­ç´¯è®¡è°ç¨æ¬¡æ°åè°ç¨æ¶é´ï¼å®æ¶æ¯åéåéä¸æ¬¡ç»è®¡æ°æ®å°çæ§ä¸­å¿ã\n\n\n# Dubboåºç¨å®ä¾\n\n\n# å¤æ³¨åä¸­å¿\n\nDubboæ¯æåä¸æå¡åå¤æ³¨åä¸­å¿åæ¶æ³¨åãæèä¸åæå¡åå«æ³¨åå°ä¸åçæ³¨åä¸­å¿ä¸å»ï¼çè³å¯ä»¥åæ¶å¼ç¨æ³¨åå¨ä¸åæ³¨åä¸­å¿ä¸çååæå¡ã\n\nç¨æ³\n\n<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n    xmlns:dubbo="http://dubbo.apache.org/schema/dubbo"\n    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd http://dubbo.apache.org/schema/dubbo http://dubbo.apache.org/schema/dubbo/dubbo.xsd">\n    <dubbo:application name="world"  />\n    \x3c!-- å¤æ³¨åä¸­å¿éç½® --\x3e\n    <dubbo:registry id="hangzhouRegistry" address="10.20.141.150:9090" />\n    <dubbo:registry id="qingdaoRegistry" address="10.20.141.151:9010" default="false" />\n    \x3c!-- åå¤ä¸ªæ³¨åä¸­å¿æ³¨å --\x3e\n    <dubbo:service interface="com.alibaba.hello.api.HelloService" version="1.0.0" ref="helloService" registry="hangzhouRegistry,qingdaoRegistry" />\n</beans>\n\n\ndubbo:reference éç½®çregistryå±æ§é»è®¤ä»æææ³¨åä¸­å¿è·æå¡åè¡¨ååå¹¶ç»æãè¿æ ·å½ä¸ä¸ªæ³¨åä¸­å¿æ²¡ææä¸ªæå¡æ¶ï¼å¶ä»æ³¨åä¸­å¿æè¿ä¸ªæå¡ï¼ä¹è½è·åå°è¿ä¸ªæå¡è¿è¡ä½¿ç¨ã',normalizedContent:'# dubboç®ä»\n\n\n# dubboæ¯ä»ä¹\n\napache dubbo æ¯ä¸æ¬¾é«æ§è½ãè½»éçº§çå¼æº java rpc æ¡æ¶ã\n\næä¾äºå­å¤§æ ¸å¿è½å\n\n 1. é¢åæ¥å£ä»£ççé«æ§è½rpcè°ç¨ã\n\n 2. æºè½å®¹éåè´è½½åè¡¡ã\n\n 3. æå¡èªå¨æ³¨åååç°ã\n\n 4. é«åº¦å¯æ©å±è½åã\n\n 5. è¿è¡ææµéè°åº¦ã\n\n 6. å¯è§åçæå¡æ²»çä¸è¿ç»´ã\n\nç®åæ¥è¯´å°±æ¯ï¼ dubbo ä¸åå¯ä»¥å¸®å©æä»¬è°ç¨è¿ç¨æå¡ï¼è¿æä¾äºä¸äºå¶ä»å¼ç®±å³ç¨çåè½æ¯å¦æºè½è´è½½åè¡¡ã\n\n\n\ndubboè½å¸®å©æä»¬è§£å³ä»ä¹é®é¢ï¼\n\n * è´è½½åè¡¡ ï¼ åä¸ä¸ªæå¡é¨ç½²å¨ä¸åçæºå¨æ¶è¯¥è°ç¨é£ä¸å°æºå¨ä¸çæå¡ã\n\n * æå¡è°ç¨é¾è·¯çæ ï¼ éçç³»ç»çåå±ï¼æå¡è¶æ¥è¶å¤ï¼æå¡é´ä¾èµå³ç³»åå¾éè¸ªå¤æï¼çè³åä¸æ¸åªä¸ªåºç¨è¦å¨åªä¸ªåºç¨ä¹åå¯å¨ï¼æ¶æå¸é½ä¸è½å®æ´çæè¿°åºç¨çæ¶æå³ç³»ãdubbo å¯ä»¥ä¸ºæä»¬è§£å³æå¡ä¹é´äºç¸æ¯å¦ä½è°ç¨çã\n\n * æå¡è®¿é®ååä»¥åæ¶é¿ç»è®¡ãèµæºè°åº¦åæ²»ç ï¼åºäºè®¿é®ååå®æ¶ç®¡çéç¾¤å®¹éï¼æé«éç¾¤å©ç¨çã\n\n\n# dubboæ¶æ\n\n\n\nèç¹è§è²è¯´æï¼\n\nèç¹          è§è²è¯´æ\nprovider    æ´é²æå¡çæå¡æä¾æ¹\nconsumer    è°ç¨è¿ç¨æå¡çæå¡æ¶è´¹æ¹\nregistry    æå¡æ³¨åä¸åç°çæ³¨åä¸­å¿\nmonitor     ç»è®¡æå¡çè°ç¨æ¬¡æ°åè°ç¨æ¶é´ççæ§ä¸­å¿\ncontainer   æå¡è¿è¡å®¹å¨\n\nè°ç¨å³ç³»è¯´æï¼\n\n 1. æå¡å®¹å¨è´è´£å¯å¨ï¼å è½½ï¼è¿è¡æå¡æä¾èã\n\n 2. æå¡æä¾èå¨å¯å¨æ¶ï¼åæ³¨åä¸­å¿æ³¨åèªå·±æä¾çæå¡ã\n\n 3. æå¡æ¶è´¹èå¨å¯å¨æ¶ï¼åæ³¨åä¸­å¿è®¢éèªå·±æéçæå¡ã\n\n 4. æ³¨åä¸­å¿è¿åæå¡æä¾èå°ååè¡¨ç»æ¶è´¹èï¼å¦ææåæ´ï¼æ³¨åä¸­å¿å°åºäºé¿è¿æ¥æ¨éåæ´æ°æ®ç»æ¶è´¹èã\n\n 5. æå¡æ¶è´¹èï¼ä»æä¾èå°ååè¡¨ä¸­ï¼åºäºè½¯è´è½½åè¡¡ç®æ³ï¼éä¸å°æä¾èè¿è¡è°ç¨ï¼å¦æè°ç¨å¤±è´¥ï¼åéå¦ä¸å°è°ç¨ã\n\n 6. æå¡æ¶è´¹èåæä¾èï¼å¨åå­ä¸­ç´¯è®¡è°ç¨æ¬¡æ°åè°ç¨æ¶é´ï¼å®æ¶æ¯åéåéä¸æ¬¡ç»è®¡æ°æ®å°çæ§ä¸­å¿ã\n\n\n# dubboåºç¨å®ä¾\n\n\n# å¤æ³¨åä¸­å¿\n\ndubboæ¯æåä¸æå¡åå¤æ³¨åä¸­å¿åæ¶æ³¨åãæèä¸åæå¡åå«æ³¨åå°ä¸åçæ³¨åä¸­å¿ä¸å»ï¼çè³å¯ä»¥åæ¶å¼ç¨æ³¨åå¨ä¸åæ³¨åä¸­å¿ä¸çååæå¡ã\n\nç¨æ³\n\n<?xml version="1.0" encoding="utf-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n    xmlns:xsi="http://www.w3.org/2001/xmlschema-instance"\n    xmlns:dubbo="http://dubbo.apache.org/schema/dubbo"\n    xsi:schemalocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd http://dubbo.apache.org/schema/dubbo http://dubbo.apache.org/schema/dubbo/dubbo.xsd">\n    <dubbo:application name="world"  />\n    \x3c!-- å¤æ³¨åä¸­å¿éç½® --\x3e\n    <dubbo:registry id="hangzhouregistry" address="10.20.141.150:9090" />\n    <dubbo:registry id="qingdaoregistry" address="10.20.141.151:9010" default="false" />\n    \x3c!-- åå¤ä¸ªæ³¨åä¸­å¿æ³¨å --\x3e\n    <dubbo:service interface="com.alibaba.hello.api.helloservice" version="1.0.0" ref="helloservice" registry="hangzhouregistry,qingdaoregistry" />\n</beans>\n\n\ndubbo:reference éç½®çregistryå±æ§é»è®¤ä»æææ³¨åä¸­å¿è·æå¡åè¡¨ååå¹¶ç»æãè¿æ ·å½ä¸ä¸ªæ³¨åä¸­å¿æ²¡ææä¸ªæå¡æ¶ï¼å¶ä»æ³¨åä¸­å¿æè¿ä¸ªæå¡ï¼ä¹è½è·åå°è¿ä¸ªæå¡è¿è¡ä½¿ç¨ã',charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"é¾è·¯è¿½è¸ªSkyWalking",frontmatter:{title:"é¾è·¯è¿½è¸ªSkyWalking",date:"2023-10-24T07:34:41.000Z",permalink:"/pages/01d62e/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/04.%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/03.%E5%BE%AE%E6%9C%8D%E5%8A%A1/03.%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AASkyWalking.html",relativePath:"01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/03.å¾®æå¡/03.é¾è·¯è¿½è¸ªSkyWalking.md",key:"v-2bf7dba4",path:"/pages/01d62e/",headers:[{level:1,title:"é¾è·¯è¿½è¸ªSkyWalking",slug:"é¾è·¯è¿½è¸ªskywalking",normalizedTitle:"é¾è·¯è¿½è¸ªskywalking",charIndex:2}],headersStr:"é¾è·¯è¿½è¸ªSkyWalking",content:"# é¾è·¯è¿½è¸ªSkyWalking\n\næ ä¾µå¥å¼ï¼ä½¿ç¨Javaæéï¼\n\nSkyWalking ç¯å¢æ­å»ºï¼\n\n * æå¡ç«¯åUIæ­å»º\n * SkyWalkingæ¥å¥å¾®æå¡ï¼è®¾ç½®å¾®æå¡JVMåæ°ï¼\n\nSkyWalking æ°æ®æä¹åï¼é»è®¤H2æ°æ®åºå­å¨ï¼å¯ä¿®æ¹æMySQLãesç­ã\n\nSkyWalkingèªå®ä¹é¾è·¯è¿½è¸ªï¼\n\n * @Traceæ³¨è§£\n * @Tagsã@Tag\n\nSkyWalking æ§è½åæ\n\nSkyWalkingåè­¦åè½ï¼\n\n * åè­¦è§å\n * ç½ç»é©å­\n\nSkyWakingé«å¯ç¨éç¾¤éç½®",normalizedContent:"# é¾è·¯è¿½è¸ªskywalking\n\næ ä¾µå¥å¼ï¼ä½¿ç¨javaæéï¼\n\nskywalking ç¯å¢æ­å»ºï¼\n\n * æå¡ç«¯åuiæ­å»º\n * skywalkingæ¥å¥å¾®æå¡ï¼è®¾ç½®å¾®æå¡jvmåæ°ï¼\n\nskywalking æ°æ®æä¹åï¼é»è®¤h2æ°æ®åºå­å¨ï¼å¯ä¿®æ¹æmysqlãesç­ã\n\nskywalkingèªå®ä¹é¾è·¯è¿½è¸ªï¼\n\n * @traceæ³¨è§£\n * @tagsã@tag\n\nskywalking æ§è½åæ\n\nskywalkingåè­¦åè½ï¼\n\n * åè­¦è§å\n * ç½ç»é©å­\n\nskywakingé«å¯ç¨éç¾¤éç½®",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"åå¸å¼å®æ¶ä»»å¡ââQuartz",frontmatter:{title:"åå¸å¼å®æ¶ä»»å¡ââQuartz",date:"2023-10-24T07:41:08.000Z",permalink:"/pages/ada754/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/04.%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/04.%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/02.%E5%88%86%E5%B8%83%E5%BC%8F%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E2%80%94%E2%80%94Quartz.html",relativePath:"01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/04.å®æ¶ä»»å¡/02.åå¸å¼å®æ¶ä»»å¡ââQuartz.md",key:"v-2da3c232",path:"/pages/ada754/",headers:[{level:1,title:"Quartz ä»ç»",slug:"quartz-ä»ç»",normalizedTitle:"quartz ä»ç»",charIndex:2},{level:2,title:"æ¦è¿°",slug:"æ¦è¿°",normalizedTitle:"æ¦è¿°",charIndex:16},{level:2,title:"ç¹ç¹",slug:"ç¹ç¹",normalizedTitle:"ç¹ç¹",charIndex:72},{level:2,title:"ç»æ",slug:"ç»æ",normalizedTitle:"ç»æ",charIndex:261},{level:1,title:"reference",slug:"reference",normalizedTitle:"reference",charIndex:495}],headersStr:"Quartz ä»ç» æ¦è¿° ç¹ç¹ ç»æ reference",content:"# Quartz ä»ç»\n\n\n# æ¦è¿°\n\nQuartzæ¯OpenSymphonyå¼æºçä¸ä¸ªé¡¹ç®ï¼æ¯ä¸ä¸ªç±Javaç¼åçå¼æºä½ä¸è°åº¦æ¡æ¶ã\n\n\n# ç¹ç¹\n\n * æ¯æåå¸å¼é«å¯ç¨ï¼æä»¬éè¦æä¸ªå®æ¶ä»»å¡å¨å¤ä¸ªèç¹ä¸­åªææä¸ªèç¹å¯ä»¥æ§è¡æ¶ï¼å°±éè¦Quartzæ¥å®ç°ï¼å¦åä½¿ç¨@Scheduledç­æ¹å¼ä¼é æææèç¹é½æ§è¡ä¸éã\n\n * æ¯ææä¹åï¼Quartzæä¸é¨çæ°æ®è¡¨æ¥å®ç°å®æ¶ä»»å¡çæä¹åã\n\n * æ¯æå¤ä»»å¡è°åº¦åç®¡çï¼Quartzå¯ä»¥å¨æ°æ®åºä¸­å­å¨å¤ä¸ªå®æ¶ä»»å¡è¿è¡ä½ä¸è°åº¦ï¼å¯ä»¥å®ç°å®æ¶ä»»å¡çå¢å æ¹æ¥ç­ç®¡çã\n\n\n# ç»æ\n\nQuartzç±ä¸é¨åç»æï¼\n\n 1. ä»»å¡ï¼JobDetail\n 2. è§¦åå¨ï¼Triggerè§å®è§¦åæ§è¡Jobå®ç°ç±»ï¼ä¸»è¦æSimpleTriggeråCronTriggerä¸¤ä¸ªå®ç°ç±»ã\n 3. è°åº¦å¨ï¼Schedulerå°±æ¯ä¸ºäºè¯»åè§¦åå¨Triggerä»èè§¦åå®æ¶ä»»å¡JobDetailãå¯ä»¥éè¿SchedulerFactoryè¿è¡åå»ºè°åº¦å¨ï¼åä¸ºStdSchedulerFactoryï¼å¸¸ç¨ï¼åDirectSchedulerFactoryä¸¤ç§ã\n\n\n# reference\n\n * SpringBootââQuartzå®æ¶æ¡æ¶çä½¿ç¨è¯¦è§£åæ»ç» - æé\n * quartzåºæ¬ä»ç»åä½¿ç¨ - KyleInJava - åå®¢å­",normalizedContent:"# quartz ä»ç»\n\n\n# æ¦è¿°\n\nquartzæ¯opensymphonyå¼æºçä¸ä¸ªé¡¹ç®ï¼æ¯ä¸ä¸ªç±javaç¼åçå¼æºä½ä¸è°åº¦æ¡æ¶ã\n\n\n# ç¹ç¹\n\n * æ¯æåå¸å¼é«å¯ç¨ï¼æä»¬éè¦æä¸ªå®æ¶ä»»å¡å¨å¤ä¸ªèç¹ä¸­åªææä¸ªèç¹å¯ä»¥æ§è¡æ¶ï¼å°±éè¦quartzæ¥å®ç°ï¼å¦åä½¿ç¨@scheduledç­æ¹å¼ä¼é æææèç¹é½æ§è¡ä¸éã\n\n * æ¯ææä¹åï¼quartzæä¸é¨çæ°æ®è¡¨æ¥å®ç°å®æ¶ä»»å¡çæä¹åã\n\n * æ¯æå¤ä»»å¡è°åº¦åç®¡çï¼quartzå¯ä»¥å¨æ°æ®åºä¸­å­å¨å¤ä¸ªå®æ¶ä»»å¡è¿è¡ä½ä¸è°åº¦ï¼å¯ä»¥å®ç°å®æ¶ä»»å¡çå¢å æ¹æ¥ç­ç®¡çã\n\n\n# ç»æ\n\nquartzç±ä¸é¨åç»æï¼\n\n 1. ä»»å¡ï¼jobdetail\n 2. è§¦åå¨ï¼triggerè§å®è§¦åæ§è¡jobå®ç°ç±»ï¼ä¸»è¦æsimpletriggeråcrontriggerä¸¤ä¸ªå®ç°ç±»ã\n 3. è°åº¦å¨ï¼schedulerå°±æ¯ä¸ºäºè¯»åè§¦åå¨triggerä»èè§¦åå®æ¶ä»»å¡jobdetailãå¯ä»¥éè¿schedulerfactoryè¿è¡åå»ºè°åº¦å¨ï¼åä¸ºstdschedulerfactoryï¼å¸¸ç¨ï¼ådirectschedulerfactoryä¸¤ç§ã\n\n\n# reference\n\n * springbootââquartzå®æ¶æ¡æ¶çä½¿ç¨è¯¦è§£åæ»ç» - æé\n * quartzåºæ¬ä»ç»åä½¿ç¨ - kyleinjava - åå®¢å­",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"Java å®æ¶ä»»å¡å¤§å¨",frontmatter:{title:"Java å®æ¶ä»»å¡å¤§å¨",date:"2023-10-24T07:41:08.000Z",permalink:"/pages/ae063e/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/04.%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/04.%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/01.Java%20%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E5%A4%A7%E5%85%A8.html",relativePath:"01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/04.å®æ¶ä»»å¡/01.Java å®æ¶ä»»å¡å¤§å¨.md",key:"v-27a25f92",path:"/pages/ae063e/",headers:[{level:1,title:"ä¸ºä»ä¹éè¦å®æ¶ä»»å¡ï¼",slug:"ä¸ºä»ä¹éè¦å®æ¶ä»»å¡",normalizedTitle:"ä¸ºä»ä¹éè¦å®æ¶ä»»å¡ï¼",charIndex:2},{level:1,title:"åæºå®æ¶ä»»å¡ææ¯éå",slug:"åæºå®æ¶ä»»å¡ææ¯éå",normalizedTitle:"åæºå®æ¶ä»»å¡ææ¯éå",charIndex:224},{level:2,title:"Timer",slug:"timer",normalizedTitle:"timer",charIndex:239},{level:2,title:"ScheduledExecutorService",slug:"scheduledexecutorservice",normalizedTitle:"scheduledexecutorservice",charIndex:1082},{level:2,title:"Spring Task",slug:"spring-task",normalizedTitle:"spring task",charIndex:2239},{level:2,title:"æ¶é´è½®",slug:"æ¶é´è½®",normalizedTitle:"æ¶é´è½®",charIndex:2813},{level:1,title:"åå¸å¼å®æ¶ä»»å¡ææ¯éå",slug:"åå¸å¼å®æ¶ä»»å¡ææ¯éå",normalizedTitle:"åå¸å¼å®æ¶ä»»å¡ææ¯éå",charIndex:3683},{level:2,title:"Quartz",slug:"quartz",normalizedTitle:"quartz",charIndex:3957},{level:2,title:"Elastic-Job",slug:"elastic-job",normalizedTitle:"elastic-job",charIndex:4214},{level:2,title:"XXL-JOB",slug:"xxl-job",normalizedTitle:"xxl-job",charIndex:5309},{level:2,title:"PowerJob",slug:"powerjob",normalizedTitle:"powerjob",charIndex:6432},{level:1,title:"reference",slug:"reference",normalizedTitle:"reference",charIndex:6727}],headersStr:"ä¸ºä»ä¹éè¦å®æ¶ä»»å¡ï¼ åæºå®æ¶ä»»å¡ææ¯éå Timer ScheduledExecutorService Spring Task æ¶é´è½® åå¸å¼å®æ¶ä»»å¡ææ¯éå Quartz Elastic-Job XXL-JOB PowerJob reference",content:'# ä¸ºä»ä¹éè¦å®æ¶ä»»å¡ï¼\n\næä»¬æ¥çä¸ä¸å ä¸ªéå¸¸å¸¸è§çä¸å¡åºæ¯ï¼\n\n 1. æç³»ç»åæ¨è¦è¿è¡æ°æ®å¤ä»½ã\n 2. æçµåå¹³å°ï¼ç¨æ·ä¸ååä¸ªå°æ¶æªæ¯ä»çæåµä¸éè¦èªå¨åæ¶è®¢åã\n 3. æåªä½èåå¹³å°ï¼æ¯ 10 åéå¨ææåææç½ç«çæ°æ®ä¸ºèªå·±æç¨ã\n 4. æåå®¢å¹³å°ï¼æ¯æå®æ¶åéæç« ã\n 5. æåºéå¹³å°ï¼æ¯æå®æ¶è®¡ç®ç¨æ·å½æ¥æ¶çæåµå¹¶æ¨éç»ç¨æ·ææ°çæ°æ®ã\n 6. ......\n\nè¿äºåºæ¯å¾å¾é½è¦æ±æä»¬å¨æä¸ªç¹å®çæ¶é´å»åæä¸ªäºæã\n\n\n# åæºå®æ¶ä»»å¡ææ¯éå\n\n\n# Timer\n\njava.util.Timeræ¯ JDK 1.3 å¼å§å°±å·²ç»æ¯æçä¸ç§å®æ¶ä»»å¡çå®ç°æ¹å¼ã\n\nTimer åé¨ä½¿ç¨ä¸ä¸ªå«å TaskQueue çç±»å­æ¾å®æ¶ä»»å¡ï¼å®æ¯ä¸ä¸ªåºäºæå°å å®ç°çä¼åçº§éåãTaskQueue ä¼æç§ä»»å¡è·ç¦»ä¸ä¸æ¬¡æ§è¡æ¶é´çå¤§å°å°ä»»å¡æåºï¼ä¿è¯å¨å é¡¶çä»»å¡æåæ§è¡ãè¿æ ·å¨éè¦æ§è¡ä»»å¡æ¶ï¼æ¯æ¬¡åªéè¦ååºå é¡¶çä»»å¡è¿è¡å³å¯ï¼\n\nTimer ä½¿ç¨èµ·æ¥æ¯è¾ç®åï¼éè¿ä¸é¢çæ¹å¼æä»¬å°±è½åå»ºä¸ä¸ª 1s ä¹åæ§è¡çå®æ¶ä»»å¡ã\n\n// ç¤ºä¾ä»£ç ï¼\nTimerTask task = new TimerTask() {\n    public void run() {\n        System.out.println("å½åæ¶é´: " + new Date() + "n" +\n                "çº¿ç¨åç§°: " + Thread.currentThread().getName());\n    }\n};\nSystem.out.println("å½åæ¶é´: " + new Date() + "n" +\n        "çº¿ç¨åç§°: " + Thread.currentThread().getName());\nTimer timer = new Timer("Timer");\nlong delay = 1000L;\ntimer.schedule(task, delay);\n\n\n//è¾åºï¼\nå½åæ¶é´: Fri May 28 15:18:47 CST 2021nçº¿ç¨åç§°: main\nå½åæ¶é´: Fri May 28 15:18:48 CST 2021nçº¿ç¨åç§°: Timer\n\n\n\nä¸è¿å¶ç¼ºé·è¾å¤ï¼æ¯å¦ä¸ä¸ª Timer ä¸ä¸ªçº¿ç¨ï¼è¿å°±å¯¼è´ Timer çä»»å¡çæ§è¡åªè½ä¸²è¡æ§è¡ï¼ä¸ä¸ªä»»å¡æ§è¡æ¶é´è¿é¿çè¯ä¼å½±åå¶ä»ä»»å¡ï¼æ§è½éå¸¸å·®ï¼ï¼åæ¯å¦åçå¼å¸¸æ¶ä»»å¡ç´æ¥åæ­¢ï¼Timer åªæè·äº InterruptedException ï¼ã\n\n\n# ScheduledExecutorService\n\nScheduledExecutorService æ¯ä¸ä¸ªæ¥å£ï¼æå¤ä¸ªå®ç°ç±»ï¼æ¯è¾å¸¸ç¨çæ¯ ScheduledThreadPoolExecutor ã\n\n\n\nScheduledThreadPoolExecutor æ¬èº«å°±æ¯ä¸ä¸ªçº¿ç¨æ± ï¼æ¯æä»»å¡å¹¶åæ§è¡ãå¹¶ä¸ï¼å¶åé¨ä½¿ç¨ DelayQueue ä½ä¸ºä»»å¡éåã\n\n// ç¤ºä¾ä»£ç ï¼\nTimerTask repeatedTask = new TimerTask() {\n    @SneakyThrows\n    public void run() {\n        System.out.println("å½åæ¶é´: " + new Date() + "n" +\n                "çº¿ç¨åç§°: " + Thread.currentThread().getName());\n    }\n};\nSystem.out.println("å½åæ¶é´: " + new Date() + "n" +\n        "çº¿ç¨åç§°: " + Thread.currentThread().getName());\nScheduledExecutorService executor = Executors.newScheduledThreadPool(3);\nlong delay  = 1000L;\nlong period = 1000L;\nexecutor.scheduleAtFixedRate(repeatedTask, delay, period, TimeUnit.MILLISECONDS);\nThread.sleep(delay + period * 5);\nexecutor.shutdown();\n//è¾åºï¼\nå½åæ¶é´: Fri May 28 15:40:46 CST 2021nçº¿ç¨åç§°: main\nå½åæ¶é´: Fri May 28 15:40:47 CST 2021nçº¿ç¨åç§°: pool-1-thread-1\nå½åæ¶é´: Fri May 28 15:40:48 CST 2021nçº¿ç¨åç§°: pool-1-thread-1\nå½åæ¶é´: Fri May 28 15:40:49 CST 2021nçº¿ç¨åç§°: pool-1-thread-2\nå½åæ¶é´: Fri May 28 15:40:50 CST 2021nçº¿ç¨åç§°: pool-1-thread-2\nå½åæ¶é´: Fri May 28 15:40:51 CST 2021nçº¿ç¨åç§°: pool-1-thread-2\nå½åæ¶é´: Fri May 28 15:40:52 CST 2021nçº¿ç¨åç§°: pool-1-thread-2\n\n\n\n\n# Spring Task\n\næä»¬ç´æ¥éè¿ Spring æä¾ç @Scheduled æ³¨è§£å³å¯å®ä¹å®æ¶ä»»å¡ï¼éå¸¸æ¹ä¾¿ï¼\n\n/**\n * cronï¼ä½¿ç¨Cronè¡¨è¾¾å¼ããæ¯åéç1ï¼2ç§è¿è¡\n */\n@Scheduled(cron = "1-2 * * * * ? ")\npublic void reportCurrentTimeWithCronExpression() {\n  log.info("Cron Expression: The time is now {}", dateFormat.format(new Date()));\n}\n\n\n\n\nå¹¶ä¸ï¼Spring Task è¿æ¯æ¯æ Cron è¡¨è¾¾å¼ çãCron è¡¨è¾¾å¼ä¸»è¦ç¨äºå®æ¶ä½ä¸(å®æ¶ä»»å¡)ç³»ç»å®ä¹æ§è¡æ¶é´ææ§è¡é¢ççè¡¨è¾¾å¼ï¼éå¸¸åå®³ï¼ä½ å¯ä»¥éè¿ Cron è¡¨è¾¾å¼è¿è¡è®¾ç½®å®æ¶ä»»å¡æ¯å¤©æèæ¯ä¸ªæä»ä¹æ¶åæ§è¡ç­ç­æä½ãå±ä»¬è¦å­¦ä¹ å®æ¶ä»»å¡çè¯ï¼Cron è¡¨è¾¾å¼æ¯ä¸å®æ¯è¦éç¹å³æ³¨çãæ¨èä¸ä¸ªå¨çº¿ Cron è¡¨è¾¾å¼çæå¨ï¼http://cron.qqe2.com/\n\nSpring Task åºå±æ¯åºäº JDK ç ScheduledThreadPoolExecutor çº¿ç¨æ± æ¥å®ç°çã\n\nä¼ç¼ºç¹æ»ç»ï¼\n\n * ä¼ç¹ï¼ ç®åï¼è½»éï¼æ¯æ Cron è¡¨è¾¾å¼\n * ç¼ºç¹ ï¼åè½åä¸\n\n\n# æ¶é´è½®\n\nKafkaãDubboãZooKeeperãNetty ãCaffeine ãAkka ä¸­é½æå¯¹æ¶é´è½®çå®ç°ã\n\næ¶é´è½®ç®åæ¥è¯´å°±æ¯ä¸ä¸ªç¯å½¢çéåï¼åºå±ä¸è¬åºäºæ°ç»å®ç°ï¼ï¼éåä¸­çæ¯ä¸ä¸ªåç´ ï¼æ¶é´æ ¼ï¼é½å¯ä»¥å­æ¾ä¸ä¸ªå®æ¶ä»»å¡åè¡¨ã\n\næ¶é´è½®ä¸­çæ¯ä¸ªæ¶é´æ ¼ä»£è¡¨äºæ¶é´è½®çåºæ¬æ¶é´è·¨åº¦æèè¯´æ¶é´ç²¾åº¦ï¼å å¥æ¶é´ä¸ç§èµ°ä¸ä¸ªæ¶é´æ ¼çè¯ï¼é£ä¹è¿ä¸ªæ¶é´è½®çæé«ç²¾åº¦å°±æ¯ 1 ç§ï¼ä¹å°±æ¯è¯´ 3 s å 3.9s ä¼å¨åä¸ä¸ªæ¶é´æ ¼ä¸­ï¼ã\n\nä¸å¾æ¯ä¸ä¸ªæ 12 ä¸ªæ¶é´æ ¼çæ¶é´è½®ï¼è½¬å®ä¸åéè¦ 12 sãå½æä»¬éè¦æ°å»ºä¸ä¸ª 3s åæ§è¡çå®æ¶ä»»å¡ï¼åªéè¦å°å®æ¶ä»»å¡æ¾å¨ä¸æ ä¸º 3 çæ¶é´æ ¼ä¸­å³å¯ãå½æä»¬éè¦æ°å»ºä¸ä¸ª 9s åæ§è¡çå®æ¶ä»»å¡ï¼åªéè¦å°å®æ¶ä»»å¡æ¾å¨ä¸æ ä¸º 9 çæ¶é´æ ¼ä¸­å³å¯ã\n\n\n\né£å½æä»¬éè¦åå»ºä¸ä¸ª 13s åæ§è¡çå®æ¶ä»»å¡æä¹åå¢ï¼è¿ä¸ªæ¶åå¯ä»¥å¼å¥ä¸å«å åæ°/è½®æ° çæ¦å¿µï¼ä¹å°±æ¯è¯´è¿ä¸ªä»»å¡è¿æ¯æ¾å¨ä¸æ ä¸º 3 çæ¶é´æ ¼ä¸­ï¼ ä¸è¿å®çåæ°ä¸º 2 ã\n\né¤äºå¢å åæ°è¿ç§æ¹æ³ä¹å¤ï¼è¿æä¸ç§ å¤å±æ¬¡æ¶é´è½® ï¼ç±»ä¼¼æè¡¨ï¼ï¼Kafka éç¨çå°±æ¯è¿ç§æ¹æ¡ã\n\néå¯¹ä¸å¾çæ¶é´è½®ï¼ææ¥ä¸¾ä¸ä¸ªä¾å­ä¾¿äºå¤§å®¶çè§£ã\n\n\n\nä¸å¾çæ¶é´è½®ï¼ç¬¬ 1 å±çæ¶é´ç²¾åº¦ä¸º 1 ï¼ç¬¬ 2 å±çæ¶é´ç²¾åº¦ä¸º 20 ï¼ç¬¬ 3 å±çæ¶é´ç²¾åº¦ä¸º 400ãåå¦æä»¬éè¦æ·»å ä¸ä¸ª 350s åæ§è¡çä»»å¡ A çè¯ï¼å½åæ¶é´æ¯ 0sï¼ï¼è¿ä¸ªä»»å¡ä¼è¢«æ¾å¨ç¬¬ 2 å±ï¼å ä¸ºç¬¬äºå±çæ¶é´è·¨åº¦ä¸º 20*20=400>350ï¼çç¬¬ 350/20=17 ä¸ªæ¶é´æ ¼å­ã\n\nå½ç¬¬ä¸å±è½¬äº 17 åä¹åï¼æ¶é´è¿å»äº 340s ï¼ç¬¬ 2 å±çæéæ­¤æ¶æ¥å°ç¬¬ 17 ä¸ªæ¶é´æ ¼å­ãæ­¤æ¶ï¼ç¬¬ 2 å±ç¬¬ 17 ä¸ªæ ¼å­çä»»å¡ä¼è¢«ç§»å¨å°ç¬¬ 1 å±ã\n\nä»»å¡ A å½åæ¯ 10s ä¹åæ§è¡ï¼å æ­¤å®ä¼è¢«ç§»å¨å°ç¬¬ 1 å±çç¬¬ 10 ä¸ªæ¶é´æ ¼å­ã\n\nè¿éå¨å±ä¸å±ä¹é´çç§»å¨ä¹å«åæ¶é´è½®çåéçº§ãåèæè¡¨æ¥çè§£å°±å¥½ï¼\n\næ¶é´è½®æ¯è¾éåä»»å¡æ°éæ¯è¾å¤çå®æ¶ä»»å¡åºæ¯ï¼å®çä»»å¡åå¥åæ§è¡çæ¶é´å¤æåº¦é½æ¯ 0ï¼1ï¼ã\n\n\n# åå¸å¼å®æ¶ä»»å¡ææ¯éå\n\nä¸é¢æå°çä¸äºå®æ¶ä»»å¡çè§£å³æ¹æ¡é½æ¯å¨åæºä¸æ§è¡çï¼éç¨äºæ¯è¾ç®åçå®æ¶ä»»å¡åºæ¯æ¯å¦æ¯å¤©åæ¨å¤ä»½ä¸æ¬¡æ°æ®ã\n\nå¦ææä»¬éè¦ä¸äºé«çº§ç¹æ§æ¯å¦æ¯æä»»å¡å¨åå¸å¼åºæ¯ä¸çåçåé«å¯ç¨çè¯ï¼æä»¬å°±éè¦ç¨å°åå¸å¼ä»»å¡è°åº¦æ¡æ¶äºã\n\néå¸¸æåµä¸ï¼ä¸ä¸ªå®æ¶ä»»å¡çæ§è¡å¾å¾æ¶åå°ä¸é¢è¿äºè§è²ï¼\n\n * ä»»å¡ ï¼ é¦åè¯å®æ¯è¦æ§è¡çä»»å¡ï¼è¿ä¸ªä»»å¡å°±æ¯å·ä½çä¸å¡é»è¾æ¯å¦å®æ¶åéæç« ã\n * è°åº¦å¨ ï¼å¶æ¬¡æ¯è°åº¦ä¸­å¿ï¼è°åº¦ä¸­å¿ä¸»è¦è´è´£ä»»å¡ç®¡çï¼ä¼åéä»»å¡ç»æ§è¡å¨ã\n * æ§è¡å¨ ï¼ æåå°±æ¯æ§è¡å¨ï¼æ§è¡å¨æ¥æ¶è°åº¦å¨åæ´¾çä»»å¡å¹¶æ§è¡ã\n\n\n# Quartz\n\nä¸ä¸ªå¾ç«çå¼æºä»»å¡è°åº¦æ¡æ¶ï¼å®å¨ç±JavaåæãQuartz å¯ä»¥è¯´æ¯ Java å®æ¶ä»»å¡é¢åçèå¤§å¥æèè¯´åèæ åï¼å¶ä»çä»»å¡è°åº¦æ¡æ¶åºæ¬é½æ¯åºäº Quartz å¼åçï¼æ¯å¦å½å½ç½çelastic-jobå°±æ¯åºäºquartzäºæ¬¡å¼åä¹åçåå¸å¼è°åº¦è§£å³æ¹æ¡ã\n\nä½¿ç¨ Quartz å¯ä»¥å¾æ¹ä¾¿å°ä¸ Spring éæï¼å¹¶ä¸æ¯æå¨ææ·»å ä»»å¡åéç¾¤ãä½æ¯ï¼Quartz ä½¿ç¨èµ·æ¥ä¹æ¯è¾éº»ç¦ï¼API ç¹çã\n\nå¹¶ä¸ï¼Quzrtz å¹¶æ²¡æåç½® UI ç®¡çæ§å¶å°ï¼ä¸è¿ä½ å¯ä»¥ä½¿ç¨ quartzui\n\n\n# Elastic-Job\n\nElastic-Job æ¯å½å½ç½å¼æºçä¸ä¸ªåºäºQuartzåZooKeeperçåå¸å¼è°åº¦è§£å³æ¹æ¡ï¼ç±ä¸¤ä¸ªç¸äºç¬ç«çå­é¡¹ç® Elastic-Job-Lite å Elastic-Job-Cloud ç»æï¼ä¸è¬æä»¬åªè¦ä½¿ç¨ Elastic-Job-Lite å°±å¥½ã\n\nElasticJob æ¯æä»»å¡å¨åå¸å¼åºæ¯ä¸çåçåé«å¯ç¨ãä»»å¡å¯è§åç®¡çç­åè½ã\n\n\n\nElasticJob-Lite çæ¶æè®¾è®¡å¦ä¸å¾æç¤ºï¼\n\n\n\nä»ä¸å¾å¯ä»¥çåºï¼Elastic-Job æ²¡æè°åº¦ä¸­å¿è¿ä¸æ¦å¿µï¼èæ¯ä½¿ç¨ ZooKeeper ä½ä¸ºæ³¨åä¸­å¿ï¼æ³¨åä¸­å¿è´è´£åè°åéä»»å¡å°ä¸åçèç¹ä¸ã\n\nElastic-Job ä¸­çå®æ¶è°åº¦é½æ¯ç±æ§è¡å¨èªè¡è§¦åï¼è¿ç§è®¾è®¡ä¹è¢«ç§°ä¸ºå»ä¸­å¿åè®¾è®¡ï¼è°åº¦åå¤çé½æ¯æ§è¡å¨åç¬å®æï¼ã\n\n@Component\n@ElasticJobConf(name = "dayJob", cron = "0/10 * * * * ?", shardingTotalCount = 2,\n        shardingItemParameters = "0=AAAA,1=BBBB", description = "ç®åä»»å¡", failover = true)\npublic class TestJob implements SimpleJob {\n    @Override\n    public void execute(ShardingContext shardingContext) {\n        log.info("TestJobä»»å¡åï¼ã{}ã, çæ°ï¼ã{}ã, param=ã{}ã", shardingContext.getJobName(), shardingContext.getShardingTotalCount(),\n                shardingContext.getShardingParameter());\n    }\n}\n\n\n\nç¸å³å°åï¼\n\n * Github å°åï¼https://github.com/apache/shardingsphere-elasticjobã\n * å®æ¹ç½ç«ï¼https://shardingsphere.apache.org/elasticjob/index_zh.html ã\n\nä¼ç¼ºç¹æ»ç»ï¼\n\n * ä¼ç¹ ï¼å¯ä»¥ä¸ Spring éæãæ¯æåå¸å¼ãæ¯æéç¾¤ãæ§è½ä¸é\n * ç¼ºç¹ ï¼ä¾èµäºé¢å¤çä¸­é´ä»¶æ¯å¦ Zookeeperï¼å¤æåº¦å¢å ï¼å¯é æ§éä½ãç»´æ¤ææ¬åé«ï¼\n\n\n# XXL-JOB\n\nXXL-JOB äº 2015 å¹´å¼æºï¼æ¯ä¸æ¬¾ä¼ç§çè½»éçº§åå¸å¼ä»»å¡è°åº¦æ¡æ¶ï¼æ¯æä»»å¡å¯è§åç®¡çãå¼¹æ§æ©å®¹ç¼©å®¹ãä»»å¡å¤±è´¥éè¯ååè­¦ãä»»å¡åçç­åè½ï¼\n\n\n\næ ¹æ® XXL-JOB å®ç½ä»ç»ï¼å¶è§£å³äºå¾å¤ Quartz çä¸è¶³ã\n\n\n\nXXL-JOB çæ¶æè®¾è®¡å¦ä¸å¾æç¤ºï¼\n\n\n\nä»ä¸å¾å¯ä»¥çåºï¼XXL-JOB ç± è°åº¦ä¸­å¿ å æ§è¡å¨ ä¸¤å¤§é¨åç»æãè°åº¦ä¸­å¿ä¸»è¦è´è´£ä»»å¡ç®¡çãæ§è¡å¨ç®¡çä»¥åæ¥å¿ç®¡çãæ§è¡å¨ä¸»è¦æ¯æ¥æ¶è°åº¦ä¿¡å·å¹¶å¤çãå¦å¤ï¼è°åº¦ä¸­å¿è¿è¡ä»»å¡è°åº¦æ¶ï¼æ¯éè¿èªç  RPC æ¥å®ç°çã\n\nä¸åäº Elastic-Job çå»ä¸­å¿åè®¾è®¡ï¼ XXL-JOB çè¿ç§è®¾è®¡ä¹è¢«ç§°ä¸ºä¸­å¿åè®¾è®¡ï¼è°åº¦ä¸­å¿è°åº¦å¤ä¸ªæ§è¡å¨æ§è¡ä»»å¡ï¼ã\n\nå Quzrtz ç±»ä¼¼ XXL-JOB ä¹æ¯åºäºæ°æ®åºéè°åº¦ä»»å¡ï¼å­å¨æ§è½ç¶é¢ãä¸è¿ï¼ä¸è¬å¨ä»»å¡éä¸æ¯ç¹å«å¤§çæåµä¸ï¼æ²¡æä»ä¹å½±åçï¼å¯ä»¥æ»¡è¶³ç»å¤§é¨åå¬å¸çè¦æ±ã\n\nä¸è¦è¢« XXL-JOB çæ¶æå¾ç»åçäºï¼å®éä¸ï¼æä»¬è¦ç¨ XXL-JOB çè¯ï¼åªéè¦éå IJobHandler èªå®ä¹ä»»å¡æ§è¡é»è¾å°±å¯ä»¥äºï¼éå¸¸æç¨ï¼\n\n@JobHandler(value="myApiJobHandler")\n@Component\npublic class MyApiJobHandler extends IJobHandler {\n\n    @Override\n    public ReturnT<String> execute(String param) throws Exception {\n        //......\n        return ReturnT.SUCCESS;\n    }\n}\n\n\n\nè¿å¯ä»¥ç´æ¥åºäºæ³¨è§£å®ä¹ä»»å¡ã\n\n@XxlJob("myAnnotationJobHandler")\npublic ReturnT<String> myAnnotationJobHandler(String param) throws Exception {\n  //......\n  return ReturnT.SUCCESS;\n}\n\n\n\nç¸å³å°åï¼\n\n * Github å°åï¼https://github.com/xuxueli/xxl-job/ã\n * å®æ¹ä»ç»ï¼https://www.xuxueli.com/xxl-job/ ã\n\nä¼ç¼ºç¹æ»ç»ï¼\n\n * ä¼ç¹ï¼å¼ç®±å³ç¨ï¼å­¦ä¹ ææ¬æ¯è¾ä½ï¼ãä¸ Spring éæãæ¯æåå¸å¼ãæ¯æéç¾¤ãåç½®äº UI ç®¡çæ§å¶å°ã\n * ç¼ºç¹ï¼ä¸æ¯æå¨ææ·»å ä»»å¡ï¼å¦æä¸å®æ³è¦å¨æåå»ºä»»å¡ä¹æ¯æ¯æçï¼åè§ï¼xxl-job issue277\n\n\n# PowerJob\n\néå¸¸å¼å¾å³æ³¨çä¸ä¸ªåå¸å¼ä»»å¡è°åº¦æ¡æ¶ï¼åå¸å¼ä»»å¡è°åº¦é¢åçæ°æãç®åï¼å·²ç»æå¾å¤å¬å¸æ¥å¥æ¯å¦ OPPOãäº¬ä¸ãä¸­éãæç§ã\n\nè¿ä¸ªæ¡æ¶çè¯çä¹æºæææçï¼PowerJob çä½èå½æ¶å¨é¿éå·´å·´å®ä¹ è¿ï¼é¿éå·´å·´é£ä¼ä½¿ç¨çæ¯åé¨èªç ç SchedulerXï¼é¿éäºä»è´¹äº§åï¼ãå®ä¹ ææ»¡ä¹åï¼PowerJob çä½èç¦»å¼äºé¿éå·´å·´ãæ³çè¯´èªç ä¸ä¸ª SchedulerXï¼é²æ­¢åªå¤© SchedulerX æ»¡è¶³ä¸äºéæ±ï¼äºæ¯ PowerJob å°±è¯çäºã\n\næ´å¤å³äº PowerJob çæäºï¼å°ä¼ä¼´ä»¬å¯ä»¥å»çç PowerJob ä½èçè§é¢ ãæåæçä»»å¡è°åº¦ä¸­é´ä»¶ã\n\n\n# reference\n\n * Javaå®æ¶ä»»å¡å¤§æ­ç§ | JavaGuide',normalizedContent:'# ä¸ºä»ä¹éè¦å®æ¶ä»»å¡ï¼\n\næä»¬æ¥çä¸ä¸å ä¸ªéå¸¸å¸¸è§çä¸å¡åºæ¯ï¼\n\n 1. æç³»ç»åæ¨è¦è¿è¡æ°æ®å¤ä»½ã\n 2. æçµåå¹³å°ï¼ç¨æ·ä¸ååä¸ªå°æ¶æªæ¯ä»çæåµä¸éè¦èªå¨åæ¶è®¢åã\n 3. æåªä½èåå¹³å°ï¼æ¯ 10 åéå¨ææåææç½ç«çæ°æ®ä¸ºèªå·±æç¨ã\n 4. æåå®¢å¹³å°ï¼æ¯æå®æ¶åéæç« ã\n 5. æåºéå¹³å°ï¼æ¯æå®æ¶è®¡ç®ç¨æ·å½æ¥æ¶çæåµå¹¶æ¨éç»ç¨æ·ææ°çæ°æ®ã\n 6. ......\n\nè¿äºåºæ¯å¾å¾é½è¦æ±æä»¬å¨æä¸ªç¹å®çæ¶é´å»åæä¸ªäºæã\n\n\n# åæºå®æ¶ä»»å¡ææ¯éå\n\n\n# timer\n\njava.util.timeræ¯ jdk 1.3 å¼å§å°±å·²ç»æ¯æçä¸ç§å®æ¶ä»»å¡çå®ç°æ¹å¼ã\n\ntimer åé¨ä½¿ç¨ä¸ä¸ªå«å taskqueue çç±»å­æ¾å®æ¶ä»»å¡ï¼å®æ¯ä¸ä¸ªåºäºæå°å å®ç°çä¼åçº§éåãtaskqueue ä¼æç§ä»»å¡è·ç¦»ä¸ä¸æ¬¡æ§è¡æ¶é´çå¤§å°å°ä»»å¡æåºï¼ä¿è¯å¨å é¡¶çä»»å¡æåæ§è¡ãè¿æ ·å¨éè¦æ§è¡ä»»å¡æ¶ï¼æ¯æ¬¡åªéè¦ååºå é¡¶çä»»å¡è¿è¡å³å¯ï¼\n\ntimer ä½¿ç¨èµ·æ¥æ¯è¾ç®åï¼éè¿ä¸é¢çæ¹å¼æä»¬å°±è½åå»ºä¸ä¸ª 1s ä¹åæ§è¡çå®æ¶ä»»å¡ã\n\n// ç¤ºä¾ä»£ç ï¼\ntimertask task = new timertask() {\n    public void run() {\n        system.out.println("å½åæ¶é´: " + new date() + "n" +\n                "çº¿ç¨åç§°: " + thread.currentthread().getname());\n    }\n};\nsystem.out.println("å½åæ¶é´: " + new date() + "n" +\n        "çº¿ç¨åç§°: " + thread.currentthread().getname());\ntimer timer = new timer("timer");\nlong delay = 1000l;\ntimer.schedule(task, delay);\n\n\n//è¾åºï¼\nå½åæ¶é´: fri may 28 15:18:47 cst 2021nçº¿ç¨åç§°: main\nå½åæ¶é´: fri may 28 15:18:48 cst 2021nçº¿ç¨åç§°: timer\n\n\n\nä¸è¿å¶ç¼ºé·è¾å¤ï¼æ¯å¦ä¸ä¸ª timer ä¸ä¸ªçº¿ç¨ï¼è¿å°±å¯¼è´ timer çä»»å¡çæ§è¡åªè½ä¸²è¡æ§è¡ï¼ä¸ä¸ªä»»å¡æ§è¡æ¶é´è¿é¿çè¯ä¼å½±åå¶ä»ä»»å¡ï¼æ§è½éå¸¸å·®ï¼ï¼åæ¯å¦åçå¼å¸¸æ¶ä»»å¡ç´æ¥åæ­¢ï¼timer åªæè·äº interruptedexception ï¼ã\n\n\n# scheduledexecutorservice\n\nscheduledexecutorservice æ¯ä¸ä¸ªæ¥å£ï¼æå¤ä¸ªå®ç°ç±»ï¼æ¯è¾å¸¸ç¨çæ¯ scheduledthreadpoolexecutor ã\n\n\n\nscheduledthreadpoolexecutor æ¬èº«å°±æ¯ä¸ä¸ªçº¿ç¨æ± ï¼æ¯æä»»å¡å¹¶åæ§è¡ãå¹¶ä¸ï¼å¶åé¨ä½¿ç¨ delayqueue ä½ä¸ºä»»å¡éåã\n\n// ç¤ºä¾ä»£ç ï¼\ntimertask repeatedtask = new timertask() {\n    @sneakythrows\n    public void run() {\n        system.out.println("å½åæ¶é´: " + new date() + "n" +\n                "çº¿ç¨åç§°: " + thread.currentthread().getname());\n    }\n};\nsystem.out.println("å½åæ¶é´: " + new date() + "n" +\n        "çº¿ç¨åç§°: " + thread.currentthread().getname());\nscheduledexecutorservice executor = executors.newscheduledthreadpool(3);\nlong delay  = 1000l;\nlong period = 1000l;\nexecutor.scheduleatfixedrate(repeatedtask, delay, period, timeunit.milliseconds);\nthread.sleep(delay + period * 5);\nexecutor.shutdown();\n//è¾åºï¼\nå½åæ¶é´: fri may 28 15:40:46 cst 2021nçº¿ç¨åç§°: main\nå½åæ¶é´: fri may 28 15:40:47 cst 2021nçº¿ç¨åç§°: pool-1-thread-1\nå½åæ¶é´: fri may 28 15:40:48 cst 2021nçº¿ç¨åç§°: pool-1-thread-1\nå½åæ¶é´: fri may 28 15:40:49 cst 2021nçº¿ç¨åç§°: pool-1-thread-2\nå½åæ¶é´: fri may 28 15:40:50 cst 2021nçº¿ç¨åç§°: pool-1-thread-2\nå½åæ¶é´: fri may 28 15:40:51 cst 2021nçº¿ç¨åç§°: pool-1-thread-2\nå½åæ¶é´: fri may 28 15:40:52 cst 2021nçº¿ç¨åç§°: pool-1-thread-2\n\n\n\n\n# spring task\n\næä»¬ç´æ¥éè¿ spring æä¾ç @scheduled æ³¨è§£å³å¯å®ä¹å®æ¶ä»»å¡ï¼éå¸¸æ¹ä¾¿ï¼\n\n/**\n * cronï¼ä½¿ç¨cronè¡¨è¾¾å¼ããæ¯åéç1ï¼2ç§è¿è¡\n */\n@scheduled(cron = "1-2 * * * * ? ")\npublic void reportcurrenttimewithcronexpression() {\n  log.info("cron expression: the time is now {}", dateformat.format(new date()));\n}\n\n\n\n\nå¹¶ä¸ï¼spring task è¿æ¯æ¯æ cron è¡¨è¾¾å¼ çãcron è¡¨è¾¾å¼ä¸»è¦ç¨äºå®æ¶ä½ä¸(å®æ¶ä»»å¡)ç³»ç»å®ä¹æ§è¡æ¶é´ææ§è¡é¢ççè¡¨è¾¾å¼ï¼éå¸¸åå®³ï¼ä½ å¯ä»¥éè¿ cron è¡¨è¾¾å¼è¿è¡è®¾ç½®å®æ¶ä»»å¡æ¯å¤©æèæ¯ä¸ªæä»ä¹æ¶åæ§è¡ç­ç­æä½ãå±ä»¬è¦å­¦ä¹ å®æ¶ä»»å¡çè¯ï¼cron è¡¨è¾¾å¼æ¯ä¸å®æ¯è¦éç¹å³æ³¨çãæ¨èä¸ä¸ªå¨çº¿ cron è¡¨è¾¾å¼çæå¨ï¼http://cron.qqe2.com/\n\nspring task åºå±æ¯åºäº jdk ç scheduledthreadpoolexecutor çº¿ç¨æ± æ¥å®ç°çã\n\nä¼ç¼ºç¹æ»ç»ï¼\n\n * ä¼ç¹ï¼ ç®åï¼è½»éï¼æ¯æ cron è¡¨è¾¾å¼\n * ç¼ºç¹ ï¼åè½åä¸\n\n\n# æ¶é´è½®\n\nkafkaãdubboãzookeeperãnetty ãcaffeine ãakka ä¸­é½æå¯¹æ¶é´è½®çå®ç°ã\n\næ¶é´è½®ç®åæ¥è¯´å°±æ¯ä¸ä¸ªç¯å½¢çéåï¼åºå±ä¸è¬åºäºæ°ç»å®ç°ï¼ï¼éåä¸­çæ¯ä¸ä¸ªåç´ ï¼æ¶é´æ ¼ï¼é½å¯ä»¥å­æ¾ä¸ä¸ªå®æ¶ä»»å¡åè¡¨ã\n\næ¶é´è½®ä¸­çæ¯ä¸ªæ¶é´æ ¼ä»£è¡¨äºæ¶é´è½®çåºæ¬æ¶é´è·¨åº¦æèè¯´æ¶é´ç²¾åº¦ï¼å å¥æ¶é´ä¸ç§èµ°ä¸ä¸ªæ¶é´æ ¼çè¯ï¼é£ä¹è¿ä¸ªæ¶é´è½®çæé«ç²¾åº¦å°±æ¯ 1 ç§ï¼ä¹å°±æ¯è¯´ 3 s å 3.9s ä¼å¨åä¸ä¸ªæ¶é´æ ¼ä¸­ï¼ã\n\nä¸å¾æ¯ä¸ä¸ªæ 12 ä¸ªæ¶é´æ ¼çæ¶é´è½®ï¼è½¬å®ä¸åéè¦ 12 sãå½æä»¬éè¦æ°å»ºä¸ä¸ª 3s åæ§è¡çå®æ¶ä»»å¡ï¼åªéè¦å°å®æ¶ä»»å¡æ¾å¨ä¸æ ä¸º 3 çæ¶é´æ ¼ä¸­å³å¯ãå½æä»¬éè¦æ°å»ºä¸ä¸ª 9s åæ§è¡çå®æ¶ä»»å¡ï¼åªéè¦å°å®æ¶ä»»å¡æ¾å¨ä¸æ ä¸º 9 çæ¶é´æ ¼ä¸­å³å¯ã\n\n\n\né£å½æä»¬éè¦åå»ºä¸ä¸ª 13s åæ§è¡çå®æ¶ä»»å¡æä¹åå¢ï¼è¿ä¸ªæ¶åå¯ä»¥å¼å¥ä¸å«å åæ°/è½®æ° çæ¦å¿µï¼ä¹å°±æ¯è¯´è¿ä¸ªä»»å¡è¿æ¯æ¾å¨ä¸æ ä¸º 3 çæ¶é´æ ¼ä¸­ï¼ ä¸è¿å®çåæ°ä¸º 2 ã\n\né¤äºå¢å åæ°è¿ç§æ¹æ³ä¹å¤ï¼è¿æä¸ç§ å¤å±æ¬¡æ¶é´è½® ï¼ç±»ä¼¼æè¡¨ï¼ï¼kafka éç¨çå°±æ¯è¿ç§æ¹æ¡ã\n\néå¯¹ä¸å¾çæ¶é´è½®ï¼ææ¥ä¸¾ä¸ä¸ªä¾å­ä¾¿äºå¤§å®¶çè§£ã\n\n\n\nä¸å¾çæ¶é´è½®ï¼ç¬¬ 1 å±çæ¶é´ç²¾åº¦ä¸º 1 ï¼ç¬¬ 2 å±çæ¶é´ç²¾åº¦ä¸º 20 ï¼ç¬¬ 3 å±çæ¶é´ç²¾åº¦ä¸º 400ãåå¦æä»¬éè¦æ·»å ä¸ä¸ª 350s åæ§è¡çä»»å¡ a çè¯ï¼å½åæ¶é´æ¯ 0sï¼ï¼è¿ä¸ªä»»å¡ä¼è¢«æ¾å¨ç¬¬ 2 å±ï¼å ä¸ºç¬¬äºå±çæ¶é´è·¨åº¦ä¸º 20*20=400>350ï¼çç¬¬ 350/20=17 ä¸ªæ¶é´æ ¼å­ã\n\nå½ç¬¬ä¸å±è½¬äº 17 åä¹åï¼æ¶é´è¿å»äº 340s ï¼ç¬¬ 2 å±çæéæ­¤æ¶æ¥å°ç¬¬ 17 ä¸ªæ¶é´æ ¼å­ãæ­¤æ¶ï¼ç¬¬ 2 å±ç¬¬ 17 ä¸ªæ ¼å­çä»»å¡ä¼è¢«ç§»å¨å°ç¬¬ 1 å±ã\n\nä»»å¡ a å½åæ¯ 10s ä¹åæ§è¡ï¼å æ­¤å®ä¼è¢«ç§»å¨å°ç¬¬ 1 å±çç¬¬ 10 ä¸ªæ¶é´æ ¼å­ã\n\nè¿éå¨å±ä¸å±ä¹é´çç§»å¨ä¹å«åæ¶é´è½®çåéçº§ãåèæè¡¨æ¥çè§£å°±å¥½ï¼\n\næ¶é´è½®æ¯è¾éåä»»å¡æ°éæ¯è¾å¤çå®æ¶ä»»å¡åºæ¯ï¼å®çä»»å¡åå¥åæ§è¡çæ¶é´å¤æåº¦é½æ¯ 0ï¼1ï¼ã\n\n\n# åå¸å¼å®æ¶ä»»å¡ææ¯éå\n\nä¸é¢æå°çä¸äºå®æ¶ä»»å¡çè§£å³æ¹æ¡é½æ¯å¨åæºä¸æ§è¡çï¼éç¨äºæ¯è¾ç®åçå®æ¶ä»»å¡åºæ¯æ¯å¦æ¯å¤©åæ¨å¤ä»½ä¸æ¬¡æ°æ®ã\n\nå¦ææä»¬éè¦ä¸äºé«çº§ç¹æ§æ¯å¦æ¯æä»»å¡å¨åå¸å¼åºæ¯ä¸çåçåé«å¯ç¨çè¯ï¼æä»¬å°±éè¦ç¨å°åå¸å¼ä»»å¡è°åº¦æ¡æ¶äºã\n\néå¸¸æåµä¸ï¼ä¸ä¸ªå®æ¶ä»»å¡çæ§è¡å¾å¾æ¶åå°ä¸é¢è¿äºè§è²ï¼\n\n * ä»»å¡ ï¼ é¦åè¯å®æ¯è¦æ§è¡çä»»å¡ï¼è¿ä¸ªä»»å¡å°±æ¯å·ä½çä¸å¡é»è¾æ¯å¦å®æ¶åéæç« ã\n * è°åº¦å¨ ï¼å¶æ¬¡æ¯è°åº¦ä¸­å¿ï¼è°åº¦ä¸­å¿ä¸»è¦è´è´£ä»»å¡ç®¡çï¼ä¼åéä»»å¡ç»æ§è¡å¨ã\n * æ§è¡å¨ ï¼ æåå°±æ¯æ§è¡å¨ï¼æ§è¡å¨æ¥æ¶è°åº¦å¨åæ´¾çä»»å¡å¹¶æ§è¡ã\n\n\n# quartz\n\nä¸ä¸ªå¾ç«çå¼æºä»»å¡è°åº¦æ¡æ¶ï¼å®å¨ç±javaåæãquartz å¯ä»¥è¯´æ¯ java å®æ¶ä»»å¡é¢åçèå¤§å¥æèè¯´åèæ åï¼å¶ä»çä»»å¡è°åº¦æ¡æ¶åºæ¬é½æ¯åºäº quartz å¼åçï¼æ¯å¦å½å½ç½çelastic-jobå°±æ¯åºäºquartzäºæ¬¡å¼åä¹åçåå¸å¼è°åº¦è§£å³æ¹æ¡ã\n\nä½¿ç¨ quartz å¯ä»¥å¾æ¹ä¾¿å°ä¸ spring éæï¼å¹¶ä¸æ¯æå¨ææ·»å ä»»å¡åéç¾¤ãä½æ¯ï¼quartz ä½¿ç¨èµ·æ¥ä¹æ¯è¾éº»ç¦ï¼api ç¹çã\n\nå¹¶ä¸ï¼quzrtz å¹¶æ²¡æåç½® ui ç®¡çæ§å¶å°ï¼ä¸è¿ä½ å¯ä»¥ä½¿ç¨ quartzui\n\n\n# elastic-job\n\nelastic-job æ¯å½å½ç½å¼æºçä¸ä¸ªåºäºquartzåzookeeperçåå¸å¼è°åº¦è§£å³æ¹æ¡ï¼ç±ä¸¤ä¸ªç¸äºç¬ç«çå­é¡¹ç® elastic-job-lite å elastic-job-cloud ç»æï¼ä¸è¬æä»¬åªè¦ä½¿ç¨ elastic-job-lite å°±å¥½ã\n\nelasticjob æ¯æä»»å¡å¨åå¸å¼åºæ¯ä¸çåçåé«å¯ç¨ãä»»å¡å¯è§åç®¡çç­åè½ã\n\n\n\nelasticjob-lite çæ¶æè®¾è®¡å¦ä¸å¾æç¤ºï¼\n\n\n\nä»ä¸å¾å¯ä»¥çåºï¼elastic-job æ²¡æè°åº¦ä¸­å¿è¿ä¸æ¦å¿µï¼èæ¯ä½¿ç¨ zookeeper ä½ä¸ºæ³¨åä¸­å¿ï¼æ³¨åä¸­å¿è´è´£åè°åéä»»å¡å°ä¸åçèç¹ä¸ã\n\nelastic-job ä¸­çå®æ¶è°åº¦é½æ¯ç±æ§è¡å¨èªè¡è§¦åï¼è¿ç§è®¾è®¡ä¹è¢«ç§°ä¸ºå»ä¸­å¿åè®¾è®¡ï¼è°åº¦åå¤çé½æ¯æ§è¡å¨åç¬å®æï¼ã\n\n@component\n@elasticjobconf(name = "dayjob", cron = "0/10 * * * * ?", shardingtotalcount = 2,\n        shardingitemparameters = "0=aaaa,1=bbbb", description = "ç®åä»»å¡", failover = true)\npublic class testjob implements simplejob {\n    @override\n    public void execute(shardingcontext shardingcontext) {\n        log.info("testjobä»»å¡åï¼ã{}ã, çæ°ï¼ã{}ã, param=ã{}ã", shardingcontext.getjobname(), shardingcontext.getshardingtotalcount(),\n                shardingcontext.getshardingparameter());\n    }\n}\n\n\n\nç¸å³å°åï¼\n\n * github å°åï¼https://github.com/apache/shardingsphere-elasticjobã\n * å®æ¹ç½ç«ï¼https://shardingsphere.apache.org/elasticjob/index_zh.html ã\n\nä¼ç¼ºç¹æ»ç»ï¼\n\n * ä¼ç¹ ï¼å¯ä»¥ä¸ spring éæãæ¯æåå¸å¼ãæ¯æéç¾¤ãæ§è½ä¸é\n * ç¼ºç¹ ï¼ä¾èµäºé¢å¤çä¸­é´ä»¶æ¯å¦ zookeeperï¼å¤æåº¦å¢å ï¼å¯é æ§éä½ãç»´æ¤ææ¬åé«ï¼\n\n\n# xxl-job\n\nxxl-job äº 2015 å¹´å¼æºï¼æ¯ä¸æ¬¾ä¼ç§çè½»éçº§åå¸å¼ä»»å¡è°åº¦æ¡æ¶ï¼æ¯æä»»å¡å¯è§åç®¡çãå¼¹æ§æ©å®¹ç¼©å®¹ãä»»å¡å¤±è´¥éè¯ååè­¦ãä»»å¡åçç­åè½ï¼\n\n\n\næ ¹æ® xxl-job å®ç½ä»ç»ï¼å¶è§£å³äºå¾å¤ quartz çä¸è¶³ã\n\n\n\nxxl-job çæ¶æè®¾è®¡å¦ä¸å¾æç¤ºï¼\n\n\n\nä»ä¸å¾å¯ä»¥çåºï¼xxl-job ç± è°åº¦ä¸­å¿ å æ§è¡å¨ ä¸¤å¤§é¨åç»æãè°åº¦ä¸­å¿ä¸»è¦è´è´£ä»»å¡ç®¡çãæ§è¡å¨ç®¡çä»¥åæ¥å¿ç®¡çãæ§è¡å¨ä¸»è¦æ¯æ¥æ¶è°åº¦ä¿¡å·å¹¶å¤çãå¦å¤ï¼è°åº¦ä¸­å¿è¿è¡ä»»å¡è°åº¦æ¶ï¼æ¯éè¿èªç  rpc æ¥å®ç°çã\n\nä¸åäº elastic-job çå»ä¸­å¿åè®¾è®¡ï¼ xxl-job çè¿ç§è®¾è®¡ä¹è¢«ç§°ä¸ºä¸­å¿åè®¾è®¡ï¼è°åº¦ä¸­å¿è°åº¦å¤ä¸ªæ§è¡å¨æ§è¡ä»»å¡ï¼ã\n\nå quzrtz ç±»ä¼¼ xxl-job ä¹æ¯åºäºæ°æ®åºéè°åº¦ä»»å¡ï¼å­å¨æ§è½ç¶é¢ãä¸è¿ï¼ä¸è¬å¨ä»»å¡éä¸æ¯ç¹å«å¤§çæåµä¸ï¼æ²¡æä»ä¹å½±åçï¼å¯ä»¥æ»¡è¶³ç»å¤§é¨åå¬å¸çè¦æ±ã\n\nä¸è¦è¢« xxl-job çæ¶æå¾ç»åçäºï¼å®éä¸ï¼æä»¬è¦ç¨ xxl-job çè¯ï¼åªéè¦éå ijobhandler èªå®ä¹ä»»å¡æ§è¡é»è¾å°±å¯ä»¥äºï¼éå¸¸æç¨ï¼\n\n@jobhandler(value="myapijobhandler")\n@component\npublic class myapijobhandler extends ijobhandler {\n\n    @override\n    public returnt<string> execute(string param) throws exception {\n        //......\n        return returnt.success;\n    }\n}\n\n\n\nè¿å¯ä»¥ç´æ¥åºäºæ³¨è§£å®ä¹ä»»å¡ã\n\n@xxljob("myannotationjobhandler")\npublic returnt<string> myannotationjobhandler(string param) throws exception {\n  //......\n  return returnt.success;\n}\n\n\n\nç¸å³å°åï¼\n\n * github å°åï¼https://github.com/xuxueli/xxl-job/ã\n * å®æ¹ä»ç»ï¼https://www.xuxueli.com/xxl-job/ ã\n\nä¼ç¼ºç¹æ»ç»ï¼\n\n * ä¼ç¹ï¼å¼ç®±å³ç¨ï¼å­¦ä¹ ææ¬æ¯è¾ä½ï¼ãä¸ spring éæãæ¯æåå¸å¼ãæ¯æéç¾¤ãåç½®äº ui ç®¡çæ§å¶å°ã\n * ç¼ºç¹ï¼ä¸æ¯æå¨ææ·»å ä»»å¡ï¼å¦æä¸å®æ³è¦å¨æåå»ºä»»å¡ä¹æ¯æ¯æçï¼åè§ï¼xxl-job issue277\n\n\n# powerjob\n\néå¸¸å¼å¾å³æ³¨çä¸ä¸ªåå¸å¼ä»»å¡è°åº¦æ¡æ¶ï¼åå¸å¼ä»»å¡è°åº¦é¢åçæ°æãç®åï¼å·²ç»æå¾å¤å¬å¸æ¥å¥æ¯å¦ oppoãäº¬ä¸ãä¸­éãæç§ã\n\nè¿ä¸ªæ¡æ¶çè¯çä¹æºæææçï¼powerjob çä½èå½æ¶å¨é¿éå·´å·´å®ä¹ è¿ï¼é¿éå·´å·´é£ä¼ä½¿ç¨çæ¯åé¨èªç ç schedulerxï¼é¿éäºä»è´¹äº§åï¼ãå®ä¹ ææ»¡ä¹åï¼powerjob çä½èç¦»å¼äºé¿éå·´å·´ãæ³çè¯´èªç ä¸ä¸ª schedulerxï¼é²æ­¢åªå¤© schedulerx æ»¡è¶³ä¸äºéæ±ï¼äºæ¯ powerjob å°±è¯çäºã\n\næ´å¤å³äº powerjob çæäºï¼å°ä¼ä¼´ä»¬å¯ä»¥å»çç powerjob ä½èçè§é¢ ãæåæçä»»å¡è°åº¦ä¸­é´ä»¶ã\n\n\n# reference\n\n * javaå®æ¶ä»»å¡å¤§æ­ç§ | javaguide',charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"è®¾è®¡æ¨¡å¼ç®ä»",frontmatter:{title:"è®¾è®¡æ¨¡å¼ç®ä»",date:"2023-10-24T07:40:36.000Z",permalink:"/pages/56a50e/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/05.%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/01.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/01.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%AE%80%E4%BB%8B.html",relativePath:"01.Java ç¥è¯ä½ç³»/05.ä»£ç è´¨é/01.è®¾è®¡æ¨¡å¼/01.è®¾è®¡æ¨¡å¼ç®ä».md",key:"v-d015cfc2",path:"/pages/56a50e/",headers:[{level:1,title:"ä¸å¤§è®¾è®¡åå",slug:"ä¸å¤§è®¾è®¡åå",normalizedTitle:"ä¸å¤§è®¾è®¡åå",charIndex:50},{level:1,title:"è®¾è®¡æ¨¡å¼åç±»",slug:"è®¾è®¡æ¨¡å¼åç±»",normalizedTitle:"è®¾è®¡æ¨¡å¼åç±»",charIndex:334}],headersStr:"ä¸å¤§è®¾è®¡åå è®¾è®¡æ¨¡å¼åç±»",content:"è®¾è®¡æ¨¡å¼æ¯ç¨åºåå¨é¢å¯¹åç±»è½¯ä»¶å·¥ç¨è®¾è®¡é®é¢ææ»ç»åºæ¥çæç¨ç»éªï¼æ¯æç±»é®é¢çéç¨è§£å³æ¹æ¡ã\n\n\n# ä¸å¤§è®¾è®¡åå\n\nè®¾è®¡æ¨¡å¼å¸¸ç¨çä¸å¤§ååæï¼\n\nåä¸èè´£åå       ä¸ä¸ªç±»åºè¯¥åªè´è´£ä¸é¡¹èè´£\næ¥å£éç¦»åå       ä¸ä¸ªç±»å¯¹å¦ä¸ä¸ªç±»çä¾èµåºè¯¥å»ºç«å¨æå°æ¥å£ä¸\nä¾èµåè½¬ï¼åç½®ï¼åå   é«å±æ¨¡åä¸åºè¯¥ä¾èµåºå±æ¨¡åï¼äºèé½åºè¯¥ä¾èµæ½è±¡ã\néæ°æ¿æ¢åå       ææå¼ç¨åºç±»çå°æ¹å¿é¡»è½éæå°ä½¿ç¨å¶å­ç±»çå¯¹è±¡\nå¼é­åå         ä¸ä¸ªè½¯ä»¶å®ä½å¦ç±»ãæ¨¡ååå½æ°åºè¯¥å¯¹æ©å±ï¼æä¾æ¹ï¼å¼æ¾ï¼å¯¹ä¿®æ¹ï¼ä½¿ç¨æ¹ï¼å³é­\nè¿ªç±³ç¹åå        ä¸ä¸ªç±»å¯¹èªå·±ä¾èµçç±»ç¥éçè¶å°è¶å¥½\nåæå¤ç¨åå       å°½éä½¿ç¨åæ/èåï¼èä¸æ¯éè¿ç»§æ¿è¾¾å°å¤ç¨çç®çã\n\n\n# è®¾è®¡æ¨¡å¼åç±»\n\nè®¾è®¡æ¨¡å¼åä¸ºä¸å¤§ç±»ï¼æ»å±æ23ç§æ¨¡å¼ãå·ä½åç±»ï¼\n\n * åå»ºåæ¨¡å¼ï¼åä¾æ¨¡å¼ãæ½è±¡å·¥åæ¨¡å¼ãååæ¨¡å¼ãå»ºé èæ¨¡å¼ãå·¥åæ¹æ³æ¨¡å¼ã\n * ç»æåæ¨¡å¼ï¼ééå¨æ¨¡å¼ãæ¡¥æ¥æ¨¡å¼ãè£é¥°æ¨¡å¼ãç»åæ¨¡å¼ãå¤è§æ¨¡å¼ãäº«åæ¨¡å¼ãä»£çæ¨¡å¼ã\n * è¡ä¸ºåæ¨¡å¼ï¼æ¨¡æ¿æ¹æ³æ¨¡å¼ãå½ä»¤æ¨¡å¼ãè®¿é®èæ¨¡å¼ãè¿­ä»£å¨æ¨¡å¼ãè§å¯èæ¨¡å¼ãä¸­ä»èæ¨¡å¼ãå¤å¿å½æ¨¡å¼ãè§£éå¨æ¨¡å¼ãç¶ææ¨¡å¼ãç­ç¥æ¨¡å¼ãèè´£é¾æ¨¡å¼ï¼è´£ä»»é¾æ¨¡å¼ï¼",normalizedContent:"è®¾è®¡æ¨¡å¼æ¯ç¨åºåå¨é¢å¯¹åç±»è½¯ä»¶å·¥ç¨è®¾è®¡é®é¢ææ»ç»åºæ¥çæç¨ç»éªï¼æ¯æç±»é®é¢çéç¨è§£å³æ¹æ¡ã\n\n\n# ä¸å¤§è®¾è®¡åå\n\nè®¾è®¡æ¨¡å¼å¸¸ç¨çä¸å¤§ååæï¼\n\nåä¸èè´£åå       ä¸ä¸ªç±»åºè¯¥åªè´è´£ä¸é¡¹èè´£\næ¥å£éç¦»åå       ä¸ä¸ªç±»å¯¹å¦ä¸ä¸ªç±»çä¾èµåºè¯¥å»ºç«å¨æå°æ¥å£ä¸\nä¾èµåè½¬ï¼åç½®ï¼åå   é«å±æ¨¡åä¸åºè¯¥ä¾èµåºå±æ¨¡åï¼äºèé½åºè¯¥ä¾èµæ½è±¡ã\néæ°æ¿æ¢åå       ææå¼ç¨åºç±»çå°æ¹å¿é¡»è½éæå°ä½¿ç¨å¶å­ç±»çå¯¹è±¡\nå¼é­åå         ä¸ä¸ªè½¯ä»¶å®ä½å¦ç±»ãæ¨¡ååå½æ°åºè¯¥å¯¹æ©å±ï¼æä¾æ¹ï¼å¼æ¾ï¼å¯¹ä¿®æ¹ï¼ä½¿ç¨æ¹ï¼å³é­\nè¿ªç±³ç¹åå        ä¸ä¸ªç±»å¯¹èªå·±ä¾èµçç±»ç¥éçè¶å°è¶å¥½\nåæå¤ç¨åå       å°½éä½¿ç¨åæ/èåï¼èä¸æ¯éè¿ç»§æ¿è¾¾å°å¤ç¨çç®çã\n\n\n# è®¾è®¡æ¨¡å¼åç±»\n\nè®¾è®¡æ¨¡å¼åä¸ºä¸å¤§ç±»ï¼æ»å±æ23ç§æ¨¡å¼ãå·ä½åç±»ï¼\n\n * åå»ºåæ¨¡å¼ï¼åä¾æ¨¡å¼ãæ½è±¡å·¥åæ¨¡å¼ãååæ¨¡å¼ãå»ºé èæ¨¡å¼ãå·¥åæ¹æ³æ¨¡å¼ã\n * ç»æåæ¨¡å¼ï¼ééå¨æ¨¡å¼ãæ¡¥æ¥æ¨¡å¼ãè£é¥°æ¨¡å¼ãç»åæ¨¡å¼ãå¤è§æ¨¡å¼ãäº«åæ¨¡å¼ãä»£çæ¨¡å¼ã\n * è¡ä¸ºåæ¨¡å¼ï¼æ¨¡æ¿æ¹æ³æ¨¡å¼ãå½ä»¤æ¨¡å¼ãè®¿é®èæ¨¡å¼ãè¿­ä»£å¨æ¨¡å¼ãè§å¯èæ¨¡å¼ãä¸­ä»èæ¨¡å¼ãå¤å¿å½æ¨¡å¼ãè§£éå¨æ¨¡å¼ãç¶ææ¨¡å¼ãç­ç¥æ¨¡å¼ãèè´£é¾æ¨¡å¼ï¼è´£ä»»é¾æ¨¡å¼ï¼",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"Nginx",frontmatter:{title:"Nginx",date:"2023-10-24T07:42:18.000Z",permalink:"/pages/dd97c6/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/04.%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/05.Web%E6%9C%8D%E5%8A%A1%E5%99%A8/01.Nginx.html",relativePath:"01.Java ç¥è¯ä½ç³»/04.ç³»ç»è®¾è®¡/05.Webæå¡å¨/01.Nginx.md",key:"v-0173ec44",path:"/pages/dd97c6/",headers:[{level:1,title:"Nginx ç®ä»",slug:"nginx-ç®ä»",normalizedTitle:"nginx ç®ä»",charIndex:2},{level:2,title:"ç¸å³æ¦å¿µ",slug:"ç¸å³æ¦å¿µ",normalizedTitle:"ç¸å³æ¦å¿µ",charIndex:95},{level:1,title:"Nginx å¸¸ç¨å½ä»¤",slug:"nginx-å¸¸ç¨å½ä»¤",normalizedTitle:"nginx å¸¸ç¨å½ä»¤",charIndex:393},{level:1,title:"Nginx éç½®æä»¶",slug:"nginx-éç½®æä»¶",normalizedTitle:"nginx éç½®æä»¶",charIndex:730},{level:3,title:"å¨å±å",slug:"å¨å±å",normalizedTitle:"å¨å±å",charIndex:803},{level:3,title:"eventå",slug:"eventå",normalizedTitle:"eventå",charIndex:812},{level:3,title:"httpå",slug:"httpå",normalizedTitle:"httpå",charIndex:824},{level:1,title:"Nginxåºç¨åºæ¯",slug:"nginxåºç¨åºæ¯",normalizedTitle:"nginxåºç¨åºæ¯",charIndex:1454}],headersStr:"Nginx ç®ä» ç¸å³æ¦å¿µ Nginx å¸¸ç¨å½ä»¤ Nginx éç½®æä»¶ å¨å±å eventå httpå Nginxåºç¨åºæ¯",content:"# Nginx ç®ä»\n\nNginx (engine x) æ¯ä¸æ¬¾è½»éçº§ç Web æå¡å¨ ãååä»£çæå¡å¨åçµå­é®ä»¶ï¼IMAP/POP3ï¼ä»£çæå¡å¨ãç¹ç¹æ¯å ç¨åå­å°ï¼å¹¶åè½åå¼ºã\n\n\n# ç¸å³æ¦å¿µ\n\n * æ­£åä»£çï¼éè¿å®¢æ·ç«¯ï¼æµè§å¨ï¼éç½®ä»£çæå¡å¨ï¼éè¿ä»£çæå¡å¨è¿è¡äºèç½è®¿é®ã\n\n * ååä»£çï¼å®¢æ·ç«¯åªéå°è¯·æ±åéå°ååä»£çæå¡å¨ï¼ç±ååä»£çæå¡å¨å»éæ©ç®æ æå¡å¨è·åæ°æ®åï¼åè¿åç»å®¢æ·ç«¯ï¼æ­¤æ¶ååä»£çæå¡å¨åç®æ æå¡å¨å¯¹å¤å°±æ¯ä¸ä¸ªæå¡å¨ï¼æ´é²çæ¯ä»£çæå¡å¨å°åï¼éèäºçå®æå¡å¨På°åã\n\n * è´è½½åè¡¡ï¼ åä¸ªæå¡å¨è§£å³ä¸äºï¼å¢å æå¡å¨æ°éï¼å°ååéä¸­è¯·æ±å°åä¸ªæå¡å¨æ¹ä¸ºå°è¯·æ±ååå°åä¸ªæå¡å¨ï¼å°è´è½½ååå°åä¸ªæå¡å¨ï¼è¿å°±æ¯è´è½½åè¡¡ã\n\n * å¨éåç¦»ï¼ä¸ºäºå å¿«è§£æéåº¦ï¼å¯ä»¥å°å¨æé¡µé¢åéæé¡µé¢ç±ä¸åçæå¡å¨æ¥è§£æï¼å å¿«è§£æéåº¦ãéä½åæ¥åä¸ªæå¡å¨çååã\n\n\n# Nginx å¸¸ç¨å½ä»¤\n\nnginx -s stop å¿«éå³é­Nginxï¼å¯è½ä¸ä¿å­ç¸å³ä¿¡æ¯ï¼å¹¶è¿éç»æ­¢webæå¡ã nginx -s quit å¹³ç¨³å³é­Nginxï¼ä¿å­ç¸å³ä¿¡æ¯ï¼æå®æçç»æwebæå¡ã nginx -s reload å æ¹åäºNginxç¸å³éç½®ï¼éè¦éæ°å è½½éç½®èéè½½ã nginx -s reopen éæ°æå¼æ¥å¿æä»¶ã nginx -c filename ä¸º Nginx æå®ä¸ä¸ªéç½®æä»¶ï¼æ¥ä»£æ¿ç¼ºççã nginx -t ä¸è¿è¡ï¼ä»ä»æµè¯éç½®æä»¶ãnginx å°æ£æ¥éç½®æä»¶çè¯­æ³çæ­£ç¡®æ§ï¼å¹¶å°è¯æå¼éç½®æä»¶ä¸­æå¼ç¨å°çæä»¶ã nginx -v æ¾ç¤º nginx ççæ¬ã nginx -V æ¾ç¤º nginx ççæ¬ï¼ç¼è¯å¨çæ¬åéç½®åæ°ã\n\n\n# Nginx éç½®æä»¶\n\né»è®¤ä½ç½®ï¼vim /usr/local/nginx/conf/nginx.conf\n\néç½®æä»¶ç»ä»¶åå«ä¸é¨åï¼\n\n 1. å¨å±å\n\n 2. eventå\n\n 3. httpå\n\n\n# å¨å±å\n\nå¨å±åï¼éç½®æå¡å¨æ´ä½è¿è¡çéç½®æä»¤ã\n\nä»éç½®æä»¶å¼å§å° events åä¹é´çåå®¹ï¼ä¸»è¦ä¼è®¾ç½®ä¸äºå½±å nginx æå¡å¨æ´ä½è¿è¡çéç½®æä»¤ï¼ä¸»è¦åæ¬é ç½®è¿è¡ Nginx æå¡å¨çç¨æ·ï¼ç»ï¼ãåè®¸çæç worker process æ°ï¼è¿ç¨ PID å­æ¾è·¯å¾ãæ¥å¿å­æ¾è·¯å¾åç±»åä»¥ åéç½®æä»¶çå¼å¥ç­ã\n\næ¯å¦ä¸é¢ç¬¬ä¸è¡éç½®çï¼è¿æ¯ Nginx æå¡å¨å¹¶åå¤çæå¡çå³é®éç½®ï¼worker_processes å¼è¶å¤§ï¼å¯ä»¥æ¯æçå¹¶åå¤çéä¹è¶å¤ï¼ä½æ¯ ä¼åå°ç¡¬ä»¶ãè½¯ä»¶ç­è®¾å¤çå¶çº¦\n\n\n\n\n# eventå\n\neventåï¼å½±å Nginx æå¡å¨ä¸ç¨æ·çç½ç»è¿æ¥ã\n\nevents åæ¶åçæä»¤ä¸»è¦å½±å Nginx æå¡å¨ä¸ç¨æ·çç½ç»è¿æ¥ï¼å¸¸ç¨çè®¾ç½®åæ¬æ¯å¦å¼å¯å¯¹å¤ work process ä¸çç½ç»è¿æ¥è¿è¡åºååï¼æ¯å¦åè®¸åæ¶æ¥æ¶å¤ä¸ªç½ç»è¿æ¥ï¼éååªç§äºä»¶é©±å¨æ¨¡åæ¥å¤çè¿æ¥è¯·æ±ï¼æ¯ä¸ª wordprocess å¯ä»¥åæ¶æ¯æçæå¤§è¿æ¥æ°ç­ã\n\nä¸è¿°ä¾å­å°±è¡¨ç¤ºæ¯ä¸ª work process æ¯æçæå¤§è¿æ¥æ°ä¸º 1024.\n\nè¿é¨åçéç½®å¯¹ Nginx çæ§è½å½±åè¾å¤§ï¼å¨å®éä¸­åºè¯¥çµæ´»éç½®ã\n\n\n\n\n# httpå\n\nè¿ç®æ¯ Nginx æå¡å¨éç½®ä¸­æé¢ç¹çé¨åï¼ä»£çãç¼å­åæ¥å¿å®ä¹ç­ç»å¤§å¤æ°åè½åç¬¬ä¸æ¹æ¨¡åçéç½®é½å¨è¿éã\n\néè¦æ³¨æçæ¯ï¼http åä¹å¯ä»¥åæ¬ http å¨å±åãserver åã\n\n\n\n\n# Nginxåºç¨åºæ¯\n\n * Httpååä»£ç\n\n * Httpsååä»£ç\n\n * è´è½½åè¡¡\n\n * ç½ç«å¤ä¸ªwebappéç½®\n\n * éæç«ç¹\n\n * æ­å»ºæä»¶æå¡å¨\n\n * è§£å³è·¨å",normalizedContent:"# nginx ç®ä»\n\nnginx (engine x) æ¯ä¸æ¬¾è½»éçº§ç web æå¡å¨ ãååä»£çæå¡å¨åçµå­é®ä»¶ï¼imap/pop3ï¼ä»£çæå¡å¨ãç¹ç¹æ¯å ç¨åå­å°ï¼å¹¶åè½åå¼ºã\n\n\n# ç¸å³æ¦å¿µ\n\n * æ­£åä»£çï¼éè¿å®¢æ·ç«¯ï¼æµè§å¨ï¼éç½®ä»£çæå¡å¨ï¼éè¿ä»£çæå¡å¨è¿è¡äºèç½è®¿é®ã\n\n * ååä»£çï¼å®¢æ·ç«¯åªéå°è¯·æ±åéå°ååä»£çæå¡å¨ï¼ç±ååä»£çæå¡å¨å»éæ©ç®æ æå¡å¨è·åæ°æ®åï¼åè¿åç»å®¢æ·ç«¯ï¼æ­¤æ¶ååä»£çæå¡å¨åç®æ æå¡å¨å¯¹å¤å°±æ¯ä¸ä¸ªæå¡å¨ï¼æ´é²çæ¯ä»£çæå¡å¨å°åï¼éèäºçå®æå¡å¨på°åã\n\n * è´è½½åè¡¡ï¼ åä¸ªæå¡å¨è§£å³ä¸äºï¼å¢å æå¡å¨æ°éï¼å°ååéä¸­è¯·æ±å°åä¸ªæå¡å¨æ¹ä¸ºå°è¯·æ±ååå°åä¸ªæå¡å¨ï¼å°è´è½½ååå°åä¸ªæå¡å¨ï¼è¿å°±æ¯è´è½½åè¡¡ã\n\n * å¨éåç¦»ï¼ä¸ºäºå å¿«è§£æéåº¦ï¼å¯ä»¥å°å¨æé¡µé¢åéæé¡µé¢ç±ä¸åçæå¡å¨æ¥è§£æï¼å å¿«è§£æéåº¦ãéä½åæ¥åä¸ªæå¡å¨çååã\n\n\n# nginx å¸¸ç¨å½ä»¤\n\nnginx -s stop å¿«éå³é­nginxï¼å¯è½ä¸ä¿å­ç¸å³ä¿¡æ¯ï¼å¹¶è¿éç»æ­¢webæå¡ã nginx -s quit å¹³ç¨³å³é­nginxï¼ä¿å­ç¸å³ä¿¡æ¯ï¼æå®æçç»æwebæå¡ã nginx -s reload å æ¹åäºnginxç¸å³éç½®ï¼éè¦éæ°å è½½éç½®èéè½½ã nginx -s reopen éæ°æå¼æ¥å¿æä»¶ã nginx -c filename ä¸º nginx æå®ä¸ä¸ªéç½®æä»¶ï¼æ¥ä»£æ¿ç¼ºççã nginx -t ä¸è¿è¡ï¼ä»ä»æµè¯éç½®æä»¶ãnginx å°æ£æ¥éç½®æä»¶çè¯­æ³çæ­£ç¡®æ§ï¼å¹¶å°è¯æå¼éç½®æä»¶ä¸­æå¼ç¨å°çæä»¶ã nginx -v æ¾ç¤º nginx ççæ¬ã nginx -v æ¾ç¤º nginx ççæ¬ï¼ç¼è¯å¨çæ¬åéç½®åæ°ã\n\n\n# nginx éç½®æä»¶\n\né»è®¤ä½ç½®ï¼vim /usr/local/nginx/conf/nginx.conf\n\néç½®æä»¶ç»ä»¶åå«ä¸é¨åï¼\n\n 1. å¨å±å\n\n 2. eventå\n\n 3. httpå\n\n\n# å¨å±å\n\nå¨å±åï¼éç½®æå¡å¨æ´ä½è¿è¡çéç½®æä»¤ã\n\nä»éç½®æä»¶å¼å§å° events åä¹é´çåå®¹ï¼ä¸»è¦ä¼è®¾ç½®ä¸äºå½±å nginx æå¡å¨æ´ä½è¿è¡çéç½®æä»¤ï¼ä¸»è¦åæ¬é ç½®è¿è¡ nginx æå¡å¨çç¨æ·ï¼ç»ï¼ãåè®¸çæç worker process æ°ï¼è¿ç¨ pid å­æ¾è·¯å¾ãæ¥å¿å­æ¾è·¯å¾åç±»åä»¥ åéç½®æä»¶çå¼å¥ç­ã\n\næ¯å¦ä¸é¢ç¬¬ä¸è¡éç½®çï¼è¿æ¯ nginx æå¡å¨å¹¶åå¤çæå¡çå³é®éç½®ï¼worker_processes å¼è¶å¤§ï¼å¯ä»¥æ¯æçå¹¶åå¤çéä¹è¶å¤ï¼ä½æ¯ ä¼åå°ç¡¬ä»¶ãè½¯ä»¶ç­è®¾å¤çå¶çº¦\n\n\n\n\n# eventå\n\neventåï¼å½±å nginx æå¡å¨ä¸ç¨æ·çç½ç»è¿æ¥ã\n\nevents åæ¶åçæä»¤ä¸»è¦å½±å nginx æå¡å¨ä¸ç¨æ·çç½ç»è¿æ¥ï¼å¸¸ç¨çè®¾ç½®åæ¬æ¯å¦å¼å¯å¯¹å¤ work process ä¸çç½ç»è¿æ¥è¿è¡åºååï¼æ¯å¦åè®¸åæ¶æ¥æ¶å¤ä¸ªç½ç»è¿æ¥ï¼éååªç§äºä»¶é©±å¨æ¨¡åæ¥å¤çè¿æ¥è¯·æ±ï¼æ¯ä¸ª wordprocess å¯ä»¥åæ¶æ¯æçæå¤§è¿æ¥æ°ç­ã\n\nä¸è¿°ä¾å­å°±è¡¨ç¤ºæ¯ä¸ª work process æ¯æçæå¤§è¿æ¥æ°ä¸º 1024.\n\nè¿é¨åçéç½®å¯¹ nginx çæ§è½å½±åè¾å¤§ï¼å¨å®éä¸­åºè¯¥çµæ´»éç½®ã\n\n\n\n\n# httpå\n\nè¿ç®æ¯ nginx æå¡å¨éç½®ä¸­æé¢ç¹çé¨åï¼ä»£çãç¼å­åæ¥å¿å®ä¹ç­ç»å¤§å¤æ°åè½åç¬¬ä¸æ¹æ¨¡åçéç½®é½å¨è¿éã\n\néè¦æ³¨æçæ¯ï¼http åä¹å¯ä»¥åæ¬ http å¨å±åãserver åã\n\n\n\n\n# nginxåºç¨åºæ¯\n\n * httpååä»£ç\n\n * httpsååä»£ç\n\n * è´è½½åè¡¡\n\n * ç½ç«å¤ä¸ªwebappéç½®\n\n * éæç«ç¹\n\n * æ­å»ºæä»¶æå¡å¨\n\n * è§£å³è·¨å",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"è´£ä»»é¾æ¨¡å¼",frontmatter:{title:"è´£ä»»é¾æ¨¡å¼",date:"2023-10-24T07:40:36.000Z",permalink:"/pages/62b3c2/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/05.%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/01.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/02.%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F.html",relativePath:"01.Java ç¥è¯ä½ç³»/05.ä»£ç è´¨é/01.è®¾è®¡æ¨¡å¼/02.è´£ä»»é¾æ¨¡å¼.md",key:"v-64b968d7",path:"/pages/62b3c2/",headers:[{level:1,title:"å®éåºç¨åºæ¯",slug:"å®éåºç¨åºæ¯",normalizedTitle:"å®éåºç¨åºæ¯",charIndex:238},{level:2,title:"1.å®ä¹å¤çå¨ç¶ç±»",slug:"_1-å®ä¹å¤çå¨ç¶ç±»",normalizedTitle:"1.å®ä¹å¤çå¨ç¶ç±»",charIndex:291},{level:2,title:"2.å®ä¹å¤çå¨å­ç±»",slug:"_2-å®ä¹å¤çå¨å­ç±»",normalizedTitle:"2.å®ä¹å¤çå¨å­ç±»",charIndex:421},{level:2,title:"3.å®ä¹éç¥¨æµç¨å¼æ",slug:"_3-å®ä¹éç¥¨æµç¨å¼æ",normalizedTitle:"3.å®ä¹éç¥¨æµç¨å¼æ",charIndex:863},{level:2,title:"4.å¤é¨æ¹æ³è°ç¨",slug:"_4-å¤é¨æ¹æ³è°ç¨",normalizedTitle:"4.å¤é¨æ¹æ³è°ç¨",charIndex:1486},{level:1,title:"reference",slug:"reference",normalizedTitle:"reference",charIndex:1829}],headersStr:"å®éåºç¨åºæ¯ 1.å®ä¹å¤çå¨ç¶ç±» 2.å®ä¹å¤çå¨å­ç±» 3.å®ä¹éç¥¨æµç¨å¼æ 4.å¤é¨æ¹æ³è°ç¨ reference",content:"è´£ä»»é¾æ¨¡å¼æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼åè®¸ä½ å°è¯·æ±æ²¿çå¤çé¾åéï¼ç¶åå¤çèé½å¯å¯¹å¶è¿è¡å¤çï¼å®æåå¯ä»¥åå°å¶ä¼ éç»ä¸ä¸ä¸ªå¤çèã\n\nè´£ä»»é¾æ¨¡å¼ç¹ç¹ï¼\n\n * å¯ä»¥æ§å¶è¯·æ±çå¤ççé¡ºåº\n * åä¸èè´£ååï¼å¯ä»¥å¯¹åèµ·æä½åæ§è¡æä½çç±»è¿è¡è§£è¦\n * å¼é­ååï¼å¯ä¸ç¨ä¿®æ¹åæçä¸å¡ä»£ç ï¼æ°å¢å¶ä»çå¤çç±»\n * ä¸è½ä¿è¯æ¯ä¸ªå¤çèèå¯ä»¥æ§è¡\n * æçä¸æ¯å¾å¥½ï¼è°ç¨æ¶å¦æä¸æ³¨æä¼åºç°åç§åæ ·çé®é¢\n\nè´£ä»»é¾æ¨¡å¼éç¨çåºæ¯ï¼å½å¿é¡»æé¡ºåºæ§è¡å¤ä¸ªå¤çèæ¶ï¼å¯ä»¥èèä½¿ç¨è´£ä»»é¾æ¨¡å¼\n\n\n# å®éåºç¨åºæ¯\n\nè´­ä¹°æºç¥¨ï¼éç¥¨éè¦ä¸ç³»åæä½ï¼è·åæ°æ®ãå¤ç§æ ¡éªãæ°æ®å¥åºãå¤é¨ç³»ç»æ°æ®åæ­¥ï¼ã\n\n\n# 1.å®ä¹å¤çå¨ç¶ç±»\n\npublic abstract class RefundHandle {\n\t//context éç¥¨ä¸ä¸æå¯¹è±¡\n    public abstract void handle(RefundContext context);\n}\n\n\n\n# 2.å®ä¹å¤çå¨å­ç±»\n\nRefundSubOneHandleç¬¬ä¸ä¸ªå­ç±»å¤çå¨\n\n//@Component å°å­ç±»å¤çå¨äº¤ç±Spirngå®¹å¨ç®¡ç\n@Component\npublic class RefundSubOneHandle extends RefundHandle {\n    \n    @Override\n    public void handle(RefundContext context) {\n        //ç¬¬ä¸ä¸ªå­ç±»å¤çå¨ do someing\n    }\n}\n\n\nRefundSubTWOHandleç¬¬äºä¸ªå­ç±»å¤çå¨\n\n@Component\npublic class RefundSubTWOHandle extends RefundHandle {\n    \n    @Override\n    public void handle(RefundContext context) {\n\t\t//ç¬¬äºä¸ªå­ç±»å¤çå¨ do someing\n    }\n}\n\n\n\n# 3.å®ä¹éç¥¨æµç¨å¼æ\n\n@Component\npublic class RefundEngine {\n\n    @Resource\n    private RefundSubOneHandle refundSubOneHandle;\n    \n    @Resource\n    private RefundSubTWOHandle refundSubTwoHandle;\n    \n    public void invokeAll(RefundContext context) {\n         //é¡ºåºå è½½å¤çå¨\n        List<RefundHandle> refundHandleList = new ArrayList<>();\n        //æ·»å ç¬¬ä¸ä¸ªå­ç±»å¤çå¨\n        refundHandleList.add(refundSubOneHandle);\n        //æ·»å ç¬¬äºä¸ªå­ç±»å¤çå¨\n        refundHandleList.add(refundSubTwoHandle);\n        \n         //æ§è¡éç¥¨å¤çå¨\n        for (RefundHandle refundHandle : refundHandleList) {\n            refundHandle.handle(context);\n        }\n    }\n}\n\n\n\n# 4.å¤é¨æ¹æ³è°ç¨\n\npublic class RefundService {\n\t@Resource\n    private RefundEngine refundEngine; \n    \n    public void refund() {\n         //åå»ºä¸ä¸æå¯¹è±¡å¹¶åå§åæ°æ®\n        RefundContext context = new RefundContext();\n\n        //éç¥¨å¼ææ§è¡æµç¨\n        this.refundEngine.invokeAll(context);\n    }\n}\n\n\n\nåç»­æ©å±ï¼å¦æè¦æ°å¢ä¸ä¸ªå¤çèç¹ï¼åªè¦æ°å¢ä¸ä¸ªå­å¤çå¨ç±»ï¼å¨æ§è¡å¼æinvokeAllæ¹æ³å è½½è¿ä¸ªå¤çå¨ï¼å°±å¯ä»¥å®ææ©å±ã\n\n\n# reference\n\n * è´£ä»»é¾æ¨¡å¼ - Ajå°è - åå®¢å­\n\n * è®¾è®¡æ¨¡å¼å¨å¤åè¥éä¸å¡ä¸­çå®è·µ- ç¾å¢ææ¯å¢é",normalizedContent:"è´£ä»»é¾æ¨¡å¼æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼åè®¸ä½ å°è¯·æ±æ²¿çå¤çé¾åéï¼ç¶åå¤çèé½å¯å¯¹å¶è¿è¡å¤çï¼å®æåå¯ä»¥åå°å¶ä¼ éç»ä¸ä¸ä¸ªå¤çèã\n\nè´£ä»»é¾æ¨¡å¼ç¹ç¹ï¼\n\n * å¯ä»¥æ§å¶è¯·æ±çå¤ççé¡ºåº\n * åä¸èè´£ååï¼å¯ä»¥å¯¹åèµ·æä½åæ§è¡æä½çç±»è¿è¡è§£è¦\n * å¼é­ååï¼å¯ä¸ç¨ä¿®æ¹åæçä¸å¡ä»£ç ï¼æ°å¢å¶ä»çå¤çç±»\n * ä¸è½ä¿è¯æ¯ä¸ªå¤çèèå¯ä»¥æ§è¡\n * æçä¸æ¯å¾å¥½ï¼è°ç¨æ¶å¦æä¸æ³¨æä¼åºç°åç§åæ ·çé®é¢\n\nè´£ä»»é¾æ¨¡å¼éç¨çåºæ¯ï¼å½å¿é¡»æé¡ºåºæ§è¡å¤ä¸ªå¤çèæ¶ï¼å¯ä»¥èèä½¿ç¨è´£ä»»é¾æ¨¡å¼\n\n\n# å®éåºç¨åºæ¯\n\nè´­ä¹°æºç¥¨ï¼éç¥¨éè¦ä¸ç³»åæä½ï¼è·åæ°æ®ãå¤ç§æ ¡éªãæ°æ®å¥åºãå¤é¨ç³»ç»æ°æ®åæ­¥ï¼ã\n\n\n# 1.å®ä¹å¤çå¨ç¶ç±»\n\npublic abstract class refundhandle {\n\t//context éç¥¨ä¸ä¸æå¯¹è±¡\n    public abstract void handle(refundcontext context);\n}\n\n\n\n# 2.å®ä¹å¤çå¨å­ç±»\n\nrefundsubonehandleç¬¬ä¸ä¸ªå­ç±»å¤çå¨\n\n//@component å°å­ç±»å¤çå¨äº¤ç±spirngå®¹å¨ç®¡ç\n@component\npublic class refundsubonehandle extends refundhandle {\n    \n    @override\n    public void handle(refundcontext context) {\n        //ç¬¬ä¸ä¸ªå­ç±»å¤çå¨ do someing\n    }\n}\n\n\nrefundsubtwohandleç¬¬äºä¸ªå­ç±»å¤çå¨\n\n@component\npublic class refundsubtwohandle extends refundhandle {\n    \n    @override\n    public void handle(refundcontext context) {\n\t\t//ç¬¬äºä¸ªå­ç±»å¤çå¨ do someing\n    }\n}\n\n\n\n# 3.å®ä¹éç¥¨æµç¨å¼æ\n\n@component\npublic class refundengine {\n\n    @resource\n    private refundsubonehandle refundsubonehandle;\n    \n    @resource\n    private refundsubtwohandle refundsubtwohandle;\n    \n    public void invokeall(refundcontext context) {\n         //é¡ºåºå è½½å¤çå¨\n        list<refundhandle> refundhandlelist = new arraylist<>();\n        //æ·»å ç¬¬ä¸ä¸ªå­ç±»å¤çå¨\n        refundhandlelist.add(refundsubonehandle);\n        //æ·»å ç¬¬äºä¸ªå­ç±»å¤çå¨\n        refundhandlelist.add(refundsubtwohandle);\n        \n         //æ§è¡éç¥¨å¤çå¨\n        for (refundhandle refundhandle : refundhandlelist) {\n            refundhandle.handle(context);\n        }\n    }\n}\n\n\n\n# 4.å¤é¨æ¹æ³è°ç¨\n\npublic class refundservice {\n\t@resource\n    private refundengine refundengine; \n    \n    public void refund() {\n         //åå»ºä¸ä¸æå¯¹è±¡å¹¶åå§åæ°æ®\n        refundcontext context = new refundcontext();\n\n        //éç¥¨å¼ææ§è¡æµç¨\n        this.refundengine.invokeall(context);\n    }\n}\n\n\n\nåç»­æ©å±ï¼å¦æè¦æ°å¢ä¸ä¸ªå¤çèç¹ï¼åªè¦æ°å¢ä¸ä¸ªå­å¤çå¨ç±»ï¼å¨æ§è¡å¼æinvokeallæ¹æ³å è½½è¿ä¸ªå¤çå¨ï¼å°±å¯ä»¥å®ææ©å±ã\n\n\n# reference\n\n * è´£ä»»é¾æ¨¡å¼ - ajå°è - åå®¢å­\n\n * è®¾è®¡æ¨¡å¼å¨å¤åè¥éä¸å¡ä¸­çå®è·µ- ç¾å¢ææ¯å¢é",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"æ¨¡çæ¹æ³æ¨¡å¼",frontmatter:{title:"æ¨¡çæ¹æ³æ¨¡å¼",date:"2023-10-24T07:40:36.000Z",permalink:"/pages/a2e658/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/05.%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/01.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/03.%E6%A8%A1%E7%89%88%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F.html",relativePath:"01.Java ç¥è¯ä½ç³»/05.ä»£ç è´¨é/01.è®¾è®¡æ¨¡å¼/03.æ¨¡çæ¹æ³æ¨¡å¼.md",key:"v-7cc9a2b6",path:"/pages/a2e658/",headers:[{level:1,title:"å®éåºç¨åºæ¯",slug:"å®éåºç¨åºæ¯",normalizedTitle:"å®éåºç¨åºæ¯",charIndex:315},{level:2,title:"1.å®ä¹æ½è±¡æ¨¡æ¿",slug:"_1-å®ä¹æ½è±¡æ¨¡æ¿",normalizedTitle:"1.å®ä¹æ½è±¡æ¨¡æ¿",charIndex:428},{level:2,title:"2.å®ä¹å·ä½æ¨¡æ¿",slug:"_2-å®ä¹å·ä½æ¨¡æ¿",normalizedTitle:"2.å®ä¹å·ä½æ¨¡æ¿",charIndex:2416},{level:2,title:"3.åºç¨ç±»ï¼ä½¿ç¨å·¥åæ¨¡å¼è·åå¯¹åºå­ç±»ï¼",slug:"_3-åºç¨ç±»-ä½¿ç¨å·¥åæ¨¡å¼è·åå¯¹åºå­ç±»",normalizedTitle:"3.åºç¨ç±»ï¼ä½¿ç¨å·¥åæ¨¡å¼è·åå¯¹åºå­ç±»ï¼",charIndex:3464},{level:1,title:"reference",slug:"reference",normalizedTitle:"reference",charIndex:4262}],headersStr:"å®éåºç¨åºæ¯ 1.å®ä¹æ½è±¡æ¨¡æ¿ 2.å®ä¹å·ä½æ¨¡æ¿ 3.åºç¨ç±»ï¼ä½¿ç¨å·¥åæ¨¡å¼è·åå¯¹åºå­ç±»ï¼ reference",content:'æ¨¡çæ¹æ³æ¨¡å¼å®ä¹ï¼å®ä¹ä¸ä¸ªæä½ä¸­çç®æ³çæ¡æ¶ï¼èå°ä¸äºæ­¥éª¤å»¶è¿å°å­ç±»ä¸­ãä½¿å¾å­ç±»å¯ä»¥ä¸æ¹åä¸ä¸ªç®æ³çç»æå³å¯éå®ä¹è¯¥ç®æ³çæäºç¹å®æ­¥éª¤ã\n\næ¨¡çæ¹æ³æ¨¡å¼ä½¿ç¨äºJavaçç»§æ¿æºå¶ï¼æä¸¤ç±»è§è²ï¼æ½è±¡æ¨¡çï¼æ½è±¡ç¶ç±»ï¼åå·ä½æ¨¡çï¼å®ç°å­ç±»ï¼\n\næ½è±¡æ¨¡çä¸­æä¸¤ç±»æ¹æ³ï¼\n\n * åºæ¬æ¹æ³ï¼åºæ¬æ¹æ³ä¹å«ååºæ¬æä½ï¼æ¯ç±å­ç±»å®ç°çæ¹æ³ï¼å¹¶ä¸å¨æ¨¡æ¿æ¹æ³è¢«è°ç¨ãæ½è±¡æ¨¡æ¿ä¸­çåºæ¬æ¹æ³å°½éè®¾è®¡ä¸ºprotectedç±»åã\n * æ¨¡æ¿æ¹æ³ï¼å¯ä»¥æä¸ä¸ªæå ä¸ªï¼ä¸è¬æ¯ä¸ä¸ªå·ä½æ¹æ³ï¼ä¹å°±æ¯ä¸ä¸ªæ¡æ¶ï¼å®ç°å¯¹åºæ¬æ¹æ³çè°åº¦ï¼å®æåºå®çé»è¾ãä¸è¬æ¨¡æ¿æ¹æ³é½å ä¸finalå³é®å­ï¼ä¸åè®¸è¢«è¦åã\n\nå·ä½æ¨¡çä¸»è¦å¯¹ç¶ç±»å®ä¹çä¸ä¸ªæå¤ä¸ªæ½è±¡æ¹æ³è¿è¡ä¸ªæ§åå®ç°ã\n\n\n# å®éåºç¨åºæ¯\n\nåºæ¯ï¼éç¥¨éè¦çæéæ¬¾åï¼çæéæ¬¾åéè¦ç»è¿æå»ºéæ¬¾ååºæ¬ä¿¡æ¯ãæå»ºéæ¬¾åç¨è´¹ä¿¡æ¯ãæå»ºéæ¬¾åæç»ä¿¡æ¯ãéæ¬¾åæ°æ®å¥åºãå¶ä¸­æå»ºéæ¬¾åç¨è´¹ä¿¡æ¯ãæå»ºéæ¬¾åæç»ä¿¡æ¯è¿ä¸¤æ­¥ï¼å½åéç¥¨åå½ééç¥¨å¤çä¸ä¸æ ·ã\n\n\n# 1.å®ä¹æ½è±¡æ¨¡æ¿\n\n/**\n * éç¥¨æ¨¡æ¿ç¶ç±»\n *\n */\npublic abstract class AbstractOrderRefundTemplate {\n\n    private IOrderRefundWarehousingService orderRefundWarehousingService;\n\n    /**\n     * çæéæ¬¾å\n     *\n     * @param dto\n     * @param context\n     * @return\n     */\n    public final String createOrderRefund(RefundCreateRequestDTO dto, OrderRefundContext context) {\n\n        //æå»ºéæ¬¾ååºç¡ä¿¡æ¯\n        OrderRefundInfo orderRefundInfo = OrderRefundInfoBuilder.buildOrderRefundInfo(dto);\n        //æå»ºç¨è´¹ä¿¡æ¯\n        List<OrderTaxInfo> orderRefundTaxInfoList = OrderRefundInfoBuilder.buildOrderRefundTaxInfo(context);\n        //æå»ºéæ¬¾æç»\n        List<OrderRefundDetailInfo> orderRefundDetailInfoList = this.buildOrderRefundDetailInfo(context, orderRefundInfo, orderRefundTaxInfoList);\n        //éæ¬¾åæ°æ®å¥åº(æ½è±¡ç±»è·åSpring Beanï¼ä»ApplicationContextè·å)\n        this.orderRefundWarehousingService = (OrderRefundWarehousingServiceImpl) SpringContextUtils.getBean(OrderRefundWarehousingServiceImpl.BEAN_NAME);\n        return this.orderRefundWarehousingService.orderRefundWarehousing(context, orderRefundInfo, orderRefundTaxInfoList, orderRefundDetailInfoList);\n    }\n\n    /**\n     * æå»ºéæ¬¾æç»ä¿¡æ¯\n     *\n     * @param context                éç¥¨ä¸ä¸æ\n     * @param orderRefundInfo        æå»ºçéæ¬¾åä¿¡æ¯\n     * @param orderRefundTaxInfoList æå»ºçéæ¬¾ç¨è´¹ä¿¡æ¯\n     * @return\n     */\n    protected abstract List<OrderRefundDetailInfo> buildOrderRefundDetailInfo(OrderRefundContext context, OrderRefundInfo orderRefundInfo, List<OrderTaxInfo> orderRefundTaxInfoList);\n}\n\n\n\nè·åSpringä¸ä¸æå¯¹è±¡å·¥å·ç±»ã\n\n@Component\npublic class SpringContextUtils {\n\n    private static ApplicationContext context;\n\n    @Autowired\n    public SpringContextUtils(ApplicationContext applicationContext) {\n        setContext(applicationContext);\n    }\n\n    public static void setContext(ApplicationContext applicationContext) {\n        SpringContextUtils.context = applicationContext;\n    }\n\n    public static Object getBean(String clazz) {\n        return context.getBean(clazz);\n    }\n\n}\n\n\n\n# 2.å®ä¹å·ä½æ¨¡æ¿\n\nå½åéç¥¨æ¨¡æ¿\n\n/**\n * å½åéç¥¨æ¨¡æ¿\n */\n@Component(BEAN_NAME)\npublic class DomesticOrderRefundTemplate extends AbstractOrderRefundTemplate {\n    public static final String BEAN_NAME = "domesticOrderRefundTemplate";\n\n    @Override\n    protected List<OrderRefundDetailInfo> buildOrderRefundDetailInfo(OrderRefundContext context, OrderRefundInfo orderRefundInfo, List<OrderTaxInfo> orderRefundTaxInfoList) {\n        return OrderRefundInfoBuilder.buildOrderRefundDetailInfo(context, orderRefundInfo, orderRefundTaxInfoList);\n    }\n}\n\n\n\nå½ééç¥¨æ¨¡æ¿\n\n/**\n * å½ééç¥¨æ¨¡æ¿\n */\n@Component(BEAN_NAME)\npublic class IntelOrderRefundTemplate extends AbstractOrderRefundTemplate {\n    public static final String BEAN_NAME = "intelOrderRefundTemplate";\n\n    @Override\n    protected List<OrderRefundDetailInfo> buildOrderRefundDetailInfo(OrderRefundContext context, OrderRefundInfo orderRefundInfo, List<OrderTaxInfo> orderRefundTaxInfoList) {\n        return OrderRefundInfoBuilder.buildIntelOrderRefundDetailInfo(context, orderRefundInfo, orderRefundTaxInfoList);\n    }\n}\n\n\n\n\n# 3.åºç¨ç±»ï¼ä½¿ç¨å·¥åæ¨¡å¼è·åå¯¹åºå­ç±»ï¼\n\npublic class OrderRefundServiceImpl implements IOrderRefundService {\n    private static Map<String, String> orderRefundTemplateBeanMap = new HashMap<>();\n\n    static {\n        orderRefundTemplateBeanMap.put(DomesticOrIntelEnum.DOMESTIC.getValue(), DomesticOrderRefundTemplate.BEAN_NAME);\n        orderRefundTemplateBeanMap.put(DomesticOrIntelEnum.INTEL.getValue(), IntelOrderRefundTemplate.BEAN_NAME);\n    }\n    \n    @Override\n    public OrderRefundCreateDTO createOrderRefund(RefundCreateRequestDTO request) {\n        //çæéæ¬¾å\n        AbstractOrderRefundTemplate orderRefundTemplate = (AbstractOrderRefundTemplate)SpringContextUtils.getBean(orderRefundTemplateBeanMap.get(domesticOrIntel.getValue()));   \n\t\torderRefundTemplate.createOrderRefund(request, context);\n    }\n}\n\n\n\n# reference\n\n * ãè®¾è®¡æ¨¡å¼ä¹ç¦ã\n * 21 | ä»£ç éå¤ï¼æå®ä»£ç éå¤çä¸ä¸ªç»æ',normalizedContent:'æ¨¡çæ¹æ³æ¨¡å¼å®ä¹ï¼å®ä¹ä¸ä¸ªæä½ä¸­çç®æ³çæ¡æ¶ï¼èå°ä¸äºæ­¥éª¤å»¶è¿å°å­ç±»ä¸­ãä½¿å¾å­ç±»å¯ä»¥ä¸æ¹åä¸ä¸ªç®æ³çç»æå³å¯éå®ä¹è¯¥ç®æ³çæäºç¹å®æ­¥éª¤ã\n\næ¨¡çæ¹æ³æ¨¡å¼ä½¿ç¨äºjavaçç»§æ¿æºå¶ï¼æä¸¤ç±»è§è²ï¼æ½è±¡æ¨¡çï¼æ½è±¡ç¶ç±»ï¼åå·ä½æ¨¡çï¼å®ç°å­ç±»ï¼\n\næ½è±¡æ¨¡çä¸­æä¸¤ç±»æ¹æ³ï¼\n\n * åºæ¬æ¹æ³ï¼åºæ¬æ¹æ³ä¹å«ååºæ¬æä½ï¼æ¯ç±å­ç±»å®ç°çæ¹æ³ï¼å¹¶ä¸å¨æ¨¡æ¿æ¹æ³è¢«è°ç¨ãæ½è±¡æ¨¡æ¿ä¸­çåºæ¬æ¹æ³å°½éè®¾è®¡ä¸ºprotectedç±»åã\n * æ¨¡æ¿æ¹æ³ï¼å¯ä»¥æä¸ä¸ªæå ä¸ªï¼ä¸è¬æ¯ä¸ä¸ªå·ä½æ¹æ³ï¼ä¹å°±æ¯ä¸ä¸ªæ¡æ¶ï¼å®ç°å¯¹åºæ¬æ¹æ³çè°åº¦ï¼å®æåºå®çé»è¾ãä¸è¬æ¨¡æ¿æ¹æ³é½å ä¸finalå³é®å­ï¼ä¸åè®¸è¢«è¦åã\n\nå·ä½æ¨¡çä¸»è¦å¯¹ç¶ç±»å®ä¹çä¸ä¸ªæå¤ä¸ªæ½è±¡æ¹æ³è¿è¡ä¸ªæ§åå®ç°ã\n\n\n# å®éåºç¨åºæ¯\n\nåºæ¯ï¼éç¥¨éè¦çæéæ¬¾åï¼çæéæ¬¾åéè¦ç»è¿æå»ºéæ¬¾ååºæ¬ä¿¡æ¯ãæå»ºéæ¬¾åç¨è´¹ä¿¡æ¯ãæå»ºéæ¬¾åæç»ä¿¡æ¯ãéæ¬¾åæ°æ®å¥åºãå¶ä¸­æå»ºéæ¬¾åç¨è´¹ä¿¡æ¯ãæå»ºéæ¬¾åæç»ä¿¡æ¯è¿ä¸¤æ­¥ï¼å½åéç¥¨åå½ééç¥¨å¤çä¸ä¸æ ·ã\n\n\n# 1.å®ä¹æ½è±¡æ¨¡æ¿\n\n/**\n * éç¥¨æ¨¡æ¿ç¶ç±»\n *\n */\npublic abstract class abstractorderrefundtemplate {\n\n    private iorderrefundwarehousingservice orderrefundwarehousingservice;\n\n    /**\n     * çæéæ¬¾å\n     *\n     * @param dto\n     * @param context\n     * @return\n     */\n    public final string createorderrefund(refundcreaterequestdto dto, orderrefundcontext context) {\n\n        //æå»ºéæ¬¾ååºç¡ä¿¡æ¯\n        orderrefundinfo orderrefundinfo = orderrefundinfobuilder.buildorderrefundinfo(dto);\n        //æå»ºç¨è´¹ä¿¡æ¯\n        list<ordertaxinfo> orderrefundtaxinfolist = orderrefundinfobuilder.buildorderrefundtaxinfo(context);\n        //æå»ºéæ¬¾æç»\n        list<orderrefunddetailinfo> orderrefunddetailinfolist = this.buildorderrefunddetailinfo(context, orderrefundinfo, orderrefundtaxinfolist);\n        //éæ¬¾åæ°æ®å¥åº(æ½è±¡ç±»è·åspring beanï¼ä»applicationcontextè·å)\n        this.orderrefundwarehousingservice = (orderrefundwarehousingserviceimpl) springcontextutils.getbean(orderrefundwarehousingserviceimpl.bean_name);\n        return this.orderrefundwarehousingservice.orderrefundwarehousing(context, orderrefundinfo, orderrefundtaxinfolist, orderrefunddetailinfolist);\n    }\n\n    /**\n     * æå»ºéæ¬¾æç»ä¿¡æ¯\n     *\n     * @param context                éç¥¨ä¸ä¸æ\n     * @param orderrefundinfo        æå»ºçéæ¬¾åä¿¡æ¯\n     * @param orderrefundtaxinfolist æå»ºçéæ¬¾ç¨è´¹ä¿¡æ¯\n     * @return\n     */\n    protected abstract list<orderrefunddetailinfo> buildorderrefunddetailinfo(orderrefundcontext context, orderrefundinfo orderrefundinfo, list<ordertaxinfo> orderrefundtaxinfolist);\n}\n\n\n\nè·åspringä¸ä¸æå¯¹è±¡å·¥å·ç±»ã\n\n@component\npublic class springcontextutils {\n\n    private static applicationcontext context;\n\n    @autowired\n    public springcontextutils(applicationcontext applicationcontext) {\n        setcontext(applicationcontext);\n    }\n\n    public static void setcontext(applicationcontext applicationcontext) {\n        springcontextutils.context = applicationcontext;\n    }\n\n    public static object getbean(string clazz) {\n        return context.getbean(clazz);\n    }\n\n}\n\n\n\n# 2.å®ä¹å·ä½æ¨¡æ¿\n\nå½åéç¥¨æ¨¡æ¿\n\n/**\n * å½åéç¥¨æ¨¡æ¿\n */\n@component(bean_name)\npublic class domesticorderrefundtemplate extends abstractorderrefundtemplate {\n    public static final string bean_name = "domesticorderrefundtemplate";\n\n    @override\n    protected list<orderrefunddetailinfo> buildorderrefunddetailinfo(orderrefundcontext context, orderrefundinfo orderrefundinfo, list<ordertaxinfo> orderrefundtaxinfolist) {\n        return orderrefundinfobuilder.buildorderrefunddetailinfo(context, orderrefundinfo, orderrefundtaxinfolist);\n    }\n}\n\n\n\nå½ééç¥¨æ¨¡æ¿\n\n/**\n * å½ééç¥¨æ¨¡æ¿\n */\n@component(bean_name)\npublic class intelorderrefundtemplate extends abstractorderrefundtemplate {\n    public static final string bean_name = "intelorderrefundtemplate";\n\n    @override\n    protected list<orderrefunddetailinfo> buildorderrefunddetailinfo(orderrefundcontext context, orderrefundinfo orderrefundinfo, list<ordertaxinfo> orderrefundtaxinfolist) {\n        return orderrefundinfobuilder.buildintelorderrefunddetailinfo(context, orderrefundinfo, orderrefundtaxinfolist);\n    }\n}\n\n\n\n\n# 3.åºç¨ç±»ï¼ä½¿ç¨å·¥åæ¨¡å¼è·åå¯¹åºå­ç±»ï¼\n\npublic class orderrefundserviceimpl implements iorderrefundservice {\n    private static map<string, string> orderrefundtemplatebeanmap = new hashmap<>();\n\n    static {\n        orderrefundtemplatebeanmap.put(domesticorintelenum.domestic.getvalue(), domesticorderrefundtemplate.bean_name);\n        orderrefundtemplatebeanmap.put(domesticorintelenum.intel.getvalue(), intelorderrefundtemplate.bean_name);\n    }\n    \n    @override\n    public orderrefundcreatedto createorderrefund(refundcreaterequestdto request) {\n        //çæéæ¬¾å\n        abstractorderrefundtemplate orderrefundtemplate = (abstractorderrefundtemplate)springcontextutils.getbean(orderrefundtemplatebeanmap.get(domesticorintel.getvalue()));   \n\t\torderrefundtemplate.createorderrefund(request, context);\n    }\n}\n\n\n\n# reference\n\n * ãè®¾è®¡æ¨¡å¼ä¹ç¦ã\n * 21 | ä»£ç éå¤ï¼æå®ä»£ç éå¤çä¸ä¸ªç»æ',charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"ä»£ç ä¼å",frontmatter:{title:"ä»£ç ä¼å",date:"2023-10-24T07:41:51.000Z",permalink:"/pages/6281f2/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/05.%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/03.%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96.html",relativePath:"01.Java ç¥è¯ä½ç³»/05.ä»£ç è´¨é/03.ä»£ç ä¼å.md",key:"v-39d6b1f3",path:"/pages/6281f2/",headers:[{level:1,title:"1.å½åè§è",slug:"_1-å½åè§è",normalizedTitle:"1.å½åè§è",charIndex:2},{level:1,title:"2.æ·»å å¿è¦çæ³¨é",slug:"_2-æ·»å å¿è¦çæ³¨é",normalizedTitle:"2.æ·»å å¿è¦çæ³¨é",charIndex:174},{level:1,title:"3.æ¥å¿æå°è§è",slug:"_3-æ¥å¿æå°è§è",normalizedTitle:"3.æ¥å¿æå°è§è",charIndex:385},{level:1,title:"4.åæ°æ ¡éª",slug:"_4-åæ°æ ¡éª",normalizedTitle:"4.åæ°æ ¡éª",charIndex:671},{level:1,title:"5.å¤ç©ºå¤ç",slug:"_5-å¤ç©ºå¤ç",normalizedTitle:"5.å¤ç©ºå¤ç",charIndex:877},{level:1,title:"6.å¼å¸¸è§èå¤ç",slug:"_6-å¼å¸¸è§èå¤ç",normalizedTitle:"6.å¼å¸¸è§èå¤ç",charIndex:1137},{level:1,title:"7.ååæµè¯è§è",slug:"_7-ååæµè¯è§è",normalizedTitle:"7.ååæµè¯è§è",charIndex:1690},{level:1,title:"8.ä»£ç æ ¼å¼è§è",slug:"_8-ä»£ç æ ¼å¼è§è",normalizedTitle:"8.ä»£ç æ ¼å¼è§è",charIndex:1904},{level:1,title:"9.æ¨¡ååï¼å¯æ©å±æ§",slug:"_9-æ¨¡åå-å¯æ©å±æ§",normalizedTitle:"9.æ¨¡ååï¼å¯æ©å±æ§",charIndex:2046},{level:1,title:"10.ç¨åºé»è¾æ¸æ°ï¼ä¸»æ¬¡åæ",slug:"_10-ç¨åºé»è¾æ¸æ°-ä¸»æ¬¡åæ",normalizedTitle:"10.ç¨åºé»è¾æ¸æ°ï¼ä¸»æ¬¡åæ",charIndex:2117},{level:1,title:"11.å®å¨è§è",slug:"_11-å®å¨è§è",normalizedTitle:"11.å®å¨è§è",charIndex:2265},{level:1,title:"12.äºå¡æ§å¶è§è",slug:"_12-äºå¡æ§å¶è§è",normalizedTitle:"12.äºå¡æ§å¶è§è",charIndex:2763},{level:1,title:"13.éå¤ä»£ç å¤ç",slug:"_13-éå¤ä»£ç å¤ç",normalizedTitle:"13.éå¤ä»£ç å¤ç",charIndex:3009},{level:1,title:"14.æä½æ°æ®åºãç¼å­ãä¸­é´ä»¶ãå¤é¨æ¥å£çä»£ç åç¬æ½åä¸ä¸ªç±»",slug:"_14-æä½æ°æ®åºãç¼å­ãä¸­é´ä»¶ãå¤é¨æ¥å£çä»£ç åç¬æ½åä¸ä¸ªç±»",normalizedTitle:"14.æä½æ°æ®åºãç¼å­ãä¸­é´ä»¶ãå¤é¨æ¥å£çä»£ç åç¬æ½åä¸ä¸ªç±»",charIndex:3070},{level:1,title:"15.ä½¿ç¨String.formatè¿è¡å­ç¬¦ä¸²æ ¼å¼å",slug:"_15-ä½¿ç¨string-formatè¿è¡å­ç¬¦ä¸²æ ¼å¼å",normalizedTitle:"15.ä½¿ç¨string.formatè¿è¡å­ç¬¦ä¸²æ ¼å¼å",charIndex:3105},{level:1,title:"16.é¿åâç«æå¼âçåè¡ä»£ç ",slug:"_16-é¿å-ç«æå¼-çåè¡ä»£ç ",normalizedTitle:"16.é¿åâç«æå¼âçåè¡ä»£ç ",charIndex:3195},{level:1,title:"reference",slug:"reference",normalizedTitle:"reference",charIndex:3280}],headersStr:"1.å½åè§è 2.æ·»å å¿è¦çæ³¨é 3.æ¥å¿æå°è§è 4.åæ°æ ¡éª 5.å¤ç©ºå¤ç 6.å¼å¸¸è§èå¤ç 7.ååæµè¯è§è 8.ä»£ç æ ¼å¼è§è 9.æ¨¡ååï¼å¯æ©å±æ§ 10.ç¨åºé»è¾æ¸æ°ï¼ä¸»æ¬¡åæ 11.å®å¨è§è 12.äºå¡æ§å¶è§è 13.éå¤ä»£ç å¤ç 14.æä½æ°æ®åºãç¼å­ãä¸­é´ä»¶ãå¤é¨æ¥å£çä»£ç åç¬æ½åä¸ä¸ªç±» 15.ä½¿ç¨String.formatè¿è¡å­ç¬¦ä¸²æ ¼å¼å 16.é¿åâç«æå¼âçåè¡ä»£ç  reference",content:"# 1.å½åè§è\n\nJavaä»£ç çå½ååºè¯¥æ¸æ°ãç®æ´åæäºçè§£ãæä»¬ä»£ç è¯å®¡çæ¶åï¼è¦æ³¨ææ¯å¦æå½åä¸è§èï¼ä¸æ¸æ°çä»£ç ãä¸é¢æ¯ä¸äºå½åè§èçå»ºè®®ï¼\n\n * ç±»åæ¥å£åºè¯¥ä½¿ç¨é¦å­æ¯å¤§åçé©¼å³°å½åæ³\n * æ¹æ³ååéåºè¯¥ä½¿ç¨å°åçé©¼å³°å½åæ³\n * å¸¸éåºè¯¥ä½¿ç¨å¨å¤§åå­æ¯åä¸åçº¿\n * å¼åèæ¯ä¸æ¯éæ©æäºçè§£çåç§°ç»åéãç±»åæ¹æ³è¿è¡å½å\n\n\n# 2.æ·»å å¿è¦çæ³¨é\n\n * ææçç±»é½å¿é¡»æ·»å åå»ºèååå»ºæ¥æï¼ä»¥åç®åçæ³¨éæè¿°\n * æ¹æ³åé¨çå¤æä¸å¡é»è¾æèç®æ³ï¼éè¦æ·»å æ¸æ¥çæ³¨é\n * ä¸è¬æåµä¸ï¼æ³¨éæè¿°ç±»ãæ¹æ³ãåéçä½ç¨\n * ä»»ä½éè¦æéçè­¦åæTODOï¼ä¹è¦æ³¨éæ¸æ¥\n * å¦ææ¯æ³¨éä¸è¡ä»£ç çï¼å°±ç¨//;å¦ææ³¨éä»£ç åæèæ¥å£æ¹æ³çï¼æå¤è¡/* **/\n * ä¸åä»£ç é»è¾å¦æä½ ç«å¨ä¸ä¸ªéçäººçè§åº¦å»ç,ç¬¬ä¸éçä¸æçè¯,å°±éè¦æ·»å æ³¨éäº\n\n\n# 3.æ¥å¿æå°è§è\n\nè¿äºæ¥å¿è§èæ²¡éµå®ï¼å°±éè¦ä¿®æ¹ï¼\n\n * æ¥å¿çº§å«éæ©ä¸å¯¹ãå¸¸è§çæ¥å¿çº§å«æerrorãwarnãinfoãdebugåç§ï¼ä¸è¦åæå°±æ¯infoå\n * æ¥å¿æ²¡æå°åºè°ç¨æ¹æ³çå¥ååååºç»æï¼å°¤å¶æ¯è·¨ç³»ç»è°ç¨çæ¶åã\n * ä¸å¡æ¥å¿æ²¡åå«å³é®åæ°,å¦userId,bizSeqç­ç­,ä¸æ¹ä¾¿é®é¢ææ¥\n * å¦ææ¥å¿åå«å³é®ä¿¡æ¯ï¼æ¯å¦ææºå·ãèº«ä»½è¯ç­ï¼éè¦è±æå¤ç\n * ä¸äºä¸ç¬¦åé¢æçæåµï¼å¦ä¸äºæªç¥å¼å¸¸ï¼æ°æ®åºçæ°æ®å¼å¸¸ç­ï¼ï¼åæèä¸ç¬¦åä¸å¡é¢æçç¹æ®åºæ¯ï¼é½éè¦æå°ç¸å³çæ¥å¿\n\nå¯¹äºæ¥å¿æå°è§èï¼å¯ä»¥åè å·¥ä½æ»ç»ï¼æ¥å¿æå°ç15ä¸ªå»ºè®®\n\n\n# 4.åæ°æ ¡éª\n\næä»¬ä»£ç è¯å®¡çæ¶åï¼è¦æ³¨æåæ°æ¯å¦é½åäºæ ¡éªï¼å¦userIdéç©ºæ£æ¥ãéé¢èå´æ£æ¥ãuserNameé¿åº¦æ ¡éªç­ç­ãä¸è¬æä»¬å¨å¤çä¸å¡é»è¾çæ¶åï¼è¦éµå¾ªåæ£æ¥ãåå¤ççååã\n\n> å¦æä½ çæ°æ®åºå­æ®µuserNameè®¾ç½®ä¸ºvarchar(16),å¯¹æ¹ä¼ äºä¸ä¸ª32ä½çå­ç¬¦ä¸²è¿æ¥ï¼ä½ ä¸æ ¡éªåæ°ï¼æå¥æ°æ®åºç´æ¥å¼å¸¸äºã\n\nå¾å¤bugé½æ¯å ä¸ºæ²¡ååæ°æ ¡éªé æçï¼è¿ä¸åè§ï¼æ¯ä»£ç è¯å®¡éç¹å³æ³¨çå\n\n\n# 5.å¤ç©ºå¤ç\n\n * è·åå¯¹è±¡çå±æ§æ¶ï¼é½è¦å¤ç©ºå¤çãè¦ä¸ç¶å¾å¤æ¶åä¼åºç°ç©ºæéå¼å¸¸ã\n\n\nif(object!=null){\n   String name = object.getName();\n}\n\n\nå¦æä½ è¦éååè¡¨ï¼ä¹éè¦å¤ç©º\n\n\n  if (CollectionUtils.isNotEmpty(tianLuolist)) {\n        for (TianLuo temp : tianLuolist) {\n            //do something\n        }\n    }\n\n\n\n# 6.å¼å¸¸è§èå¤ç\n\nè¯å¥½çå¼å¸¸å¤çå¯ä»¥ç¡®ä¿ä»£ç çå¯é æ§åå¯ç»´æ¤æ§ãå æ­¤ï¼å¼å¸¸å¤çä¹æ¯ä»£ç è¯å®¡çä¸é¡¹éè¦è§èãä»¥ä¸æ¯ä¸äºå¼å¸¸å¤ççå»ºè®®ï¼\n\n * ä¸è¦æè·éç¨çExceptionå¼å¸¸ï¼èåºè¯¥å°½å¯è½æè·ç¹å®çå¼å¸¸\n * å¨æè·å¼å¸¸æ¶ï¼åºè¯¥è®°å½å¼å¸¸ä¿¡æ¯ä»¥ä¾¿äºè°è¯\n * åé¨å¼å¸¸è¦ç¡®è®¤æç»çå¤çæ¹å¼ï¼é¿åæªç¥å¼å¸¸å½ä½å¤±è´¥å¤çã\n * å¨finallyåä¸­éæ¾èµæºï¼æèä½¿ç¨try-with-resource\n * ä¸è¦ä½¿ç¨e.printStackTrace(),èæ¯ä½¿ç¨logæå°ã\n * catchäºå¼å¸¸ï¼è¦æå°åºå·ä½çexceptionï¼å¦åæ æ³æ´å¥½å®ä½é®é¢\n * æè·å¼å¸¸ä¸æåºå¼å¸¸å¿é¡»æ¯å®å¨å¹éï¼æèæè·å¼å¸¸æ¯æå¼å¸¸çç¶ç±»\n * æè·å°çå¼å¸¸ï¼ä¸è½å¿½ç¥å®ï¼è¦æå°ç¸å¯¹åºçæ¥å¿\n * æ³¨æå¼å¸¸å¯¹ä½ çä»£ç å±æ¬¡ç»æçä¾µæï¼æ©åç°æ©å¤çï¼\n * èªå®ä¹å°è£å¼å¸¸ï¼ä¸è¦ä¸¢å¼åå§å¼å¸¸çä¿¡æ¯Throwable cause\n * æ³¨æå¼å¸¸å¹éçé¡ºåºï¼ä¼åæè·å·ä½çå¼å¸¸\n * å¯¹å¤æä¾APiæ¶ï¼è¦æä¾å¯¹åºçéè¯¯ç \n * ç³»ç»åé¨åºè¯¥æåºæä¸å¡å«ä¹çèªå®ä¹å¼å¸¸ï¼èä¸æ¯ç´æ¥æåºRuntimeExceptionï¼æèç´æ¥æåºException\\Throwableã\n\nå¼å¸¸å¤çå¯ä»¥åè Java å¼å¸¸å¤ççåä¸ªå»ºè®®\n\n\n# 7.ååæµè¯è§è\n\n * æµè¯ç±»çå½å,ä¸è¬ä»¥æµè¯çç±»+Test,å¦:CalculatorTest.\n * æµè¯æ¹æ³çå½å,ä¸è¬ä»¥testå¼å¤´+ æµè¯çæ¹æ³,å¦testAdd.\n * åæµè¡è¦ççä¸è¬è¦æ±å¤§äº75%.\n * åæµä¸è¬è¦æ±åå«ä¸»æµç¨ç¨ä¾ãåæ°è¾¹çå¼ç­æ ¡éªç¨ä¾\n * åæµä¸è¬ä¹è¦æ±åå«ä¸­é´ä»¶è®¿é®è¶æ¶ãè¿åç©ºãç­å¼å¸¸çç¨ä¾,æ¯å¦è®¿é®æ°æ®åºæèRediså¼å¸¸.\n * åæµç¨ä¾è¦æ±åå«å¹¶åãé²éãå¹ç­ç­ç¨ä¾.\n\n\n# 8.ä»£ç æ ¼å¼è§è\n\nè¯å¥½çä»£ç æ ¼å¼ï¼å¯ä»¥ä½¿ä»£ç æ´å®¹æéè¯»åçè§£ãä¸é¢æ¯ä¸äºå¸¸è§çä»£ç æ ¼å¼åå»ºè®®ï¼\n\n * ç¼©è¿ä½¿ç¨åä¸ªç©ºæ ¼\n * ä»£ç åä½¿ç¨è±æ¬å·åé\n * æ¯è¡ä¸è¶è¿80ä¸ªå­ç¬¦\n * æ¯ä¸ªæ¹æ³åºè¯¥æç§ç¹å®çé¡ºåºæåï¼ä¾å¦ï¼ç±»åéãå®ä¾åéãæé å½æ°ãå¬å±æ¹æ³ãç§ææ¹æ³ç­ã\n\n\n# 9.æ¨¡ååï¼å¯æ©å±æ§\n\nä»£ç ç¼åè®¾è®¡æ¯å¦æ»¡è¶³æ¨¡ååï¼æ¥å£æ¯å¦å·æå¯æ©å±æ§\n\nå¯ä»¥ä½¿ç¨è®¾è®¡æ¨¡å¼ï¼ç­ç¥æ¨¡å¼ãæ¨¡æ¿æ¹æ³æ¨¡å¼ï¼æé«å¯æ©å±æ§ã\n\n\n# 10.ç¨åºé»è¾æ¸æ°ï¼ä¸»æ¬¡åæ\n\nä»£ç è¯å®¡çæ¶åï¼è¦å³æ³¨ç¨åºé»è¾æ¯å¦æ¸æ°ãæ¯å¦ï¼ä½ çä¸ä¸ªæ³¨åæ¥å£ï¼æåæ°æ ¡éªãå¤æ­ç¨æ·æ¯å¦å·²ç»æ³¨åãæå¥ç¨æ·è®°å½ãåéæ³¨åæåéç¥ç­åè½ãå¦æä½ æææææåè½ä»£ç å¡å°ä¸ä¸ªæ¹æ³éé¢ï¼ç¨åºé»è¾å°±ä¸æ¸æ°ï¼ä¸»æ¬¡ä¸å¤åæã\n\nå¯ä»¥å°åæ°æ ¡éªçä»£ç åç¬æ½åå°ä¸ä¸ªæ¹æ³ã\n\n\n# 11.å®å¨è§è\n\nä»£ç è¯å®¡ï¼ä¹éå¸¸æå¿è¦è¯å®¡ä»£ç æ¯å¦å­å¨å®å¨æ§é®é¢ãæ¯å¦ï¼\n\n * è¾å¥æ ¡éªï¼åºè¯¥å§ç»å¯¹ä»»ä½æ¥èªå¤é¨çè¾å¥æ°æ®è¿è¡æ ¡éªï¼ä»¥ç¡®ä¿å®ä»¬ç¬¦åé¢æå¹¶ä¸ä¸ä¼å¯¹ç³»ç»é æä¼¤å®³ãæ ¡éªåºè¯¥åæ¬æ£æ¥æ°æ®çç±»åãå¤§å°åæ ¼å¼ã\n * é²èSQLæ³¨å¥æ»å»:å¨ä½¿ç¨SQLæ¥è¯¢æ¶ï¼åºè¯¥å§ç»ä½¿ç¨åæ°åæ¥è¯¢æé¢å¤çè¯­å¥ï¼ä»¥é²æ­¢SQLæ³¨å¥æ»å»ã\n * é²èè·¨ç«èæ¬æ»å»ï¼XSSï¼: å¨Webåºç¨ç¨åºä¸­ï¼åºè¯¥å§ç»å¯¹è¾å¥çHTMLãJavaScriptåCSSè¿è¡æ ¡éªï¼å¹¶è½¬ä¹ç¹æ®å­ç¬¦ï¼ä»¥é²æ­¢XSSæ»å»ã\n * é¿åææä¿¡æ¯æ³é²: ææä¿¡æ¯ï¼å¦å¯ç ãå¯é¥ãä¼è¯IDç­ï¼åºè¯¥å¨ä¼ è¾åå­å¨æ¶è¿è¡å å¯ï¼ä»¥é²æ­¢è¢«æªç»ææçäººè®¿é®ãåæ¶ï¼åºè¯¥é¿åå¨æ¥å¿ãè°è¯ä¿¡æ¯æéè¯¯æ¶æ¯ä¸­æ³é²ææä¿¡æ¯ã\n * é²èè·¨ç«è¯·æ±ä¼ªé ï¼CSRFï¼: åºè¯¥ä¸ºæææææä½ï¼å¦æ´æ¹å¯ç ãå é¤æ°æ®ç­ï¼æ·»å CSRFä»¤çï¼ä»¥é²æ­¢æªç»ææçäººåæ§è¡è¿äºæä½ã\n * é²èå®å¨æ¼æ´: åºè¯¥ä½¿ç¨å®å¨æ§é«çç®æ³ååè®®ï¼å¦HTTPSãTLSï¼æ¥ä¿æ¤æææ°æ®çä¼ è¾åå­å¨ï¼å¹¶å®æå¯¹ç³»ç»è¿è¡æ¼æ´æ«æåå®å¨æ§å®¡è®¡\n\nä¿è¯æ°æ®å®å¨çæ¹æ¡åè ä¿è¯æ¥å£æ°æ®å®å¨ç10ç§æ¹æ¡\n\n\n# 12.äºå¡æ§å¶è§è\n\n * ä¸è¬æ¨èä½¿ç¨ç¼ç¨å¼äºå¡ï¼èä¸æ¯ä¸ä¸ªæ³¨è§£ @Transactionalçå£°æå¼äºå¡ãå ä¸º @Transactionalæå¾å¤åºæ¯ï¼å¯è½å¯¼è´äºå¡ä¸çæã\n * äºå¡èå´è¦æç¡®ï¼æ°æ®åºæä½å¿é¡»å¨äºå¡ä½ç¨èå´åï¼å¦ææ¯éæ°æ®åºæä½ï¼å°½éä¸è¦åå«å¨äºå¡åã\n * ä¸è¦å¨äºå¡åè¿è¡è¿ç¨è°ç¨ï¼å¯è½å¯¼è´æ°æ®ä¸ä¸è´ï¼æ¯å¦æ¬å°æåäºï¼ä½æ¯è¿ç¨æ¹æ³å¤±è´¥äºï¼è¿æ¶åéè¦ç¨åå¸å¼äºå¡è§£å³æ¹æ¡ï¼\n * äºå¡ä¸­é¿åå¤çå¤ªå¤æ°æ®ï¼ä¸äºæ¥è¯¢ç¸å³çæä½ï¼å°½éæ¾å°äºå¡ä¹å¤ï¼é¿åå¤§äºå¡é®é¢ï¼\n\n\n# 13.éå¤ä»£ç å¤ç\n\nå¤§ééå¤ä»£ç ï¼æ½å¬ç¨æ¹æ³ï¼è®¾è®¡æ¨¡å¼ï¼\n\nå·ä½å¯ä»¥åèï¼ä¼åéå¤åä½ä»£ç ç8ç§æ¹å¼ - æé\n\n\n# 14.æä½æ°æ®åºãç¼å­ãä¸­é´ä»¶ãå¤é¨æ¥å£çä»£ç åç¬æ½åä¸ä¸ªç±»\n\n\n# 15.ä½¿ç¨String.formatè¿è¡å­ç¬¦ä¸²æ ¼å¼å\n\nå­ç¬¦ä¸²æ ¼å¼åä½¿ç¨String.format()ãç¨æ³åèï¼string.format()è¯¦è§£ - åé´ - åå®¢å­\n\n\n# 16.é¿åâç«æå¼âçåè¡ä»£ç \n\nâç«æå¼âçåè¡ä»£ç é¾ä»¥çè§£ãææ¥åä¿®æ¹èµ·æ¥é½éº»ç¦ä¸èæ¶ã\n\nä¸ä¸ªè¾éçä»£ç åå³ï¼âç«æå¼âçåè¡ä»£ç  - ç´æ°´ç - åå®¢å­\n\n\n# reference\n\n * ä»£ç è¯å®¡ç18ä¸ªåè§ï¼æ¶èå¥½ï¼ - æé",normalizedContent:"# 1.å½åè§è\n\njavaä»£ç çå½ååºè¯¥æ¸æ°ãç®æ´åæäºçè§£ãæä»¬ä»£ç è¯å®¡çæ¶åï¼è¦æ³¨ææ¯å¦æå½åä¸è§èï¼ä¸æ¸æ°çä»£ç ãä¸é¢æ¯ä¸äºå½åè§èçå»ºè®®ï¼\n\n * ç±»åæ¥å£åºè¯¥ä½¿ç¨é¦å­æ¯å¤§åçé©¼å³°å½åæ³\n * æ¹æ³ååéåºè¯¥ä½¿ç¨å°åçé©¼å³°å½åæ³\n * å¸¸éåºè¯¥ä½¿ç¨å¨å¤§åå­æ¯åä¸åçº¿\n * å¼åèæ¯ä¸æ¯éæ©æäºçè§£çåç§°ç»åéãç±»åæ¹æ³è¿è¡å½å\n\n\n# 2.æ·»å å¿è¦çæ³¨é\n\n * ææçç±»é½å¿é¡»æ·»å åå»ºèååå»ºæ¥æï¼ä»¥åç®åçæ³¨éæè¿°\n * æ¹æ³åé¨çå¤æä¸å¡é»è¾æèç®æ³ï¼éè¦æ·»å æ¸æ¥çæ³¨é\n * ä¸è¬æåµä¸ï¼æ³¨éæè¿°ç±»ãæ¹æ³ãåéçä½ç¨\n * ä»»ä½éè¦æéçè­¦åætodoï¼ä¹è¦æ³¨éæ¸æ¥\n * å¦ææ¯æ³¨éä¸è¡ä»£ç çï¼å°±ç¨//;å¦ææ³¨éä»£ç åæèæ¥å£æ¹æ³çï¼æå¤è¡/* **/\n * ä¸åä»£ç é»è¾å¦æä½ ç«å¨ä¸ä¸ªéçäººçè§åº¦å»ç,ç¬¬ä¸éçä¸æçè¯,å°±éè¦æ·»å æ³¨éäº\n\n\n# 3.æ¥å¿æå°è§è\n\nè¿äºæ¥å¿è§èæ²¡éµå®ï¼å°±éè¦ä¿®æ¹ï¼\n\n * æ¥å¿çº§å«éæ©ä¸å¯¹ãå¸¸è§çæ¥å¿çº§å«æerrorãwarnãinfoãdebugåç§ï¼ä¸è¦åæå°±æ¯infoå\n * æ¥å¿æ²¡æå°åºè°ç¨æ¹æ³çå¥ååååºç»æï¼å°¤å¶æ¯è·¨ç³»ç»è°ç¨çæ¶åã\n * ä¸å¡æ¥å¿æ²¡åå«å³é®åæ°,å¦userid,bizseqç­ç­,ä¸æ¹ä¾¿é®é¢ææ¥\n * å¦ææ¥å¿åå«å³é®ä¿¡æ¯ï¼æ¯å¦ææºå·ãèº«ä»½è¯ç­ï¼éè¦è±æå¤ç\n * ä¸äºä¸ç¬¦åé¢æçæåµï¼å¦ä¸äºæªç¥å¼å¸¸ï¼æ°æ®åºçæ°æ®å¼å¸¸ç­ï¼ï¼åæèä¸ç¬¦åä¸å¡é¢æçç¹æ®åºæ¯ï¼é½éè¦æå°ç¸å³çæ¥å¿\n\nå¯¹äºæ¥å¿æå°è§èï¼å¯ä»¥åè å·¥ä½æ»ç»ï¼æ¥å¿æå°ç15ä¸ªå»ºè®®\n\n\n# 4.åæ°æ ¡éª\n\næä»¬ä»£ç è¯å®¡çæ¶åï¼è¦æ³¨æåæ°æ¯å¦é½åäºæ ¡éªï¼å¦useridéç©ºæ£æ¥ãéé¢èå´æ£æ¥ãusernameé¿åº¦æ ¡éªç­ç­ãä¸è¬æä»¬å¨å¤çä¸å¡é»è¾çæ¶åï¼è¦éµå¾ªåæ£æ¥ãåå¤ççååã\n\n> å¦æä½ çæ°æ®åºå­æ®µusernameè®¾ç½®ä¸ºvarchar(16),å¯¹æ¹ä¼ äºä¸ä¸ª32ä½çå­ç¬¦ä¸²è¿æ¥ï¼ä½ ä¸æ ¡éªåæ°ï¼æå¥æ°æ®åºç´æ¥å¼å¸¸äºã\n\nå¾å¤bugé½æ¯å ä¸ºæ²¡ååæ°æ ¡éªé æçï¼è¿ä¸åè§ï¼æ¯ä»£ç è¯å®¡éç¹å³æ³¨çå\n\n\n# 5.å¤ç©ºå¤ç\n\n * è·åå¯¹è±¡çå±æ§æ¶ï¼é½è¦å¤ç©ºå¤çãè¦ä¸ç¶å¾å¤æ¶åä¼åºç°ç©ºæéå¼å¸¸ã\n\n\nif(object!=null){\n   string name = object.getname();\n}\n\n\nå¦æä½ è¦éååè¡¨ï¼ä¹éè¦å¤ç©º\n\n\n  if (collectionutils.isnotempty(tianluolist)) {\n        for (tianluo temp : tianluolist) {\n            //do something\n        }\n    }\n\n\n\n# 6.å¼å¸¸è§èå¤ç\n\nè¯å¥½çå¼å¸¸å¤çå¯ä»¥ç¡®ä¿ä»£ç çå¯é æ§åå¯ç»´æ¤æ§ãå æ­¤ï¼å¼å¸¸å¤çä¹æ¯ä»£ç è¯å®¡çä¸é¡¹éè¦è§èãä»¥ä¸æ¯ä¸äºå¼å¸¸å¤ççå»ºè®®ï¼\n\n * ä¸è¦æè·éç¨çexceptionå¼å¸¸ï¼èåºè¯¥å°½å¯è½æè·ç¹å®çå¼å¸¸\n * å¨æè·å¼å¸¸æ¶ï¼åºè¯¥è®°å½å¼å¸¸ä¿¡æ¯ä»¥ä¾¿äºè°è¯\n * åé¨å¼å¸¸è¦ç¡®è®¤æç»çå¤çæ¹å¼ï¼é¿åæªç¥å¼å¸¸å½ä½å¤±è´¥å¤çã\n * å¨finallyåä¸­éæ¾èµæºï¼æèä½¿ç¨try-with-resource\n * ä¸è¦ä½¿ç¨e.printstacktrace(),èæ¯ä½¿ç¨logæå°ã\n * catchäºå¼å¸¸ï¼è¦æå°åºå·ä½çexceptionï¼å¦åæ æ³æ´å¥½å®ä½é®é¢\n * æè·å¼å¸¸ä¸æåºå¼å¸¸å¿é¡»æ¯å®å¨å¹éï¼æèæè·å¼å¸¸æ¯æå¼å¸¸çç¶ç±»\n * æè·å°çå¼å¸¸ï¼ä¸è½å¿½ç¥å®ï¼è¦æå°ç¸å¯¹åºçæ¥å¿\n * æ³¨æå¼å¸¸å¯¹ä½ çä»£ç å±æ¬¡ç»æçä¾µæï¼æ©åç°æ©å¤çï¼\n * èªå®ä¹å°è£å¼å¸¸ï¼ä¸è¦ä¸¢å¼åå§å¼å¸¸çä¿¡æ¯throwable cause\n * æ³¨æå¼å¸¸å¹éçé¡ºåºï¼ä¼åæè·å·ä½çå¼å¸¸\n * å¯¹å¤æä¾apiæ¶ï¼è¦æä¾å¯¹åºçéè¯¯ç \n * ç³»ç»åé¨åºè¯¥æåºæä¸å¡å«ä¹çèªå®ä¹å¼å¸¸ï¼èä¸æ¯ç´æ¥æåºruntimeexceptionï¼æèç´æ¥æåºexception\\throwableã\n\nå¼å¸¸å¤çå¯ä»¥åè java å¼å¸¸å¤ççåä¸ªå»ºè®®\n\n\n# 7.ååæµè¯è§è\n\n * æµè¯ç±»çå½å,ä¸è¬ä»¥æµè¯çç±»+test,å¦:calculatortest.\n * æµè¯æ¹æ³çå½å,ä¸è¬ä»¥testå¼å¤´+ æµè¯çæ¹æ³,å¦testadd.\n * åæµè¡è¦ççä¸è¬è¦æ±å¤§äº75%.\n * åæµä¸è¬è¦æ±åå«ä¸»æµç¨ç¨ä¾ãåæ°è¾¹çå¼ç­æ ¡éªç¨ä¾\n * åæµä¸è¬ä¹è¦æ±åå«ä¸­é´ä»¶è®¿é®è¶æ¶ãè¿åç©ºãç­å¼å¸¸çç¨ä¾,æ¯å¦è®¿é®æ°æ®åºæèrediså¼å¸¸.\n * åæµç¨ä¾è¦æ±åå«å¹¶åãé²éãå¹ç­ç­ç¨ä¾.\n\n\n# 8.ä»£ç æ ¼å¼è§è\n\nè¯å¥½çä»£ç æ ¼å¼ï¼å¯ä»¥ä½¿ä»£ç æ´å®¹æéè¯»åçè§£ãä¸é¢æ¯ä¸äºå¸¸è§çä»£ç æ ¼å¼åå»ºè®®ï¼\n\n * ç¼©è¿ä½¿ç¨åä¸ªç©ºæ ¼\n * ä»£ç åä½¿ç¨è±æ¬å·åé\n * æ¯è¡ä¸è¶è¿80ä¸ªå­ç¬¦\n * æ¯ä¸ªæ¹æ³åºè¯¥æç§ç¹å®çé¡ºåºæåï¼ä¾å¦ï¼ç±»åéãå®ä¾åéãæé å½æ°ãå¬å±æ¹æ³ãç§ææ¹æ³ç­ã\n\n\n# 9.æ¨¡ååï¼å¯æ©å±æ§\n\nä»£ç ç¼åè®¾è®¡æ¯å¦æ»¡è¶³æ¨¡ååï¼æ¥å£æ¯å¦å·æå¯æ©å±æ§\n\nå¯ä»¥ä½¿ç¨è®¾è®¡æ¨¡å¼ï¼ç­ç¥æ¨¡å¼ãæ¨¡æ¿æ¹æ³æ¨¡å¼ï¼æé«å¯æ©å±æ§ã\n\n\n# 10.ç¨åºé»è¾æ¸æ°ï¼ä¸»æ¬¡åæ\n\nä»£ç è¯å®¡çæ¶åï¼è¦å³æ³¨ç¨åºé»è¾æ¯å¦æ¸æ°ãæ¯å¦ï¼ä½ çä¸ä¸ªæ³¨åæ¥å£ï¼æåæ°æ ¡éªãå¤æ­ç¨æ·æ¯å¦å·²ç»æ³¨åãæå¥ç¨æ·è®°å½ãåéæ³¨åæåéç¥ç­åè½ãå¦æä½ æææææåè½ä»£ç å¡å°ä¸ä¸ªæ¹æ³éé¢ï¼ç¨åºé»è¾å°±ä¸æ¸æ°ï¼ä¸»æ¬¡ä¸å¤åæã\n\nå¯ä»¥å°åæ°æ ¡éªçä»£ç åç¬æ½åå°ä¸ä¸ªæ¹æ³ã\n\n\n# 11.å®å¨è§è\n\nä»£ç è¯å®¡ï¼ä¹éå¸¸æå¿è¦è¯å®¡ä»£ç æ¯å¦å­å¨å®å¨æ§é®é¢ãæ¯å¦ï¼\n\n * è¾å¥æ ¡éªï¼åºè¯¥å§ç»å¯¹ä»»ä½æ¥èªå¤é¨çè¾å¥æ°æ®è¿è¡æ ¡éªï¼ä»¥ç¡®ä¿å®ä»¬ç¬¦åé¢æå¹¶ä¸ä¸ä¼å¯¹ç³»ç»é æä¼¤å®³ãæ ¡éªåºè¯¥åæ¬æ£æ¥æ°æ®çç±»åãå¤§å°åæ ¼å¼ã\n * é²èsqlæ³¨å¥æ»å»:å¨ä½¿ç¨sqlæ¥è¯¢æ¶ï¼åºè¯¥å§ç»ä½¿ç¨åæ°åæ¥è¯¢æé¢å¤çè¯­å¥ï¼ä»¥é²æ­¢sqlæ³¨å¥æ»å»ã\n * é²èè·¨ç«èæ¬æ»å»ï¼xssï¼: å¨webåºç¨ç¨åºä¸­ï¼åºè¯¥å§ç»å¯¹è¾å¥çhtmlãjavascriptåcssè¿è¡æ ¡éªï¼å¹¶è½¬ä¹ç¹æ®å­ç¬¦ï¼ä»¥é²æ­¢xssæ»å»ã\n * é¿åææä¿¡æ¯æ³é²: ææä¿¡æ¯ï¼å¦å¯ç ãå¯é¥ãä¼è¯idç­ï¼åºè¯¥å¨ä¼ è¾åå­å¨æ¶è¿è¡å å¯ï¼ä»¥é²æ­¢è¢«æªç»ææçäººè®¿é®ãåæ¶ï¼åºè¯¥é¿åå¨æ¥å¿ãè°è¯ä¿¡æ¯æéè¯¯æ¶æ¯ä¸­æ³é²ææä¿¡æ¯ã\n * é²èè·¨ç«è¯·æ±ä¼ªé ï¼csrfï¼: åºè¯¥ä¸ºæææææä½ï¼å¦æ´æ¹å¯ç ãå é¤æ°æ®ç­ï¼æ·»å csrfä»¤çï¼ä»¥é²æ­¢æªç»ææçäººåæ§è¡è¿äºæä½ã\n * é²èå®å¨æ¼æ´: åºè¯¥ä½¿ç¨å®å¨æ§é«çç®æ³ååè®®ï¼å¦httpsãtlsï¼æ¥ä¿æ¤æææ°æ®çä¼ è¾åå­å¨ï¼å¹¶å®æå¯¹ç³»ç»è¿è¡æ¼æ´æ«æåå®å¨æ§å®¡è®¡\n\nä¿è¯æ°æ®å®å¨çæ¹æ¡åè ä¿è¯æ¥å£æ°æ®å®å¨ç10ç§æ¹æ¡\n\n\n# 12.äºå¡æ§å¶è§è\n\n * ä¸è¬æ¨èä½¿ç¨ç¼ç¨å¼äºå¡ï¼èä¸æ¯ä¸ä¸ªæ³¨è§£ @transactionalçå£°æå¼äºå¡ãå ä¸º @transactionalæå¾å¤åºæ¯ï¼å¯è½å¯¼è´äºå¡ä¸çæã\n * äºå¡èå´è¦æç¡®ï¼æ°æ®åºæä½å¿é¡»å¨äºå¡ä½ç¨èå´åï¼å¦ææ¯éæ°æ®åºæä½ï¼å°½éä¸è¦åå«å¨äºå¡åã\n * ä¸è¦å¨äºå¡åè¿è¡è¿ç¨è°ç¨ï¼å¯è½å¯¼è´æ°æ®ä¸ä¸è´ï¼æ¯å¦æ¬å°æåäºï¼ä½æ¯è¿ç¨æ¹æ³å¤±è´¥äºï¼è¿æ¶åéè¦ç¨åå¸å¼äºå¡è§£å³æ¹æ¡ï¼\n * äºå¡ä¸­é¿åå¤çå¤ªå¤æ°æ®ï¼ä¸äºæ¥è¯¢ç¸å³çæä½ï¼å°½éæ¾å°äºå¡ä¹å¤ï¼é¿åå¤§äºå¡é®é¢ï¼\n\n\n# 13.éå¤ä»£ç å¤ç\n\nå¤§ééå¤ä»£ç ï¼æ½å¬ç¨æ¹æ³ï¼è®¾è®¡æ¨¡å¼ï¼\n\nå·ä½å¯ä»¥åèï¼ä¼åéå¤åä½ä»£ç ç8ç§æ¹å¼ - æé\n\n\n# 14.æä½æ°æ®åºãç¼å­ãä¸­é´ä»¶ãå¤é¨æ¥å£çä»£ç åç¬æ½åä¸ä¸ªç±»\n\n\n# 15.ä½¿ç¨string.formatè¿è¡å­ç¬¦ä¸²æ ¼å¼å\n\nå­ç¬¦ä¸²æ ¼å¼åä½¿ç¨string.format()ãç¨æ³åèï¼string.format()è¯¦è§£ - åé´ - åå®¢å­\n\n\n# 16.é¿åâç«æå¼âçåè¡ä»£ç \n\nâç«æå¼âçåè¡ä»£ç é¾ä»¥çè§£ãææ¥åä¿®æ¹èµ·æ¥é½éº»ç¦ä¸èæ¶ã\n\nä¸ä¸ªè¾éçä»£ç åå³ï¼âç«æå¼âçåè¡ä»£ç  - ç´æ°´ç - åå®¢å­\n\n\n# reference\n\n * ä»£ç è¯å®¡ç18ä¸ªåè§ï¼æ¶èå¥½ï¼ - æé",charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"Java å½åè§è",frontmatter:{title:"Java å½åè§è",date:"2023-10-24T07:41:51.000Z",permalink:"/pages/d83c14/"},regularPath:"/01.Java%20%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/05.%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/02.Java%20%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83.html",relativePath:"01.Java ç¥è¯ä½ç³»/05.ä»£ç è´¨é/02.Java å½åè§è.md",key:"v-193c5be4",path:"/pages/d83c14/",headers:[{level:1,title:"ä¸ºä»ä¹è¦éè§å½åï¼",slug:"ä¸ºä»ä¹è¦éè§å½å",normalizedTitle:"ä¸ºä»ä¹è¦éè§å½åï¼",charIndex:2},{level:1,title:"å¸¸è§å½åè§åä»¥åéç¨åºæ¯",slug:"å¸¸è§å½åè§åä»¥åéç¨åºæ¯",normalizedTitle:"å¸¸è§å½åè§åä»¥åéç¨åºæ¯",charIndex:435},{level:2,title:"é©¼å³°å½åæ³ï¼CamelCaseï¼",slug:"é©¼å³°å½åæ³-camelcase",normalizedTitle:"é©¼å³°å½åæ³ï¼camelcaseï¼",charIndex:472},{level:3,title:"å¤§é©¼å³°å½åæ³ï¼UpperCamelCaseï¼",slug:"å¤§é©¼å³°å½åæ³-uppercamelcase",normalizedTitle:"å¤§é©¼å³°å½åæ³ï¼uppercamelcaseï¼",charIndex:561},{level:3,title:"å°é©¼å³°å½åæ³ï¼lowerCamelCaseï¼",slug:"å°é©¼å³°å½åæ³-lowercamelcase",normalizedTitle:"å°é©¼å³°å½åæ³ï¼lowercamelcaseï¼",charIndex:730},{level:2,title:"èå½¢å½åæ³ï¼snake_caseï¼",slug:"èå½¢å½åæ³-snake-case",normalizedTitle:"èå½¢å½åæ³ï¼snake_caseï¼",charIndex:1005},{level:2,title:"ä¸²å¼å½åæ³ï¼kebab-caseï¼",slug:"ä¸²å¼å½åæ³-kebab-case",normalizedTitle:"ä¸²å¼å½åæ³ï¼kebab-caseï¼",charIndex:1461},{level:1,title:"å¸¸è§å½åè§è",slug:"å¸¸è§å½åè§è",normalizedTitle:"å¸¸è§å½åè§è",charIndex:1558},{level:2,title:"Java è¯­è¨åºæ¬å½åè§è",slug:"java-è¯­è¨åºæ¬å½åè§è",normalizedTitle:"java è¯­è¨åºæ¬å½åè§è",charIndex:1569},{level:2,title:"å½åæè¯»æ§è§è",slug:"å½åæè¯»æ§è§è",normalizedTitle:"å½åæè¯»æ§è§è",charIndex:2701},{level:1,title:"reference",slug:"reference",normalizedTitle:"reference",charIndex:3149}],headersStr:"ä¸ºä»ä¹è¦éè§å½åï¼ å¸¸è§å½åè§åä»¥åéç¨åºæ¯ é©¼å³°å½åæ³ï¼CamelCaseï¼ å¤§é©¼å³°å½åæ³ï¼UpperCamelCaseï¼ å°é©¼å³°å½åæ³ï¼lowerCamelCaseï¼ èå½¢å½åæ³ï¼snake_caseï¼ ä¸²å¼å½åæ³ï¼kebab-caseï¼ å¸¸è§å½åè§è Java è¯­è¨åºæ¬å½åè§è å½åæè¯»æ§è§è reference",content:'# ä¸ºä»ä¹è¦éè§å½åï¼\n\nä¸ºä»ä¹å½åå¾éè¦å¢ï¼ è¿æ¯å ä¸º å¥½çå½åå³æ¯æ³¨éï¼å«äººä¸çå°ä½ çå½åå°±ç¥éä½ çåéãæ¹æ³æèç±»æ¯åä»ä¹çï¼\n\nç®åæ¥è¯´å°±æ¯ å«äººæ ¹æ®ä½ çå½åå°±è½ç¥éä½ çä»£ç è¦è¡¨è¾¾çææ\n\nãClean Codeãè¿æ¬ä¹¦æç¡®æåºï¼\n\n> å¥½çä»£ç æ¬èº«å°±æ¯æ³¨éï¼æä»¬è¦å°½éè§èåç¾åèªå·±çä»£ç æ¥åå°ä¸å¿è¦çæ³¨éã\n> \n> è¥ç¼ç¨è¯­è¨è¶³å¤æè¡¨è¾¾åï¼å°±ä¸éè¦æ³¨éï¼å°½ééè¿ä»£ç æ¥éè¿°ã\n> \n> ä¸¾ä¸ªä¾å­ï¼\n> \n> å»æä¸é¢å¤æçæ³¨éï¼åªéè¦åå»ºä¸ä¸ªä¸æ³¨éæè¨åä¸äºç©çå½æ°å³å¯\n> \n> // check to see if the employee is eligible for full benefits\n> if ((employee.flags & HOURLY_FLAG) && (employee.age > 65))\n> \n> \n> åºæ¿æ¢ä¸º\n> \n> if (employee.isEligibleForFullBenefits())\n\n\n# å¸¸è§å½åè§åä»¥åéç¨åºæ¯\n\nè¿éåªä»ç» 3 ç§æå¸¸è§çå½åè§èã\n\n\n# é©¼å³°å½åæ³ï¼CamelCaseï¼\n\né©¼å³°å½åæ³åºè¯¥æä»¬æå¸¸è§çä¸ä¸ªï¼è¿ç§å½åæ¹å¼ä½¿ç¨å¤§å°åæ··åçæ ¼å¼æ¥åºå«åä¸ªåè¯ï¼å¹¶ä¸åè¯ä¹é´ä¸ä½¿ç¨ç©ºæ ¼éå¼æèè¿æ¥å­ç¬¦è¿æ¥çå½åæ¹å¼\n\n\n# å¤§é©¼å³°å½åæ³ï¼UpperCamelCaseï¼\n\nç±»åéè¦ä½¿ç¨å¤§é©¼å³°å½åæ³ï¼UpperCamelCaseï¼\n\næ­£ä¾ï¼\n\nServiceDiscoveryãServiceInstanceãLruCacheFactory\n\n\nåä¾ï¼\n\nserviceDiscoveryãServiceinstanceãLRUCacheFactory\n\n\n\n# å°é©¼å³°å½åæ³ï¼lowerCamelCaseï¼\n\næ¹æ³åãåæ°åãæååéãå±é¨åééè¦ä½¿ç¨å°é©¼å³°å½åæ³ï¼lowerCamelCaseï¼ã\n\næ­£ä¾ï¼\n\ngetUserInfo()\ncreateCustomThreadPool()\nsetNameFormat(String nameFormat)\nUservice userService;\n\n\nåä¾ï¼\n\nGetUserInfo()ãCreateCustomThreadPool()ãsetNameFormat(String NameFormat)\nUservice user_service\n\n\n\n# èå½¢å½åæ³ï¼snake_caseï¼\n\næµè¯æ¹æ³åãå¸¸éãæä¸¾åç§°éè¦ä½¿ç¨èå½¢å½åæ³ï¼snake_caseï¼\n\nå¨èå½¢å½åæ³ä¸­ï¼åä¸ªåè¯ä¹é´éè¿ä¸åçº¿â_âè¿æ¥ï¼æ¯å¦should_get_200_status_code_when_request_is_validãCLIENT_CONNECT_SERVER_FAILUREã\n\nèå½¢å½åæ³çä¼å¿æ¯å½åæéè¦çåè¯æ¯è¾å¤çæ¶åï¼æ¯å¦ææä¸é¢çå½åéè¿å°é©¼å³°å½åæ³ç»å¤§å®¶çä¸ä¸ï¼âshouldGet200StatusCodeWhenRequestIsValidâã\n\næè§å¦ä½ï¼ ç¸æ¯äºä½¿ç¨èå½¢å½åæ³ï¼snake_caseï¼æ¥è¯´æ¯ä¸æ¯ä¸é£ä¹æè¯»ï¼\n\næ­£ä¾ï¼\n\n@Test\nvoid should_get_200_status_code_when_request_is_valid() {\n  ......\n}\n\n\nåä¾ï¼\n\n@Test\nvoid shouldGet200StatusCodeWhenRequestIsValid() {\n  ......\n}\n\n\n\n# ä¸²å¼å½åæ³ï¼kebab-caseï¼\n\nå¨ä¸²å¼å½åæ³ä¸­ï¼åä¸ªåè¯ä¹é´éè¿è¿æ¥ç¬¦â-âè¿æ¥ï¼æ¯å¦dubbo-registryã\n\nå»ºè®®é¡¹ç®æä»¶å¤¹åç§°ä½¿ç¨ä¸²å¼å½åæ³ï¼kebab-caseï¼ã\n\n\n# å¸¸è§å½åè§è\n\n\n# Java è¯­è¨åºæ¬å½åè§è\n\n1ãç±»åéè¦ä½¿ç¨å¤§é©¼å³°å½åæ³ï¼UpperCamelCaseï¼é£æ ¼ãæ¹æ³åãåæ°åãæååéãå±é¨åééè¦ä½¿ç¨å°é©¼å³°å½åæ³ï¼lowerCamelCaseï¼ã\n\n2ãæµè¯æ¹æ³åãå¸¸éãæä¸¾åç§°éè¦ä½¿ç¨èå½¢å½åæ³ï¼snake_caseï¼ï¼æ¯å¦should_get_200_status_code_when_request_is_validãCLIENT_CONNECT_SERVER_FAILUREãå¹¶ä¸ï¼æµè¯æ¹æ³åç§°è¦æ±å¨é¨å°åï¼å¸¸éä»¥åæä¸¾åç§°éè¦å¨é¨å¤§åã\n\n3ãé¡¹ç®æä»¶å¤¹åç§°ä½¿ç¨ä¸²å¼å½åæ³ï¼kebab-caseï¼ï¼æ¯å¦dubbo-registryã\n\n4ãååç»ä¸ä½¿ç¨å°åï¼å°½éä½¿ç¨åä¸ªåè¯ä½ä¸ºååï¼åä¸ªåè¯éè¿ "." åéç¬¦è¿æ¥ï¼å¹¶ä¸åä¸ªåè¯å¿é¡»ä¸ºåæ°ã\n\næ­£ä¾ï¼org.apache.dubbo.common.threadlocal\n\nåä¾ï¼org.apache_dubbo.Common.threadLocals\n\n5ãæ½è±¡ç±»å½åä½¿ç¨ Abstract å¼å¤´ã\n\n//ä¸ºè¿ç¨ä¼ è¾é¨åæ½è±¡åºæ¥çä¸ä¸ªæ½è±¡ç±»ï¼åºå¤ï¼Dubboæºç ï¼\npublic abstract class AbstractClient extends AbstractEndpoint implements Client {\n\n}\n\n\n6ãå¼å¸¸ç±»å½åä½¿ç¨ Exception ç»å°¾ã\n\n//èªå®ä¹ç NoSuchMethodExceptionï¼åºå¤ï¼Dubboæºç ï¼\npublic class NoSuchMethodException extends RuntimeException {\n    private static final long serialVersionUID = -2725364246023268766L;\n\n    public NoSuchMethodException() {\n        super();\n    }\n\n    public NoSuchMethodException(String msg) {\n        super(msg);\n    }\n}\n\n\n7ãæµè¯ç±»å½åä»¥å®è¦æµè¯çç±»çåç§°å¼å§ï¼ä»¥ Test ç»å°¾ã\n\n//ä¸º AnnotationUtils ç±»åçæµè¯ç±»ï¼åºå¤ï¼Dubboæºç ï¼\npublic class AnnotationUtilsTest {\n  ......\n}\n\n\nPOJO ç±»ä¸­å¸å°ç±»åçåéï¼é½ä¸è¦å  is åç¼ï¼å¦åé¨åæ¡æ¶è§£æä¼å¼èµ·åºååéè¯¯ã\n\nå¦ææ¨¡åãæ¥å£ãç±»ãæ¹æ³ä½¿ç¨äºè®¾è®¡æ¨¡å¼ï¼å¨å½åæ¶éä½ç°åºå·ä½æ¨¡å¼ãå¦æ¨¡çæ¹æ³æ¨¡å¼ä»¥Templateç»å°¾ã\n\n\n# å½åæè¯»æ§è§è\n\n1ãä¸ºäºè½è®©å½åæ´å ææåæè¯»ï¼å°½éä¸è¦ç¼©å/ç®ååè¯ï¼é¤éè¿äºåè¯å·²ç»è¢«å¬è®¤å¯ä»¥è¢«è¿æ ·ç¼©å/ç®åãæ¯å¦ CustomThreadFactory ä¸å¯ä»¥è¢«åæ ~~CustomTF ã\n\n2ãå½åä¸åå½æ°ä¸æ ·è¦å°½éè¿½æ±ç­ï¼å¯è¯»æ§å¼ºçåå­ä¼åäºç®ç­çåå­ï¼è½ç¶å¯è¯»æ§å¼ºçåå­ä¼æ¯è¾é¿ä¸ç¹ã è¿ä¸ªå¯¹åºæä»¬ä¸é¢è¯´çç¬¬ 1 ç¹ã\n\n3ãé¿åæ æä¹çå½åï¼ä½ èµ·çæ¯ä¸ä¸ªåå­é½è¦è½è¡¨æææã\n\næ­£ä¾ï¼UserService userService; int userCount;\n\nåä¾: UserService service int count\n\n4ãé¿åå½åè¿é¿ï¼50 ä¸ªå­ç¬¦ä»¥åæå¥½ï¼ï¼è¿é¿çå½åé¾ä»¥éè¯»å¹¶ä¸ä¸éã\n\n5ãä¸è¦ä½¿ç¨æ¼é³ï¼æ´ä¸è¦ä½¿ç¨ä¸­æã ä¸è¿å alibabaãwuhanãtaobao è¿ç§å½ééç¨åè¯å¯ä»¥å½åè±ææ¥çå¾ã\n\næ­£ä¾ï¼discount\n\nåä¾ï¼dazhe\n\nå¨é¢çå½åè§èå¯ä»¥åè ç¼ç 5åéï¼å½å2å°æ¶ï¼å²ä¸æå¨çJavaå½åè§èåèï¼ã\n\n\n# reference\n\n * ä»£ç å½åæå | JavaGuide(Javaé¢è¯ å­¦ä¹ æå)\n\n * éç¨ç±»å½åè§è - å°±æ°¸è¿å¤å¤© - åå®¢å­\n\n * ç¼ç 5åéï¼å½å2å°æ¶ï¼å²ä¸æå¨çJavaå½åè§èåèï¼\n\n * ç¼ç¨ä¸­æé¾çå°±æ¯å½åï¼è¿å ææä½ å¿«éä¸æ\n\n * ç¨åºåâèµ·åâå¤´çæ ¹æ²»æå',normalizedContent:'# ä¸ºä»ä¹è¦éè§å½åï¼\n\nä¸ºä»ä¹å½åå¾éè¦å¢ï¼ è¿æ¯å ä¸º å¥½çå½åå³æ¯æ³¨éï¼å«äººä¸çå°ä½ çå½åå°±ç¥éä½ çåéãæ¹æ³æèç±»æ¯åä»ä¹çï¼\n\nç®åæ¥è¯´å°±æ¯ å«äººæ ¹æ®ä½ çå½åå°±è½ç¥éä½ çä»£ç è¦è¡¨è¾¾çææ\n\nãclean codeãè¿æ¬ä¹¦æç¡®æåºï¼\n\n> å¥½çä»£ç æ¬èº«å°±æ¯æ³¨éï¼æä»¬è¦å°½éè§èåç¾åèªå·±çä»£ç æ¥åå°ä¸å¿è¦çæ³¨éã\n> \n> è¥ç¼ç¨è¯­è¨è¶³å¤æè¡¨è¾¾åï¼å°±ä¸éè¦æ³¨éï¼å°½ééè¿ä»£ç æ¥éè¿°ã\n> \n> ä¸¾ä¸ªä¾å­ï¼\n> \n> å»æä¸é¢å¤æçæ³¨éï¼åªéè¦åå»ºä¸ä¸ªä¸æ³¨éæè¨åä¸äºç©çå½æ°å³å¯\n> \n> // check to see if the employee is eligible for full benefits\n> if ((employee.flags & hourly_flag) && (employee.age > 65))\n> \n> \n> åºæ¿æ¢ä¸º\n> \n> if (employee.iseligibleforfullbenefits())\n\n\n# å¸¸è§å½åè§åä»¥åéç¨åºæ¯\n\nè¿éåªä»ç» 3 ç§æå¸¸è§çå½åè§èã\n\n\n# é©¼å³°å½åæ³ï¼camelcaseï¼\n\né©¼å³°å½åæ³åºè¯¥æä»¬æå¸¸è§çä¸ä¸ªï¼è¿ç§å½åæ¹å¼ä½¿ç¨å¤§å°åæ··åçæ ¼å¼æ¥åºå«åä¸ªåè¯ï¼å¹¶ä¸åè¯ä¹é´ä¸ä½¿ç¨ç©ºæ ¼éå¼æèè¿æ¥å­ç¬¦è¿æ¥çå½åæ¹å¼\n\n\n# å¤§é©¼å³°å½åæ³ï¼uppercamelcaseï¼\n\nç±»åéè¦ä½¿ç¨å¤§é©¼å³°å½åæ³ï¼uppercamelcaseï¼\n\næ­£ä¾ï¼\n\nservicediscoveryãserviceinstanceãlrucachefactory\n\n\nåä¾ï¼\n\nservicediscoveryãserviceinstanceãlrucachefactory\n\n\n\n# å°é©¼å³°å½åæ³ï¼lowercamelcaseï¼\n\næ¹æ³åãåæ°åãæååéãå±é¨åééè¦ä½¿ç¨å°é©¼å³°å½åæ³ï¼lowercamelcaseï¼ã\n\næ­£ä¾ï¼\n\ngetuserinfo()\ncreatecustomthreadpool()\nsetnameformat(string nameformat)\nuservice userservice;\n\n\nåä¾ï¼\n\ngetuserinfo()ãcreatecustomthreadpool()ãsetnameformat(string nameformat)\nuservice user_service\n\n\n\n# èå½¢å½åæ³ï¼snake_caseï¼\n\næµè¯æ¹æ³åãå¸¸éãæä¸¾åç§°éè¦ä½¿ç¨èå½¢å½åæ³ï¼snake_caseï¼\n\nå¨èå½¢å½åæ³ä¸­ï¼åä¸ªåè¯ä¹é´éè¿ä¸åçº¿â_âè¿æ¥ï¼æ¯å¦should_get_200_status_code_when_request_is_validãclient_connect_server_failureã\n\nèå½¢å½åæ³çä¼å¿æ¯å½åæéè¦çåè¯æ¯è¾å¤çæ¶åï¼æ¯å¦ææä¸é¢çå½åéè¿å°é©¼å³°å½åæ³ç»å¤§å®¶çä¸ä¸ï¼âshouldget200statuscodewhenrequestisvalidâã\n\næè§å¦ä½ï¼ ç¸æ¯äºä½¿ç¨èå½¢å½åæ³ï¼snake_caseï¼æ¥è¯´æ¯ä¸æ¯ä¸é£ä¹æè¯»ï¼\n\næ­£ä¾ï¼\n\n@test\nvoid should_get_200_status_code_when_request_is_valid() {\n  ......\n}\n\n\nåä¾ï¼\n\n@test\nvoid shouldget200statuscodewhenrequestisvalid() {\n  ......\n}\n\n\n\n# ä¸²å¼å½åæ³ï¼kebab-caseï¼\n\nå¨ä¸²å¼å½åæ³ä¸­ï¼åä¸ªåè¯ä¹é´éè¿è¿æ¥ç¬¦â-âè¿æ¥ï¼æ¯å¦dubbo-registryã\n\nå»ºè®®é¡¹ç®æä»¶å¤¹åç§°ä½¿ç¨ä¸²å¼å½åæ³ï¼kebab-caseï¼ã\n\n\n# å¸¸è§å½åè§è\n\n\n# java è¯­è¨åºæ¬å½åè§è\n\n1ãç±»åéè¦ä½¿ç¨å¤§é©¼å³°å½åæ³ï¼uppercamelcaseï¼é£æ ¼ãæ¹æ³åãåæ°åãæååéãå±é¨åééè¦ä½¿ç¨å°é©¼å³°å½åæ³ï¼lowercamelcaseï¼ã\n\n2ãæµè¯æ¹æ³åãå¸¸éãæä¸¾åç§°éè¦ä½¿ç¨èå½¢å½åæ³ï¼snake_caseï¼ï¼æ¯å¦should_get_200_status_code_when_request_is_validãclient_connect_server_failureãå¹¶ä¸ï¼æµè¯æ¹æ³åç§°è¦æ±å¨é¨å°åï¼å¸¸éä»¥åæä¸¾åç§°éè¦å¨é¨å¤§åã\n\n3ãé¡¹ç®æä»¶å¤¹åç§°ä½¿ç¨ä¸²å¼å½åæ³ï¼kebab-caseï¼ï¼æ¯å¦dubbo-registryã\n\n4ãååç»ä¸ä½¿ç¨å°åï¼å°½éä½¿ç¨åä¸ªåè¯ä½ä¸ºååï¼åä¸ªåè¯éè¿ "." åéç¬¦è¿æ¥ï¼å¹¶ä¸åä¸ªåè¯å¿é¡»ä¸ºåæ°ã\n\næ­£ä¾ï¼org.apache.dubbo.common.threadlocal\n\nåä¾ï¼org.apache_dubbo.common.threadlocals\n\n5ãæ½è±¡ç±»å½åä½¿ç¨ abstract å¼å¤´ã\n\n//ä¸ºè¿ç¨ä¼ è¾é¨åæ½è±¡åºæ¥çä¸ä¸ªæ½è±¡ç±»ï¼åºå¤ï¼dubboæºç ï¼\npublic abstract class abstractclient extends abstractendpoint implements client {\n\n}\n\n\n6ãå¼å¸¸ç±»å½åä½¿ç¨ exception ç»å°¾ã\n\n//èªå®ä¹ç nosuchmethodexceptionï¼åºå¤ï¼dubboæºç ï¼\npublic class nosuchmethodexception extends runtimeexception {\n    private static final long serialversionuid = -2725364246023268766l;\n\n    public nosuchmethodexception() {\n        super();\n    }\n\n    public nosuchmethodexception(string msg) {\n        super(msg);\n    }\n}\n\n\n7ãæµè¯ç±»å½åä»¥å®è¦æµè¯çç±»çåç§°å¼å§ï¼ä»¥ test ç»å°¾ã\n\n//ä¸º annotationutils ç±»åçæµè¯ç±»ï¼åºå¤ï¼dubboæºç ï¼\npublic class annotationutilstest {\n  ......\n}\n\n\npojo ç±»ä¸­å¸å°ç±»åçåéï¼é½ä¸è¦å  is åç¼ï¼å¦åé¨åæ¡æ¶è§£æä¼å¼èµ·åºååéè¯¯ã\n\nå¦ææ¨¡åãæ¥å£ãç±»ãæ¹æ³ä½¿ç¨äºè®¾è®¡æ¨¡å¼ï¼å¨å½åæ¶éä½ç°åºå·ä½æ¨¡å¼ãå¦æ¨¡çæ¹æ³æ¨¡å¼ä»¥templateç»å°¾ã\n\n\n# å½åæè¯»æ§è§è\n\n1ãä¸ºäºè½è®©å½åæ´å ææåæè¯»ï¼å°½éä¸è¦ç¼©å/ç®ååè¯ï¼é¤éè¿äºåè¯å·²ç»è¢«å¬è®¤å¯ä»¥è¢«è¿æ ·ç¼©å/ç®åãæ¯å¦ customthreadfactory ä¸å¯ä»¥è¢«åæ ~~customtf ã\n\n2ãå½åä¸åå½æ°ä¸æ ·è¦å°½éè¿½æ±ç­ï¼å¯è¯»æ§å¼ºçåå­ä¼åäºç®ç­çåå­ï¼è½ç¶å¯è¯»æ§å¼ºçåå­ä¼æ¯è¾é¿ä¸ç¹ã è¿ä¸ªå¯¹åºæä»¬ä¸é¢è¯´çç¬¬ 1 ç¹ã\n\n3ãé¿åæ æä¹çå½åï¼ä½ èµ·çæ¯ä¸ä¸ªåå­é½è¦è½è¡¨æææã\n\næ­£ä¾ï¼userservice userservice; int usercount;\n\nåä¾: userservice service int count\n\n4ãé¿åå½åè¿é¿ï¼50 ä¸ªå­ç¬¦ä»¥åæå¥½ï¼ï¼è¿é¿çå½åé¾ä»¥éè¯»å¹¶ä¸ä¸éã\n\n5ãä¸è¦ä½¿ç¨æ¼é³ï¼æ´ä¸è¦ä½¿ç¨ä¸­æã ä¸è¿å alibabaãwuhanãtaobao è¿ç§å½ééç¨åè¯å¯ä»¥å½åè±ææ¥çå¾ã\n\næ­£ä¾ï¼discount\n\nåä¾ï¼dazhe\n\nå¨é¢çå½åè§èå¯ä»¥åè ç¼ç 5åéï¼å½å2å°æ¶ï¼å²ä¸æå¨çjavaå½åè§èåèï¼ã\n\n\n# reference\n\n * ä»£ç å½åæå | javaguide(javaé¢è¯ å­¦ä¹ æå)\n\n * éç¨ç±»å½åè§è - å°±æ°¸è¿å¤å¤© - åå®¢å­\n\n * ç¼ç 5åéï¼å½å2å°æ¶ï¼å²ä¸æå¨çjavaå½åè§èåèï¼\n\n * ç¼ç¨ä¸­æé¾çå°±æ¯å½åï¼è¿å ææä½ å¿«éä¸æ\n\n * ç¨åºåâèµ·åâå¤´çæ ¹æ²»æå',charsets:{cjk:!0},lastUpdated:"2023/10/24, 03:39:33",lastUpdatedTimestamp:1698118773e3},{title:"ç®åå¶ä½",frontmatter:{title:"ç®åå¶ä½",date:"2023-10-24T15:27:49.000Z",permalink:"/pages/80654c/"},regularPath:"/02.Java%20%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/01.%E9%9D%A2%E8%AF%95%E5%87%86%E5%A4%87/02.%E7%AE%80%E5%8E%86%E5%88%B6%E4%BD%9C.html",relativePath:"02.Java é¢è¯å®å¸/01.é¢è¯åå¤/02.ç®åå¶ä½.md",key:"v-8ad2cece",path:"/pages/80654c/",headers:[{level:1,title:"ç®ååå®¹",slug:"ç®ååå®¹",normalizedTitle:"ç®ååå®¹",charIndex:63},{level:2,title:"ä¸ªäººä¿¡æ¯",slug:"ä¸ªäººä¿¡æ¯",normalizedTitle:"ä¸ªäººä¿¡æ¯",charIndex:72},{level:2,title:"æ±èæå",slug:"æ±èæå",normalizedTitle:"æ±èæå",charIndex:127},{level:2,title:"æè²èæ¯",slug:"æè²èæ¯",normalizedTitle:"æè²èæ¯",charIndex:159},{level:2,title:"æè½æ¸å",slug:"æè½æ¸å",normalizedTitle:"æè½æ¸å",charIndex:185},{level:2,title:"å·¥ä½ç»å",slug:"å·¥ä½ç»å",normalizedTitle:"å·¥ä½ç»å",charIndex:373},{level:2,title:"é¡¹ç®ç»éª",slug:"é¡¹ç®ç»éª",normalizedTitle:"é¡¹ç®ç»éª",charIndex:417},{level:2,title:"èªæè¯ä»·",slug:"èªæè¯ä»·",normalizedTitle:"èªæè¯ä»·",charIndex:642},{level:1,title:"æ³¨æäºé¡¹",slug:"æ³¨æäºé¡¹",normalizedTitle:"æ³¨æäºé¡¹",charIndex:667},{level:1,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:773}],headersStr:"ç®ååå®¹ ä¸ªäººä¿¡æ¯ æ±èæå æè²èæ¯ æè½æ¸å å·¥ä½ç»å é¡¹ç®ç»éª èªæè¯ä»· æ³¨æäºé¡¹ åèèµæ",content:"ç®åå¶ä½çç®çæ¯ä¸ºäºè·å¾é¢è¯æºä¼ï¼åéè¿é¢è¯æ¥ç¼ºè¡¥æ¼ã\n\næä»¶æ ¼å¼ï¼ä½¿ç¨mdæä»¶ç¼åï¼å¹¶å¯¼åºpdfæ ¼å¼è¿è¡ç®åæéã\n\n\n# ç®ååå®¹\n\n\n# ä¸ªäººä¿¡æ¯\n\nåå®¹ï¼å§åãæ§å«ãå¹´é¾ï¼åºçå¹´ä»½ä¹å¯ä»¥ï¼ãç±è´¯ãèç³»æ¹å¼ï¼ææºãé®ç®±ï¼ãæå¥½ä¸è¦æ¾ç§çã\n\n\n# æ±èæå\n\nåå®¹ï¼ææèä½ãææåå¸ï¼ä¸è¦åææèªèµã\n\n\n# æè²èæ¯\n\nåå®¹ï¼å­¦æ ¡ãå­¦åãä¸ä¸ãæ¶é´ã\n\n\n# æè½æ¸å\n\næè½æ¸åä¸»è¦æ¯ä¸ºäºç´æ¥å±ç¤ºæ±èèçä¼å¿ï¼FABæ³åï¼ï¼è®©é¢è¯å®å¯¹ä½ æç´æ¥çäºè§£ã æè½æ¸åå¯ä»¥åææ¯äº®ç¹ï¼ä¹å¯ä»¥åè½¯æè½ï¼å¸¦é¢å¢éãè·¨é¨é¨æ²éï¼ã æè½æ¸ååçäº®ç¹å¤§æ¦çæ¯é¢è¯é¢æé®çç¹ï¼è¦è¿è¡ç¸åºçé¢è¯åå¤ãå¿ææ¾å¹³ï¼é¢è¯å°±ç®è¢«é®åï¼ä¸è¦æè¢«å²ç¬ï¼åæ¥è¡¥ä¸å°±è¡ã ç²¾éççéï¼è½åç­å¸é¢ä¸ææçç¸å³é¢è¯é¢å°±å¯ä»¥åç²¾éãç²¾éä¸è½æ ä¸­çæï¼ä¸ç¶ä¼æåä½ç¨ã\n\n\n# å·¥ä½ç»å\n\nåä¸å¬å¸åç§°ãå·¥ä½èµ·æ­¢æ¶é´ãèä½å°±å¯ä»¥ã å·¥ä½ç»éªä¸å¤ï¼å¯ä»¥ä¸åã\n\n\n# é¡¹ç®ç»éª\n\nåå®¹ï¼\n\n * é¡¹ç®æè¿°ï¼ä¸»è¦æè¿°é¡¹ç®çä½ç¨ã\n * é¡¹ç®æ¶æï¼é¡¹ç®ä½¿ç¨çææ¯æ¶æ\n * æçé¡¹ç®èè´£ï¼éå¸¸éè¦ï¼ï¼ä¸»è¦åèªå·±è´è´£çæ¨¡åä»¥åèªå·±å¯¹é¡¹ç®çä¼åï¼ä¼åææè¦å°½ééåä¸ï¼ï¼å¯ä»¥ä½¿ç¨STARæ³åè¿è¡æè¿°ãè¿æ¯é¢è¯ä¸­åé®çç¹ï¼è¦åéï¼æååå¤ï¼æ³¨å¥æ°´åï¼èªåå¶è¯´ã\n   * ä¼åä¾å­ï¼\n     * ååä¸è´æ§ï¼å»¶æ¶åå ã\n     * å¤çº¿ç¨ï¼çº¿ç¨æ± ï¼æ°æ®å¥åº\n     * JVMï¼OOMå¤ç\n     * åå¸å¼é\n\n\n# èªæè¯ä»·\n\néåååæ¯ä¸æèç»éªæ¯è¾æµã\n\n\n# æ³¨æäºé¡¹\n\n * ä¸äºææ¯åè¯ä¸è¦å¼éäºå¤§å°åæ¯å¦ MySQL ä¸è¦åæ mysqlï¼Java ä¸è¦åæ java\n * ä¸­æåæ°å­è±æä¹é´å ä¸ç©ºæ ¼çè¯çèµ·æ¥ä¼èæä¸ç¹ã\n * ä¸ä¼çä¸è¥¿ä¸è¦åå¨ç®åä¸\n\n\n# åèèµæ\n\n * Javaç¨åºåï¼å¦ä½ä¹¦åä¸æå¥½ç®åï¼è¯±é¥µï¼æ¬äººè±æç®åå±ç¤ºç»å¤§å®¶ï¼å¹¶éå¸¦ä¹¦åæè·¯ï¼å¯ä¸ä¸ä¸ªè§é¢ç»åè§çã_åå©åå©_bilibili\n * å¦ä½åä¸ä»½å¥½çå¸å¼äººçç®å - ç´æ°´ç - åå®¢å­",normalizedContent:"ç®åå¶ä½çç®çæ¯ä¸ºäºè·å¾é¢è¯æºä¼ï¼åéè¿é¢è¯æ¥ç¼ºè¡¥æ¼ã\n\næä»¶æ ¼å¼ï¼ä½¿ç¨mdæä»¶ç¼åï¼å¹¶å¯¼åºpdfæ ¼å¼è¿è¡ç®åæéã\n\n\n# ç®ååå®¹\n\n\n# ä¸ªäººä¿¡æ¯\n\nåå®¹ï¼å§åãæ§å«ãå¹´é¾ï¼åºçå¹´ä»½ä¹å¯ä»¥ï¼ãç±è´¯ãèç³»æ¹å¼ï¼ææºãé®ç®±ï¼ãæå¥½ä¸è¦æ¾ç§çã\n\n\n# æ±èæå\n\nåå®¹ï¼ææèä½ãææåå¸ï¼ä¸è¦åææèªèµã\n\n\n# æè²èæ¯\n\nåå®¹ï¼å­¦æ ¡ãå­¦åãä¸ä¸ãæ¶é´ã\n\n\n# æè½æ¸å\n\næè½æ¸åä¸»è¦æ¯ä¸ºäºç´æ¥å±ç¤ºæ±èèçä¼å¿ï¼fabæ³åï¼ï¼è®©é¢è¯å®å¯¹ä½ æç´æ¥çäºè§£ã æè½æ¸åå¯ä»¥åææ¯äº®ç¹ï¼ä¹å¯ä»¥åè½¯æè½ï¼å¸¦é¢å¢éãè·¨é¨é¨æ²éï¼ã æè½æ¸ååçäº®ç¹å¤§æ¦çæ¯é¢è¯é¢æé®çç¹ï¼è¦è¿è¡ç¸åºçé¢è¯åå¤ãå¿ææ¾å¹³ï¼é¢è¯å°±ç®è¢«é®åï¼ä¸è¦æè¢«å²ç¬ï¼åæ¥è¡¥ä¸å°±è¡ã ç²¾éççéï¼è½åç­å¸é¢ä¸ææçç¸å³é¢è¯é¢å°±å¯ä»¥åç²¾éãç²¾éä¸è½æ ä¸­çæï¼ä¸ç¶ä¼æåä½ç¨ã\n\n\n# å·¥ä½ç»å\n\nåä¸å¬å¸åç§°ãå·¥ä½èµ·æ­¢æ¶é´ãèä½å°±å¯ä»¥ã å·¥ä½ç»éªä¸å¤ï¼å¯ä»¥ä¸åã\n\n\n# é¡¹ç®ç»éª\n\nåå®¹ï¼\n\n * é¡¹ç®æè¿°ï¼ä¸»è¦æè¿°é¡¹ç®çä½ç¨ã\n * é¡¹ç®æ¶æï¼é¡¹ç®ä½¿ç¨çææ¯æ¶æ\n * æçé¡¹ç®èè´£ï¼éå¸¸éè¦ï¼ï¼ä¸»è¦åèªå·±è´è´£çæ¨¡åä»¥åèªå·±å¯¹é¡¹ç®çä¼åï¼ä¼åææè¦å°½ééåä¸ï¼ï¼å¯ä»¥ä½¿ç¨staræ³åè¿è¡æè¿°ãè¿æ¯é¢è¯ä¸­åé®çç¹ï¼è¦åéï¼æååå¤ï¼æ³¨å¥æ°´åï¼èªåå¶è¯´ã\n   * ä¼åä¾å­ï¼\n     * ååä¸è´æ§ï¼å»¶æ¶åå ã\n     * å¤çº¿ç¨ï¼çº¿ç¨æ± ï¼æ°æ®å¥åº\n     * jvmï¼oomå¤ç\n     * åå¸å¼é\n\n\n# èªæè¯ä»·\n\néåååæ¯ä¸æèç»éªæ¯è¾æµã\n\n\n# æ³¨æäºé¡¹\n\n * ä¸äºææ¯åè¯ä¸è¦å¼éäºå¤§å°åæ¯å¦ mysql ä¸è¦åæ mysqlï¼java ä¸è¦åæ java\n * ä¸­æåæ°å­è±æä¹é´å ä¸ç©ºæ ¼çè¯çèµ·æ¥ä¼èæä¸ç¹ã\n * ä¸ä¼çä¸è¥¿ä¸è¦åå¨ç®åä¸\n\n\n# åèèµæ\n\n * javaç¨åºåï¼å¦ä½ä¹¦åä¸æå¥½ç®åï¼è¯±é¥µï¼æ¬äººè±æç®åå±ç¤ºç»å¤§å®¶ï¼å¹¶éå¸¦ä¹¦åæè·¯ï¼å¯ä¸ä¸ä¸ªè§é¢ç»åè§çã_åå©åå©_bilibili\n * å¦ä½åä¸ä»½å¥½çå¸å¼äººçç®å - ç´æ°´ç - åå®¢å­",charsets:{cjk:!0},lastUpdated:"2023/11/01, 07:57:39",lastUpdatedTimestamp:1698825459e3},{title:"é¢è¯åå¤",frontmatter:{title:"é¢è¯åå¤",date:"2023-10-24T15:21:13.000Z",permalink:"/pages/5547aa/"},regularPath:"/02.Java%20%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/01.%E9%9D%A2%E8%AF%95%E5%87%86%E5%A4%87/01.%E9%9D%A2%E8%AF%95%E5%87%86%E5%A4%87.html",relativePath:"02.Java é¢è¯å®å¸/01.é¢è¯åå¤/01.é¢è¯åå¤.md",key:"v-33cdacc0",path:"/pages/5547aa/",headers:[{level:1,title:"1ãä»¥æ±èä¸ºå¯¼åå­¦ä¹ ",slug:"_1ãä»¥æ±èä¸ºå¯¼åå­¦ä¹ ",normalizedTitle:"1ãä»¥æ±èä¸ºå¯¼åå­¦ä¹ ",charIndex:71},{level:1,title:"2ãç®åå¶ä½",slug:"_2ãç®åå¶ä½",normalizedTitle:"2ãç®åå¶ä½",charIndex:203},{level:1,title:"3ãèªæä»ç»",slug:"_3ãèªæä»ç»",normalizedTitle:"3ãèªæä»ç»",charIndex:223},{level:2,title:"HRèªæä»ç»",slug:"hrèªæä»ç»",normalizedTitle:"hrèªæä»ç»",charIndex:234},{level:2,title:"ææ¯èªæä»ç»",slug:"ææ¯èªæä»ç»",normalizedTitle:"ææ¯èªæä»ç»",charIndex:267},{level:1,title:"4ãé¡¹ç®ä»ç»",slug:"_4ãé¡¹ç®ä»ç»",normalizedTitle:"4ãé¡¹ç®ä»ç»",charIndex:581},{level:1,title:"5ãææ¯é¢è¯é¢åå¤",slug:"_5ãææ¯é¢è¯é¢åå¤",normalizedTitle:"5ãææ¯é¢è¯é¢åå¤",charIndex:837},{level:2,title:"å¦ä½åç­èªå·±ä¼çé®é¢",slug:"å¦ä½åç­èªå·±ä¼çé®é¢",normalizedTitle:"å¦ä½åç­èªå·±ä¼çé®é¢",charIndex:873},{level:2,title:"å¦ä½åç­èªå·±ä¸ä¼çé®é¢",slug:"å¦ä½åç­èªå·±ä¸ä¼çé®é¢",normalizedTitle:"å¦ä½åç­èªå·±ä¸ä¼çé®é¢",charIndex:1146},{level:1,title:"6ãæç®å",slug:"_6ãæç®å",normalizedTitle:"6ãæç®å",charIndex:1371},{level:2,title:"éæ©æåèä½",slug:"éæ©æåèä½",normalizedTitle:"éæ©æåèä½",charIndex:1414},{level:2,title:"å¦ä½äºè§£å¬å¸ä¿¡æ¯",slug:"å¦ä½äºè§£å¬å¸ä¿¡æ¯",normalizedTitle:"å¦ä½äºè§£å¬å¸ä¿¡æ¯",charIndex:1451},{level:1,title:"7ãé¢è¯è¿ç¨æå·§",slug:"_7ãé¢è¯è¿ç¨æå·§",normalizedTitle:"7ãé¢è¯è¿ç¨æå·§",charIndex:1594},{level:1,title:"8ãé¢è¯åè®°çå¤ç",slug:"_8ãé¢è¯åè®°çå¤ç",normalizedTitle:"8ãé¢è¯åè®°çå¤ç",charIndex:1749}],headersStr:"1ãä»¥æ±èä¸ºå¯¼åå­¦ä¹  2ãç®åå¶ä½ 3ãèªæä»ç» HRèªæä»ç» ææ¯èªæä»ç» 4ãé¡¹ç®ä»ç» 5ãææ¯é¢è¯é¢åå¤ å¦ä½åç­èªå·±ä¼çé®é¢ å¦ä½åç­èªå·±ä¸ä¼çé®é¢ 6ãæç®å éæ©æåèä½ å¦ä½äºè§£å¬å¸ä¿¡æ¯ 7ãé¢è¯è¿ç¨æå·§ 8ãé¢è¯åè®°çå¤ç",content:"æ»ä½æµç¨ï¼åç®å->åå¤é¢è¯é¢ï¼å¼å£åç­å¹¶å½é³ï¼->é¢è¯ï¼å½é³ï¼->å¤ç->æ´æ°ç®åãé¢è¯é¢æ¥ç¼ºè¡¥æ¼->ç»§ç»­é¢è¯->æ¿å° Offer\n\n\n# 1ãä»¥æ±èä¸ºå¯¼åå­¦ä¹ \n\næ ¹æ®æèè¦æ±æ´çä¸ä»½ç®æ å²ä½çæè½æ¸åï¼ç¶åæç§æè½æ¸åå»å­¦ä¹ åæåã\n\n 1. ä½ é¦åææ¸æ¥èªå·±è¦åä»ä¹å·¥ä½\n 2. æ ¹æ®æèå²ä½è¦æ±æ¢³çä¸ä»½æè½æ¸å\n 3. æ ¹æ®æè½æ¸ååå¥½æç»çç®å\n 4. ç¶ååæç§å»ºç«çè¦æ±å»å­¦ä¹ åæå\n\n\n# 2ãç®åå¶ä½\n\nåèï¼ç®åå¶ä½\n\n\n# 3ãèªæä»ç»\n\n\n# HRèªæä»ç»\n\nä¸»è¦è®²èªå·±çç»åï¼ä¼çç¼ç¨ææ¯ä¸è¯­å¸¦è¿ã\n\n\n# ææ¯èªæä»ç»\n\nä¸»è¦è®²èªå·±ä¼çææ¯ç»èåé¡¹ç®ç»éªã\n\næ¶é¿å¤§çº¦3~5åéã\n\n 1. åºç¡æåµï¼å§åãå¹´é¾ï¼å¹´é¾å°ä¸ç¨è¯´ï¼ãå­¦æ ¡ä¸ä¸ï¼211,ã985æèç§ç­å¯ä»¥è¯´ï¼\n 2. æè¿ä¸æ®µæ¶é´çå·¥ä½ç»éªï¼æè¿°ä¸ä¸ªæçæãææ¯æ æä¸°å¯çé¡¹ç®ç»éª\n 3. é¡¹ç®ä»ç»\n\n * å½åé¡¹ç®çä»·å¼ï¼å¦ï¼å¨å½80%å»é¢é½ç¨å°è¿ä¸ªé¡¹ç®ï¼\n * ç¨å°çææ¯æ ï¼éæ©èªå·±æçæç\n * æ¿æçä¸»è¦èè´£ï¼å¦ï¼éæ±å¼åãæ°æ®åºå»ºæ¨¡ï¼\n * è§£å³é¡¹ç®çä¸»è¦é®é¢ï¼å±ç¤ºèªå·±çææ¯å®åï¼\n\n 4. è¯´ä¸ä¸å¯¹è¿å®¶å¬å¸çäºè§£ï¼å±ç¤ºæåº¦ï¼ï¼å½åå¬å¸çè¡ä¸è§£å³æ¹æ¡ã\n 5. ç»æè¯­ï¼æ­£å¸¸é¢è¯å®ä¼åé¢çç¯èææ­ä½ ï¼ï¼ä¸é¢å°±æ¯æçä¸ªäººç®ä»ï¼æ¨çæ¨æä»ä¹æ³äºè§£çã\n\n\n# 4ãé¡¹ç®ä»ç»\n\nä¸è¦æææé¡¹ç®é½è¯´ä¸éï¼æ¾çæ²¡æéç¹ãå¯ä»¥è¯´èªå·±å·¥ä½å å¹´ï¼åäºå ä¸ªé¡¹ç®ï¼æ¿æè¿æçæçé¡¹ç®æ¥éè¿°ã\n\nç»æï¼æ»-å-æ»\n\n 1. è¡¨è¿°é¡¹ç®çæ ¸å¿åè½ï¼æåªäºæ¨¡åï¼åªäºæ ¸å¿åè½\n 2. è¯´æé¡¹ç®ä¸­ä½ åä¸çæ ¸å¿ææ¯æ¨¡åï¼èè´£æè¿°ï¼ï¼å½åé¡¹ç®æä½¿ç¨çæè½ãé¡¹ç®æ¶æï¼å¾®æå¡ãä¸­é´ä»¶ï¼ã\n 3. æè¿°é¡¹ç®å¼åè¿ç¨ä¸­å­å¨çææ¯é®é¢ãè§£å³æè·¯åæ¹æ¡ï¼ä¸è½è¯´é®é¢å¯¼æèé®åäºï¼ä¸å®è¦èªå·±è§£å³çï¼ä½ç°èªå·±è§£å³é®é¢çè½åã\n 4. **ç»æè¯­ï¼**ä¸é¢å°±æ¯æå¯¹èªå·±é¡¹ç®ç»éªçç®åä»ç»ï¼æ¨çä¸æä»ä¹æ³é®çã\n\n\n# 5ãææ¯é¢è¯é¢åå¤\n\næ ¹æ®èªå·±åå¥½çæè½æ¸ååå¤å¥½ç¸å³é¢è¯é¢ã\n\n\n# å¦ä½åç­èªå·±ä¼çé®é¢\n\nåç­é®é¢è¦ç¨æ»-åçææ³ï¼\n\n 1. ææ¯çåºç¨åºæ¯ï¼ä¸ºä»ä¹è¦ç¨è¿ä¸ªææ¯ï¼è¿ä¸ªææ¯è§£å³ä»ä¹é®é¢\n 2. åæ­¥éª¤è¯´ææä¹ä½¿ç¨è¿ææ¯\n 3. ä½¿ç¨è¿ææ¯ä¼éè§ä»ä¹é®é¢ï¼æä¹è§£å³è¿äºé®é¢ï¼æ©å±ç¥è¯ç¹å¹¶ä½ç°èªå·±çå®éå·¥ä½ç»éªï¼\n 4. ç»æè¯­ï¼é¢è¯å®ï¼æåç­å®äºï¼è¿å°±æ¯æå¯¹è¿ä¸ªç¥è¯ç¹ççè§£ã\n\næ¯å¦åç­mysqlçä¸»ä»å¤å¶ï¼\n\n 1. ä¸ºä»ä¹è¦ç¨mysqlä¸»ä»å¤å¶ï¼è§£å³ä»ä¹é®é¢\n 2. åæ­¥éª¤è¯´ææä¹å®ç°ä¸»ä»å¤å¶\n 3. ä¸»ä»å¤å¶å»¶è¿é®é¢ï¼ä½ç°èªå·±çå®éå·¥ä½ç»éªï¼ï¼ä¸»ä»å¤å¶-ãè¯»ååç¦»-ãååºåè¡¨ã\n 4. ç»æè¯­\n\n\n# å¦ä½åç­èªå·±ä¸ä¼çé®é¢\n\nåä¸¤ç§æåµï¼\n\n * æä¸ç¹äºè§£æèæ¥è§¦è¿ç±»ä¼¼çææ¯ï¼ä¸å¥½ææï¼é¢è¯å®ï¼è¿ä¸ªææ¯ææ²¡æ¥è§¦è¿ï¼ä½æ¯æäºè§£è¿è·ä»ç±»ä¼¼çææ¯ï¼è¿ä¸ªææ¯å¨æé¡¹ç®æ¯æä¹ä½¿ç¨çãå¦æé¢è¯å®ææ­ä½ ï¼å°±ç»æä½ çéè¿°ï¼ç­é¢è¯å®è¿ä¸æ­¥å¨ä½ï¼ä¸è¦èªé¡¾èªçä¸ç´è¯´ä¸å»ã\n * ä¸ç¹é½ä¸ä¼ï¼åè®°ä¸è¦ä¸æè£æãä¸å¥½ææï¼é¢è¯å®ãè¿äºææ¯ææ²¡æ¥è§¦è¿ï¼ä½æèªå­¦è½åå¼ºï¼ç»ææ¶é´æç¸ä¿¡èªå·±è½æ´å¿«å­¦ä¼ãæ¨è½åè¯è¿ä¸ªææ¯å¨å±ä»¬é¡¹ç®ä¸­æ¯å¦ä½ä½¿ç¨çåï¼æé®é¢æåç»é¢è¯å®ï¼\n\n\n# 6ãæç®å\n\næç®åçç®çå°±æ¯å¾å°é¢è¯æºä¼ãä¸å®è¦æ ¹æ®æèè¦æ±å¯¹åºä¿®æ¹ç®åã\n\n\n# éæ©æåèä½\n\nç¡®è®¤èªå·±çç¡¬æ§è¦æ±ï¼æ¯å¦ï¼äºé©ä¸éå¿é¡»æï¼åä¼ã\n\n\n# å¦ä½äºè§£å¬å¸ä¿¡æ¯\n\n * å½å®¶ä¼ä¸ä¿¡æ¯å¬ç¤ºç½ï¼https://www.gsxt.gov.cn/corp-query-homepage.html\n * çåç½ï¼https://www.kanzhun.com/\n * å¤©ç¼æ¥ï¼https://www.tianyancha.com/\n\n\n# 7ãé¢è¯è¿ç¨æå·§\n\né¢è¯è¿ç¨æå¥½å½é³ï¼æ¹ä¾¿å¤çã\n\né¢è¯æå°´å°¬çåºæ¯æ¯ä¸¤ä¸ªäººæèå¤ä¸ªäººé½ä¸è¯´è¯ï¼å¦æè¿æ ·çè¯è¿åºé¢è¯æ­£å¸¸æ¯ä¸éè¿ã\n\né¢è¯æå·§ï¼\n\n * è¦èªå·±ææ¡èå¥ï¼å¼å¯¼é¢è¯å®é®ä½ ææé¿çæ¹åï¼ä¸è½è®©é¢è¯å®ä¸ç´é®ä½ é®é¢ã\n * ä¸å¤©æå¤é¢ä¸¤å®¶é¢è¯ï¼å¹¶ä¸è¦å¯¹é¢è¯çå¬å¸æåºæ¬çäºè§£ï¼å¹¶åå¥½é¢è¯åå¤ã\n\n\n# 8ãé¢è¯åè®°çå¤ç",normalizedContent:"æ»ä½æµç¨ï¼åç®å->åå¤é¢è¯é¢ï¼å¼å£åç­å¹¶å½é³ï¼->é¢è¯ï¼å½é³ï¼->å¤ç->æ´æ°ç®åãé¢è¯é¢æ¥ç¼ºè¡¥æ¼->ç»§ç»­é¢è¯->æ¿å° offer\n\n\n# 1ãä»¥æ±èä¸ºå¯¼åå­¦ä¹ \n\næ ¹æ®æèè¦æ±æ´çä¸ä»½ç®æ å²ä½çæè½æ¸åï¼ç¶åæç§æè½æ¸åå»å­¦ä¹ åæåã\n\n 1. ä½ é¦åææ¸æ¥èªå·±è¦åä»ä¹å·¥ä½\n 2. æ ¹æ®æèå²ä½è¦æ±æ¢³çä¸ä»½æè½æ¸å\n 3. æ ¹æ®æè½æ¸ååå¥½æç»çç®å\n 4. ç¶ååæç§å»ºç«çè¦æ±å»å­¦ä¹ åæå\n\n\n# 2ãç®åå¶ä½\n\nåèï¼ç®åå¶ä½\n\n\n# 3ãèªæä»ç»\n\n\n# hrèªæä»ç»\n\nä¸»è¦è®²èªå·±çç»åï¼ä¼çç¼ç¨ææ¯ä¸è¯­å¸¦è¿ã\n\n\n# ææ¯èªæä»ç»\n\nä¸»è¦è®²èªå·±ä¼çææ¯ç»èåé¡¹ç®ç»éªã\n\næ¶é¿å¤§çº¦3~5åéã\n\n 1. åºç¡æåµï¼å§åãå¹´é¾ï¼å¹´é¾å°ä¸ç¨è¯´ï¼ãå­¦æ ¡ä¸ä¸ï¼211,ã985æèç§ç­å¯ä»¥è¯´ï¼\n 2. æè¿ä¸æ®µæ¶é´çå·¥ä½ç»éªï¼æè¿°ä¸ä¸ªæçæãææ¯æ æä¸°å¯çé¡¹ç®ç»éª\n 3. é¡¹ç®ä»ç»\n\n * å½åé¡¹ç®çä»·å¼ï¼å¦ï¼å¨å½80%å»é¢é½ç¨å°è¿ä¸ªé¡¹ç®ï¼\n * ç¨å°çææ¯æ ï¼éæ©èªå·±æçæç\n * æ¿æçä¸»è¦èè´£ï¼å¦ï¼éæ±å¼åãæ°æ®åºå»ºæ¨¡ï¼\n * è§£å³é¡¹ç®çä¸»è¦é®é¢ï¼å±ç¤ºèªå·±çææ¯å®åï¼\n\n 4. è¯´ä¸ä¸å¯¹è¿å®¶å¬å¸çäºè§£ï¼å±ç¤ºæåº¦ï¼ï¼å½åå¬å¸çè¡ä¸è§£å³æ¹æ¡ã\n 5. ç»æè¯­ï¼æ­£å¸¸é¢è¯å®ä¼åé¢çç¯èææ­ä½ ï¼ï¼ä¸é¢å°±æ¯æçä¸ªäººç®ä»ï¼æ¨çæ¨æä»ä¹æ³äºè§£çã\n\n\n# 4ãé¡¹ç®ä»ç»\n\nä¸è¦æææé¡¹ç®é½è¯´ä¸éï¼æ¾çæ²¡æéç¹ãå¯ä»¥è¯´èªå·±å·¥ä½å å¹´ï¼åäºå ä¸ªé¡¹ç®ï¼æ¿æè¿æçæçé¡¹ç®æ¥éè¿°ã\n\nç»æï¼æ»-å-æ»\n\n 1. è¡¨è¿°é¡¹ç®çæ ¸å¿åè½ï¼æåªäºæ¨¡åï¼åªäºæ ¸å¿åè½\n 2. è¯´æé¡¹ç®ä¸­ä½ åä¸çæ ¸å¿ææ¯æ¨¡åï¼èè´£æè¿°ï¼ï¼å½åé¡¹ç®æä½¿ç¨çæè½ãé¡¹ç®æ¶æï¼å¾®æå¡ãä¸­é´ä»¶ï¼ã\n 3. æè¿°é¡¹ç®å¼åè¿ç¨ä¸­å­å¨çææ¯é®é¢ãè§£å³æè·¯åæ¹æ¡ï¼ä¸è½è¯´é®é¢å¯¼æèé®åäºï¼ä¸å®è¦èªå·±è§£å³çï¼ä½ç°èªå·±è§£å³é®é¢çè½åã\n 4. **ç»æè¯­ï¼**ä¸é¢å°±æ¯æå¯¹èªå·±é¡¹ç®ç»éªçç®åä»ç»ï¼æ¨çä¸æä»ä¹æ³é®çã\n\n\n# 5ãææ¯é¢è¯é¢åå¤\n\næ ¹æ®èªå·±åå¥½çæè½æ¸ååå¤å¥½ç¸å³é¢è¯é¢ã\n\n\n# å¦ä½åç­èªå·±ä¼çé®é¢\n\nåç­é®é¢è¦ç¨æ»-åçææ³ï¼\n\n 1. ææ¯çåºç¨åºæ¯ï¼ä¸ºä»ä¹è¦ç¨è¿ä¸ªææ¯ï¼è¿ä¸ªææ¯è§£å³ä»ä¹é®é¢\n 2. åæ­¥éª¤è¯´ææä¹ä½¿ç¨è¿ææ¯\n 3. ä½¿ç¨è¿ææ¯ä¼éè§ä»ä¹é®é¢ï¼æä¹è§£å³è¿äºé®é¢ï¼æ©å±ç¥è¯ç¹å¹¶ä½ç°èªå·±çå®éå·¥ä½ç»éªï¼\n 4. ç»æè¯­ï¼é¢è¯å®ï¼æåç­å®äºï¼è¿å°±æ¯æå¯¹è¿ä¸ªç¥è¯ç¹ççè§£ã\n\næ¯å¦åç­mysqlçä¸»ä»å¤å¶ï¼\n\n 1. ä¸ºä»ä¹è¦ç¨mysqlä¸»ä»å¤å¶ï¼è§£å³ä»ä¹é®é¢\n 2. åæ­¥éª¤è¯´ææä¹å®ç°ä¸»ä»å¤å¶\n 3. ä¸»ä»å¤å¶å»¶è¿é®é¢ï¼ä½ç°èªå·±çå®éå·¥ä½ç»éªï¼ï¼ä¸»ä»å¤å¶-ãè¯»ååç¦»-ãååºåè¡¨ã\n 4. ç»æè¯­\n\n\n# å¦ä½åç­èªå·±ä¸ä¼çé®é¢\n\nåä¸¤ç§æåµï¼\n\n * æä¸ç¹äºè§£æèæ¥è§¦è¿ç±»ä¼¼çææ¯ï¼ä¸å¥½ææï¼é¢è¯å®ï¼è¿ä¸ªææ¯ææ²¡æ¥è§¦è¿ï¼ä½æ¯æäºè§£è¿è·ä»ç±»ä¼¼çææ¯ï¼è¿ä¸ªææ¯å¨æé¡¹ç®æ¯æä¹ä½¿ç¨çãå¦æé¢è¯å®ææ­ä½ ï¼å°±ç»æä½ çéè¿°ï¼ç­é¢è¯å®è¿ä¸æ­¥å¨ä½ï¼ä¸è¦èªé¡¾èªçä¸ç´è¯´ä¸å»ã\n * ä¸ç¹é½ä¸ä¼ï¼åè®°ä¸è¦ä¸æè£æãä¸å¥½ææï¼é¢è¯å®ãè¿äºææ¯ææ²¡æ¥è§¦è¿ï¼ä½æèªå­¦è½åå¼ºï¼ç»ææ¶é´æç¸ä¿¡èªå·±è½æ´å¿«å­¦ä¼ãæ¨è½åè¯è¿ä¸ªææ¯å¨å±ä»¬é¡¹ç®ä¸­æ¯å¦ä½ä½¿ç¨çåï¼æé®é¢æåç»é¢è¯å®ï¼\n\n\n# 6ãæç®å\n\næç®åçç®çå°±æ¯å¾å°é¢è¯æºä¼ãä¸å®è¦æ ¹æ®æèè¦æ±å¯¹åºä¿®æ¹ç®åã\n\n\n# éæ©æåèä½\n\nç¡®è®¤èªå·±çç¡¬æ§è¦æ±ï¼æ¯å¦ï¼äºé©ä¸éå¿é¡»æï¼åä¼ã\n\n\n# å¦ä½äºè§£å¬å¸ä¿¡æ¯\n\n * å½å®¶ä¼ä¸ä¿¡æ¯å¬ç¤ºç½ï¼https://www.gsxt.gov.cn/corp-query-homepage.html\n * çåç½ï¼https://www.kanzhun.com/\n * å¤©ç¼æ¥ï¼https://www.tianyancha.com/\n\n\n# 7ãé¢è¯è¿ç¨æå·§\n\né¢è¯è¿ç¨æå¥½å½é³ï¼æ¹ä¾¿å¤çã\n\né¢è¯æå°´å°¬çåºæ¯æ¯ä¸¤ä¸ªäººæèå¤ä¸ªäººé½ä¸è¯´è¯ï¼å¦æè¿æ ·çè¯è¿åºé¢è¯æ­£å¸¸æ¯ä¸éè¿ã\n\né¢è¯æå·§ï¼\n\n * è¦èªå·±ææ¡èå¥ï¼å¼å¯¼é¢è¯å®é®ä½ ææé¿çæ¹åï¼ä¸è½è®©é¢è¯å®ä¸ç´é®ä½ é®é¢ã\n * ä¸å¤©æå¤é¢ä¸¤å®¶é¢è¯ï¼å¹¶ä¸è¦å¯¹é¢è¯çå¬å¸æåºæ¬çäºè§£ï¼å¹¶åå¥½é¢è¯åå¤ã\n\n\n# 8ãé¢è¯åè®°çå¤ç",charsets:{cjk:!0},lastUpdated:"2023/11/01, 07:57:39",lastUpdatedTimestamp:1698825459e3},{title:"Boss ç´èæç®åæå·§",frontmatter:{title:"Boss ç´èæç®åæå·§",date:"2023-11-02T08:56:08.000Z",permalink:"/pages/5da9d3/"},regularPath:"/02.Java%20%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/01.%E9%9D%A2%E8%AF%95%E5%87%86%E5%A4%87/03.Boss%20%E7%9B%B4%E8%81%98%E6%8A%95%E7%AE%80%E5%8E%86%E6%8A%80%E5%B7%A7.html",relativePath:"02.Java é¢è¯å®å¸/01.é¢è¯åå¤/03.Boss ç´èæç®åæå·§.md",key:"v-6d7f8b89",path:"/pages/5da9d3/",headers:[{level:1,title:"ç®åç­éç3éå³å¡",slug:"ç®åç­éç3éå³å¡",normalizedTitle:"ç®åç­éç3éå³å¡",charIndex:2},{level:1,title:"å¨çº¿ç®åä¼å",slug:"å¨çº¿ç®åä¼å",normalizedTitle:"å¨çº¿ç®åä¼å",charIndex:167}],headersStr:"ç®åç­éç3éå³å¡ å¨çº¿ç®åä¼å",content:"# ç®åç­éç3éå³å¡\n\n 1. HRç­éå¨çº¿ç®åï¼ HRå·æ°ç®ååè¡¨ææ¥æ¶æ¨èçç®ååè¡¨ï¼å®¡æ ¸Bosså¨çº¿ç®å(ç¬¬ä¸å°è±¡)\n 2. HRç­ééä»¶ç®åï¼ HRéè¯·é¢è¯èåééä»¶ç®åï¼æé¢è¯èæåºæå´è¶£åï¼ç¬¬ä¸å³è¿äºåï¼åééä»¶ç®å\n 3. ä¼ä¸ç¨äººé¨é¨ç¡®å®é¢è¯äººåï¼ é¢è¯æèå¢éï¼é¢è¯å®å®¡æ ¸HRå®¡æ ¸åçç®åï¼ç¡®å®é¢è¯äººåã\n\n\n# å¨çº¿ç®åä¼å\n\n 1. Bossä¸ç¬¬ä¸å³å¡å°±æ¯å¨çº¿ç®åï¼å¨çº¿ç®åä¸ç¨å¤ªçå®ï¼ä½æ¯åéä»¶ç®åå·®è·ä¹ä¸è¦å¤ªå¤§ãä¸ä¼çåä¸ä¹æ²¡å³ç³»ï¼ä¸»è¦å¸å¼HRèä¸ºä¸»ï¼ä¸ä¼èä¸é¢è¯é¢ã å¦æèªå·±çå¨çº¿ç®åè¿å¤åæ§è´¨å¬å¸åHRçé½æ²¡æå¸å¼å°ï¼è¿å¾æç»­ä¼åã\n 2. å·¥ä½ç»åä¸å¯ä»¥éæ©ä¸äºç®æ å²ä½è¦æ±çæè½ï¼å¸å¼HRæ¾ä½ è\n 3. åå¼Bossä¸ç30åè±ï¼æ¯å¤©å¯ä»¥æå¨å·æ°50-100ä¸ªæååº¦ï¼æ¯æ¥ä¿æå¨600+çæååº¦æ¯è¾å¥½ä¸ç¹ãæ²¡äºçæ¶åï¼èªå·±éä¾¿ä¿®æ¹ä¸ç®åçæäºå­ï¼å¯è½ä¼è§¦åç®åçä¿®æ¹å·æ°ï¼HRé£è¾¹ä¹ä¼çå°èªå·±çç¶ææ¯ä¸æ¯ååå¨çº¿çã\n 4. å¦ææ¯èªå·±ä¸»å¨æéçï¼å¨å·¥ä½æ¥ï¼æ¾é£ç§ååä¸çº¿çæèHRçç¶ææ¯ç»¿è²å¨çº¿çï¼å çä¼å¤§ä¸ç¹ã å¦ææ¯HRä¸»å¨æ¥èæå´è¶£çï¼åå«çæ¥åééä»¶ç®åï¼åå»ççå¬å¸çäººæ°åæèçéæ±åå¬å¸çç±»åï¼å¤æ­ä¸æ¯å¦æ¯å¤åãå¤æ´¾ãé©»åºä¸å¡(ä¹å¯ä»¥åHRç¡®è®¤ä¸)ä»¥åæ¯å¦èªå·±æ³å»ç§¯ç´¯é¢è¯ç»éªçã",normalizedContent:"# ç®åç­éç3éå³å¡\n\n 1. hrç­éå¨çº¿ç®åï¼ hrå·æ°ç®ååè¡¨ææ¥æ¶æ¨èçç®ååè¡¨ï¼å®¡æ ¸bosså¨çº¿ç®å(ç¬¬ä¸å°è±¡)\n 2. hrç­ééä»¶ç®åï¼ hréè¯·é¢è¯èåééä»¶ç®åï¼æé¢è¯èæåºæå´è¶£åï¼ç¬¬ä¸å³è¿äºåï¼åééä»¶ç®å\n 3. ä¼ä¸ç¨äººé¨é¨ç¡®å®é¢è¯äººåï¼ é¢è¯æèå¢éï¼é¢è¯å®å®¡æ ¸hrå®¡æ ¸åçç®åï¼ç¡®å®é¢è¯äººåã\n\n\n# å¨çº¿ç®åä¼å\n\n 1. bossä¸ç¬¬ä¸å³å¡å°±æ¯å¨çº¿ç®åï¼å¨çº¿ç®åä¸ç¨å¤ªçå®ï¼ä½æ¯åéä»¶ç®åå·®è·ä¹ä¸è¦å¤ªå¤§ãä¸ä¼çåä¸ä¹æ²¡å³ç³»ï¼ä¸»è¦å¸å¼hrèä¸ºä¸»ï¼ä¸ä¼èä¸é¢è¯é¢ã å¦æèªå·±çå¨çº¿ç®åè¿å¤åæ§è´¨å¬å¸åhrçé½æ²¡æå¸å¼å°ï¼è¿å¾æç»­ä¼åã\n 2. å·¥ä½ç»åä¸å¯ä»¥éæ©ä¸äºç®æ å²ä½è¦æ±çæè½ï¼å¸å¼hræ¾ä½ è\n 3. åå¼bossä¸ç30åè±ï¼æ¯å¤©å¯ä»¥æå¨å·æ°50-100ä¸ªæååº¦ï¼æ¯æ¥ä¿æå¨600+çæååº¦æ¯è¾å¥½ä¸ç¹ãæ²¡äºçæ¶åï¼èªå·±éä¾¿ä¿®æ¹ä¸ç®åçæäºå­ï¼å¯è½ä¼è§¦åç®åçä¿®æ¹å·æ°ï¼hré£è¾¹ä¹ä¼çå°èªå·±çç¶ææ¯ä¸æ¯ååå¨çº¿çã\n 4. å¦ææ¯èªå·±ä¸»å¨æéçï¼å¨å·¥ä½æ¥ï¼æ¾é£ç§ååä¸çº¿çæèhrçç¶ææ¯ç»¿è²å¨çº¿çï¼å çä¼å¤§ä¸ç¹ã å¦ææ¯hrä¸»å¨æ¥èæå´è¶£çï¼åå«çæ¥åééä»¶ç®åï¼åå»ççå¬å¸çäººæ°åæèçéæ±åå¬å¸çç±»åï¼å¤æ­ä¸æ¯å¦æ¯å¤åãå¤æ´¾ãé©»åºä¸å¡(ä¹å¯ä»¥åhrç¡®è®¤ä¸)ä»¥åæ¯å¦èªå·±æ³å»ç§¯ç´¯é¢è¯ç»éªçã",charsets:{cjk:!0},lastUpdated:"2023/11/02, 00:58:56",lastUpdatedTimestamp:1698886736e3},{title:"Java éå é¢è¯é¢",frontmatter:{title:"Java éå é¢è¯é¢",date:"2023-10-24T15:38:08.000Z",permalink:"/pages/346648/"},regularPath:"/02.Java%20%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/02.Java%20%E5%85%AB%E8%82%A1%E6%96%87/02.Java%20%E9%9B%86%E5%90%88%20%E9%9D%A2%E8%AF%95%E9%A2%98.html",relativePath:"02.Java é¢è¯å®å¸/02.Java å«è¡æ/02.Java éå é¢è¯é¢.md",key:"v-6ced3d6b",path:"/pages/346648/",headers:[{level:1,title:"åºç¡",slug:"åºç¡",normalizedTitle:"åºç¡",charIndex:2},{level:2,title:"è¯´ä¸è¯´ ListãSetãMap ä¸èçåºå«",slug:"è¯´ä¸è¯´-listãsetãmap-ä¸èçåºå«",normalizedTitle:"è¯´ä¸è¯´ listãsetãmap ä¸èçåºå«",charIndex:9},{level:2,title:"ListãSetãMapãå¨ Java ä¸­åå«æåªäºå¯¹åºçå®ç°ç±»ï¼åºå±çæ°æ®ç»æ",slug:"listãsetãmapãå¨-java-ä¸­åå«æåªäºå¯¹åºçå®ç°ç±»-åºå±çæ°æ®ç»æ",normalizedTitle:"listãsetãmapãå¨ java ä¸­åå«æåªäºå¯¹åºçå®ç°ç±»ï¼åºå±çæ°æ®ç»æ",charIndex:234},{level:2,title:"",slug:"",normalizedTitle:"",charIndex:0},{level:1,title:"List",slug:"list",normalizedTitle:"list",charIndex:13},{level:2,title:"ArrayList å Vector çåºå«",slug:"arraylist-å-vector-çåºå«",normalizedTitle:"arraylist å vector çåºå«",charIndex:971},{level:2,title:"ArrayList å LinkedListçåºå«",slug:"arraylist-å-linkedlistçåºå«",normalizedTitle:"arraylist å linkedlistçåºå«",charIndex:1108},{level:2,title:"è¯´ä¸è¯´ ArrayList çæ©å®¹æºå¶å§",slug:"è¯´ä¸è¯´-arraylist-çæ©å®¹æºå¶å§",normalizedTitle:"è¯´ä¸è¯´ arraylist çæ©å®¹æºå¶å§",charIndex:2048},{level:1,title:"HashMap",slug:"hashmap",normalizedTitle:"hashmap",charIndex:409},{level:2,title:"HashMap çåºå±å®ç°",slug:"hashmap-çåºå±å®ç°",normalizedTitle:"hashmap çåºå±å®ç°",charIndex:2321},{level:2,title:"HashMap å¤çº¿ç¨æä½å¯¼è´æ­»å¾ªç¯é®é¢ï¼CPUå æ»¡ï¼",slug:"hashmap-å¤çº¿ç¨æä½å¯¼è´æ­»å¾ªç¯é®é¢-cpuå æ»¡",normalizedTitle:"hashmap å¤çº¿ç¨æä½å¯¼è´æ­»å¾ªç¯é®é¢ï¼cpuå æ»¡ï¼",charIndex:2490},{level:1,title:"ConcurrentHashMap",slug:"concurrenthashmap",normalizedTitle:"concurrenthashmap",charIndex:2679},{level:2,title:"ConcurrentHashMap çº¿ç¨å®å¨çåºå±å®ç°æ¹å¼",slug:"concurrenthashmap-çº¿ç¨å®å¨çåºå±å®ç°æ¹å¼",normalizedTitle:"concurrenthashmap çº¿ç¨å®å¨çåºå±å®ç°æ¹å¼",charIndex:2701},{level:2,title:"HashMapåConcurrentHashMapåºå«",slug:"hashmapåconcurrenthashmapåºå«",normalizedTitle:"hashmapåconcurrenthashmapåºå«",charIndex:3072}],headersStr:"åºç¡ è¯´ä¸è¯´ ListãSetãMap ä¸èçåºå« ListãSetãMapãå¨ Java ä¸­åå«æåªäºå¯¹åºçå®ç°ç±»ï¼åºå±çæ°æ®ç»æ  List ArrayList å Vector çåºå« ArrayList å LinkedListçåºå« è¯´ä¸è¯´ ArrayList çæ©å®¹æºå¶å§ HashMap HashMap çåºå±å®ç° HashMap å¤çº¿ç¨æä½å¯¼è´æ­»å¾ªç¯é®é¢ï¼CPUå æ»¡ï¼ ConcurrentHashMap ConcurrentHashMap çº¿ç¨å®å¨çåºå±å®ç°æ¹å¼ HashMapåConcurrentHashMapåºå«",content:'# åºç¡\n\n\n# è¯´ä¸è¯´ ListãSetãMap ä¸èçåºå«\n\n * List(å¯¹ä»é¡ºåºçå¥½å¸®æ): å­å¨çåç´ æ¯æåºçãå¯éå¤çã\n * Set(æ³¨éç¬ä¸æ äºçæ§è´¨): å­å¨çåç´ æ¯æ åºçãä¸å¯éå¤çã\n * Map(ç¨ key æ¥æç´¢çä¸å®¶): ä½¿ç¨é®å¼å¯¹ï¼key-valueï¼å­å¨ï¼ç±»ä¼¼äºæ°å­¦ä¸çå½æ° y=f(x)ï¼"x" ä»£è¡¨ keyï¼"y" ä»£è¡¨ valueï¼key æ¯æ åºçãä¸å¯éå¤çï¼value æ¯æ åºçãå¯éå¤çï¼æ¯ä¸ªé®æå¤æ å°å°ä¸ä¸ªå¼ã\n\n\n# ListãSetãMapãå¨ Java ä¸­åå«æåªäºå¯¹åºçå®ç°ç±»ï¼åºå±çæ°æ®ç»æ\n\nListï¼\n\n * ArrayListï¼ Object[] æ°ç»\n * Vectorï¼Object[] æ°ç»\n * LinkedListï¼ ååé¾è¡¨(JDK1.6 ä¹åä¸ºå¾ªç¯é¾è¡¨ï¼JDK1.7 åæ¶äºå¾ªç¯)\n\nSetï¼\n\n * HashSet(æ åºï¼å¯ä¸): åºäº HashMap å®ç°çï¼åºå±éç¨ HashMap æ¥ä¿å­åç´ \n * LinkedHashSet: LinkedHashSet æ¯ HashSet çå­ç±»ï¼å¹¶ä¸å¶åé¨æ¯éè¿ LinkedHashMap æ¥å®ç°çã\n * TreeSet(æåºï¼å¯ä¸): çº¢é»æ (èªå¹³è¡¡çæåºäºåæ )\n\nMapï¼\n\n * HashMapï¼ JDK1.8 ä¹å HashMap ç±æ°ç»+é¾è¡¨ç»æçï¼æ°ç»æ¯ HashMap çä¸»ä½ï¼é¾è¡¨åæ¯ä¸»è¦ä¸ºäºè§£å³åå¸å²çªèå­å¨çï¼âæé¾æ³âè§£å³å²çªï¼ãJDK1.8 ä»¥åå¨è§£å³åå¸å²çªæ¶æäºè¾å¤§çååï¼å½é¾è¡¨é¿åº¦å¤§äºéå¼ï¼é»è®¤ä¸º 8ï¼ï¼å°é¾è¡¨è½¬æ¢æçº¢é»æ åä¼å¤æ­ï¼å¦æå½åæ°ç»çé¿åº¦å°äº 64ï¼é£ä¹ä¼éæ©åè¿è¡æ°ç»æ©å®¹ï¼èä¸æ¯è½¬æ¢ä¸ºçº¢é»æ ï¼æ¶ï¼å°é¾è¡¨è½¬åä¸ºçº¢é»æ ï¼ä»¥åå°æç´¢æ¶é´\n * LinkedHashMapï¼ LinkedHashMap ç»§æ¿èª HashMapï¼æä»¥å®çåºå±ä»ç¶æ¯åºäºæé¾å¼æ£åç»æå³ç±æ°ç»åé¾è¡¨æçº¢é»æ ç»æãå¦å¤ï¼LinkedHashMap å¨ä¸é¢ç»æçåºç¡ä¸ï¼å¢å äºä¸æ¡ååé¾è¡¨ï¼ä½¿å¾ä¸é¢çç»æå¯ä»¥ä¿æé®å¼å¯¹çæå¥é¡ºåºãåæ¶éè¿å¯¹é¾è¡¨è¿è¡ç¸åºçæä½ï¼å®ç°äºè®¿é®é¡ºåºç¸å³é»è¾ãè¯¦ç»å¯ä»¥æ¥çï¼ãLinkedHashMap æºç è¯¦ç»åæï¼JDK1.8ï¼ã\n\n\n#\n\n\n# List\n\n\n# ArrayList å Vector çåºå«\n\n * ArrayList æ¯ List çä¸»è¦å®ç°ç±»ï¼åºå±ä½¿ç¨ Object[]å­å¨ï¼éç¨äºé¢ç¹çæ¥æ¾å·¥ä½ï¼çº¿ç¨ä¸å®å¨ ï¼\n * Vector æ¯ List çå¤èå®ç°ç±»ï¼åºå±ä½¿ç¨Object[] å­å¨ï¼çº¿ç¨å®å¨çã\n\n\n# ArrayList å LinkedListçåºå«\n\n * **æ¯å¦ä¿è¯çº¿ç¨å®å¨ï¼**ArrayList å LinkedList é½æ¯ä¸åæ­¥çï¼ä¹å°±æ¯ä¸ä¿è¯çº¿ç¨å®å¨ï¼\n * **åºå±æ°æ®ç»æï¼**ArrayList åºå±ä½¿ç¨çæ¯ Object æ°ç»ï¼LinkedList åºå±ä½¿ç¨çæ¯ ååé¾è¡¨ æ°æ®ç»æï¼JDK1.6 ä¹åä¸ºå¾ªç¯é¾è¡¨ï¼JDK1.7 åæ¶äºå¾ªç¯ãæ³¨æååé¾è¡¨åååå¾ªç¯é¾è¡¨çåºå«ï¼ä¸é¢æä»ç»å°ï¼ï¼\n * æå¥åå é¤æ¯å¦ååç´ ä½ç½®çå½±åï¼\n * ArrayList éç¨æ°ç»å­å¨ï¼æä»¥æå¥åå é¤åç´ çæ¶é´å¤æåº¦ååç´ ä½ç½®çå½±åã æ¯å¦ï¼æ§è¡add(E e)æ¹æ³çæ¶åï¼ ArrayList ä¼é»è®¤å¨å°æå®çåç´ è¿½å å°æ­¤åè¡¨çæ«å°¾ï¼è¿ç§æåµæ¶é´å¤æåº¦å°±æ¯ O(1)ãä½æ¯å¦æè¦å¨æå®ä½ç½® i æå¥åå é¤åç´ çè¯ï¼add(int index, E element)ï¼æ¶é´å¤æåº¦å°±ä¸º O(n-i)ãå ä¸ºå¨è¿è¡ä¸è¿°æä½çæ¶åéåä¸­ç¬¬ i åç¬¬ i ä¸ªåç´ ä¹åç(n-i)ä¸ªåç´ é½è¦æ§è¡ååä½/ååç§»ä¸ä½çæä½ã\n * LinkedList éç¨é¾è¡¨å­å¨ï¼æä»¥ï¼å¦ææ¯å¨å¤´å°¾æå¥æèå é¤åç´ ä¸ååç´ ä½ç½®çå½±åï¼add(E e)ãaddFirst(E e)ãaddLast(E e)ãremoveFirst() ã removeLast()ï¼ï¼æ¶é´å¤æåº¦ä¸º O(1)ï¼å¦ææ¯è¦å¨æå®ä½ç½® i æå¥åå é¤åç´ çè¯ï¼add(int index, E element)ï¼remove(Object o)ï¼ï¼ æ¶é´å¤æåº¦ä¸º O(n) ï¼å ä¸ºéè¦åç§»å¨å°æå®ä½ç½®åæå¥ã\n * **æ¯å¦æ¯æå¿«ééæºè®¿é®ï¼**LinkedList ä¸æ¯æé«æçéæºåç´ è®¿é®ï¼è ArrayListï¼å®ç°äºRandomAccessæ¥å£ï¼ æ¯æãå¿«ééæºè®¿é®å°±æ¯éè¿åç´ çåºå·å¿«éè·ååç´ å¯¹è±¡(å¯¹åºäºget(int index)æ¹æ³)ã\n * **åå­ç©ºé´å ç¨ï¼**ArrayList çç©º é´æµªè´¹ä¸»è¦ä½ç°å¨å¨ list åè¡¨çç»å°¾ä¼é¢çä¸å®çå®¹éç©ºé´ï¼è LinkedList çç©ºé´è±è´¹åä½ç°å¨å®çæ¯ä¸ä¸ªåç´ é½éè¦æ¶èæ¯ ArrayList æ´å¤çç©ºé´ï¼å ä¸ºè¦å­æ¾ç´æ¥åç»§åç´æ¥åé©±ä»¥åæ°æ®ï¼ã\n\n\n# è¯´ä¸è¯´ ArrayList çæ©å®¹æºå¶å§\n\nArrayList åºå±æ¯ Object æ°ç»ãå½ArrayListæ·»å ä¸ä¸ªåç´ æ¶ï¼å¦ææéçæå°å®¹éå¤§äºå½åå­å¨æ°æ®çæ°ç»é¿åº¦æ¶ï¼å°±ä¼è¿è¡æ©å®¹ã æ©å®¹ä¼åè®¡ç®æ°æ°ç»çå®¹éï¼ç¶åå°ååæ§æ°ç»çæ°æ®å¤å¶å°æ°æ°ç»ä¸­ã æ°æ°ç»çå®¹éè®¡ç®ç»è¿ä¸¤æ¬¡å¤æ­ï¼\n\n * å¦æååæ°ç»çå®¹éå ä¸å³ç§»ä¸ä½çå®¹éè·æéçæå°çå®¹éå¯¹æ¯ï¼åä¸¤èæå¤§å¼ã\n * å¦æä¸é¢è®¡ç®çå®¹éå°äºMAX_ARRAY_SIZEï¼æ°æ°ç»å®¹éå°±æ¯MAX_ARRAY_SIZEæèInteger.MAX_VALUE\n\n\n# HashMap\n\n\n# HashMap çåºå±å®ç°\n\nJDK1.8 ä¹åï¼HashMapçåºå±æ°æ®ç»ææ¯æ°ç»+é¾è¡¨ãé¾è¡¨æ¯ä¸ºäºè§£å³åå¸å²çªã JDK1.8 ä¹åï¼HashMapçåºå±æ°æ®ç»ææ¯æ°ç»+é¾è¡¨+çº¢é»æ ãå½é¾è¡¨çé¿åº¦å¤§äºéå¼ï¼é»è®¤æ¯8ï¼ï¼ä¼å¤æ­å½åæ°ç»é¿åº¦æ¯å¦å°äº64ï¼å¦æå°äº64ï¼ä¼åè¿è¡æ©å®¹ï¼å¦åçè¯ï¼ä¼å°é¾è¡¨è½¬æ¢ä¸ºçº¢é»æ ï¼åå°æç´¢æ¶é´ã\n\n\n# HashMap å¤çº¿ç¨æä½å¯¼è´æ­»å¾ªç¯é®é¢ï¼CPUå æ»¡ï¼\n\nåå å¨äº HashMap çæ©å®¹ resize() æ¹æ³ãç±äºæ©å®¹æ¯æ°å¢æ°ç»ï¼ç¶åå¤å¶åæ°æ®å°æ°ç»ãä½æ°ç»ä¸æé¾è¡¨ï¼å¤çº¿ç¨æ¶å¤å¶é¾è¡¨å¯ä»¥ä¼å½¢æä¸ä¸ªå¾ªç¯é¾è¡¨ã ä¸è¿ï¼jdk 1.8 åè§£å³äºè¿ä¸ªé®é¢ï¼ä½æ¯è¿æ¯ä¸å»ºè®®å¨å¤çº¿ç¨ä¸ä½¿ç¨ HashMap,å ä¸ºå¤çº¿ç¨ä¸ä½¿ç¨ HashMap è¿æ¯ä¼å­å¨å¶ä»é®é¢æ¯å¦æ°æ®ä¸¢å¤±ã\n\n\n# ConcurrentHashMap\n\n\n# ConcurrentHashMap çº¿ç¨å®å¨çåºå±å®ç°æ¹å¼\n\nJDK 1.8 ä¹å ConcurrentHashMap æ¯ç± Segment æ°ç»+HashEntryæ°ç»+é¾è¡¨ææçãSegment ç»§æ¿äº ReentrantLockï¼éç¨åæ®µéï¼æ¯æéåªéä¸ä¸ª Segmentï¼Segmentä¸å¯æ©å®¹ï¼é»è®¤Segmentæ°ç»ä¸º16ã1ä¸ª Segment åå«ä¸ä¸ªHashEntry æ°ç»ï¼HashEntry å­å¨é®æ°æ®ï¼æ¯ææ©å®¹ãæ¯ä¸ª HashEntry æ¯ä¸ªé¾è¡¨ç»æã\n\n\n\nJDK 1.8 ä¹åç± Nodeæ°ç»+é¾è¡¨+çº¢é»æ ææãé¾è¡¨é¿åº¦å¨è¶è¿8æ¶å°é¾è¡¨è½¬æ¢æçº¢é»æ ãåæ¶äº Segmentåæ®µéï¼éç¨Node+CAS+synchronized ä¿è¯å¹¶åå®å¨ãsynchronized Â åªä¼éå®å½åé¾è¡¨æçº¢é»äºåæ çé¦èç¹ã\n\n\n# HashMapåConcurrentHashMapåºå«\n\n * HashMapçº¿ç¨ä¸å®å¨ï¼ConcurrentHashMap çº¿ç¨å®å¨ï¼\n * HashMapåè®¸Nullé®åNullå¼ï¼èConcurrentHashMapé½ä¸åè®¸',normalizedContent:'# åºç¡\n\n\n# è¯´ä¸è¯´ listãsetãmap ä¸èçåºå«\n\n * list(å¯¹ä»é¡ºåºçå¥½å¸®æ): å­å¨çåç´ æ¯æåºçãå¯éå¤çã\n * set(æ³¨éç¬ä¸æ äºçæ§è´¨): å­å¨çåç´ æ¯æ åºçãä¸å¯éå¤çã\n * map(ç¨ key æ¥æç´¢çä¸å®¶): ä½¿ç¨é®å¼å¯¹ï¼key-valueï¼å­å¨ï¼ç±»ä¼¼äºæ°å­¦ä¸çå½æ° y=f(x)ï¼"x" ä»£è¡¨ keyï¼"y" ä»£è¡¨ valueï¼key æ¯æ åºçãä¸å¯éå¤çï¼value æ¯æ åºçãå¯éå¤çï¼æ¯ä¸ªé®æå¤æ å°å°ä¸ä¸ªå¼ã\n\n\n# listãsetãmapãå¨ java ä¸­åå«æåªäºå¯¹åºçå®ç°ç±»ï¼åºå±çæ°æ®ç»æ\n\nlistï¼\n\n * arraylistï¼ object[] æ°ç»\n * vectorï¼object[] æ°ç»\n * linkedlistï¼ ååé¾è¡¨(jdk1.6 ä¹åä¸ºå¾ªç¯é¾è¡¨ï¼jdk1.7 åæ¶äºå¾ªç¯)\n\nsetï¼\n\n * hashset(æ åºï¼å¯ä¸): åºäº hashmap å®ç°çï¼åºå±éç¨ hashmap æ¥ä¿å­åç´ \n * linkedhashset: linkedhashset æ¯ hashset çå­ç±»ï¼å¹¶ä¸å¶åé¨æ¯éè¿ linkedhashmap æ¥å®ç°çã\n * treeset(æåºï¼å¯ä¸): çº¢é»æ (èªå¹³è¡¡çæåºäºåæ )\n\nmapï¼\n\n * hashmapï¼ jdk1.8 ä¹å hashmap ç±æ°ç»+é¾è¡¨ç»æçï¼æ°ç»æ¯ hashmap çä¸»ä½ï¼é¾è¡¨åæ¯ä¸»è¦ä¸ºäºè§£å³åå¸å²çªèå­å¨çï¼âæé¾æ³âè§£å³å²çªï¼ãjdk1.8 ä»¥åå¨è§£å³åå¸å²çªæ¶æäºè¾å¤§çååï¼å½é¾è¡¨é¿åº¦å¤§äºéå¼ï¼é»è®¤ä¸º 8ï¼ï¼å°é¾è¡¨è½¬æ¢æçº¢é»æ åä¼å¤æ­ï¼å¦æå½åæ°ç»çé¿åº¦å°äº 64ï¼é£ä¹ä¼éæ©åè¿è¡æ°ç»æ©å®¹ï¼èä¸æ¯è½¬æ¢ä¸ºçº¢é»æ ï¼æ¶ï¼å°é¾è¡¨è½¬åä¸ºçº¢é»æ ï¼ä»¥åå°æç´¢æ¶é´\n * linkedhashmapï¼ linkedhashmap ç»§æ¿èª hashmapï¼æä»¥å®çåºå±ä»ç¶æ¯åºäºæé¾å¼æ£åç»æå³ç±æ°ç»åé¾è¡¨æçº¢é»æ ç»æãå¦å¤ï¼linkedhashmap å¨ä¸é¢ç»æçåºç¡ä¸ï¼å¢å äºä¸æ¡ååé¾è¡¨ï¼ä½¿å¾ä¸é¢çç»æå¯ä»¥ä¿æé®å¼å¯¹çæå¥é¡ºåºãåæ¶éè¿å¯¹é¾è¡¨è¿è¡ç¸åºçæä½ï¼å®ç°äºè®¿é®é¡ºåºç¸å³é»è¾ãè¯¦ç»å¯ä»¥æ¥çï¼ãlinkedhashmap æºç è¯¦ç»åæï¼jdk1.8ï¼ã\n\n\n#\n\n\n# list\n\n\n# arraylist å vector çåºå«\n\n * arraylist æ¯ list çä¸»è¦å®ç°ç±»ï¼åºå±ä½¿ç¨ object[]å­å¨ï¼éç¨äºé¢ç¹çæ¥æ¾å·¥ä½ï¼çº¿ç¨ä¸å®å¨ ï¼\n * vector æ¯ list çå¤èå®ç°ç±»ï¼åºå±ä½¿ç¨object[] å­å¨ï¼çº¿ç¨å®å¨çã\n\n\n# arraylist å linkedlistçåºå«\n\n * **æ¯å¦ä¿è¯çº¿ç¨å®å¨ï¼**arraylist å linkedlist é½æ¯ä¸åæ­¥çï¼ä¹å°±æ¯ä¸ä¿è¯çº¿ç¨å®å¨ï¼\n * **åºå±æ°æ®ç»æï¼**arraylist åºå±ä½¿ç¨çæ¯ object æ°ç»ï¼linkedlist åºå±ä½¿ç¨çæ¯ ååé¾è¡¨ æ°æ®ç»æï¼jdk1.6 ä¹åä¸ºå¾ªç¯é¾è¡¨ï¼jdk1.7 åæ¶äºå¾ªç¯ãæ³¨æååé¾è¡¨åååå¾ªç¯é¾è¡¨çåºå«ï¼ä¸é¢æä»ç»å°ï¼ï¼\n * æå¥åå é¤æ¯å¦ååç´ ä½ç½®çå½±åï¼\n * arraylist éç¨æ°ç»å­å¨ï¼æä»¥æå¥åå é¤åç´ çæ¶é´å¤æåº¦ååç´ ä½ç½®çå½±åã æ¯å¦ï¼æ§è¡add(e e)æ¹æ³çæ¶åï¼ arraylist ä¼é»è®¤å¨å°æå®çåç´ è¿½å å°æ­¤åè¡¨çæ«å°¾ï¼è¿ç§æåµæ¶é´å¤æåº¦å°±æ¯ o(1)ãä½æ¯å¦æè¦å¨æå®ä½ç½® i æå¥åå é¤åç´ çè¯ï¼add(int index, e element)ï¼æ¶é´å¤æåº¦å°±ä¸º o(n-i)ãå ä¸ºå¨è¿è¡ä¸è¿°æä½çæ¶åéåä¸­ç¬¬ i åç¬¬ i ä¸ªåç´ ä¹åç(n-i)ä¸ªåç´ é½è¦æ§è¡ååä½/ååç§»ä¸ä½çæä½ã\n * linkedlist éç¨é¾è¡¨å­å¨ï¼æä»¥ï¼å¦ææ¯å¨å¤´å°¾æå¥æèå é¤åç´ ä¸ååç´ ä½ç½®çå½±åï¼add(e e)ãaddfirst(e e)ãaddlast(e e)ãremovefirst() ã removelast()ï¼ï¼æ¶é´å¤æåº¦ä¸º o(1)ï¼å¦ææ¯è¦å¨æå®ä½ç½® i æå¥åå é¤åç´ çè¯ï¼add(int index, e element)ï¼remove(object o)ï¼ï¼ æ¶é´å¤æåº¦ä¸º o(n) ï¼å ä¸ºéè¦åç§»å¨å°æå®ä½ç½®åæå¥ã\n * **æ¯å¦æ¯æå¿«ééæºè®¿é®ï¼**linkedlist ä¸æ¯æé«æçéæºåç´ è®¿é®ï¼è arraylistï¼å®ç°äºrandomaccessæ¥å£ï¼ æ¯æãå¿«ééæºè®¿é®å°±æ¯éè¿åç´ çåºå·å¿«éè·ååç´ å¯¹è±¡(å¯¹åºäºget(int index)æ¹æ³)ã\n * **åå­ç©ºé´å ç¨ï¼**arraylist çç©º é´æµªè´¹ä¸»è¦ä½ç°å¨å¨ list åè¡¨çç»å°¾ä¼é¢çä¸å®çå®¹éç©ºé´ï¼è linkedlist çç©ºé´è±è´¹åä½ç°å¨å®çæ¯ä¸ä¸ªåç´ é½éè¦æ¶èæ¯ arraylist æ´å¤çç©ºé´ï¼å ä¸ºè¦å­æ¾ç´æ¥åç»§åç´æ¥åé©±ä»¥åæ°æ®ï¼ã\n\n\n# è¯´ä¸è¯´ arraylist çæ©å®¹æºå¶å§\n\narraylist åºå±æ¯ object æ°ç»ãå½arraylistæ·»å ä¸ä¸ªåç´ æ¶ï¼å¦ææéçæå°å®¹éå¤§äºå½åå­å¨æ°æ®çæ°ç»é¿åº¦æ¶ï¼å°±ä¼è¿è¡æ©å®¹ã æ©å®¹ä¼åè®¡ç®æ°æ°ç»çå®¹éï¼ç¶åå°ååæ§æ°ç»çæ°æ®å¤å¶å°æ°æ°ç»ä¸­ã æ°æ°ç»çå®¹éè®¡ç®ç»è¿ä¸¤æ¬¡å¤æ­ï¼\n\n * å¦æååæ°ç»çå®¹éå ä¸å³ç§»ä¸ä½çå®¹éè·æéçæå°çå®¹éå¯¹æ¯ï¼åä¸¤èæå¤§å¼ã\n * å¦æä¸é¢è®¡ç®çå®¹éå°äºmax_array_sizeï¼æ°æ°ç»å®¹éå°±æ¯max_array_sizeæèinteger.max_value\n\n\n# hashmap\n\n\n# hashmap çåºå±å®ç°\n\njdk1.8 ä¹åï¼hashmapçåºå±æ°æ®ç»ææ¯æ°ç»+é¾è¡¨ãé¾è¡¨æ¯ä¸ºäºè§£å³åå¸å²çªã jdk1.8 ä¹åï¼hashmapçåºå±æ°æ®ç»ææ¯æ°ç»+é¾è¡¨+çº¢é»æ ãå½é¾è¡¨çé¿åº¦å¤§äºéå¼ï¼é»è®¤æ¯8ï¼ï¼ä¼å¤æ­å½åæ°ç»é¿åº¦æ¯å¦å°äº64ï¼å¦æå°äº64ï¼ä¼åè¿è¡æ©å®¹ï¼å¦åçè¯ï¼ä¼å°é¾è¡¨è½¬æ¢ä¸ºçº¢é»æ ï¼åå°æç´¢æ¶é´ã\n\n\n# hashmap å¤çº¿ç¨æä½å¯¼è´æ­»å¾ªç¯é®é¢ï¼cpuå æ»¡ï¼\n\nåå å¨äº hashmap çæ©å®¹ resize() æ¹æ³ãç±äºæ©å®¹æ¯æ°å¢æ°ç»ï¼ç¶åå¤å¶åæ°æ®å°æ°ç»ãä½æ°ç»ä¸æé¾è¡¨ï¼å¤çº¿ç¨æ¶å¤å¶é¾è¡¨å¯ä»¥ä¼å½¢æä¸ä¸ªå¾ªç¯é¾è¡¨ã ä¸è¿ï¼jdk 1.8 åè§£å³äºè¿ä¸ªé®é¢ï¼ä½æ¯è¿æ¯ä¸å»ºè®®å¨å¤çº¿ç¨ä¸ä½¿ç¨ hashmap,å ä¸ºå¤çº¿ç¨ä¸ä½¿ç¨ hashmap è¿æ¯ä¼å­å¨å¶ä»é®é¢æ¯å¦æ°æ®ä¸¢å¤±ã\n\n\n# concurrenthashmap\n\n\n# concurrenthashmap çº¿ç¨å®å¨çåºå±å®ç°æ¹å¼\n\njdk 1.8 ä¹å concurrenthashmap æ¯ç± segment æ°ç»+hashentryæ°ç»+é¾è¡¨ææçãsegment ç»§æ¿äº reentrantlockï¼éç¨åæ®µéï¼æ¯æéåªéä¸ä¸ª segmentï¼segmentä¸å¯æ©å®¹ï¼é»è®¤segmentæ°ç»ä¸º16ã1ä¸ª segment åå«ä¸ä¸ªhashentry æ°ç»ï¼hashentry å­å¨é®æ°æ®ï¼æ¯ææ©å®¹ãæ¯ä¸ª hashentry æ¯ä¸ªé¾è¡¨ç»æã\n\n\n\njdk 1.8 ä¹åç± nodeæ°ç»+é¾è¡¨+çº¢é»æ ææãé¾è¡¨é¿åº¦å¨è¶è¿8æ¶å°é¾è¡¨è½¬æ¢æçº¢é»æ ãåæ¶äº segmentåæ®µéï¼éç¨node+cas+synchronized ä¿è¯å¹¶åå®å¨ãsynchronized Â åªä¼éå®å½åé¾è¡¨æçº¢é»äºåæ çé¦èç¹ã\n\n\n# hashmapåconcurrenthashmapåºå«\n\n * hashmapçº¿ç¨ä¸å®å¨ï¼concurrenthashmap çº¿ç¨å®å¨ï¼\n * hashmapåè®¸nullé®ånullå¼ï¼èconcurrenthashmapé½ä¸åè®¸',charsets:{cjk:!0},lastUpdated:"2023/10/24, 07:59:40",lastUpdatedTimestamp:169813438e4},{title:"Java åºç¡é¢è¯é¢",frontmatter:{title:"Java åºç¡é¢è¯é¢",date:"2023-10-24T15:37:42.000Z",permalink:"/pages/b4d599/"},regularPath:"/02.Java%20%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/02.Java%20%E5%85%AB%E8%82%A1%E6%96%87/01.Java%20%E5%9F%BA%E7%A1%80%E9%9D%A2%E8%AF%95%E9%A2%98.html",relativePath:"02.Java é¢è¯å®å¸/02.Java å«è¡æ/01.Java åºç¡é¢è¯é¢.md",key:"v-01767fb0",path:"/pages/b4d599/",headers:[{level:1,title:"æ°æ®ç±»å",slug:"æ°æ®ç±»å",normalizedTitle:"æ°æ®ç±»å",charIndex:2},{level:2,title:"Java ä¸­æåª8ä¸­åºæ¬æ°æ®ç±»å?å®ä»¬çé»è®¤å¼åå ç¨ç©ºé´å¤§å°ç¥éä¸ï¼è¯´è¯´è¿8ç§åºæ¬æ°æ®ç±»åå¯¹åºçåè£ç±»åã",slug:"java-ä¸­æåª8ä¸­åºæ¬æ°æ®ç±»å-å®ä»¬çé»è®¤å¼åå ç¨ç©ºé´å¤§å°ç¥éä¸-è¯´è¯´è¿8ç§åºæ¬æ°æ®ç±»åå¯¹åºçåè£ç±»åã",normalizedTitle:"java ä¸­æåª8ä¸­åºæ¬æ°æ®ç±»å?å®ä»¬çé»è®¤å¼åå ç¨ç©ºé´å¤§å°ç¥éä¸ï¼è¯´è¯´è¿8ç§åºæ¬æ°æ®ç±»åå¯¹åºçåè£ç±»åã",charIndex:11},{level:2,title:"åè£ç±»åçå¸¸éæ± ææ¯äºè§£ä¹",slug:"åè£ç±»åçå¸¸éæ± ææ¯äºè§£ä¹",normalizedTitle:"åè£ç±»åçå¸¸éæ± ææ¯äºè§£ä¹",charIndex:623},{level:2,title:"ä¸ºä»ä¹è¦æåè£ç±»å",slug:"ä¸ºä»ä¹è¦æåè£ç±»å",normalizedTitle:"ä¸ºä»ä¹è¦æåè£ç±»å",charIndex:872},{level:2,title:"ä»ä¹æ¯èªå¨æè£ç®±ï¼åçï¼",slug:"ä»ä¹æ¯èªå¨æè£ç®±-åç",normalizedTitle:"ä»ä¹æ¯èªå¨æè£ç®±ï¼åçï¼",charIndex:1353},{level:2,title:"éè§è¿èªå¨æè£å¼åçNPEé®é¢å",slug:"éè§è¿èªå¨æè£å¼åçnpeé®é¢å",normalizedTitle:"éè§è¿èªå¨æè£å¼åçnpeé®é¢å",charIndex:1492},{level:1,title:"é¢åå¯¹è±¡",slug:"é¢åå¯¹è±¡",normalizedTitle:"é¢åå¯¹è±¡",charIndex:899},{level:2,title:"StringãStringBuffer å StringBuilder çåºå«æ¯ä»ä¹? String ä¸ºä»ä¹æ¯ä¸å¯åç?",slug:"stringãstringbuffer-å-stringbuilder-çåºå«æ¯ä»ä¹-string-ä¸ºä»ä¹æ¯ä¸å¯åç",normalizedTitle:"stringãstringbuffer å stringbuilder çåºå«æ¯ä»ä¹? string ä¸ºä»ä¹æ¯ä¸å¯åç?",charIndex:1680},{level:2,title:"éè½½åéåçåºå«ï¼",slug:"éè½½åéåçåºå«",normalizedTitle:"éè½½åéåçåºå«ï¼",charIndex:2083},{level:2,title:"== å equals() çåºå«",slug:"å-equals-çåºå«",normalizedTitle:"== å equals() çåºå«",charIndex:2382},{level:2,title:"æ·±æ·è´åæµæ·è´åºå«äºè§£åï¼ä»ä¹æ¯å¼ç¨æ·è´ï¼",slug:"æ·±æ·è´åæµæ·è´åºå«äºè§£å-ä»ä¹æ¯å¼ç¨æ·è´",normalizedTitle:"æ·±æ·è´åæµæ·è´åºå«äºè§£åï¼ä»ä¹æ¯å¼ç¨æ·è´ï¼",charIndex:2716},{level:2,title:"æ¥å£åæ½è±¡ç±»æä»ä¹å±åç¹ååºå«ï¼å¦ä½éæ©ï¼",slug:"æ¥å£åæ½è±¡ç±»æä»ä¹å±åç¹ååºå«-å¦ä½éæ©",normalizedTitle:"æ¥å£åæ½è±¡ç±»æä»ä¹å±åç¹ååºå«ï¼å¦ä½éæ©ï¼",charIndex:2913},{level:1,title:"åå°&æ³¨è§£&æ³å",slug:"åå°-æ³¨è§£-æ³å",normalizedTitle:"åå°&amp;æ³¨è§£&amp;æ³å",charIndex:null},{level:2,title:"Java åå°ï¼åå°æä»ä¹ä¼ç¹/ç¼ºç¹ï¼ä½ æ¯æä¹çè§£åå°çï¼ä¸ºä»ä¹æ¡æ¶éè¦åå°ï¼ï¼",slug:"java-åå°-åå°æä»ä¹ä¼ç¹-ç¼ºç¹-ä½ æ¯æä¹çè§£åå°ç-ä¸ºä»ä¹æ¡æ¶éè¦åå°",normalizedTitle:"java åå°ï¼åå°æä»ä¹ä¼ç¹/ç¼ºç¹ï¼ä½ æ¯æä¹çè§£åå°çï¼ä¸ºä»ä¹æ¡æ¶éè¦åå°ï¼ï¼",charIndex:3220},{level:2,title:"Java æ³åäºè§£ä¹ï¼æ³åçä½ç¨ï¼ä»ä¹æ¯ç±»åæ¦é¤ï¼æ³åæåªäºéå¶ï¼ä»ç»ä¸ä¸å¸¸ç¨çééç¬¦ï¼",slug:"java-æ³åäºè§£ä¹-æ³åçä½ç¨-ä»ä¹æ¯ç±»åæ¦é¤-æ³åæåªäºéå¶-ä»ç»ä¸ä¸å¸¸ç¨çééç¬¦",normalizedTitle:"java æ³åäºè§£ä¹ï¼æ³åçä½ç¨ï¼ä»ä¹æ¯ç±»åæ¦é¤ï¼æ³åæåªäºéå¶ï¼ä»ç»ä¸ä¸å¸¸ç¨çééç¬¦ï¼",charIndex:3523},{level:1,title:"SPI",slug:"spi",normalizedTitle:"spi",charIndex:3725},{level:2,title:"ä»ä¹æ¯SPIï¼æä»ä¹ç¨ï¼",slug:"ä»ä¹æ¯spi-æä»ä¹ç¨",normalizedTitle:"ä»ä¹æ¯spiï¼æä»ä¹ç¨ï¼",charIndex:3733},{level:2,title:"SPIåAPIæä»ä¹åºå«",slug:"spiåapiæä»ä¹åºå«",normalizedTitle:"spiåapiæä»ä¹åºå«",charIndex:3982}],headersStr:"æ°æ®ç±»å Java ä¸­æåª8ä¸­åºæ¬æ°æ®ç±»å?å®ä»¬çé»è®¤å¼åå ç¨ç©ºé´å¤§å°ç¥éä¸ï¼è¯´è¯´è¿8ç§åºæ¬æ°æ®ç±»åå¯¹åºçåè£ç±»åã åè£ç±»åçå¸¸éæ± ææ¯äºè§£ä¹ ä¸ºä»ä¹è¦æåè£ç±»å ä»ä¹æ¯èªå¨æè£ç®±ï¼åçï¼ éè§è¿èªå¨æè£å¼åçNPEé®é¢å é¢åå¯¹è±¡ StringãStringBuffer å StringBuilder çåºå«æ¯ä»ä¹? String ä¸ºä»ä¹æ¯ä¸å¯åç? éè½½åéåçåºå«ï¼ == å equals() çåºå« æ·±æ·è´åæµæ·è´åºå«äºè§£åï¼ä»ä¹æ¯å¼ç¨æ·è´ï¼ æ¥å£åæ½è±¡ç±»æä»ä¹å±åç¹ååºå«ï¼å¦ä½éæ©ï¼ åå°&æ³¨è§£&æ³å Java åå°ï¼åå°æä»ä¹ä¼ç¹/ç¼ºç¹ï¼ä½ æ¯æä¹çè§£åå°çï¼ä¸ºä»ä¹æ¡æ¶éè¦åå°ï¼ï¼ Java æ³åäºè§£ä¹ï¼æ³åçä½ç¨ï¼ä»ä¹æ¯ç±»åæ¦é¤ï¼æ³åæåªäºéå¶ï¼ä»ç»ä¸ä¸å¸¸ç¨çééç¬¦ï¼ SPI ä»ä¹æ¯SPIï¼æä»ä¹ç¨ï¼ SPIåAPIæä»ä¹åºå«",content:"# æ°æ®ç±»å\n\n\n# Java ä¸­æåª8ä¸­åºæ¬æ°æ®ç±»å?å®ä»¬çé»è®¤å¼åå ç¨ç©ºé´å¤§å°ç¥éä¸ï¼è¯´è¯´è¿8ç§åºæ¬æ°æ®ç±»åå¯¹åºçåè£ç±»åã\n\nJava ä¸­æ 8 ç§åºæ¬æ°æ®ç±»åï¼åå«ä¸ºï¼\n\n * 6 ç§æ°å­ç±»åï¼\n   * 4 ç§æ´æ°åï¼byteãshortãintãlong\n   * 2 ç§æµ®ç¹åï¼floatãdouble\n * 1 ç§å­ç¬¦ç±»åï¼char\n * 1 ç§å¸å°åï¼booleanã\n\nè¿ 8 ç§åºæ¬æ°æ®ç±»åçé»è®¤å¼ä»¥åæå ç©ºé´çå¤§å°å¦ä¸ï¼\n\n| åºæ¬ç±»å\n\n| ä½æ°\n\n| å­è\n\n| é»è®¤å¼\n\n\nint\n\n| 32\n\n| 4\n\n| 0\n\n| | short\n\n| 16\n\n| 2\n\n| 0\n\n| | long\n\n| 64\n\n| 8\n\n| 0L\n\n| | byte\n\n| 8\n\n| 1\n\n| 0\n\n| | char\n\n| 16\n\n| 2\n\n| 'u0000'\n\n| | float\n\n| 32\n\n| 4\n\n| 0f\n\n| | double\n\n| 64\n\n| 8\n\n| 0d\n\n| | boolean\n\n| 1\n\n| | false\n\n|\n\nå¯¹äº booleanï¼å®æ¹ææ¡£æªæç¡®å®ä¹ï¼å®ä¾èµäº JVM ååçå·ä½å®ç°ãé»è¾ä¸çè§£æ¯å ç¨ 1 ä½ï¼ä½æ¯å®éä¸­ä¼èèè®¡ç®æºé«æå­å¨å ç´ ã è¿å«ç§åºæ¬ç±»åé½æå¯¹åºçåè£ç±»åå«ä¸ºï¼ByteãShortãIntegerãLongãFloatãDoubleãCharacterãBoolean ã\n\n\n# åè£ç±»åçå¸¸éæ± ææ¯äºè§£ä¹\n\nJava åºæ¬ç±»åçåè£ç±»çå¤§é¨åé½å®ç°äºå¸¸éæ± ææ¯ã Byte,Short,Integer,Long è¿ 4 ç§åè£ç±»é»è®¤åå»ºäºæ°å¼ [-128ï¼127] çç¸åºç±»åçç¼å­æ°æ®ï¼Character åå»ºäºæ°å¼å¨[0,127]èå´çç¼å­æ°æ®ï¼Boolean ç´æ¥è¿å True Or Falseã å¦æè¶åºå¯¹åºèå´ä»ç¶ä¼å»åå»ºæ°çå¯¹è±¡ï¼ç¼å­çèå´åºé´çå¤§å°åªæ¯å¨æ§è½åèµæºä¹é´çæè¡¡ã ä¸¤ç§æµ®ç¹æ°ç±»åçåè£ç±» Float,Double å¹¶æ²¡æå®ç°å¸¸éæ± ææ¯ã\n\n\n# ä¸ºä»ä¹è¦æåè£ç±»å\n\nJava æ¬èº«å°±æ¯ä¸é¨ OOPï¼é¢åå¯¹è±¡ç¼ç¨ï¼è¯­è¨ï¼å¯¹è±¡å¯ä»¥è¯´æ¯ Java ççµé­ã é¤äºå®ä¹ä¸äºå¸¸éåå±é¨åéä¹å¤ï¼æä»¬å¨å¶ä»å°æ¹æ¯å¦æ¹æ³åæ°ãå¯¹è±¡å±æ§ä¸­å¾å°ä¼ä½¿ç¨åºæ¬ç±»åæ¥å®ä¹åéãæ¯å¦ï¼\n\n * åå¦ä½ æä¸ä¸ªå¯¹è±¡ä¸­çå±æ§ä½¿ç¨äº åºæ¬ç±»åï¼é£è¿ä¸ªå±æ§å°±å¿ç¶å­å¨é»è®¤å¼äºãè¿ä¸ªé»è¾ä¸æ­£ç¡®çï¼å ä¸ºå¾å¤ä¸å¡åºæ¯ä¸ï¼å¯¹è±¡çæäºå±æ§æ²¡æèµå¼ï¼æå°±å¸æå®çå¼ä¸º nullãä½ ç»æé»è®¤èµä¸ªå¼ï¼ä¸æ¯å¸®åå¿ä¹ï¼\n * å¦å¤ï¼åæ³ååæ°ä¸è½æ¯åºæ¬ç±»åãå ä¸ºåºæ¬ç±»åä¸æ¯ Object å­ç±»ï¼åºè¯¥ç¨åºæ¬ç±»åå¯¹åºçåè£ç±»åä»£æ¿ãæä»¬ç´æ¥æ¿ JDK ä¸­çº¿ç¨çä»£ç ä¸¾ä¾ã\n * Java ä¸­çéåå¨å®ä¹ç±»åçæ¶åä¸è½ä½¿ç¨åºæ¬ç±»åçãæ¯å¦ï¼\n\npublic class HashMap<K,V> extends AbstractMap<K,V> implements Map<K,V>, Cloneable, Serializable  {\n    \n}\n\nMap<Integer, Set<String>> map = new HashMap<>();\n\n\n\n# ä»ä¹æ¯èªå¨æè£ç®±ï¼åçï¼\n\nJava ä¸­çéåå¨å®ä¹ç±»åçæ¶åä¸è½ä½¿ç¨åºæ¬ç±»åçãæ¯å¦ï¼\n\nInteger i = 10; //è£ç®±\nint n = i; //æç®±\n\n\nè£ç®±å¶å®å°±æ¯è°ç¨äº åè£ç±»çvalueOf()æ¹æ³ï¼æç®±å¶å®å°±æ¯è°ç¨äº xxxValue()æ¹æ³ã\n\n\n# éè§è¿èªå¨æè£å¼åçNPEé®é¢å\n\nä¸¤ç§å¸¸è§çåºæ¯ï¼\n\n 1. æ°æ®åºçæ¥è¯¢ç»æå¯è½æ¯nullï¼å ä¸ºèªå¨æç®±ï¼ç¨åºæ¬æ°æ®ç±»åæ¥æ¶æNPEé£é©ãå ä¸ºæç®±å¶å®å°±æ¯è°ç¨äºxxxValue()æ¹æ³ï¼ä¸ä¸ªnullè°ç¨æ¹æ³å°±ä¼æNPEã\n 2. ä¸ç®è¿ç®ç¬¦conditionï¼è¡¨è¾¾å¼1:è¡¨è¾¾å¼2ä¸­ï¼è¡¨è¾¾å¼1å2å¨ç±»åå¯¹é½æ¶ï¼å¯è½æåºå èªå¨æç®±å¯¼è´çNPEå¼å¸¸ã\n\n\n# é¢åå¯¹è±¡\n\n\n# StringãStringBuffer å StringBuilder çåºå«æ¯ä»ä¹? String ä¸ºä»ä¹æ¯ä¸å¯åç?\n\nåºå«ï¼\n\n * **å¯åæ§ï¼**String ä¸å¯åï¼StringBufferåStringBuilderå¯åã\n * **çº¿ç¨å®å¨æ§ï¼**String ä¸å¯åï¼çº¿ç¨å®å¨ãStringBuffer å¯¹æ¹æ³æèå¯¹è°ç¨çæ¹æ³å äºåæ­¥éï¼ä¹æ¯çº¿ç¨å®å¨ãStringBuilder æ²¡æå¯¹æ¹æ³å åæ­¥éï¼æä»¥æ¯éçº¿ç¨å®å¨çã\n * **æ§è½ï¼**StringBuilder >StringBuffer >String\n\nString çæ­£ä¸å¯åæä¸é¢å ç¹åå ï¼\n\n 1. ä¿å­å­ç¬¦ä¸²çæ°ç»è¢« final ä¿®é¥°ä¸ä¸ºç§æçï¼å¹¶ä¸String ç±»æ²¡ææä¾/æ´é²ä¿®æ¹è¿ä¸ªå­ç¬¦ä¸²çæ¹æ³ã\n 2. String ç±»è¢« final ä¿®é¥°å¯¼è´å¶ä¸è½è¢«ç»§æ¿ï¼è¿èé¿åäºå­ç±»ç ´å String ä¸å¯åã\n\n\n# éè½½åéåçåºå«ï¼\n\néè½½å°±æ¯åæ ·çâ¼ä¸ªâ½æ³è½å¤æ ¹æ®è¾â¼æ°æ®çä¸åï¼ååºä¸åçå¤çã éåå°±æ¯å½â¼¦ç±»ç»§æ¿èªç¶ç±»çç¸åæ¹æ³ï¼è¾â¼æ°æ®â¼æ ·ï¼ä½è¦ååºæå«äºç¶ç±»çååºæ¶ï¼ä½ å°± è¦è¦çç¶ç±»æ¹æ³ åºå«ï¼\n\nåºå«ç¹     éè½½æ¹æ³   éåæ¹æ³\nåçèå´    åä¸ä¸ªç±»   å­ç±»\nåæ°åè¡¨    å¿é¡»ä¿®æ¹   ä¸å®ä¸è½ä¿®æ¹\nè¿åç±»å    å¯ä¿®æ¹    å­ç±»è¿åå¼ç±»ååºæ¯ç¶ç±»æ¹æ³è¿åå¼æ´å°æç¸ç­\nå¼å¸¸      å¯ä¿®æ¹    å­ç±»æ¹æ³å£°ææåºå¼å¸¸ç±»åºæ¯ç¶ç±»æ¹æ³å£°ææåºçå¼å¸¸ç±»æ´å°æç¸ç­\nè®¿é®ä¿®é¥°ç¬¦   å¯ä¿®æ¹    ä¸å®ä¸è½åæ´ä¸¥æ ¼çéå¶ï¼å¯ä»¥éä½éå¶ï¼\nåçé¶æ®µ    ç¼è¯æ    è¿è¡æ\n\n\n# == å equals() çåºå«\n\n== å¯¹äºåºæ¬ç±»ååå¼ç¨ç±»åçä½ç¨æææ¯ä¸åçï¼\n\n * å¯¹äºåºæ¬æ°æ®ç±»åæ¥è¯´ï¼==æ¯è¾çæ¯å¼ã\n * å¯¹äºå¼ç¨æ°æ®ç±»åæ¥è¯´ï¼==æ¯è¾çæ¯å¯¹è±¡çåå­å°å\n\nequals() ä¸è½ç¨äºå¤æ­åºæ¬æ°æ®ç±»åçåéï¼åªè½ç¨æ¥å¤æ­ä¸¤ä¸ªå¯¹è±¡æ¯å¦ç¸ç­ãequals() æ¹æ³å­å¨ä¸¤ç§ä½¿ç¨æåµï¼\n\n * ç±»æ²¡æéå equals()æ¹æ³ ï¼éè¿equals()æ¯è¾è¯¥ç±»çä¸¤ä¸ªå¯¹è±¡æ¶ï¼ç­ä»·äºéè¿â==âæ¯è¾è¿ä¸¤ä¸ªå¯¹è±¡ï¼ä½¿ç¨çé»è®¤æ¯ Objectç±»equals()æ¹æ³ã\n * ç±»éåäº equals()æ¹æ³ ï¼ä¸è¬æä»¬é½éå equals()æ¹æ³æ¥æ¯è¾ä¸¤ä¸ªå¯¹è±¡ä¸­çå±æ§æ¯å¦ç¸ç­ï¼è¥å®ä»¬çå±æ§ç¸ç­ï¼åè¿å true(å³ï¼è®¤ä¸ºè¿ä¸¤ä¸ªå¯¹è±¡ç¸ç­)ã\n\n\n# æ·±æ·è´åæµæ·è´åºå«äºè§£åï¼ä»ä¹æ¯å¼ç¨æ·è´ï¼\n\næ·±æ·è´åæµæ·è´åºå«ï¼\n\n * æµæ·è´ï¼æµæ·è´ä¼å¨å ä¸åå»ºä¸ä¸ªæ°çå¯¹è±¡ï¼åºå«äºå¼ç¨æ·è´çä¸ç¹ï¼ï¼ä¸è¿ï¼å¦æåå¯¹è±¡åé¨çå±æ§æ¯å¼ç¨ç±»åçè¯ï¼æµæ·è´ä¼ç´æ¥å¤å¶åé¨å¯¹è±¡çå¼ç¨å°åï¼ä¹å°±æ¯è¯´æ·è´å¯¹è±¡ååå¯¹è±¡å±ç¨åä¸ä¸ªåé¨å¯¹è±¡ã\n * æ·±æ·è´ ï¼æ·±æ·è´ä¼å®å¨å¤å¶æ´ä¸ªå¯¹è±¡ï¼åæ¬è¿ä¸ªå¯¹è±¡æåå«çåé¨å¯¹è±¡ã\n\nå¼ç¨æ·è´å°±æ¯ä¸¤ä¸ªä¸åçå¼ç¨æååä¸ä¸ªå¯¹è±¡ã\n\n\n\n# æ¥å£åæ½è±¡ç±»æä»ä¹å±åç¹ååºå«ï¼å¦ä½éæ©ï¼\n\nå±åç¹ ï¼\n\n * é½ä¸è½è¢«å®ä¾åã\n * é½å¯ä»¥åå«æ½è±¡æ¹æ³ã\n * é½å¯ä»¥æé»è®¤å®ç°çæ¹æ³ï¼Java 8 å¯ä»¥ç¨ default å³é®å­å¨æ¥å£ä¸­å®ä¹é»è®¤æ¹æ³ï¼ã\n\nåºå« ï¼\n\n * æ¥å£ä¸»è¦ç¨äºå¯¹ç±»çè¡ä¸ºè¿è¡çº¦æï¼ä½ å®ç°äºæä¸ªæ¥å£å°±å·æäºå¯¹åºçè¡ä¸ºãæ½è±¡ç±»ä¸»è¦ç¨äºä»£ç å¤ç¨ï¼å¼ºè°çæ¯æå±å³ç³»ã\n * ä¸ä¸ªç±»åªè½ç»§æ¿ä¸ä¸ªç±»ï¼ä½æ¯å¯ä»¥å®ç°å¤ä¸ªæ¥å£ã\n * æ¥å£ä¸­çæååéåªè½æ¯ public static final ç±»åçï¼ä¸è½è¢«ä¿®æ¹ä¸å¿é¡»æåå§å¼ï¼èæ½è±¡ç±»çæååéé»è®¤ defaultï¼å¯å¨å­ç±»ä¸­è¢«éæ°å®ä¹ï¼ä¹å¯è¢«éæ°èµå¼ã\n\n\n# åå°&æ³¨è§£&æ³å\n\n\n# Java åå°ï¼åå°æä»ä¹ä¼ç¹/ç¼ºç¹ï¼ä½ æ¯æä¹çè§£åå°çï¼ä¸ºä»ä¹æ¡æ¶éè¦åå°ï¼ï¼\n\nåå°èµäºäºæä»¬å¨è¿è¡æ¶åæç±»ä»¥åæ§è¡ç±»ä¸­æ¹æ³çè½åãéè¿åå°ä½ å¯ä»¥è·åä»»æä¸ä¸ªç±»çææå±æ§åæ¹æ³ï¼ä½ è¿å¯ä»¥è°ç¨è¿äºæ¹æ³åå±æ§ã åå°å¯ä»¥è®©æä»¬çä»£ç æ´å çµæ´»ãä¸ºåç§æ¡æ¶æä¾å¼ç®±å³ç¨çåè½æä¾äºä¾¿å©ãä¸è¿ï¼åå°è®©æä»¬å¨è¿è¡æ¶æäºåææä½ç±»çè½åçåæ¶ï¼ä¹å¢å äºå®å¨é®é¢ï¼æ¯å¦å¯ä»¥æ è§æ³ååæ°çå®å¨æ£æ¥ï¼æ³ååæ°çå®å¨æ£æ¥åçå¨ç¼è¯æ¶ï¼ãå¦å¤ï¼åå°çæ§è½ä¹è¦ç¨å·®ç¹ã å Spring/Spring BootãMyBatis ç­ç­æ¡æ¶ä¸­é½å¤§éä½¿ç¨äºåå°æºå¶è¿äºæ¡æ¶ä¸­ä¹å¤§éä½¿ç¨äºå¨æä»£çï¼èå¨æä»£ççå®ç°ä¹ä¾èµåå°ã\n\n\n# Java æ³åäºè§£ä¹ï¼æ³åçä½ç¨ï¼ä»ä¹æ¯ç±»åæ¦é¤ï¼æ³åæåªäºéå¶ï¼ä»ç»ä¸ä¸å¸¸ç¨çééç¬¦ï¼\n\nJava æ³åï¼Genericsï¼ æ¯ JDK 5 ä¸­å¼å¥çä¸ä¸ªæ°ç¹æ§ãä½¿ç¨æ³ååæ°ï¼å¯ä»¥å¢å¼ºä»£ç çå¯è¯»æ§ä»¥åç¨³å®æ§ãç¼è¯å¨å¯ä»¥å¯¹æ³ååæ°è¿è¡æ£æµï¼å¹¶ä¸éè¿æ³ååæ°å¯ä»¥æå®ä¼ å¥çå¯¹è±¡ç±»åã Java çæ³åæ¯ä¼ªæ³åï¼è¿æ¯å ä¸º Java å¨ç¼è¯æé´ï¼ææçæ³åä¿¡æ¯é½ä¼è¢«æ¦æï¼è¿ä¹å°±æ¯éå¸¸æè¯´ç±»åæ¦é¤ ã\n\n\n# SPI\n\n\n# ä»ä¹æ¯SPIï¼æä»ä¹ç¨ï¼\n\nSPI å³ Service Provider Interface ï¼å­é¢ææå°±æ¯ï¼âæå¡æä¾èçæ¥å£âï¼æççè§£æ¯ï¼ä¸é¨æä¾ç»æå¡æä¾èæèæ©å±æ¡æ¶åè½çå¼åèå»ä½¿ç¨çä¸ä¸ªæ¥å£ã SPI å°æå¡æ¥å£åå·ä½çæå¡å®ç°åç¦»å¼æ¥ï¼å°æå¡è°ç¨æ¹åæå¡å®ç°èè§£è¦ï¼è½å¤æåç¨åºçæ©å±æ§ãå¯ç»´æ¤æ§ãä¿®æ¹æèæ¿æ¢æå¡å®ç°å¹¶ä¸éè¦ä¿®æ¹è°ç¨æ¹ã å¾å¤æ¡æ¶é½ä½¿ç¨äº Java ç SPI æºå¶ï¼æ¯å¦ï¼Spring æ¡æ¶ãæ°æ®åºå è½½é©±å¨ãæ¥å¿æ¥å£ãä»¥å Dubbo çæ©å±å®ç°ç­ç­ã\n\n\n# SPIåAPIæä»ä¹åºå«\n\nä¸è¬æ¨¡åä¹é´é½æ¯éè¿æ¥å£è¿è¡éè®¯ï¼é£æä»¬å¨æå¡è°ç¨æ¹åæå¡å®ç°æ¹ï¼ä¹ç§°æå¡æä¾èï¼ä¹é´å¼å¥ä¸ä¸ªâæ¥å£âã APIï¼å½å®ç°æ¹æä¾äºæ¥å£åå®ç°ï¼æä»¬å¯ä»¥éè¿è°ç¨å®ç°æ¹çæ¥å£ä»èæ¥æå®ç°æ¹ç»æä»¬æä¾çè½åï¼è¿å°±æ¯ API ï¼è¿ç§æ¥å£åå®ç°é½æ¯æ¾å¨å®ç°æ¹çã SPIï¼å½æ¥å£å­å¨äºè°ç¨æ¹è¿è¾¹æ¶ï¼å°±æ¯ SPI ï¼ç±æ¥å£è°ç¨æ¹ç¡®å®æ¥å£è§åï¼ç¶åç±ä¸åçååå»æ ¹æ®è¿ä¸ªè§åå¯¹è¿ä¸ªæ¥å£è¿è¡å®ç°ï¼ä»èæä¾æå¡ã",normalizedContent:"# æ°æ®ç±»å\n\n\n# java ä¸­æåª8ä¸­åºæ¬æ°æ®ç±»å?å®ä»¬çé»è®¤å¼åå ç¨ç©ºé´å¤§å°ç¥éä¸ï¼è¯´è¯´è¿8ç§åºæ¬æ°æ®ç±»åå¯¹åºçåè£ç±»åã\n\njava ä¸­æ 8 ç§åºæ¬æ°æ®ç±»åï¼åå«ä¸ºï¼\n\n * 6 ç§æ°å­ç±»åï¼\n   * 4 ç§æ´æ°åï¼byteãshortãintãlong\n   * 2 ç§æµ®ç¹åï¼floatãdouble\n * 1 ç§å­ç¬¦ç±»åï¼char\n * 1 ç§å¸å°åï¼booleanã\n\nè¿ 8 ç§åºæ¬æ°æ®ç±»åçé»è®¤å¼ä»¥åæå ç©ºé´çå¤§å°å¦ä¸ï¼\n\n| åºæ¬ç±»å\n\n| ä½æ°\n\n| å­è\n\n| é»è®¤å¼\n\n\nint\n\n| 32\n\n| 4\n\n| 0\n\n| | short\n\n| 16\n\n| 2\n\n| 0\n\n| | long\n\n| 64\n\n| 8\n\n| 0l\n\n| | byte\n\n| 8\n\n| 1\n\n| 0\n\n| | char\n\n| 16\n\n| 2\n\n| 'u0000'\n\n| | float\n\n| 32\n\n| 4\n\n| 0f\n\n| | double\n\n| 64\n\n| 8\n\n| 0d\n\n| | boolean\n\n| 1\n\n| | false\n\n|\n\nå¯¹äº booleanï¼å®æ¹ææ¡£æªæç¡®å®ä¹ï¼å®ä¾èµäº jvm ååçå·ä½å®ç°ãé»è¾ä¸çè§£æ¯å ç¨ 1 ä½ï¼ä½æ¯å®éä¸­ä¼èèè®¡ç®æºé«æå­å¨å ç´ ã è¿å«ç§åºæ¬ç±»åé½æå¯¹åºçåè£ç±»åå«ä¸ºï¼byteãshortãintegerãlongãfloatãdoubleãcharacterãboolean ã\n\n\n# åè£ç±»åçå¸¸éæ± ææ¯äºè§£ä¹\n\njava åºæ¬ç±»åçåè£ç±»çå¤§é¨åé½å®ç°äºå¸¸éæ± ææ¯ã byte,short,integer,long è¿ 4 ç§åè£ç±»é»è®¤åå»ºäºæ°å¼ [-128ï¼127] çç¸åºç±»åçç¼å­æ°æ®ï¼character åå»ºäºæ°å¼å¨[0,127]èå´çç¼å­æ°æ®ï¼boolean ç´æ¥è¿å true or falseã å¦æè¶åºå¯¹åºèå´ä»ç¶ä¼å»åå»ºæ°çå¯¹è±¡ï¼ç¼å­çèå´åºé´çå¤§å°åªæ¯å¨æ§è½åèµæºä¹é´çæè¡¡ã ä¸¤ç§æµ®ç¹æ°ç±»åçåè£ç±» float,double å¹¶æ²¡æå®ç°å¸¸éæ± ææ¯ã\n\n\n# ä¸ºä»ä¹è¦æåè£ç±»å\n\njava æ¬èº«å°±æ¯ä¸é¨ oopï¼é¢åå¯¹è±¡ç¼ç¨ï¼è¯­è¨ï¼å¯¹è±¡å¯ä»¥è¯´æ¯ java ççµé­ã é¤äºå®ä¹ä¸äºå¸¸éåå±é¨åéä¹å¤ï¼æä»¬å¨å¶ä»å°æ¹æ¯å¦æ¹æ³åæ°ãå¯¹è±¡å±æ§ä¸­å¾å°ä¼ä½¿ç¨åºæ¬ç±»åæ¥å®ä¹åéãæ¯å¦ï¼\n\n * åå¦ä½ æä¸ä¸ªå¯¹è±¡ä¸­çå±æ§ä½¿ç¨äº åºæ¬ç±»åï¼é£è¿ä¸ªå±æ§å°±å¿ç¶å­å¨é»è®¤å¼äºãè¿ä¸ªé»è¾ä¸æ­£ç¡®çï¼å ä¸ºå¾å¤ä¸å¡åºæ¯ä¸ï¼å¯¹è±¡çæäºå±æ§æ²¡æèµå¼ï¼æå°±å¸æå®çå¼ä¸º nullãä½ ç»æé»è®¤èµä¸ªå¼ï¼ä¸æ¯å¸®åå¿ä¹ï¼\n * å¦å¤ï¼åæ³ååæ°ä¸è½æ¯åºæ¬ç±»åãå ä¸ºåºæ¬ç±»åä¸æ¯ object å­ç±»ï¼åºè¯¥ç¨åºæ¬ç±»åå¯¹åºçåè£ç±»åä»£æ¿ãæä»¬ç´æ¥æ¿ jdk ä¸­çº¿ç¨çä»£ç ä¸¾ä¾ã\n * java ä¸­çéåå¨å®ä¹ç±»åçæ¶åä¸è½ä½¿ç¨åºæ¬ç±»åçãæ¯å¦ï¼\n\npublic class hashmap<k,v> extends abstractmap<k,v> implements map<k,v>, cloneable, serializable  {\n    \n}\n\nmap<integer, set<string>> map = new hashmap<>();\n\n\n\n# ä»ä¹æ¯èªå¨æè£ç®±ï¼åçï¼\n\njava ä¸­çéåå¨å®ä¹ç±»åçæ¶åä¸è½ä½¿ç¨åºæ¬ç±»åçãæ¯å¦ï¼\n\ninteger i = 10; //è£ç®±\nint n = i; //æç®±\n\n\nè£ç®±å¶å®å°±æ¯è°ç¨äº åè£ç±»çvalueof()æ¹æ³ï¼æç®±å¶å®å°±æ¯è°ç¨äº xxxvalue()æ¹æ³ã\n\n\n# éè§è¿èªå¨æè£å¼åçnpeé®é¢å\n\nä¸¤ç§å¸¸è§çåºæ¯ï¼\n\n 1. æ°æ®åºçæ¥è¯¢ç»æå¯è½æ¯nullï¼å ä¸ºèªå¨æç®±ï¼ç¨åºæ¬æ°æ®ç±»åæ¥æ¶ænpeé£é©ãå ä¸ºæç®±å¶å®å°±æ¯è°ç¨äºxxxvalue()æ¹æ³ï¼ä¸ä¸ªnullè°ç¨æ¹æ³å°±ä¼ænpeã\n 2. ä¸ç®è¿ç®ç¬¦conditionï¼è¡¨è¾¾å¼1:è¡¨è¾¾å¼2ä¸­ï¼è¡¨è¾¾å¼1å2å¨ç±»åå¯¹é½æ¶ï¼å¯è½æåºå èªå¨æç®±å¯¼è´çnpeå¼å¸¸ã\n\n\n# é¢åå¯¹è±¡\n\n\n# stringãstringbuffer å stringbuilder çåºå«æ¯ä»ä¹? string ä¸ºä»ä¹æ¯ä¸å¯åç?\n\nåºå«ï¼\n\n * **å¯åæ§ï¼**string ä¸å¯åï¼stringbufferåstringbuilderå¯åã\n * **çº¿ç¨å®å¨æ§ï¼**string ä¸å¯åï¼çº¿ç¨å®å¨ãstringbuffer å¯¹æ¹æ³æèå¯¹è°ç¨çæ¹æ³å äºåæ­¥éï¼ä¹æ¯çº¿ç¨å®å¨ãstringbuilder æ²¡æå¯¹æ¹æ³å åæ­¥éï¼æä»¥æ¯éçº¿ç¨å®å¨çã\n * **æ§è½ï¼**stringbuilder >stringbuffer >string\n\nstring çæ­£ä¸å¯åæä¸é¢å ç¹åå ï¼\n\n 1. ä¿å­å­ç¬¦ä¸²çæ°ç»è¢« final ä¿®é¥°ä¸ä¸ºç§æçï¼å¹¶ä¸string ç±»æ²¡ææä¾/æ´é²ä¿®æ¹è¿ä¸ªå­ç¬¦ä¸²çæ¹æ³ã\n 2. string ç±»è¢« final ä¿®é¥°å¯¼è´å¶ä¸è½è¢«ç»§æ¿ï¼è¿èé¿åäºå­ç±»ç ´å string ä¸å¯åã\n\n\n# éè½½åéåçåºå«ï¼\n\néè½½å°±æ¯åæ ·çâ¼ä¸ªâ½æ³è½å¤æ ¹æ®è¾â¼æ°æ®çä¸åï¼ååºä¸åçå¤çã éåå°±æ¯å½â¼¦ç±»ç»§æ¿èªç¶ç±»çç¸åæ¹æ³ï¼è¾â¼æ°æ®â¼æ ·ï¼ä½è¦ååºæå«äºç¶ç±»çååºæ¶ï¼ä½ å°± è¦è¦çç¶ç±»æ¹æ³ åºå«ï¼\n\nåºå«ç¹     éè½½æ¹æ³   éåæ¹æ³\nåçèå´    åä¸ä¸ªç±»   å­ç±»\nåæ°åè¡¨    å¿é¡»ä¿®æ¹   ä¸å®ä¸è½ä¿®æ¹\nè¿åç±»å    å¯ä¿®æ¹    å­ç±»è¿åå¼ç±»ååºæ¯ç¶ç±»æ¹æ³è¿åå¼æ´å°æç¸ç­\nå¼å¸¸      å¯ä¿®æ¹    å­ç±»æ¹æ³å£°ææåºå¼å¸¸ç±»åºæ¯ç¶ç±»æ¹æ³å£°ææåºçå¼å¸¸ç±»æ´å°æç¸ç­\nè®¿é®ä¿®é¥°ç¬¦   å¯ä¿®æ¹    ä¸å®ä¸è½åæ´ä¸¥æ ¼çéå¶ï¼å¯ä»¥éä½éå¶ï¼\nåçé¶æ®µ    ç¼è¯æ    è¿è¡æ\n\n\n# == å equals() çåºå«\n\n== å¯¹äºåºæ¬ç±»ååå¼ç¨ç±»åçä½ç¨æææ¯ä¸åçï¼\n\n * å¯¹äºåºæ¬æ°æ®ç±»åæ¥è¯´ï¼==æ¯è¾çæ¯å¼ã\n * å¯¹äºå¼ç¨æ°æ®ç±»åæ¥è¯´ï¼==æ¯è¾çæ¯å¯¹è±¡çåå­å°å\n\nequals() ä¸è½ç¨äºå¤æ­åºæ¬æ°æ®ç±»åçåéï¼åªè½ç¨æ¥å¤æ­ä¸¤ä¸ªå¯¹è±¡æ¯å¦ç¸ç­ãequals() æ¹æ³å­å¨ä¸¤ç§ä½¿ç¨æåµï¼\n\n * ç±»æ²¡æéå equals()æ¹æ³ ï¼éè¿equals()æ¯è¾è¯¥ç±»çä¸¤ä¸ªå¯¹è±¡æ¶ï¼ç­ä»·äºéè¿â==âæ¯è¾è¿ä¸¤ä¸ªå¯¹è±¡ï¼ä½¿ç¨çé»è®¤æ¯ objectç±»equals()æ¹æ³ã\n * ç±»éåäº equals()æ¹æ³ ï¼ä¸è¬æä»¬é½éå equals()æ¹æ³æ¥æ¯è¾ä¸¤ä¸ªå¯¹è±¡ä¸­çå±æ§æ¯å¦ç¸ç­ï¼è¥å®ä»¬çå±æ§ç¸ç­ï¼åè¿å true(å³ï¼è®¤ä¸ºè¿ä¸¤ä¸ªå¯¹è±¡ç¸ç­)ã\n\n\n# æ·±æ·è´åæµæ·è´åºå«äºè§£åï¼ä»ä¹æ¯å¼ç¨æ·è´ï¼\n\næ·±æ·è´åæµæ·è´åºå«ï¼\n\n * æµæ·è´ï¼æµæ·è´ä¼å¨å ä¸åå»ºä¸ä¸ªæ°çå¯¹è±¡ï¼åºå«äºå¼ç¨æ·è´çä¸ç¹ï¼ï¼ä¸è¿ï¼å¦æåå¯¹è±¡åé¨çå±æ§æ¯å¼ç¨ç±»åçè¯ï¼æµæ·è´ä¼ç´æ¥å¤å¶åé¨å¯¹è±¡çå¼ç¨å°åï¼ä¹å°±æ¯è¯´æ·è´å¯¹è±¡ååå¯¹è±¡å±ç¨åä¸ä¸ªåé¨å¯¹è±¡ã\n * æ·±æ·è´ ï¼æ·±æ·è´ä¼å®å¨å¤å¶æ´ä¸ªå¯¹è±¡ï¼åæ¬è¿ä¸ªå¯¹è±¡æåå«çåé¨å¯¹è±¡ã\n\nå¼ç¨æ·è´å°±æ¯ä¸¤ä¸ªä¸åçå¼ç¨æååä¸ä¸ªå¯¹è±¡ã\n\n\n\n# æ¥å£åæ½è±¡ç±»æä»ä¹å±åç¹ååºå«ï¼å¦ä½éæ©ï¼\n\nå±åç¹ ï¼\n\n * é½ä¸è½è¢«å®ä¾åã\n * é½å¯ä»¥åå«æ½è±¡æ¹æ³ã\n * é½å¯ä»¥æé»è®¤å®ç°çæ¹æ³ï¼java 8 å¯ä»¥ç¨ default å³é®å­å¨æ¥å£ä¸­å®ä¹é»è®¤æ¹æ³ï¼ã\n\nåºå« ï¼\n\n * æ¥å£ä¸»è¦ç¨äºå¯¹ç±»çè¡ä¸ºè¿è¡çº¦æï¼ä½ å®ç°äºæä¸ªæ¥å£å°±å·æäºå¯¹åºçè¡ä¸ºãæ½è±¡ç±»ä¸»è¦ç¨äºä»£ç å¤ç¨ï¼å¼ºè°çæ¯æå±å³ç³»ã\n * ä¸ä¸ªç±»åªè½ç»§æ¿ä¸ä¸ªç±»ï¼ä½æ¯å¯ä»¥å®ç°å¤ä¸ªæ¥å£ã\n * æ¥å£ä¸­çæååéåªè½æ¯ public static final ç±»åçï¼ä¸è½è¢«ä¿®æ¹ä¸å¿é¡»æåå§å¼ï¼èæ½è±¡ç±»çæååéé»è®¤ defaultï¼å¯å¨å­ç±»ä¸­è¢«éæ°å®ä¹ï¼ä¹å¯è¢«éæ°èµå¼ã\n\n\n# åå°&æ³¨è§£&æ³å\n\n\n# java åå°ï¼åå°æä»ä¹ä¼ç¹/ç¼ºç¹ï¼ä½ æ¯æä¹çè§£åå°çï¼ä¸ºä»ä¹æ¡æ¶éè¦åå°ï¼ï¼\n\nåå°èµäºäºæä»¬å¨è¿è¡æ¶åæç±»ä»¥åæ§è¡ç±»ä¸­æ¹æ³çè½åãéè¿åå°ä½ å¯ä»¥è·åä»»æä¸ä¸ªç±»çææå±æ§åæ¹æ³ï¼ä½ è¿å¯ä»¥è°ç¨è¿äºæ¹æ³åå±æ§ã åå°å¯ä»¥è®©æä»¬çä»£ç æ´å çµæ´»ãä¸ºåç§æ¡æ¶æä¾å¼ç®±å³ç¨çåè½æä¾äºä¾¿å©ãä¸è¿ï¼åå°è®©æä»¬å¨è¿è¡æ¶æäºåææä½ç±»çè½åçåæ¶ï¼ä¹å¢å äºå®å¨é®é¢ï¼æ¯å¦å¯ä»¥æ è§æ³ååæ°çå®å¨æ£æ¥ï¼æ³ååæ°çå®å¨æ£æ¥åçå¨ç¼è¯æ¶ï¼ãå¦å¤ï¼åå°çæ§è½ä¹è¦ç¨å·®ç¹ã å spring/spring bootãmybatis ç­ç­æ¡æ¶ä¸­é½å¤§éä½¿ç¨äºåå°æºå¶è¿äºæ¡æ¶ä¸­ä¹å¤§éä½¿ç¨äºå¨æä»£çï¼èå¨æä»£ççå®ç°ä¹ä¾èµåå°ã\n\n\n# java æ³åäºè§£ä¹ï¼æ³åçä½ç¨ï¼ä»ä¹æ¯ç±»åæ¦é¤ï¼æ³åæåªäºéå¶ï¼ä»ç»ä¸ä¸å¸¸ç¨çééç¬¦ï¼\n\njava æ³åï¼genericsï¼ æ¯ jdk 5 ä¸­å¼å¥çä¸ä¸ªæ°ç¹æ§ãä½¿ç¨æ³ååæ°ï¼å¯ä»¥å¢å¼ºä»£ç çå¯è¯»æ§ä»¥åç¨³å®æ§ãç¼è¯å¨å¯ä»¥å¯¹æ³ååæ°è¿è¡æ£æµï¼å¹¶ä¸éè¿æ³ååæ°å¯ä»¥æå®ä¼ å¥çå¯¹è±¡ç±»åã java çæ³åæ¯ä¼ªæ³åï¼è¿æ¯å ä¸º java å¨ç¼è¯æé´ï¼ææçæ³åä¿¡æ¯é½ä¼è¢«æ¦æï¼è¿ä¹å°±æ¯éå¸¸æè¯´ç±»åæ¦é¤ ã\n\n\n# spi\n\n\n# ä»ä¹æ¯spiï¼æä»ä¹ç¨ï¼\n\nspi å³ service provider interface ï¼å­é¢ææå°±æ¯ï¼âæå¡æä¾èçæ¥å£âï¼æççè§£æ¯ï¼ä¸é¨æä¾ç»æå¡æä¾èæèæ©å±æ¡æ¶åè½çå¼åèå»ä½¿ç¨çä¸ä¸ªæ¥å£ã spi å°æå¡æ¥å£åå·ä½çæå¡å®ç°åç¦»å¼æ¥ï¼å°æå¡è°ç¨æ¹åæå¡å®ç°èè§£è¦ï¼è½å¤æåç¨åºçæ©å±æ§ãå¯ç»´æ¤æ§ãä¿®æ¹æèæ¿æ¢æå¡å®ç°å¹¶ä¸éè¦ä¿®æ¹è°ç¨æ¹ã å¾å¤æ¡æ¶é½ä½¿ç¨äº java ç spi æºå¶ï¼æ¯å¦ï¼spring æ¡æ¶ãæ°æ®åºå è½½é©±å¨ãæ¥å¿æ¥å£ãä»¥å dubbo çæ©å±å®ç°ç­ç­ã\n\n\n# spiåapiæä»ä¹åºå«\n\nä¸è¬æ¨¡åä¹é´é½æ¯éè¿æ¥å£è¿è¡éè®¯ï¼é£æä»¬å¨æå¡è°ç¨æ¹åæå¡å®ç°æ¹ï¼ä¹ç§°æå¡æä¾èï¼ä¹é´å¼å¥ä¸ä¸ªâæ¥å£âã apiï¼å½å®ç°æ¹æä¾äºæ¥å£åå®ç°ï¼æä»¬å¯ä»¥éè¿è°ç¨å®ç°æ¹çæ¥å£ä»èæ¥æå®ç°æ¹ç»æä»¬æä¾çè½åï¼è¿å°±æ¯ api ï¼è¿ç§æ¥å£åå®ç°é½æ¯æ¾å¨å®ç°æ¹çã spiï¼å½æ¥å£å­å¨äºè°ç¨æ¹è¿è¾¹æ¶ï¼å°±æ¯ spi ï¼ç±æ¥å£è°ç¨æ¹ç¡®å®æ¥å£è§åï¼ç¶åç±ä¸åçååå»æ ¹æ®è¿ä¸ªè§åå¯¹è¿ä¸ªæ¥å£è¿è¡å®ç°ï¼ä»èæä¾æå¡ã",charsets:{cjk:!0},lastUpdated:"2023/10/24, 07:59:40",lastUpdatedTimestamp:169813438e4},{title:"Java å¹¶åé¢è¯é¢",frontmatter:{title:"Java å¹¶åé¢è¯é¢",date:"2023-10-24T15:37:53.000Z",permalink:"/pages/f4f268/"},regularPath:"/02.Java%20%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/02.Java%20%E5%85%AB%E8%82%A1%E6%96%87/03.Java%20%E5%B9%B6%E5%8F%91%E9%9D%A2%E8%AF%95%E9%A2%98.html",relativePath:"02.Java é¢è¯å®å¸/02.Java å«è¡æ/03.Java å¹¶åé¢è¯é¢.md",key:"v-74c22a5e",path:"/pages/f4f268/",headers:[{level:1,title:"",slug:"",normalizedTitle:"",charIndex:0},{level:1,title:"åºç¡",slug:"åºç¡",normalizedTitle:"åºç¡",charIndex:6},{level:2,title:"ä»ä¹æ¯çº¿ç¨åè¿ç¨ï¼çº¿ç¨ä¸è¿ç¨çå³ç³»ï¼åºå«åä¼ç¼ºç¹ï¼",slug:"ä»ä¹æ¯çº¿ç¨åè¿ç¨-çº¿ç¨ä¸è¿ç¨çå³ç³»-åºå«åä¼ç¼ºç¹",normalizedTitle:"ä»ä¹æ¯çº¿ç¨åè¿ç¨ï¼çº¿ç¨ä¸è¿ç¨çå³ç³»ï¼åºå«åä¼ç¼ºç¹ï¼",charIndex:13},{level:2,title:"ä¸ºä»ä¹è¦ä½¿ç¨å¤çº¿ç¨å¢",slug:"ä¸ºä»ä¹è¦ä½¿ç¨å¤çº¿ç¨å¢",normalizedTitle:"ä¸ºä»ä¹è¦ä½¿ç¨å¤çº¿ç¨å¢",charIndex:256},{level:2,title:"è¯´è¯´çº¿ç¨ççå½å¨æåç¶æ",slug:"è¯´è¯´çº¿ç¨ççå½å¨æåç¶æ",normalizedTitle:"è¯´è¯´çº¿ç¨ççå½å¨æåç¶æ",charIndex:462},{level:1,title:"Java ä¸­æåªäºéï¼",slug:"java-ä¸­æåªäºé",normalizedTitle:"java ä¸­æåªäºéï¼",charIndex:806},{level:2,title:"ä»ä¹æ¯çº¿ç¨æ­»éï¼å¦ä½é¢é²åé¿åçº¿ç¨æ­»é",slug:"ä»ä¹æ¯çº¿ç¨æ­»é-å¦ä½é¢é²åé¿åçº¿ç¨æ­»é",normalizedTitle:"ä»ä¹æ¯çº¿ç¨æ­»éï¼å¦ä½é¢é²åé¿åçº¿ç¨æ­»é",charIndex:910},{level:1,title:"ä¹è§éåæ²è§é",slug:"ä¹è§éåæ²è§é",normalizedTitle:"ä¹è§éåæ²è§é",charIndex:1334},{level:2,title:"ä¹è§éåæ²è§éçåºå«",slug:"ä¹è§éåæ²è§éçåºå«",normalizedTitle:"ä¹è§éåæ²è§éçåºå«",charIndex:1346},{level:2,title:"å¦ä½å®ç°ä¹è§é",slug:"å¦ä½å®ç°ä¹è§é",normalizedTitle:"å¦ä½å®ç°ä¹è§é",charIndex:1454},{level:2,title:"CASäºè§£ä¹ï¼åçï¼",slug:"casäºè§£ä¹-åç",normalizedTitle:"casäºè§£ä¹ï¼åçï¼",charIndex:1507},{level:2,title:"ä¹è§éå­å¨åªäºé®é¢",slug:"ä¹è§éå­å¨åªäºé®é¢",normalizedTitle:"ä¹è§éå­å¨åªäºé®é¢",charIndex:2177},{level:2,title:"ä»ä¹æ¯ABAé®é¢ï¼ABAé®é¢æä¹è§£å³",slug:"ä»ä¹æ¯abaé®é¢-abaé®é¢æä¹è§£å³",normalizedTitle:"ä»ä¹æ¯abaé®é¢ï¼abaé®é¢æä¹è§£å³",charIndex:2538},{level:1,title:"JMM",slug:"jmm",normalizedTitle:"jmm",charIndex:2757},{level:2,title:"å¹¶åç¼ç¨çä¸ä¸ªéè¦ç¹æ§",slug:"å¹¶åç¼ç¨çä¸ä¸ªéè¦ç¹æ§",normalizedTitle:"å¹¶åç¼ç¨çä¸ä¸ªéè¦ç¹æ§",charIndex:2765},{level:2,title:"ä»ä¹æ¯JMMï¼ä¸ºä»ä¹éè¦JMM",slug:"ä»ä¹æ¯jmm-ä¸ºä»ä¹éè¦jmm",normalizedTitle:"ä»ä¹æ¯jmmï¼ä¸ºä»ä¹éè¦jmm",charIndex:3302},{level:2,title:"JMMæ¯å¦ä½æ½è±¡çº¿ç¨åä¸»åå­ä¹é´çå³ç³»ï¼",slug:"jmmæ¯å¦ä½æ½è±¡çº¿ç¨åä¸»åå­ä¹é´çå³ç³»",normalizedTitle:"jmmæ¯å¦ä½æ½è±¡çº¿ç¨åä¸»åå­ä¹é´çå³ç³»ï¼",charIndex:3724},{level:2,title:"Javaåå­åºååJMMæä½åºå«",slug:"javaåå­åºååjmmæä½åºå«",normalizedTitle:"javaåå­åºååjmmæä½åºå«",charIndex:3821},{level:2,title:"happens-beforeååæ¯ä»ä¹ï¼ä¸ºä»ä¹éè¦happens-beforeåå",slug:"happens-beforeååæ¯ä»ä¹-ä¸ºä»ä¹éè¦happens-beforeåå",normalizedTitle:"happens-beforeååæ¯ä»ä¹ï¼ä¸ºä»ä¹éè¦happens-beforeåå",charIndex:4081},{level:1,title:"synchronized å³é®å­",slug:"synchronized-å³é®å­",normalizedTitle:"synchronized å³é®å­",charIndex:4300},{level:2,title:"synchronized å³é®å­çä½ç¨ï¼èªå·±æ¯æä¹ä½¿ç¨çã",slug:"synchronized-å³é®å­çä½ç¨-èªå·±æ¯æä¹ä½¿ç¨çã",normalizedTitle:"synchronized å³é®å­çä½ç¨ï¼èªå·±æ¯æä¹ä½¿ç¨çã",charIndex:4321},{level:2,title:"synchronized å³é®å­çåºå±åç",slug:"synchronized-å³é®å­çåºå±åç",normalizedTitle:"synchronized å³é®å­çåºå±åç",charIndex:4813},{level:2,title:"JDK1.6 ä¹å synchronized å³é®å­åºå±åäºåªäºä¼åãsynchronized éåçº§æµç¨ã",slug:"jdk1-6-ä¹å-synchronized-å³é®å­åºå±åäºåªäºä¼åãsynchronized-éåçº§æµç¨ã",normalizedTitle:"jdk1.6 ä¹å synchronized å³é®å­åºå±åäºåªäºä¼åãsynchronized éåçº§æµç¨ã",charIndex:5086},{level:2,title:"synchronized å ReentranLock çåºå«",slug:"synchronized-å-reentranlock-çåºå«",normalizedTitle:"synchronized å reentranlock çåºå«",charIndex:5352},{level:2,title:"synchronized å volatile çåºå«",slug:"synchronized-å-volatile-çåºå«",normalizedTitle:"synchronized å volatile çåºå«",charIndex:5659},{level:1,title:"volatileå³é®å­",slug:"volatileå³é®å­",normalizedTitle:"volatileå³é®å­",charIndex:5917},{level:2,title:"volatile å³é®å­å¦ä½ä¿è¯åéçå¯è§æ§",slug:"volatile-å³é®å­å¦ä½ä¿è¯åéçå¯è§æ§",normalizedTitle:"volatile å³é®å­å¦ä½ä¿è¯åéçå¯è§æ§",charIndex:6006},{level:2,title:"volatile å¦ä½ç¦æ­¢æä»¤éæåº",slug:"volatile-å¦ä½ç¦æ­¢æä»¤éæåº",normalizedTitle:"volatile å¦ä½ç¦æ­¢æä»¤éæåº",charIndex:6183},{level:2,title:"volatile å¯ä»¥ä¿è¯åå­æ§ä¹",slug:"volatile-å¯ä»¥ä¿è¯åå­æ§ä¹",normalizedTitle:"volatile å¯ä»¥ä¿è¯åå­æ§ä¹",charIndex:6482},{level:1,title:"ThreadLocal",slug:"threadlocal",normalizedTitle:"threadlocal",charIndex:6545},{level:2,title:"ThreadLocal æä»ä¹ç¨",slug:"threadlocal-æä»ä¹ç¨",normalizedTitle:"threadlocal æä»ä¹ç¨",charIndex:6561},{level:2,title:"å¦ä½ä½¿ç¨ ThreadLocal",slug:"å¦ä½ä½¿ç¨-threadlocal",normalizedTitle:"å¦ä½ä½¿ç¨ threadlocal",charIndex:6997},{level:2,title:"ThreadLocal åçäºè§£å",slug:"threadlocal-åçäºè§£å",normalizedTitle:"threadlocal åçäºè§£å",charIndex:9234},{level:2,title:"ThreadLocal åå­æ³é²é®é¢æ¯æä¹å¯¼è´çï¼",slug:"threadlocal-åå­æ³é²é®é¢æ¯æä¹å¯¼è´ç",normalizedTitle:"threadlocal åå­æ³é²é®é¢æ¯æä¹å¯¼è´çï¼",charIndex:10764},{level:1,title:"çº¿ç¨æ± ",slug:"çº¿ç¨æ± ",normalizedTitle:"çº¿ç¨æ± ",charIndex:11123},{level:2,title:"ä»ä¹æ¯çº¿ç¨æ± ",slug:"ä»ä¹æ¯çº¿ç¨æ± ",normalizedTitle:"ä»ä¹æ¯çº¿ç¨æ± ",charIndex:11131},{level:2,title:"ä¸ºä»ä¹è¦ç¨çº¿ç¨æ± ",slug:"ä¸ºä»ä¹è¦ç¨çº¿ç¨æ± ",normalizedTitle:"ä¸ºä»ä¹è¦ç¨çº¿ç¨æ± ",charIndex:11216},{level:2,title:"å¦ä½åå»ºçº¿ç¨æ± ",slug:"å¦ä½åå»ºçº¿ç¨æ± ",normalizedTitle:"å¦ä½åå»ºçº¿ç¨æ± ",charIndex:11532},{level:2,title:"çº¿ç¨æ± å¸¸è§åæ°æåªäºï¼å¦ä½è§£éï¼",slug:"çº¿ç¨æ± å¸¸è§åæ°æåªäº-å¦ä½è§£é",normalizedTitle:"çº¿ç¨æ± å¸¸è§åæ°æåªäºï¼å¦ä½è§£éï¼",charIndex:12117},{level:2,title:"çº¿ç¨æ± çé¥±åç­ç¥æåªäº",slug:"çº¿ç¨æ± çé¥±åç­ç¥æåªäº",normalizedTitle:"çº¿ç¨æ± çé¥±åç­ç¥æåªäº",charIndex:13785},{level:2,title:"çº¿ç¨æ± çæ§è¡æµç¨",slug:"çº¿ç¨æ± çæ§è¡æµç¨",normalizedTitle:"çº¿ç¨æ± çæ§è¡æµç¨",charIndex:14625},{level:2,title:"å¦ä½è®¾å®çº¿ç¨æ± çå¤§å°",slug:"å¦ä½è®¾å®çº¿ç¨æ± çå¤§å°",normalizedTitle:"å¦ä½è®¾å®çº¿ç¨æ± çå¤§å°",charIndex:14912},{level:1,title:"AQS",slug:"aqs",normalizedTitle:"aqs",charIndex:15495},{level:2,title:"AQS æ¯ä»ä¹ï¼",slug:"aqs-æ¯ä»ä¹",normalizedTitle:"aqs æ¯ä»ä¹ï¼",charIndex:15503},{level:2,title:"AQSçåçæ¯ä»ä¹",slug:"aqsçåçæ¯ä»ä¹",normalizedTitle:"aqsçåçæ¯ä»ä¹",charIndex:15906}],headersStr:" åºç¡ ä»ä¹æ¯çº¿ç¨åè¿ç¨ï¼çº¿ç¨ä¸è¿ç¨çå³ç³»ï¼åºå«åä¼ç¼ºç¹ï¼ ä¸ºä»ä¹è¦ä½¿ç¨å¤çº¿ç¨å¢ è¯´è¯´çº¿ç¨ççå½å¨æåç¶æ Java ä¸­æåªäºéï¼ ä»ä¹æ¯çº¿ç¨æ­»éï¼å¦ä½é¢é²åé¿åçº¿ç¨æ­»é ä¹è§éåæ²è§é ä¹è§éåæ²è§éçåºå« å¦ä½å®ç°ä¹è§é CASäºè§£ä¹ï¼åçï¼ ä¹è§éå­å¨åªäºé®é¢ ä»ä¹æ¯ABAé®é¢ï¼ABAé®é¢æä¹è§£å³ JMM å¹¶åç¼ç¨çä¸ä¸ªéè¦ç¹æ§ ä»ä¹æ¯JMMï¼ä¸ºä»ä¹éè¦JMM JMMæ¯å¦ä½æ½è±¡çº¿ç¨åä¸»åå­ä¹é´çå³ç³»ï¼ Javaåå­åºååJMMæä½åºå« happens-beforeååæ¯ä»ä¹ï¼ä¸ºä»ä¹éè¦happens-beforeåå synchronized å³é®å­ synchronized å³é®å­çä½ç¨ï¼èªå·±æ¯æä¹ä½¿ç¨çã synchronized å³é®å­çåºå±åç JDK1.6 ä¹å synchronized å³é®å­åºå±åäºåªäºä¼åãsynchronized éåçº§æµç¨ã synchronized å ReentranLock çåºå« synchronized å volatile çåºå« volatileå³é®å­ volatile å³é®å­å¦ä½ä¿è¯åéçå¯è§æ§ volatile å¦ä½ç¦æ­¢æä»¤éæåº volatile å¯ä»¥ä¿è¯åå­æ§ä¹ ThreadLocal ThreadLocal æä»ä¹ç¨ å¦ä½ä½¿ç¨ ThreadLocal ThreadLocal åçäºè§£å ThreadLocal åå­æ³é²é®é¢æ¯æä¹å¯¼è´çï¼ çº¿ç¨æ±  ä»ä¹æ¯çº¿ç¨æ±  ä¸ºä»ä¹è¦ç¨çº¿ç¨æ±  å¦ä½åå»ºçº¿ç¨æ±  çº¿ç¨æ± å¸¸è§åæ°æåªäºï¼å¦ä½è§£éï¼ çº¿ç¨æ± çé¥±åç­ç¥æåªäº çº¿ç¨æ± çæ§è¡æµç¨ å¦ä½è®¾å®çº¿ç¨æ± çå¤§å° AQS AQS æ¯ä»ä¹ï¼ AQSçåçæ¯ä»ä¹",content:'#\n\n\n# åºç¡\n\n\n# ä»ä¹æ¯çº¿ç¨åè¿ç¨ï¼çº¿ç¨ä¸è¿ç¨çå³ç³»ï¼åºå«åä¼ç¼ºç¹ï¼\n\nè¿ç¨æ¯ç¨åºçä¸æ¬¡æ§è¡è¿ç¨ï¼æ¯ç³»ç»è¿è¡ç¨åºçåºæ¬åä½ãç³»ç»è¿è¡ä¸ä¸ªç¨åºå°±æ¯ä¸ä¸ªè¿ç¨ä»åå»ºï¼è¿è¡å°æ¶äº¡çè¿ç¨ãçº¿ç¨æ¯ä¸ä¸ªè¿ç¨æ´å°çæ§è¡åä½ãä¸ä¸ªè¿ç¨å¨æ§è¡è¿ç¨ä¸­å¯ä»¥äº§çå¤ä¸ªçº¿ç¨ã å¤ä¸ªçº¿ç¨å±äº«è¿ç¨çå åæ¹æ³åº (JDK1.8 ä¹åçåç©ºé´)èµæºï¼ä½æ¯æ¯ä¸ªçº¿ç¨æèªå·±çç¨åºè®¡æ°å¨ãèææºæ  å æ¬å°æ¹æ³æ ã\nè¿ç¨æ¯ç¬ç«çï¼èçº¿ç¨åä¸ä¸å®ï¼å ä¸ºåä¸è¿ç¨ä¸­çº¿ç¨å¯è½ä¼ç¸äºå½±åãçº¿ç¨æ§è¡å¼éå°ï¼ä½ä¸å©äºèµæºçç®¡çåä¿æ¤ï¼èè¿ç¨æ­£ç¸åã\n\n\n# ä¸ºä»ä¹è¦ä½¿ç¨å¤çº¿ç¨å¢\n\n * ä»è®¡ç®æºåºå±æ¥è¯´ï¼ çº¿ç¨å¯ä»¥æ¯ä½æ¯è½»éçº§çè¿ç¨ï¼æ¯ç¨åºæ§è¡çæå°åä½,çº¿ç¨é´çåæ¢åè°åº¦çææ¬è¿è¿å°äºè¿ç¨ãå¦å¤ï¼å¤æ ¸ CPU æ¶ä»£æå³çå¤ä¸ªçº¿ç¨å¯ä»¥åæ¶è¿è¡ï¼è¿åå°äºçº¿ç¨ä¸ä¸æåæ¢çå¼éã\n * ä»å½ä»£äºèç½åå±è¶å¿æ¥è¯´ï¼ ç°å¨çç³»ç»å¨ä¸å¨å°±è¦æ±ç¾ä¸çº§çè³åä¸çº§çå¹¶åéï¼èå¤çº¿ç¨å¹¶åç¼ç¨æ­£æ¯å¼åé«å¹¶åç³»ç»çåºç¡ï¼å©ç¨å¥½å¤çº¿ç¨æºå¶å¯ä»¥å¤§å¤§æé«ç³»ç»æ´ä½çå¹¶åè½åä»¥åæ§è½ã\n\n\n# è¯´è¯´çº¿ç¨ççå½å¨æåç¶æ\n\nJava çº¿ç¨å¨è¿è¡ççå½å¨æä¸­çæå®æ¶å»åªå¯è½å¤äºä¸é¢ 6 ç§ä¸åç¶æçå¶ä¸­ä¸ä¸ªç¶æï¼\n\n * NEW: åå§ç¶æï¼çº¿ç¨è¢«åå»ºåºæ¥ä½æ²¡æè¢«è°ç¨ start() ã\n * RUNNABLE: è¿è¡ç¶æï¼çº¿ç¨è¢«è°ç¨äº start()ç­å¾è¿è¡çç¶æã\n * BLOCKED ï¼é»å¡ç¶æï¼éè¦ç­å¾ééæ¾ã\n * WAITINGï¼ç­å¾ç¶æï¼è¡¨ç¤ºè¯¥çº¿ç¨éè¦ç­å¾å¶ä»çº¿ç¨ååºä¸äºç¹å®å¨ä½ï¼éç¥æä¸­æ­ï¼ã\n * TIME_WAITINGï¼è¶æ¶ç­å¾ç¶æï¼å¯ä»¥å¨æå®çæ¶é´åèªè¡è¿åèä¸æ¯å WAITING é£æ ·ä¸ç´ç­å¾ã\n * TERMINATEDï¼ç»æ­¢ç¶æï¼è¡¨ç¤ºè¯¥çº¿ç¨å·²ç»è¿è¡å®æ¯ã\n\nçº¿ç¨å¨çå½å¨æä¸­å¹¶ä¸æ¯åºå®å¤äºæä¸ä¸ªç¶æèæ¯éçä»£ç çæ§è¡å¨ä¸åç¶æä¹é´åæ¢ã\n\n\n# Java ä¸­æåªäºéï¼\n\nJava ä¸­éå¯ä»¥åï¼\n\n * æ²è§é/ä¹è§é\n * å±äº«é/ç¬å é\n * å¬å¹³é/éå¬å¹³é\n * å¯ä¸­æ­é/éå¯ä¸­æ­é\n * å¯éå¥é/ä¸å¯éå¥é\n * èªæé/éèªæé\n\n\n# ä»ä¹æ¯çº¿ç¨æ­»éï¼å¦ä½é¢é²åé¿åçº¿ç¨æ­»é\n\nçº¿ç¨æ­»éå°±æ¯å¤ä¸ªçº¿ç¨åæ¶è¢«é»å¡ï¼å®ä»¬ä¸­çä¸ä¸ªæèå¨é¨é½å¨ç­å¾æä¸ªèµæºè¢«éæ¾ãç±äºçº¿ç¨è¢«æ éæé»å¡ï¼å æ­¤ç¨åºä¸è½æ­£å¸¸ç»æ­¢ã\n\näº§çæ­»ééè¦æ»¡è¶³åä¸ªå¿è¦æ¡ä»¶ï¼\n\n 1. äºæ¥æ¡ä»¶ï¼è¯¥èµæºä»»æä¸ä¸ªæ¶å»åªç±ä¸ä¸ªçº¿ç¨å ç¨ã\n 2. è¯·æ±ä¸ä¿ææ¡ä»¶ï¼ä¸ä¸ªè¿ç¨å è¯·æ±èµæºèé»å¡æ¶ï¼å¯¹å·²è·å¾çèµæºä¿æä¸æ¾ã\n 3. ä¸å¥å¤ºæ¡ä»¶:çº¿ç¨å·²è·å¾çèµæºå¨æªä½¿ç¨å®ä¹åä¸è½è¢«å¶ä»çº¿ç¨å¼ºè¡å¥å¤ºï¼åªæèªå·±ä½¿ç¨å®æ¯åæéæ¾èµæºã\n 4. å¾ªç¯ç­å¾æ¡ä»¶:è¥å¹²è¿ç¨ä¹é´å½¢æä¸ç§å¤´å°¾ç¸æ¥çå¾ªç¯ç­å¾èµæºå³ç³»ã\n\nè¦é¿åçº¿ç¨æ­»éï¼åªè¦ç ´åæ­»éäº§ççå¿è¦æ¡ä»¶å°±å¯ä»¥ï¼\n\n 1. ç ´åè¯·æ±ä¸ä¿ææ¡ä»¶ ï¼ä¸æ¬¡æ§ç³è¯·ææçèµæºã\n 2. ç ´åä¸å¥å¤ºæ¡ä»¶ ï¼å ç¨é¨åèµæºççº¿ç¨è¿ä¸æ­¥ç³è¯·å¶ä»èµæºæ¶ï¼å¦æç³è¯·ä¸å°ï¼å¯ä»¥ä¸»å¨éæ¾å®å æçèµæºã\n 3. ç ´åå¾ªç¯ç­å¾æ¡ä»¶ ï¼é æåºç³è¯·èµæºæ¥é¢é²ãææä¸é¡ºåºç³è¯·èµæºï¼éæ¾èµæºåååºéæ¾ãç ´åå¾ªç¯ç­å¾æ¡ä»¶ã\n\n\n# ä¹è§éåæ²è§é\n\n\n# ä¹è§éåæ²è§éçåºå«\n\n * ä¹è§ééå¸¸ç¨å¤äºåæ¯è¾å°çæåµä¸ï¼å¤è¯»åºæ¯ï¼ï¼é¿åé¢ç¹å éå½±åæ§è½ï¼å¤§å¤§æåäºç³»ç»çååéã\n * æ²è§ééå¸¸å¤ç¨äºåå¤æ¯è¾å¤çæåµä¸ï¼å¤ååºæ¯ï¼ï¼é¿åé¢ç¹å¤±è´¥åéè¯å½±åæ§è½ã\n\n\n# å¦ä½å®ç°ä¹è§é\n\nä¹è§éä¸è¬ä¼ä½¿ç¨çæ¬å·æºå¶æ CAS ç®æ³å®ç°ï¼CAS ç®æ³ç¸å¯¹æ¥è¯´æ´å¤ä¸äºã\n\n\n# CASäºè§£ä¹ï¼åçï¼\n\nCAS çå¨ç§°æ¯ Compare And Swapï¼æ¯è¾ä¸äº¤æ¢ï¼ ï¼ç¨äºå®ç°ä¹è§éï¼è¢«å¹¿æ³åºç¨äºåå¤§æ¡æ¶ä¸­ãCAS çææ³å¾ç®åï¼å°±æ¯ç¨ä¸ä¸ªé¢æå¼åè¦æ´æ°çåéå¼è¿è¡æ¯è¾ï¼ä¸¤å¼ç¸ç­æä¼è¿è¡æ´æ°ã CAS æ¯ä¸ä¸ªåå­æä½ï¼åºå±ä¾èµäºä¸æ¡ CPU çåå­æä»¤ã åå­æä½ å³æå°ä¸å¯æåçæä½ï¼ä¹å°±æ¯è¯´æä½ä¸æ¦å¼å§ï¼å°±ä¸è½è¢«ææ­ï¼ç´å°æä½å®æã CAS æ¶åå°ä¸ä¸ªæä½æ°ï¼\n\n * V ï¼è¦æ´æ°çåéå¼(Var)\n * E ï¼é¢æå¼(Expected)\n * N ï¼æåå¥çæ°å¼(New)\n\nå½ä¸ä»å½ V çå¼ç­äº E æ¶ï¼CAS éè¿åå­æ¹å¼ç¨æ°å¼ N æ¥æ´æ° V çå¼ãå¦æä¸ç­ï¼è¯´æå·²ç»æå¶å®çº¿ç¨æ´æ°äº Vï¼åå½åçº¿ç¨æ¾å¼æ´æ°ã ä¸¾ä¸ä¸ªç®åçä¾å­ ï¼çº¿ç¨ A è¦ä¿®æ¹åé i çå¼ä¸º 6ï¼i åå¼ä¸º 1ï¼V = 1ï¼E=1ï¼N=6ï¼åè®¾ä¸å­å¨ ABA é®é¢ï¼ã\n\n 1. i ä¸ 1 è¿è¡æ¯è¾ï¼å¦æç¸ç­ï¼ åè¯´ææ²¡è¢«å¶ä»çº¿ç¨ä¿®æ¹ï¼å¯ä»¥è¢«è®¾ç½®ä¸º 6 ã\n 2. i ä¸ 1 è¿è¡æ¯è¾ï¼å¦æä¸ç¸ç­ï¼åè¯´æè¢«å¶ä»çº¿ç¨ä¿®æ¹ï¼å½åçº¿ç¨æ¾å¼æ´æ°ï¼CAS æä½å¤±è´¥ã\n\nå½å¤ä¸ªçº¿ç¨åæ¶ä½¿ç¨ CAS æä½ä¸ä¸ªåéæ¶ï¼åªæä¸ä¸ªä¼èåºï¼å¹¶æåæ´æ°ï¼å¶ä½åä¼å¤±è´¥ï¼ä½å¤±è´¥ççº¿ç¨å¹¶ä¸ä¼è¢«æèµ·ï¼ä»æ¯è¢«åç¥å¤±è´¥ï¼å¹¶ä¸åè®¸åæ¬¡å°è¯ï¼å½ç¶ä¹åè®¸å¤±è´¥ççº¿ç¨æ¾å¼æä½ã Java è¯­è¨å¹¶æ²¡æç´æ¥å®ç° CASï¼CAS ç¸å³çå®ç°æ¯éè¿ C++ åèæ±ç¼çå½¢å¼å®ç°çï¼JNI è°ç¨ï¼ãå æ­¤ï¼ CAS çå·ä½å®ç°åæä½ç³»ç»ä»¥å CPU é½æå³ç³»ã\n\n\n# ä¹è§éå­å¨åªäºé®é¢\n\n * ABAé®é¢ï¼ä¸ä¸ªåéVåå§å¼æ¯Aï¼æé´è¢«æ¹ä¸ºå¶ä»å¼ï¼ç¶ååæ¹åAï¼é£ä¹CASæä½å°±ä¼è¯¯è®¤ä¸ºå®ä»æ¥æ²¡è¢«ä¿®æ¹è¿ï¼è¿å°±æ¯ABAé®é¢ãè§£å³åæ³æ¯å¨åéåé¢è¿½å ä¸çæ¬å·åæ¶é´æ³ã\n * å¾ªç¯æ¶é´é¿å¼éå¤§ï¼ CAS ç»å¸¸ä¼ç¨å°èªææä½æ¥è¿è¡éè¯ï¼ä¹å°±æ¯ä¸æåå°±ä¸ç´å¾ªç¯æ§è¡ç´å°æåãå¦æé¿æ¶é´ä¸æåï¼ä¼ç» CPU å¸¦æ¥éå¸¸å¤§çæ§è¡å¼éã\n * åªè½ä¿è¯ä¸ä¸ªå±äº«åéçåå­æä½ï¼ CAS åªå¯¹åä¸ªå±äº«åéææï¼å½æä½æ¶åè·¨å¤ä¸ªå±äº«åéæ¶ CAS æ æãä½æ¯ä» JDK 1.5 å¼å§ï¼æä¾äºAtomicReferenceç±»æ¥ä¿è¯å¼ç¨å¯¹è±¡ä¹é´çåå­æ§ï¼ä½ å¯ä»¥æå¤ä¸ªåéæ¾å¨ä¸ä¸ªå¯¹è±¡éæ¥è¿è¡ CAS æä½.æä»¥æä»¬å¯ä»¥ä½¿ç¨éæèå©ç¨AtomicReferenceç±»æå¤ä¸ªå±äº«åéåå¹¶æä¸ä¸ªå±äº«åéæ¥æä½ã\n\n\n# ä»ä¹æ¯ABAé®é¢ï¼ABAé®é¢æä¹è§£å³\n\nABAé®é¢æ¯ä¹è§éå¸¸è§çé®é¢ã å¦æä¸ä¸ªåé V åæ¬¡è¯»åçæ¶åæ¯ A å¼ï¼å¹¶ä¸å¨åå¤èµå¼çæ¶åæ£æ¥å°å®ä»ç¶æ¯ A å¼ï¼é£æä»¬å°±è½è¯´æå®çå¼æ²¡æè¢«å¶ä»çº¿ç¨ä¿®æ¹è¿äºåï¼å¾ææ¾æ¯ä¸è½çï¼å ä¸ºå¨è¿æ®µæ¶é´å®çå¼å¯è½è¢«æ¹ä¸ºå¶ä»å¼ï¼ç¶ååæ¹å Aï¼é£ CAS æä½å°±ä¼è¯¯è®¤ä¸ºå®ä»æ¥æ²¡æè¢«ä¿®æ¹è¿ãè¿ä¸ªé®é¢è¢«ç§°ä¸º CAS æä½ç "ABA"é®é¢ã ABA é®é¢çè§£å³æè·¯æ¯å¨åéåé¢è¿½å ä¸çæ¬å·æèæ¶é´æ³\n\n\n# JMM\n\n\n# å¹¶åç¼ç¨çä¸ä¸ªéè¦ç¹æ§\n\n * åå­æ§ï¼ ä¸æ¬¡æä½æèå¤æ¬¡æä½ï¼è¦ä¹ææçæä½å¨é¨é½å¾å°æ§è¡å¹¶ä¸ä¸ä¼åå°ä»»ä½å ç´ çå¹²æ°èä¸­æ­ï¼è¦ä¹é½ä¸æ§è¡ã å¨ Java ä¸­ï¼å¯ä»¥åå©synchronized ãåç§ Lock ä»¥ååç§åå­ç±»å®ç°åå­æ§ãsynchronized ååç§ Lock å¯ä»¥ä¿è¯ä»»ä¸æ¶å»åªæä¸ä¸ªçº¿ç¨è®¿é®è¯¥ä»£ç åï¼å æ­¤å¯ä»¥ä¿éåå­æ§ãåç§åå­ç±»æ¯å©ç¨ CAS (compare and swap) æä½ï¼å¯è½ä¹ä¼ç¨å° volatileæèfinalå³é®å­ï¼æ¥ä¿è¯åå­æä½ã\n * å¯è§æ§ï¼å½ä¸ä¸ªçº¿ç¨å¯¹å±äº«åéè¿è¡äºä¿®æ¹ï¼é£ä¹å¦å¤ççº¿ç¨é½æ¯ç«å³å¯ä»¥çå°ä¿®æ¹åçææ°å¼ãå¨ Java ä¸­ï¼å¯ä»¥åå©synchronized ãvolatile ä»¥ååç§ Lock å®ç°å¯è§æ§ãå¦ææä»¬å°åéå£°æä¸º volatile ï¼è¿å°±æç¤º JVMï¼è¿ä¸ªåéæ¯å±äº«ä¸ä¸ç¨³å®çï¼æ¯æ¬¡ä½¿ç¨å®é½å°ä¸»å­ä¸­è¿è¡è¯»åã\n * æåºæ§ï¼ç±äºæä»¤éæåºé®é¢ï¼ä»£ç çæ§è¡é¡ºåºæªå¿å°±æ¯ç¼åä»£ç æ¶åçé¡ºåºãæä»¤éæåºå¯ä»¥ä¿è¯ä¸²è¡è¯­ä¹ä¸è´ï¼ä½æ¯æ²¡æä¹å¡ä¿è¯å¤çº¿ç¨é´çè¯­ä¹ä¹ä¸è´ ï¼æä»¥å¨å¤çº¿ç¨ä¸ï¼æä»¤éæåºå¯è½ä¼å¯¼è´ä¸äºé®é¢ã å¨ Java ä¸­ï¼volatile å³é®å­å¯ä»¥ç¦æ­¢æä»¤è¿è¡éæåºä¼åã\n\n\n# ä»ä¹æ¯JMMï¼ä¸ºä»ä¹éè¦JMM\n\nJMM çä½æ¯ Java å®ä¹çå¹¶åç¼ç¨ç¸å³çä¸ç»è§èï¼é¤äºæ½è±¡äºçº¿ç¨åä¸»åå­ä¹é´çå³ç³»ä¹å¤ï¼å¶è¿è§å®äºä» Java æºä»£ç å° CPU å¯æ§è¡æä»¤çè¿ä¸ªè½¬åè¿ç¨è¦éµå®åªäºåå¹¶åç¸å³çåååè§èï¼å¶ä¸»è¦ç®çæ¯ä¸ºäºç®åå¤çº¿ç¨ç¼ç¨ï¼å¢å¼ºç¨åºå¯ç§»æ¤æ§çã ä¸ºä»ä¹è¦éµå®è¿äºå¹¶åç¸å³çåååè§èå¢ï¼ è¿æ¯å ä¸ºå¹¶åç¼ç¨ä¸ï¼å CPU å¤çº§ç¼å­åæä»¤éæè¿ç±»è®¾è®¡å¯è½ä¼å¯¼è´ç¨åºè¿è¡åºç°ä¸äºé®é¢ãå°±æ¯å¦è¯´æä»¬ä¸é¢æå°çæä»¤éæåºå°±å¯è½ä¼è®©å¤çº¿ç¨ç¨åºçæ§è¡åºç°é®é¢ï¼ä¸ºæ­¤ï¼JMM æ½è±¡äº happens-before ååæ¥è§£å³è¿ä¸ªæä»¤éæåºé®é¢ã JMM è¯´ç½äºå°±æ¯å®ä¹äºä¸äºè§èæ¥è§£å³è¿äºé®é¢ï¼å¼åèå¯ä»¥å©ç¨è¿äºè§èæ´æ¹ä¾¿å°å¼åå¤çº¿ç¨ç¨åºãå¯¹äº Java å¼åèè¯´ï¼ä½ ä¸éè¦äºè§£åºå±åçï¼ç´æ¥ä½¿ç¨å¹¶åç¸å³çä¸äºå³é®å­åç±»ï¼æ¯å¦ volatileãsynchronizedãåç§ Lockï¼å³å¯å¼ååºå¹¶åå®å¨çç¨åºã\n\n\n# JMMæ¯å¦ä½æ½è±¡çº¿ç¨åä¸»åå­ä¹é´çå³ç³»ï¼\n\nJava åå­æ¨¡åï¼JMMï¼ æ½è±¡äºçº¿ç¨åä¸»åå­ä¹é´çå³ç³»ï¼å°±æ¯å¦è¯´çº¿ç¨ä¹é´çå±äº«åéå¿é¡»å­å¨å¨ä¸»åå­ä¸­ï¼ ä¸ºå±äº«åéæä¾äºå¯è§æ§çä¿é ã\n\n\n# Javaåå­åºååJMMæä½åºå«\n\nJava åå­åºåååå­æ¨¡åæ¯å®å¨ä¸ä¸æ ·çä¸¤ä¸ªä¸è¥¿ ï¼\n\n * JVM åå­ç»æå Java èææºçè¿è¡æ¶åºåç¸å³ï¼å®ä¹äº JVM å¨è¿è¡æ¶å¦ä½ååºå­å¨ç¨åºæ°æ®ï¼å°±æ¯å¦è¯´å ä¸»è¦ç¨äºå­æ¾å¯¹è±¡å®ä¾ã\n * Java åå­æ¨¡åå Java çå¹¶åç¼ç¨ç¸å³ï¼æ½è±¡äºçº¿ç¨åä¸»åå­ä¹é´çå³ç³»å°±æ¯å¦è¯´çº¿ç¨ä¹é´çå±äº«åéå¿é¡»å­å¨å¨ä¸»åå­ä¸­ï¼è§å®äºä» Java æºä»£ç å° CPU å¯æ§è¡æä»¤çè¿ä¸ªè½¬åè¿ç¨è¦éµå®åªäºåå¹¶åç¸å³çåååè§èï¼å¶ä¸»è¦ç®çæ¯ä¸ºäºç®åå¤çº¿ç¨ç¼ç¨ï¼å¢å¼ºç¨åºå¯ç§»æ¤æ§çã\n\n\n# happens-beforeååæ¯ä»ä¹ï¼ä¸ºä»ä¹éè¦happens-beforeåå\n\né»è¾æ¶éå¹¶ä¸åº¦éæ¶é´æ¬èº«ï¼ä»åºåäºä»¶åççååé¡ºåºï¼å¶æ¬è´¨å°±æ¯å®ä¹äºä¸ç§ happens-before å³ç³»ã happens-before ååçè¯çæ¯ä¸ºäºç¨åºååç¼è¯å¨ãå¤çå¨ä¹é´çå¹³è¡¡ãç¨åºåè¿½æ±çæ¯æäºçè§£åç¼ç¨çå¼ºåå­æ¨¡åï¼éµå®æ¢å®è§åç¼ç å³å¯ãç¼è¯å¨åå¤çå¨è¿½æ±çæ¯è¾å°çº¦æçå¼±åå­æ¨¡åï¼è®©å®ä»¬å°½å·±æè½å°å»ä¼åæ§è½ï¼è®©æ§è½æå¤§åã\n\n\n# synchronized å³é®å­\n\n\n# synchronized å³é®å­çä½ç¨ï¼èªå·±æ¯æä¹ä½¿ç¨çã\n\nsynchronizedæ¯ Java ä¸­çä¸ä¸ªå³é®å­ï¼ç¿»è¯æä¸­ææ¯åæ­¥çææï¼ä¸»è¦è§£å³çæ¯å¤ä¸ªçº¿ç¨ä¹é´è®¿é®èµæºçåæ­¥æ§ï¼å¯ä»¥ä¿è¯è¢«å®ä¿®é¥°çæ¹æ³æèä»£ç åå¨ä»»ææ¶å»åªè½æä¸ä¸ªçº¿ç¨æ§è¡ã å¨ Java æ©æçæ¬ä¸­ï¼synchronizedå±äº ééçº§éï¼æçä½ä¸ãè¿æ¯å ä¸ºçè§å¨éï¼monitorï¼æ¯ä¾èµäºåºå±çæä½ç³»ç»ç Mutex Lock æ¥å®ç°çï¼Java ççº¿ç¨æ¯æ å°å°æä½ç³»ç»çåççº¿ç¨ä¹ä¸çãå¦æè¦æèµ·æèå¤éä¸ä¸ªçº¿ç¨ï¼é½éè¦æä½ç³»ç»å¸®å¿å®æï¼èæä½ç³»ç»å®ç°çº¿ç¨ä¹é´çåæ¢æ¶éè¦ä»ç¨æ·æè½¬æ¢å°åæ ¸æï¼è¿ä¸ªç¶æä¹é´çè½¬æ¢éè¦ç¸å¯¹æ¯è¾é¿çæ¶é´ï¼æ¶é´ææ¬ç¸å¯¹è¾é«ã ä¸è¿ï¼å¨ Java 6 ä¹åï¼ synchronizedå¼å¥äºå¤§éçä¼åå¦èªæéãéåºæ§èªæéãéæ¶é¤ãéç²åãååéãè½»éçº§éç­ææ¯æ¥åå°éæä½çå¼éï¼è¿äºä¼åè®© synchronized éçæçæåäºå¾å¤ãå æ­¤ï¼ synchronized è¿æ¯å¯ä»¥å¨å®éé¡¹ç®ä¸­ä½¿ç¨çï¼å JDK æºç ãå¾å¤å¼æºæ¡æ¶é½å¤§éä½¿ç¨äº synchronized\n\n\n# synchronized å³é®å­çåºå±åç\n\nsynchronized åæ­¥è¯­å¥åçå®ç°ä½¿ç¨çæ¯ monitorenter å monitorexit æä»¤ï¼å¶ä¸­ monitorenter æä»¤æååæ­¥ä»£ç åçå¼å§ä½ç½®ï¼monitorexit æä»¤åææåæ­¥ä»£ç åçç»æä½ç½®ã synchronized ä¿®é¥°çæ¹æ³å¹¶æ²¡æ monitorenter æä»¤å monitorexit æä»¤ï¼åå¾ä»£ä¹çç¡®å®æ¯ ACC_SYNCHRONIZED æ è¯ï¼è¯¥æ è¯ææäºè¯¥æ¹æ³æ¯ä¸ä¸ªåæ­¥æ¹æ³ã ä¸è¿ä¸¤èçæ¬è´¨é½æ¯å¯¹å¯¹è±¡çè§å¨ monitor çè·åã\n\n\n# JDK1.6 ä¹å synchronized å³é®å­åºå±åäºåªäºä¼åãsynchronized éåçº§æµç¨ã\n\nDK1.6 å¯¹éçå®ç°å¼å¥äºå¤§éçä¼åï¼å¦ååéãè½»éçº§éãèªæéãéåºæ§èªæéãéæ¶é¤ãéç²åç­ææ¯æ¥åå°éæä½çå¼éã éä¸»è¦å­å¨åç§ç¶æï¼ä¾æ¬¡æ¯ï¼æ éç¶æãååéç¶æãè½»éçº§éç¶æãééçº§éç¶æï¼ä»ä»¬ä¼éçç«äºçæ¿çèéæ¸åçº§ãæ³¨æéå¯ä»¥åçº§ä¸å¯éçº§ï¼è¿ç§ç­ç¥æ¯ä¸ºäºæé«è·å¾éåéæ¾éçæçã\n\n> åèï¼https://www.cnblogs.com/wuqinglong/p/9945618.html\n\n\n# synchronized å ReentranLock çåºå«\n\n * synchronized ä¾èµäº JVM å®ç°çï¼å¨ JDK1.6 å¯¹ synchronized å³é®å­è¿è¡äºå¾å¤ä¼åï¼ä½æ¯è¿äºä¼åé½æ¯åºäºèææºå±é¢å®ç°çã\n\nReentrantLock æ¯ JDK å®ç°çï¼æ¥çæºç ï¼å¯ä»¥çå°åºå±æ¯éè¿lock() å unlock() æ¹æ³éå try/finally è¯­å¥åæ¥å®æ\n\n * ReentrantLock æ¯æä¸­æ­ç­å¾éçæºå¶ï¼è synchronized ä¸æ¯æ\n * ReentrantLock æ¯æå¬å¹³éåéå¬å¹³éï¼é»è®¤æ¯éå¬å¹³éï¼synchronized åªè½æ¯éå¬å¹³éã\n\n\n# synchronized å volatile çåºå«\n\nsynchronized å³é®å­å volatile å³é®å­æ¯ä¸¤ä¸ªäºè¡¥çå­å¨ï¼èä¸æ¯å¯¹ç«çå­å¨ï¼\n\n * volatile å³é®å­æ¯çº¿ç¨åæ­¥çè½»éçº§å®ç°ï¼æä»¥ volatileæ§è½è¯å®æ¯synchronizedå³é®å­è¦å¥½ ãä½æ¯ volatile å³é®å­åªè½ç¨äºåéè synchronized å³é®å­å¯ä»¥ä¿®é¥°æ¹æ³ä»¥åä»£ç å ã\n * volatile å³é®å­è½ä¿è¯æ°æ®çå¯è§æ§ï¼ä½ä¸è½ä¿è¯æ°æ®çåå­æ§ãsynchronized å³é®å­ä¸¤èé½è½ä¿è¯ã\n * volatileå³é®å­ä¸»è¦ç¨äºè§£å³åéå¨å¤ä¸ªçº¿ç¨ä¹é´çå¯è§æ§ï¼è synchronized å³é®å­è§£å³çæ¯å¤ä¸ªçº¿ç¨ä¹é´è®¿é®èµæºçåæ­¥æ§ã\n\n\n# volatileå³é®å­\n\n\n# volatile å³é®å­å¦ä½ä¿è¯åéçå¯è§æ§\n\nå¨ Java ä¸­ï¼volatile å³é®å­å¯ä»¥ä¿è¯åéçå¯è§æ§ï¼å¦ææä»¬å°åéå£°æä¸º volatile ï¼è¿å°±æç¤º JVMï¼è¿ä¸ªåéæ¯å±äº«ä¸ä¸ç¨³å®çï¼æ¯æ¬¡ä½¿ç¨å®é½å°ä¸»å­ä¸­è¿è¡è¯»åã\nvolatile å³é®å­è½ä¿è¯æ°æ®çå¯è§æ§ï¼ä½ä¸è½ä¿è¯æ°æ®çåå­æ§ãsynchronized å³é®å­ä¸¤èé½è½ä¿è¯ã\n\n\n# volatile å¦ä½ç¦æ­¢æä»¤éæåº\n\nå¨ Java ä¸­ï¼volatile å³é®å­é¤äºå¯ä»¥ä¿è¯åéçå¯è§æ§ï¼è¿æä¸ä¸ªéè¦çä½ç¨å°±æ¯é²æ­¢ JVM çæä»¤éæåºã å¦ææä»¬å°åéå£°æä¸º volatile ï¼å¨å¯¹è¿ä¸ªåéè¿è¡è¯»åæä½çæ¶åï¼ä¼éè¿æå¥ç¹å®ç åå­å±é çæ¹å¼æ¥ç¦æ­¢æä»¤éæåºã å¨ Java ä¸­ï¼Unsafe ç±»æä¾äºä¸ä¸ªå¼ç®±å³ç¨çåå­å±éç¸å³çæ¹æ³ï¼å±è½äºæä½ç³»ç»åºå±çå·®å¼ï¼\n\npublic native void loadFence();\npublic native void storeFence();\npublic native void fullFence();\n\n\n\n\n# volatile å¯ä»¥ä¿è¯åå­æ§ä¹\n\nvolatile å³é®å­è½ä¿è¯åéçå¯è§æ§ï¼ä½ä¸è½ä¿è¯å¯¹åéçæä½æ¯åå­æ§çã\n\n\n# ThreadLocal\n\n\n# ThreadLocal æä»ä¹ç¨\n\néå¸¸æåµä¸ï¼æä»¬åå»ºçåéæ¯å¯ä»¥è¢«ä»»ä½ä¸ä¸ªçº¿ç¨è®¿é®å¹¶ä¿®æ¹çãå¦ææ³å®ç°æ¯ä¸ä¸ªçº¿ç¨é½æèªå·±çä¸å±æ¬å°åéè¯¥å¦ä½è§£å³å¢ï¼ JDK ä¸­èªå¸¦çThreadLocalç±»æ­£æ¯ä¸ºäºè§£å³è¿æ ·çé®é¢ã ThreadLocalç±»ä¸»è¦è§£å³çå°±æ¯è®©æ¯ä¸ªçº¿ç¨ç»å®èªå·±çå¼ï¼å¯ä»¥å°ThreadLocalç±»å½¢è±¡çæ¯å»æå­æ¾æ°æ®ççå­ï¼çå­ä¸­å¯ä»¥å­å¨æ¯ä¸ªçº¿ç¨çç§ææ°æ®ã å¦æä½ åå»ºäºä¸ä¸ªThreadLocalåéï¼é£ä¹è®¿é®è¿ä¸ªåéçæ¯ä¸ªçº¿ç¨é½ä¼æè¿ä¸ªåéçæ¬å°å¯æ¬ï¼è¿ä¹æ¯ThreadLocalåéåçç±æ¥ãä»ä»¬å¯ä»¥ä½¿ç¨ get() å set() æ¹æ³æ¥è·åé»è®¤å¼æå°å¶å¼æ´æ¹ä¸ºå½åçº¿ç¨æå­çå¯æ¬çå¼ï¼ä»èé¿åäºçº¿ç¨å®å¨é®é¢ã åä¸¾ä¸ªç®åçä¾å­ï¼ä¸¤ä¸ªäººå»å®å±æ¶éå®ç©ï¼è¿ä¸¤ä¸ªå±ç¨ä¸ä¸ªè¢å­çè¯è¯å®ä¼äº§çäºæ§ï¼ä½æ¯ç»ä»ä»¬ä¸¤ä¸ªäººæ¯ä¸ªäººåéä¸ä¸ªè¢å­çè¯å°±ä¸ä¼åºç°è¿æ ·çé®é¢ãå¦ææè¿ä¸¤ä¸ªäººæ¯ä½çº¿ç¨çè¯ï¼é£ä¹ ThreadLocal å°±æ¯ç¨æ¥é¿åè¿ä¸¤ä¸ªçº¿ç¨ç«äºçã\n\n\n# å¦ä½ä½¿ç¨ ThreadLocal\n\nä¸é¢ç®åæ¼ç¤ºä¸ä¸å¦ä½å¨é¡¹ç®ä¸­å®éä½¿ç¨ ThreadLocal ã\n\nimport java.text.SimpleDateFormat;\nimport java.util.Random;\n\npublic class ThreadLocalExample implements Runnable{\n\n     // SimpleDateFormat ä¸æ¯çº¿ç¨å®å¨çï¼æä»¥æ¯ä¸ªçº¿ç¨é½è¦æèªå·±ç¬ç«çå¯æ¬\n    private static final ThreadLocal<SimpleDateFormat> formatter = ThreadLocal.withInitial(() -> new SimpleDateFormat("yyyyMMdd HHmm"));\n\n    public static void main(String[] args) throws InterruptedException {\n        ThreadLocalExample obj = new ThreadLocalExample();\n        for(int i=0 ; i<10; i++){\n            Thread t = new Thread(obj, ""+i);\n            Thread.sleep(new Random().nextInt(1000));\n            t.start();\n        }\n    }\n\n    @Override\n    public void run() {\n        System.out.println("Thread Name= "+Thread.currentThread().getName()+" default Formatter = "+formatter.get().toPattern());\n        try {\n            Thread.sleep(new Random().nextInt(1000));\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        //formatter pattern is changed here by thread, but it won\'t reflect to other threads\n        formatter.set(new SimpleDateFormat());\n\n        System.out.println("Thread Name= "+Thread.currentThread().getName()+" formatter = "+formatter.get().toPattern());\n    }\n\n}\n\n\n\n\nè¾åºç»æï¼\n\nThread Name= 0 default Formatter = yyyyMMdd HHmm\nThread Name= 0 formatter = yy-M-d ah:mm\nThread Name= 1 default Formatter = yyyyMMdd HHmm\nThread Name= 2 default Formatter = yyyyMMdd HHmm\nThread Name= 1 formatter = yy-M-d ah:mm\nThread Name= 3 default Formatter = yyyyMMdd HHmm\nThread Name= 2 formatter = yy-M-d ah:mm\nThread Name= 4 default Formatter = yyyyMMdd HHmm\nThread Name= 3 formatter = yy-M-d ah:mm\nThread Name= 4 formatter = yy-M-d ah:mm\nThread Name= 5 default Formatter = yyyyMMdd HHmm\nThread Name= 5 formatter = yy-M-d ah:mm\nThread Name= 6 default Formatter = yyyyMMdd HHmm\nThread Name= 6 formatter = yy-M-d ah:mm\nThread Name= 7 default Formatter = yyyyMMdd HHmm\nThread Name= 7 formatter = yy-M-d ah:mm\nThread Name= 8 default Formatter = yyyyMMdd HHmm\nThread Name= 9 default Formatter = yyyyMMdd HHmm\nThread Name= 8 formatter = yy-M-d ah:mm\nThread Name= 9 formatter = yy-M-d ah:mm\n\n\n\nä»è¾åºä¸­å¯ä»¥çåºï¼è½ç¶ Thread-0 å·²ç»æ¹åäº formatter çå¼ï¼ä½ Thread-1 é»è®¤æ ¼å¼åå¼ä¸åå§åå¼ç¸åï¼å¶ä»çº¿ç¨ä¹ä¸æ ·ã\n\n\n# ThreadLocal åçäºè§£å\n\nä» Threadç±»æºä»£ç å¥æã\n\npublic class Thread implements Runnable {\n    //......\n    //ä¸æ­¤çº¿ç¨æå³çThreadLocalå¼ãç±ThreadLocalç±»ç»´æ¤\n    ThreadLocal.ThreadLocalMap threadLocals = null;\n\n    //ä¸æ­¤çº¿ç¨æå³çInheritableThreadLocalå¼ãç±InheritableThreadLocalç±»ç»´æ¤\n    ThreadLocal.ThreadLocalMap inheritableThreadLocals = null;\n    //......\n}\n\n\n\nä»ä¸é¢Threadç±» æºä»£ç å¯ä»¥çåºThread ç±»ä¸­æä¸ä¸ª threadLocals å ä¸ä¸ª inheritableThreadLocals åéï¼å®ä»¬é½æ¯ ThreadLocalMap ç±»åçåé,æä»¬å¯ä»¥æ ThreadLocalMap çè§£ä¸ºThreadLocal ç±»å®ç°çå®å¶åç HashMapãé»è®¤æåµä¸è¿ä¸¤ä¸ªåéé½æ¯ nullï¼åªæå½åçº¿ç¨è°ç¨ ThreadLocal ç±»ç setægetæ¹æ³æ¶æåå»ºå®ä»¬ï¼å®éä¸è°ç¨è¿ä¸¤ä¸ªæ¹æ³çæ¶åï¼æä»¬è°ç¨çæ¯ThreadLocalMapç±»å¯¹åºç get()ãset()æ¹æ³ã ThreadLocalç±»çset()æ¹æ³\n\npublic void set(T value) {\n    //è·åå½åè¯·æ±ççº¿ç¨\n    Thread t = Thread.currentThread();\n    //ååº Thread ç±»åé¨ç threadLocals åé(åå¸è¡¨ç»æ)\n    ThreadLocalMap map = getMap(t);\n    if (map != null)\n        // å°éè¦å­å¨çå¼æ¾å¥å°è¿ä¸ªåå¸è¡¨ä¸­\n        map.set(this, value);\n    else\n        createMap(t, value);\n}\nThreadLocalMap getMap(Thread t) {\n    return t.threadLocals;\n}\n\n\n\néè¿ä¸é¢è¿äºåå®¹ï¼æä»¬è¶³ä»¥éè¿çæµå¾åºç»è®ºï¼**æç»çåéæ¯æ¾å¨äºå½åçº¿ç¨ç ThreadLocalMap ä¸­ï¼å¹¶ä¸æ¯å­å¨ ThreadLocal ä¸ï¼ThreadLocal å¯ä»¥çè§£ä¸ºåªæ¯ThreadLocalMapçå°è£ï¼ä¼ éäºåéå¼ã**ThrealLocal ç±»ä¸­å¯ä»¥éè¿Thread.currentThread()è·åå°å½åçº¿ç¨å¯¹è±¡åï¼ç´æ¥éè¿getMap(Thread t)å¯ä»¥è®¿é®å°è¯¥çº¿ç¨çThreadLocalMapå¯¹è±¡ã æ¯ä¸ªThreadä¸­é½å·å¤ä¸ä¸ªThreadLocalMapï¼èThreadLocalMapå¯ä»¥å­å¨ä»¥ThreadLocalä¸º key ï¼Object å¯¹è±¡ä¸º value çé®å¼å¯¹ã\n\nThreadLocalMap(ThreadLocal<?> firstKey, Object firstValue) {\n    //......\n}\n\n\n\næ¯å¦æä»¬å¨åä¸ä¸ªçº¿ç¨ä¸­å£°æäºä¸¤ä¸ª ThreadLocal å¯¹è±¡çè¯ï¼ Threadåé¨é½æ¯ä½¿ç¨ä»æçé£ä¸ªThreadLocalMap å­æ¾æ°æ®çï¼ThreadLocalMapç key å°±æ¯ ThreadLocalå¯¹è±¡ï¼value å°±æ¯ ThreadLocal å¯¹è±¡è°ç¨setæ¹æ³è®¾ç½®çå¼ã ThreadLocal æ°æ®ç»æå¦ä¸å¾æç¤ºï¼\n\n\n# ThreadLocal åå­æ³é²é®é¢æ¯æä¹å¯¼è´çï¼\n\nThreadLocalMap ä¸­ä½¿ç¨ç key ä¸º ThreadLocal çå¼±å¼ç¨ï¼è value æ¯å¼ºå¼ç¨ãæä»¥ï¼å¦æ ThreadLocal æ²¡æè¢«å¤é¨å¼ºå¼ç¨çæåµä¸ï¼å¨åå¾åæ¶çæ¶åï¼key ä¼è¢«æ¸çæï¼è value ä¸ä¼è¢«æ¸çæã è¿æ ·ä¸æ¥ï¼ThreadLocalMap ä¸­å°±ä¼åºç° key ä¸º null ç Entryãåå¦æä»¬ä¸åä»»ä½æªæ½çè¯ï¼value æ°¸è¿æ æ³è¢« GC åæ¶ï¼è¿ä¸ªæ¶åå°±å¯è½ä¼äº§çåå­æ³é²ãThreadLocalMap å®ç°ä¸­å·²ç»èèäºè¿ç§æåµï¼å¨è°ç¨ set()ãget()ãremove() æ¹æ³çæ¶åï¼ä¼æ¸çæ key ä¸º null çè®°å½ãä½¿ç¨å® ThreadLocalæ¹æ³å æå¥½æå¨è°ç¨remove()æ¹æ³\n\n\n# çº¿ç¨æ± \n\n\n# ä»ä¹æ¯çº¿ç¨æ± \n\né¡¾åæä¹ï¼çº¿ç¨æ± å°±æ¯ç®¡çä¸ç³»åçº¿ç¨çèµæºæ± ãå½æä»»å¡è¦å¤çæ¶ï¼ç´æ¥ä»çº¿ç¨æ± ä¸­è·åçº¿ç¨æ¥å¤çï¼å¤çå®ä¹åçº¿ç¨å¹¶ä¸ä¼ç«å³è¢«éæ¯ï¼èæ¯ç­å¾ä¸ä¸ä¸ªä»»å¡ã\n\n\n# ä¸ºä»ä¹è¦ç¨çº¿ç¨æ± \n\næ± åææ¯æ³å¿å¤§å®¶å·²ç»å±¡è§ä¸é²äºï¼çº¿ç¨æ± ãæ°æ®åºè¿æ¥æ± ãHttp è¿æ¥æ± ç­ç­é½æ¯å¯¹è¿ä¸ªææ³çåºç¨ãæ± åææ¯çææ³ä¸»è¦æ¯ä¸ºäºåå°æ¯æ¬¡è·åèµæºçæ¶èï¼æé«å¯¹èµæºçå©ç¨çã çº¿ç¨æ± æä¾äºä¸ç§éå¶åç®¡çèµæºï¼åæ¬æ§è¡ä¸ä¸ªä»»å¡ï¼çæ¹å¼ã æ¯ä¸ªçº¿ç¨æ± è¿ç»´æ¤ä¸äºåºæ¬ç»è®¡ä¿¡æ¯ï¼ä¾å¦å·²å®æä»»å¡çæ°éã ä½¿ç¨çº¿ç¨æ± çå¥½å¤ï¼\n\n * éä½èµæºæ¶èãéè¿éå¤å©ç¨å·²åå»ºççº¿ç¨éä½çº¿ç¨åå»ºåéæ¯é æçæ¶èã\n * æé«ååºéåº¦ãå½ä»»å¡å°è¾¾æ¶ï¼ä»»å¡å¯ä»¥ä¸éè¦ç­å°çº¿ç¨åå»ºå°±è½ç«å³æ§è¡ã\n * æé«çº¿ç¨çå¯ç®¡çæ§ãçº¿ç¨æ¯ç¨ç¼ºèµæºï¼å¦ææ éå¶çåå»ºï¼ä¸ä»ä¼æ¶èç³»ç»èµæºï¼è¿ä¼éä½ç³»ç»çç¨³å®æ§ï¼ä½¿ç¨çº¿ç¨æ± å¯ä»¥è¿è¡ç»ä¸çåéï¼è°ä¼åçæ§ã\n\n\n# å¦ä½åå»ºçº¿ç¨æ± \n\næ¹å¼ä¸ï¼éè¿**ThreadPoolExecutor**æé å½æ°æ¥åå»ºï¼æ¨èï¼ã\n\næ¹å¼äºï¼éè¿ **Executor** æ¡æ¶çå·¥å·ç±» **Executors** æ¥åå»ºã\n\næä»¬å¯ä»¥åå»ºå¤ç§ç±»åç ThreadPoolExecutorï¼\n\n * FixedThreadPool ï¼ è¯¥æ¹æ³è¿åä¸ä¸ªåºå®çº¿ç¨æ°éççº¿ç¨æ± ãè¯¥çº¿ç¨æ± ä¸­ççº¿ç¨æ°éå§ç»ä¸åãå½æä¸ä¸ªæ°çä»»å¡æäº¤æ¶ï¼çº¿ç¨æ± ä¸­è¥æç©ºé²çº¿ç¨ï¼åç«å³æ§è¡ãè¥æ²¡æï¼åæ°çä»»å¡ä¼è¢«æå­å¨ä¸ä¸ªä»»å¡éåä¸­ï¼å¾æçº¿ç¨ç©ºé²æ¶ï¼ä¾¿å¤çå¨ä»»å¡éåä¸­çä»»å¡ã\n * SingleThreadExecutorï¼ è¯¥æ¹æ³è¿åä¸ä¸ªåªæä¸ä¸ªçº¿ç¨ççº¿ç¨æ± ãè¥å¤ä½ä¸ä¸ªä»»å¡è¢«æäº¤å°è¯¥çº¿ç¨æ± ï¼ä»»å¡ä¼è¢«ä¿å­å¨ä¸ä¸ªä»»å¡éåä¸­ï¼å¾çº¿ç¨ç©ºé²ï¼æåå¥ååºçé¡ºåºæ§è¡éåä¸­çä»»å¡ã\n * CachedThreadPoolï¼ è¯¥æ¹æ³è¿åä¸ä¸ªå¯æ ¹æ®å®éæåµè°æ´çº¿ç¨æ°éççº¿ç¨æ± ãçº¿ç¨æ± ççº¿ç¨æ°éä¸ç¡®å®ï¼ä½è¥æç©ºé²çº¿ç¨å¯ä»¥å¤ç¨ï¼åä¼ä¼åä½¿ç¨å¯å¤ç¨ççº¿ç¨ãè¥ææçº¿ç¨åå¨å·¥ä½ï¼åææ°çä»»å¡æäº¤ï¼åä¼åå»ºæ°ççº¿ç¨å¤çä»»å¡ãææçº¿ç¨å¨å½åä»»å¡æ§è¡å®æ¯åï¼å°è¿åçº¿ç¨æ± è¿è¡å¤ç¨ã\n * ScheduledThreadPool ï¼è¯¥è¿åä¸ä¸ªç¨æ¥å¨ç»å®çå»¶è¿åè¿è¡ä»»å¡æèå®ææ§è¡ä»»å¡ççº¿ç¨æ± ã\n\nå¯¹åº Executors å·¥å·ç±»ä¸­çæ¹æ³å¦å¾æç¤ºï¼\n\n\n# çº¿ç¨æ± å¸¸è§åæ°æåªäºï¼å¦ä½è§£éï¼\n\n    /**\n     * ç¨ç»å®çåå§åæ°åå»ºä¸ä¸ªæ°çThreadPoolExecutorã\n     */\n    public ThreadPoolExecutor(int corePoolSize,//çº¿ç¨æ± çæ ¸å¿çº¿ç¨æ°é\n                              int maximumPoolSize,//çº¿ç¨æ± çæå¤§çº¿ç¨æ°\n                              long keepAliveTime,//å½çº¿ç¨æ°å¤§äºæ ¸å¿çº¿ç¨æ°æ¶ï¼å¤ä½çç©ºé²çº¿ç¨å­æ´»çæé¿æ¶é´\n                              TimeUnit unit,//æ¶é´åä½\n                              BlockingQueue<Runnable> workQueue,//ä»»å¡éåï¼ç¨æ¥å¨å­ç­å¾æ§è¡ä»»å¡çéå\n                              ThreadFactory threadFactory,//çº¿ç¨å·¥åï¼ç¨æ¥åå»ºçº¿ç¨ï¼ä¸è¬é»è®¤å³å¯\n                              RejectedExecutionHandler handler//æç»ç­ç¥ï¼å½æäº¤çä»»å¡è¿å¤èä¸è½åæ¶å¤çæ¶ï¼æä»¬å¯ä»¥å®å¶ç­ç¥æ¥å¤çä»»å¡\n                               ) {\n        if (corePoolSize < 0 ||\n            maximumPoolSize <= 0 ||\n            maximumPoolSize < corePoolSize ||\n            keepAliveTime < 0)\n            throw new IllegalArgumentException();\n        if (workQueue == null || threadFactory == null || handler == null)\n            throw new NullPointerException();\n        this.corePoolSize = corePoolSize;\n        this.maximumPoolSize = maximumPoolSize;\n        this.workQueue = workQueue;\n        this.keepAliveTime = unit.toNanos(keepAliveTime);\n        this.threadFactory = threadFactory;\n        this.handler = handler;\n    }\n\n\n\nThreadPoolExecutor 3 ä¸ªæéè¦çåæ°ï¼\n\n * corePoolSize : ä»»å¡éåæªè¾¾å°éåå®¹éæ¶ï¼æå¤§å¯ä»¥åæ¶è¿è¡ççº¿ç¨æ°éã\n * maximumPoolSize : ä»»å¡éåä¸­å­æ¾çä»»å¡è¾¾å°éåå®¹éçæ¶åï¼å½åå¯ä»¥åæ¶è¿è¡ççº¿ç¨æ°éåä¸ºæå¤§çº¿ç¨æ°ã\n * workQueue: æ°ä»»å¡æ¥çæ¶åä¼åå¤æ­å½åè¿è¡ççº¿ç¨æ°éæ¯å¦è¾¾å°æ ¸å¿çº¿ç¨æ°ï¼å¦æè¾¾å°çè¯ï¼æ°ä»»å¡å°±ä¼è¢«å­æ¾å¨éåä¸­ã\n\nThreadPoolExecutorå¶ä»å¸¸è§åæ° :\n\n * keepAliveTime:çº¿ç¨æ± ä¸­ççº¿ç¨æ°éå¤§äº corePoolSize çæ¶åï¼å¦æè¿æ¶æ²¡ææ°çä»»å¡æäº¤ï¼æ ¸å¿çº¿ç¨å¤ççº¿ç¨ä¸ä¼ç«å³éæ¯ï¼èæ¯ä¼ç­å¾ï¼ç´å°ç­å¾çæ¶é´è¶è¿äº keepAliveTimeæä¼è¢«åæ¶éæ¯ï¼\n * unit : keepAliveTime åæ°çæ¶é´åä½ã\n * threadFactory :executor åå»ºæ°çº¿ç¨çæ¶åä¼ç¨å°ã\n * handler :é¥±åç­ç¥ãå³äºé¥±åç­ç¥ä¸é¢åç¬ä»ç»ä¸ä¸ã\n\n\n# çº¿ç¨æ± çé¥±åç­ç¥æåªäº\n\nå¦æå½ååæ¶è¿è¡ççº¿ç¨æ°éè¾¾å°æå¤§çº¿ç¨æ°éå¹¶ä¸éåä¹å·²ç»è¢«æ¾æ»¡äºä»»å¡æ¶ï¼ThreadPoolTaskExecutor å®ä¹ä¸äºç­ç¥:\n\n * ThreadPoolExecutor.AbortPolicyï¼ æåº RejectedExecutionExceptionæ¥æç»æ°ä»»å¡çå¤çã\n * ThreadPoolExecutor.CallerRunsPolicyï¼ è°ç¨æ§è¡èªå·±ççº¿ç¨è¿è¡ä»»å¡ï¼ä¹å°±æ¯ç´æ¥å¨è°ç¨executeæ¹æ³ççº¿ç¨ä¸­è¿è¡(run)è¢«æç»çä»»å¡ï¼å¦ææ§è¡ç¨åºå·²å³é­ï¼åä¼ä¸¢å¼è¯¥ä»»å¡ãå æ­¤è¿ç§ç­ç¥ä¼éä½å¯¹äºæ°ä»»å¡æäº¤éåº¦ï¼å½±åç¨åºçæ´ä½æ§è½ãå¦ææ¨çåºç¨ç¨åºå¯ä»¥æ¿åæ­¤å»¶è¿å¹¶ä¸ä½ è¦æ±ä»»ä½ä¸ä¸ªä»»å¡è¯·æ±é½è¦è¢«æ§è¡çè¯ï¼ä½ å¯ä»¥éæ©è¿ä¸ªç­ç¥ã\n * ThreadPoolExecutor.DiscardPolicyï¼ ä¸å¤çæ°ä»»å¡ï¼ç´æ¥ä¸¢å¼æã\n * ThreadPoolExecutor.DiscardOldestPolicyï¼ æ­¤ç­ç¥å°ä¸¢å¼ææ©çæªå¤ççä»»å¡è¯·æ±ã\n\nä¸¾ä¸ªä¾å­ï¼ Spring éè¿ ThreadPoolTaskExecutor æèæä»¬ç´æ¥éè¿ ThreadPoolExecutor çæé å½æ°åå»ºçº¿ç¨æ± çæ¶åï¼å½æä»¬ä¸æå® RejectedExecutionHandler é¥±åç­ç¥çè¯æ¥éç½®çº¿ç¨æ± çæ¶åé»è®¤ä½¿ç¨çæ¯ ThreadPoolExecutor.AbortPolicyãå¨é»è®¤æåµä¸ï¼ThreadPoolExecutor å°æåº RejectedExecutionException æ¥æç»æ°æ¥çä»»å¡ ï¼è¿ä»£è¡¨ä½ å°ä¸¢å¤±å¯¹è¿ä¸ªä»»å¡çå¤çã å¯¹äºå¯ä¼¸ç¼©çåºç¨ç¨åºï¼å»ºè®®ä½¿ç¨ ThreadPoolExecutor.CallerRunsPolicyãå½æå¤§æ± è¢«å¡«æ»¡æ¶ï¼æ­¤ç­ç¥ä¸ºæä»¬æä¾å¯ä¼¸ç¼©éåãï¼è¿ä¸ªç´æ¥æ¥ç ThreadPoolExecutor çæé å½æ°æºç å°±å¯ä»¥çåºï¼æ¯è¾ç®åçåå ï¼è¿éå°±ä¸è´´ä»£ç äºï¼\n\n\n# çº¿ç¨æ± çæ§è¡æµç¨\n\n\n\n 1. å¦æå½åè¿è¡ççº¿ç¨æ°å°äºæ ¸å¿çº¿ç¨æ°ï¼é£ä¹å°±ä¼æ°å»ºä¸ä¸ªçº¿ç¨æ¥æ§è¡ä»»å¡ã\n 2. å¦æå½åè¿è¡ççº¿ç¨æ°ç­äºæå¤§äºæ ¸å¿çº¿ç¨æ°ï¼ä½æ¯å°äºæå¤§çº¿ç¨æ°ï¼é£ä¹å°±æè¯¥ä»»å¡æ¾å¥å°ä»»å¡éåéç­å¾æ§è¡ã\n 3. å¦æåä»»å¡éåææ¾ä»»å¡å¤±è´¥ï¼ä»»å¡éåå·²ç»æ»¡äºï¼ï¼ä½æ¯å½åè¿è¡ççº¿ç¨æ°æ¯å°äºæå¤§çº¿ç¨æ°çï¼å°±æ°å»ºä¸ä¸ªçº¿ç¨æ¥æ§è¡ä»»å¡ã\n 4. å¦æå½åè¿è¡ççº¿ç¨æ°å·²ç»ç­åäºæå¤§çº¿ç¨æ°äºï¼æ°å»ºçº¿ç¨å°ä¼ä½¿å½åè¿è¡ççº¿ç¨è¶åºæå¤§çº¿ç¨æ°ï¼é£ä¹å½åä»»å¡ä¼è¢«æç»ï¼é¥±åç­ç¥ä¼è°ç¨RejectedExecutionHandler.rejectedExecution()æ¹æ³ã\n\n\n# å¦ä½è®¾å®çº¿ç¨æ± çå¤§å°\n\nçº¿ç¨æ± å¤§å°è®¾ç½®è¿å¤§æèè¿å°é½ä¼æé®é¢ï¼åéçææ¯æå¥½ã\n\n * å¦ææä»¬è®¾ç½®ççº¿ç¨æ± æ°éå¤ªå°çè¯ï¼å¦æåä¸æ¶é´æå¤§éä»»å¡/è¯·æ±éè¦å¤çï¼å¯è½ä¼å¯¼è´å¤§éçè¯·æ±/ä»»å¡å¨ä»»å¡éåä¸­æéç­å¾æ§è¡ï¼çè³ä¼åºç°ä»»å¡éåæ»¡äºä¹åä»»å¡/è¯·æ±æ æ³å¤ççæåµï¼æèå¤§éä»»å¡å ç§¯å¨ä»»å¡éåå¯¼è´ OOMãè¿æ ·å¾ææ¾æ¯æé®é¢çï¼CPU æ ¹æ¬æ²¡æå¾å°ååå©ç¨ã\n * å¦ææä»¬è®¾ç½®çº¿ç¨æ°éå¤ªå¤§ï¼å¤§éçº¿ç¨å¯è½ä¼åæ¶å¨äºå CPU èµæºï¼è¿æ ·ä¼å¯¼è´å¤§éçä¸ä¸æåæ¢ï¼ä»èå¢å çº¿ç¨çæ§è¡æ¶é´ï¼å½±åäºæ´ä½æ§è¡æçã\n\næä¸ä¸ªç®åå¹¶ä¸éç¨é¢æ¯è¾å¹¿çå¬å¼ï¼\n\n * CPU å¯éåä»»å¡(N+1)ï¼ è¿ç§ä»»å¡æ¶èçä¸»è¦æ¯ CPU èµæºï¼å¯ä»¥å°çº¿ç¨æ°è®¾ç½®ä¸º Nï¼CPU æ ¸å¿æ°ï¼+1ãæ¯ CPU æ ¸å¿æ°å¤åºæ¥çä¸ä¸ªçº¿ç¨æ¯ä¸ºäºé²æ­¢çº¿ç¨å¶åçç¼ºé¡µä¸­æ­ï¼æèå¶å®åå å¯¼è´çä»»å¡æåèå¸¦æ¥çå½±åãä¸æ¦ä»»å¡æåï¼CPU å°±ä¼å¤äºç©ºé²ç¶æï¼èå¨è¿ç§æåµä¸å¤åºæ¥çä¸ä¸ªçº¿ç¨å°±å¯ä»¥ååå©ç¨ CPU çç©ºé²æ¶é´ã\n * I/O å¯éåä»»å¡(2N)ï¼ è¿ç§ä»»å¡åºç¨èµ·æ¥ï¼ç³»ç»ä¼ç¨å¤§é¨åçæ¶é´æ¥å¤ç I/O äº¤äºï¼èçº¿ç¨å¨å¤ç I/O çæ¶é´æ®µåä¸ä¼å ç¨ CPU æ¥å¤çï¼è¿æ¶å°±å¯ä»¥å° CPU äº¤åºç»å¶å®çº¿ç¨ä½¿ç¨ãå æ­¤å¨ I/O å¯éåä»»å¡çåºç¨ä¸­ï¼æä»¬å¯ä»¥å¤éç½®ä¸äºçº¿ç¨ï¼å·ä½çè®¡ç®æ¹æ³æ¯ 2Nã\n\n\n# AQS\n\n\n# AQS æ¯ä»ä¹ï¼\n\nAQS çå¨ç§°ä¸º AbstractQueuedSynchronizer ï¼ç¿»è¯è¿æ¥çææå°±æ¯æ½è±¡éååæ­¥å¨ãè¿ä¸ªç±»å¨ java.util.concurrent.locks åä¸é¢ã\nAQS å°±æ¯ä¸ä¸ªæ½è±¡ç±»ï¼ä¸»è¦ç¨æ¥æå»ºéååæ­¥å¨\n\npublic abstract class AbstractQueuedSynchronizer extends AbstractOwnableSynchronizer implements java.io.Serializable {\n}\n\n\n\nAQS ä¸ºæå»ºéååæ­¥å¨æä¾äºä¸äºéç¨åè½çæ¯å®ç°ï¼å æ­¤ï¼ä½¿ç¨ AQS è½ç®åä¸é«æå°æé åºåºç¨å¹¿æ³çå¤§éçåæ­¥å¨ï¼æ¯å¦æä»¬æå°ç ReentrantLockï¼Semaphoreï¼å¶ä»çè¯¸å¦ ReentrantReadWriteLockï¼SynchronousQueueç­ç­çæ¯åºäº AQS çã\n\n\n# AQSçåçæ¯ä»ä¹\n\nAQS æ ¸å¿ææ³æ¯ï¼å¦æè¢«è¯·æ±çå±äº«èµæºç©ºé²ï¼åå°å½åè¯·æ±èµæºççº¿ç¨è®¾ç½®ä¸ºææçå·¥ä½çº¿ç¨ï¼å¹¶ä¸å°å±äº«èµæºè®¾ç½®ä¸ºéå®ç¶æãå¦æè¢«è¯·æ±çå±äº«èµæºè¢«å ç¨ï¼é£ä¹å°±éè¦ä¸å¥çº¿ç¨é»å¡ç­å¾ä»¥åè¢«å¤éæ¶éåéçæºå¶ï¼è¿ä¸ªæºå¶ AQS æ¯ç¨ CLH éåé å®ç°çï¼å³å°ææ¶è·åä¸å°éççº¿ç¨å å¥å°éåä¸­ã',normalizedContent:'#\n\n\n# åºç¡\n\n\n# ä»ä¹æ¯çº¿ç¨åè¿ç¨ï¼çº¿ç¨ä¸è¿ç¨çå³ç³»ï¼åºå«åä¼ç¼ºç¹ï¼\n\nè¿ç¨æ¯ç¨åºçä¸æ¬¡æ§è¡è¿ç¨ï¼æ¯ç³»ç»è¿è¡ç¨åºçåºæ¬åä½ãç³»ç»è¿è¡ä¸ä¸ªç¨åºå°±æ¯ä¸ä¸ªè¿ç¨ä»åå»ºï¼è¿è¡å°æ¶äº¡çè¿ç¨ãçº¿ç¨æ¯ä¸ä¸ªè¿ç¨æ´å°çæ§è¡åä½ãä¸ä¸ªè¿ç¨å¨æ§è¡è¿ç¨ä¸­å¯ä»¥äº§çå¤ä¸ªçº¿ç¨ã å¤ä¸ªçº¿ç¨å±äº«è¿ç¨çå åæ¹æ³åº (jdk1.8 ä¹åçåç©ºé´)èµæºï¼ä½æ¯æ¯ä¸ªçº¿ç¨æèªå·±çç¨åºè®¡æ°å¨ãèææºæ  å æ¬å°æ¹æ³æ ã\nè¿ç¨æ¯ç¬ç«çï¼èçº¿ç¨åä¸ä¸å®ï¼å ä¸ºåä¸è¿ç¨ä¸­çº¿ç¨å¯è½ä¼ç¸äºå½±åãçº¿ç¨æ§è¡å¼éå°ï¼ä½ä¸å©äºèµæºçç®¡çåä¿æ¤ï¼èè¿ç¨æ­£ç¸åã\n\n\n# ä¸ºä»ä¹è¦ä½¿ç¨å¤çº¿ç¨å¢\n\n * ä»è®¡ç®æºåºå±æ¥è¯´ï¼ çº¿ç¨å¯ä»¥æ¯ä½æ¯è½»éçº§çè¿ç¨ï¼æ¯ç¨åºæ§è¡çæå°åä½,çº¿ç¨é´çåæ¢åè°åº¦çææ¬è¿è¿å°äºè¿ç¨ãå¦å¤ï¼å¤æ ¸ cpu æ¶ä»£æå³çå¤ä¸ªçº¿ç¨å¯ä»¥åæ¶è¿è¡ï¼è¿åå°äºçº¿ç¨ä¸ä¸æåæ¢çå¼éã\n * ä»å½ä»£äºèç½åå±è¶å¿æ¥è¯´ï¼ ç°å¨çç³»ç»å¨ä¸å¨å°±è¦æ±ç¾ä¸çº§çè³åä¸çº§çå¹¶åéï¼èå¤çº¿ç¨å¹¶åç¼ç¨æ­£æ¯å¼åé«å¹¶åç³»ç»çåºç¡ï¼å©ç¨å¥½å¤çº¿ç¨æºå¶å¯ä»¥å¤§å¤§æé«ç³»ç»æ´ä½çå¹¶åè½åä»¥åæ§è½ã\n\n\n# è¯´è¯´çº¿ç¨ççå½å¨æåç¶æ\n\njava çº¿ç¨å¨è¿è¡ççå½å¨æä¸­çæå®æ¶å»åªå¯è½å¤äºä¸é¢ 6 ç§ä¸åç¶æçå¶ä¸­ä¸ä¸ªç¶æï¼\n\n * new: åå§ç¶æï¼çº¿ç¨è¢«åå»ºåºæ¥ä½æ²¡æè¢«è°ç¨ start() ã\n * runnable: è¿è¡ç¶æï¼çº¿ç¨è¢«è°ç¨äº start()ç­å¾è¿è¡çç¶æã\n * blocked ï¼é»å¡ç¶æï¼éè¦ç­å¾ééæ¾ã\n * waitingï¼ç­å¾ç¶æï¼è¡¨ç¤ºè¯¥çº¿ç¨éè¦ç­å¾å¶ä»çº¿ç¨ååºä¸äºç¹å®å¨ä½ï¼éç¥æä¸­æ­ï¼ã\n * time_waitingï¼è¶æ¶ç­å¾ç¶æï¼å¯ä»¥å¨æå®çæ¶é´åèªè¡è¿åèä¸æ¯å waiting é£æ ·ä¸ç´ç­å¾ã\n * terminatedï¼ç»æ­¢ç¶æï¼è¡¨ç¤ºè¯¥çº¿ç¨å·²ç»è¿è¡å®æ¯ã\n\nçº¿ç¨å¨çå½å¨æä¸­å¹¶ä¸æ¯åºå®å¤äºæä¸ä¸ªç¶æèæ¯éçä»£ç çæ§è¡å¨ä¸åç¶æä¹é´åæ¢ã\n\n\n# java ä¸­æåªäºéï¼\n\njava ä¸­éå¯ä»¥åï¼\n\n * æ²è§é/ä¹è§é\n * å±äº«é/ç¬å é\n * å¬å¹³é/éå¬å¹³é\n * å¯ä¸­æ­é/éå¯ä¸­æ­é\n * å¯éå¥é/ä¸å¯éå¥é\n * èªæé/éèªæé\n\n\n# ä»ä¹æ¯çº¿ç¨æ­»éï¼å¦ä½é¢é²åé¿åçº¿ç¨æ­»é\n\nçº¿ç¨æ­»éå°±æ¯å¤ä¸ªçº¿ç¨åæ¶è¢«é»å¡ï¼å®ä»¬ä¸­çä¸ä¸ªæèå¨é¨é½å¨ç­å¾æä¸ªèµæºè¢«éæ¾ãç±äºçº¿ç¨è¢«æ éæé»å¡ï¼å æ­¤ç¨åºä¸è½æ­£å¸¸ç»æ­¢ã\n\näº§çæ­»ééè¦æ»¡è¶³åä¸ªå¿è¦æ¡ä»¶ï¼\n\n 1. äºæ¥æ¡ä»¶ï¼è¯¥èµæºä»»æä¸ä¸ªæ¶å»åªç±ä¸ä¸ªçº¿ç¨å ç¨ã\n 2. è¯·æ±ä¸ä¿ææ¡ä»¶ï¼ä¸ä¸ªè¿ç¨å è¯·æ±èµæºèé»å¡æ¶ï¼å¯¹å·²è·å¾çèµæºä¿æä¸æ¾ã\n 3. ä¸å¥å¤ºæ¡ä»¶:çº¿ç¨å·²è·å¾çèµæºå¨æªä½¿ç¨å®ä¹åä¸è½è¢«å¶ä»çº¿ç¨å¼ºè¡å¥å¤ºï¼åªæèªå·±ä½¿ç¨å®æ¯åæéæ¾èµæºã\n 4. å¾ªç¯ç­å¾æ¡ä»¶:è¥å¹²è¿ç¨ä¹é´å½¢æä¸ç§å¤´å°¾ç¸æ¥çå¾ªç¯ç­å¾èµæºå³ç³»ã\n\nè¦é¿åçº¿ç¨æ­»éï¼åªè¦ç ´åæ­»éäº§ççå¿è¦æ¡ä»¶å°±å¯ä»¥ï¼\n\n 1. ç ´åè¯·æ±ä¸ä¿ææ¡ä»¶ ï¼ä¸æ¬¡æ§ç³è¯·ææçèµæºã\n 2. ç ´åä¸å¥å¤ºæ¡ä»¶ ï¼å ç¨é¨åèµæºççº¿ç¨è¿ä¸æ­¥ç³è¯·å¶ä»èµæºæ¶ï¼å¦æç³è¯·ä¸å°ï¼å¯ä»¥ä¸»å¨éæ¾å®å æçèµæºã\n 3. ç ´åå¾ªç¯ç­å¾æ¡ä»¶ ï¼é æåºç³è¯·èµæºæ¥é¢é²ãææä¸é¡ºåºç³è¯·èµæºï¼éæ¾èµæºåååºéæ¾ãç ´åå¾ªç¯ç­å¾æ¡ä»¶ã\n\n\n# ä¹è§éåæ²è§é\n\n\n# ä¹è§éåæ²è§éçåºå«\n\n * ä¹è§ééå¸¸ç¨å¤äºåæ¯è¾å°çæåµä¸ï¼å¤è¯»åºæ¯ï¼ï¼é¿åé¢ç¹å éå½±åæ§è½ï¼å¤§å¤§æåäºç³»ç»çååéã\n * æ²è§ééå¸¸å¤ç¨äºåå¤æ¯è¾å¤çæåµä¸ï¼å¤ååºæ¯ï¼ï¼é¿åé¢ç¹å¤±è´¥åéè¯å½±åæ§è½ã\n\n\n# å¦ä½å®ç°ä¹è§é\n\nä¹è§éä¸è¬ä¼ä½¿ç¨çæ¬å·æºå¶æ cas ç®æ³å®ç°ï¼cas ç®æ³ç¸å¯¹æ¥è¯´æ´å¤ä¸äºã\n\n\n# casäºè§£ä¹ï¼åçï¼\n\ncas çå¨ç§°æ¯ compare and swapï¼æ¯è¾ä¸äº¤æ¢ï¼ ï¼ç¨äºå®ç°ä¹è§éï¼è¢«å¹¿æ³åºç¨äºåå¤§æ¡æ¶ä¸­ãcas çææ³å¾ç®åï¼å°±æ¯ç¨ä¸ä¸ªé¢æå¼åè¦æ´æ°çåéå¼è¿è¡æ¯è¾ï¼ä¸¤å¼ç¸ç­æä¼è¿è¡æ´æ°ã cas æ¯ä¸ä¸ªåå­æä½ï¼åºå±ä¾èµäºä¸æ¡ cpu çåå­æä»¤ã åå­æä½ å³æå°ä¸å¯æåçæä½ï¼ä¹å°±æ¯è¯´æä½ä¸æ¦å¼å§ï¼å°±ä¸è½è¢«ææ­ï¼ç´å°æä½å®æã cas æ¶åå°ä¸ä¸ªæä½æ°ï¼\n\n * v ï¼è¦æ´æ°çåéå¼(var)\n * e ï¼é¢æå¼(expected)\n * n ï¼æåå¥çæ°å¼(new)\n\nå½ä¸ä»å½ v çå¼ç­äº e æ¶ï¼cas éè¿åå­æ¹å¼ç¨æ°å¼ n æ¥æ´æ° v çå¼ãå¦æä¸ç­ï¼è¯´æå·²ç»æå¶å®çº¿ç¨æ´æ°äº vï¼åå½åçº¿ç¨æ¾å¼æ´æ°ã ä¸¾ä¸ä¸ªç®åçä¾å­ ï¼çº¿ç¨ a è¦ä¿®æ¹åé i çå¼ä¸º 6ï¼i åå¼ä¸º 1ï¼v = 1ï¼e=1ï¼n=6ï¼åè®¾ä¸å­å¨ aba é®é¢ï¼ã\n\n 1. i ä¸ 1 è¿è¡æ¯è¾ï¼å¦æç¸ç­ï¼ åè¯´ææ²¡è¢«å¶ä»çº¿ç¨ä¿®æ¹ï¼å¯ä»¥è¢«è®¾ç½®ä¸º 6 ã\n 2. i ä¸ 1 è¿è¡æ¯è¾ï¼å¦æä¸ç¸ç­ï¼åè¯´æè¢«å¶ä»çº¿ç¨ä¿®æ¹ï¼å½åçº¿ç¨æ¾å¼æ´æ°ï¼cas æä½å¤±è´¥ã\n\nå½å¤ä¸ªçº¿ç¨åæ¶ä½¿ç¨ cas æä½ä¸ä¸ªåéæ¶ï¼åªæä¸ä¸ªä¼èåºï¼å¹¶æåæ´æ°ï¼å¶ä½åä¼å¤±è´¥ï¼ä½å¤±è´¥ççº¿ç¨å¹¶ä¸ä¼è¢«æèµ·ï¼ä»æ¯è¢«åç¥å¤±è´¥ï¼å¹¶ä¸åè®¸åæ¬¡å°è¯ï¼å½ç¶ä¹åè®¸å¤±è´¥ççº¿ç¨æ¾å¼æä½ã java è¯­è¨å¹¶æ²¡æç´æ¥å®ç° casï¼cas ç¸å³çå®ç°æ¯éè¿ c++ åèæ±ç¼çå½¢å¼å®ç°çï¼jni è°ç¨ï¼ãå æ­¤ï¼ cas çå·ä½å®ç°åæä½ç³»ç»ä»¥å cpu é½æå³ç³»ã\n\n\n# ä¹è§éå­å¨åªäºé®é¢\n\n * abaé®é¢ï¼ä¸ä¸ªåévåå§å¼æ¯aï¼æé´è¢«æ¹ä¸ºå¶ä»å¼ï¼ç¶ååæ¹åaï¼é£ä¹casæä½å°±ä¼è¯¯è®¤ä¸ºå®ä»æ¥æ²¡è¢«ä¿®æ¹è¿ï¼è¿å°±æ¯abaé®é¢ãè§£å³åæ³æ¯å¨åéåé¢è¿½å ä¸çæ¬å·åæ¶é´æ³ã\n * å¾ªç¯æ¶é´é¿å¼éå¤§ï¼ cas ç»å¸¸ä¼ç¨å°èªææä½æ¥è¿è¡éè¯ï¼ä¹å°±æ¯ä¸æåå°±ä¸ç´å¾ªç¯æ§è¡ç´å°æåãå¦æé¿æ¶é´ä¸æåï¼ä¼ç» cpu å¸¦æ¥éå¸¸å¤§çæ§è¡å¼éã\n * åªè½ä¿è¯ä¸ä¸ªå±äº«åéçåå­æä½ï¼ cas åªå¯¹åä¸ªå±äº«åéææï¼å½æä½æ¶åè·¨å¤ä¸ªå±äº«åéæ¶ cas æ æãä½æ¯ä» jdk 1.5 å¼å§ï¼æä¾äºatomicreferenceç±»æ¥ä¿è¯å¼ç¨å¯¹è±¡ä¹é´çåå­æ§ï¼ä½ å¯ä»¥æå¤ä¸ªåéæ¾å¨ä¸ä¸ªå¯¹è±¡éæ¥è¿è¡ cas æä½.æä»¥æä»¬å¯ä»¥ä½¿ç¨éæèå©ç¨atomicreferenceç±»æå¤ä¸ªå±äº«åéåå¹¶æä¸ä¸ªå±äº«åéæ¥æä½ã\n\n\n# ä»ä¹æ¯abaé®é¢ï¼abaé®é¢æä¹è§£å³\n\nabaé®é¢æ¯ä¹è§éå¸¸è§çé®é¢ã å¦æä¸ä¸ªåé v åæ¬¡è¯»åçæ¶åæ¯ a å¼ï¼å¹¶ä¸å¨åå¤èµå¼çæ¶åæ£æ¥å°å®ä»ç¶æ¯ a å¼ï¼é£æä»¬å°±è½è¯´æå®çå¼æ²¡æè¢«å¶ä»çº¿ç¨ä¿®æ¹è¿äºåï¼å¾ææ¾æ¯ä¸è½çï¼å ä¸ºå¨è¿æ®µæ¶é´å®çå¼å¯è½è¢«æ¹ä¸ºå¶ä»å¼ï¼ç¶ååæ¹å aï¼é£ cas æä½å°±ä¼è¯¯è®¤ä¸ºå®ä»æ¥æ²¡æè¢«ä¿®æ¹è¿ãè¿ä¸ªé®é¢è¢«ç§°ä¸º cas æä½ç "aba"é®é¢ã aba é®é¢çè§£å³æè·¯æ¯å¨åéåé¢è¿½å ä¸çæ¬å·æèæ¶é´æ³\n\n\n# jmm\n\n\n# å¹¶åç¼ç¨çä¸ä¸ªéè¦ç¹æ§\n\n * åå­æ§ï¼ ä¸æ¬¡æä½æèå¤æ¬¡æä½ï¼è¦ä¹ææçæä½å¨é¨é½å¾å°æ§è¡å¹¶ä¸ä¸ä¼åå°ä»»ä½å ç´ çå¹²æ°èä¸­æ­ï¼è¦ä¹é½ä¸æ§è¡ã å¨ java ä¸­ï¼å¯ä»¥åå©synchronized ãåç§ lock ä»¥ååç§åå­ç±»å®ç°åå­æ§ãsynchronized ååç§ lock å¯ä»¥ä¿è¯ä»»ä¸æ¶å»åªæä¸ä¸ªçº¿ç¨è®¿é®è¯¥ä»£ç åï¼å æ­¤å¯ä»¥ä¿éåå­æ§ãåç§åå­ç±»æ¯å©ç¨ cas (compare and swap) æä½ï¼å¯è½ä¹ä¼ç¨å° volatileæèfinalå³é®å­ï¼æ¥ä¿è¯åå­æä½ã\n * å¯è§æ§ï¼å½ä¸ä¸ªçº¿ç¨å¯¹å±äº«åéè¿è¡äºä¿®æ¹ï¼é£ä¹å¦å¤ççº¿ç¨é½æ¯ç«å³å¯ä»¥çå°ä¿®æ¹åçææ°å¼ãå¨ java ä¸­ï¼å¯ä»¥åå©synchronized ãvolatile ä»¥ååç§ lock å®ç°å¯è§æ§ãå¦ææä»¬å°åéå£°æä¸º volatile ï¼è¿å°±æç¤º jvmï¼è¿ä¸ªåéæ¯å±äº«ä¸ä¸ç¨³å®çï¼æ¯æ¬¡ä½¿ç¨å®é½å°ä¸»å­ä¸­è¿è¡è¯»åã\n * æåºæ§ï¼ç±äºæä»¤éæåºé®é¢ï¼ä»£ç çæ§è¡é¡ºåºæªå¿å°±æ¯ç¼åä»£ç æ¶åçé¡ºåºãæä»¤éæåºå¯ä»¥ä¿è¯ä¸²è¡è¯­ä¹ä¸è´ï¼ä½æ¯æ²¡æä¹å¡ä¿è¯å¤çº¿ç¨é´çè¯­ä¹ä¹ä¸è´ ï¼æä»¥å¨å¤çº¿ç¨ä¸ï¼æä»¤éæåºå¯è½ä¼å¯¼è´ä¸äºé®é¢ã å¨ java ä¸­ï¼volatile å³é®å­å¯ä»¥ç¦æ­¢æä»¤è¿è¡éæåºä¼åã\n\n\n# ä»ä¹æ¯jmmï¼ä¸ºä»ä¹éè¦jmm\n\njmm çä½æ¯ java å®ä¹çå¹¶åç¼ç¨ç¸å³çä¸ç»è§èï¼é¤äºæ½è±¡äºçº¿ç¨åä¸»åå­ä¹é´çå³ç³»ä¹å¤ï¼å¶è¿è§å®äºä» java æºä»£ç å° cpu å¯æ§è¡æä»¤çè¿ä¸ªè½¬åè¿ç¨è¦éµå®åªäºåå¹¶åç¸å³çåååè§èï¼å¶ä¸»è¦ç®çæ¯ä¸ºäºç®åå¤çº¿ç¨ç¼ç¨ï¼å¢å¼ºç¨åºå¯ç§»æ¤æ§çã ä¸ºä»ä¹è¦éµå®è¿äºå¹¶åç¸å³çåååè§èå¢ï¼ è¿æ¯å ä¸ºå¹¶åç¼ç¨ä¸ï¼å cpu å¤çº§ç¼å­åæä»¤éæè¿ç±»è®¾è®¡å¯è½ä¼å¯¼è´ç¨åºè¿è¡åºç°ä¸äºé®é¢ãå°±æ¯å¦è¯´æä»¬ä¸é¢æå°çæä»¤éæåºå°±å¯è½ä¼è®©å¤çº¿ç¨ç¨åºçæ§è¡åºç°é®é¢ï¼ä¸ºæ­¤ï¼jmm æ½è±¡äº happens-before ååæ¥è§£å³è¿ä¸ªæä»¤éæåºé®é¢ã jmm è¯´ç½äºå°±æ¯å®ä¹äºä¸äºè§èæ¥è§£å³è¿äºé®é¢ï¼å¼åèå¯ä»¥å©ç¨è¿äºè§èæ´æ¹ä¾¿å°å¼åå¤çº¿ç¨ç¨åºãå¯¹äº java å¼åèè¯´ï¼ä½ ä¸éè¦äºè§£åºå±åçï¼ç´æ¥ä½¿ç¨å¹¶åç¸å³çä¸äºå³é®å­åç±»ï¼æ¯å¦ volatileãsynchronizedãåç§ lockï¼å³å¯å¼ååºå¹¶åå®å¨çç¨åºã\n\n\n# jmmæ¯å¦ä½æ½è±¡çº¿ç¨åä¸»åå­ä¹é´çå³ç³»ï¼\n\njava åå­æ¨¡åï¼jmmï¼ æ½è±¡äºçº¿ç¨åä¸»åå­ä¹é´çå³ç³»ï¼å°±æ¯å¦è¯´çº¿ç¨ä¹é´çå±äº«åéå¿é¡»å­å¨å¨ä¸»åå­ä¸­ï¼ ä¸ºå±äº«åéæä¾äºå¯è§æ§çä¿é ã\n\n\n# javaåå­åºååjmmæä½åºå«\n\njava åå­åºåååå­æ¨¡åæ¯å®å¨ä¸ä¸æ ·çä¸¤ä¸ªä¸è¥¿ ï¼\n\n * jvm åå­ç»æå java èææºçè¿è¡æ¶åºåç¸å³ï¼å®ä¹äº jvm å¨è¿è¡æ¶å¦ä½ååºå­å¨ç¨åºæ°æ®ï¼å°±æ¯å¦è¯´å ä¸»è¦ç¨äºå­æ¾å¯¹è±¡å®ä¾ã\n * java åå­æ¨¡åå java çå¹¶åç¼ç¨ç¸å³ï¼æ½è±¡äºçº¿ç¨åä¸»åå­ä¹é´çå³ç³»å°±æ¯å¦è¯´çº¿ç¨ä¹é´çå±äº«åéå¿é¡»å­å¨å¨ä¸»åå­ä¸­ï¼è§å®äºä» java æºä»£ç å° cpu å¯æ§è¡æä»¤çè¿ä¸ªè½¬åè¿ç¨è¦éµå®åªäºåå¹¶åç¸å³çåååè§èï¼å¶ä¸»è¦ç®çæ¯ä¸ºäºç®åå¤çº¿ç¨ç¼ç¨ï¼å¢å¼ºç¨åºå¯ç§»æ¤æ§çã\n\n\n# happens-beforeååæ¯ä»ä¹ï¼ä¸ºä»ä¹éè¦happens-beforeåå\n\né»è¾æ¶éå¹¶ä¸åº¦éæ¶é´æ¬èº«ï¼ä»åºåäºä»¶åççååé¡ºåºï¼å¶æ¬è´¨å°±æ¯å®ä¹äºä¸ç§ happens-before å³ç³»ã happens-before ååçè¯çæ¯ä¸ºäºç¨åºååç¼è¯å¨ãå¤çå¨ä¹é´çå¹³è¡¡ãç¨åºåè¿½æ±çæ¯æäºçè§£åç¼ç¨çå¼ºåå­æ¨¡åï¼éµå®æ¢å®è§åç¼ç å³å¯ãç¼è¯å¨åå¤çå¨è¿½æ±çæ¯è¾å°çº¦æçå¼±åå­æ¨¡åï¼è®©å®ä»¬å°½å·±æè½å°å»ä¼åæ§è½ï¼è®©æ§è½æå¤§åã\n\n\n# synchronized å³é®å­\n\n\n# synchronized å³é®å­çä½ç¨ï¼èªå·±æ¯æä¹ä½¿ç¨çã\n\nsynchronizedæ¯ java ä¸­çä¸ä¸ªå³é®å­ï¼ç¿»è¯æä¸­ææ¯åæ­¥çææï¼ä¸»è¦è§£å³çæ¯å¤ä¸ªçº¿ç¨ä¹é´è®¿é®èµæºçåæ­¥æ§ï¼å¯ä»¥ä¿è¯è¢«å®ä¿®é¥°çæ¹æ³æèä»£ç åå¨ä»»ææ¶å»åªè½æä¸ä¸ªçº¿ç¨æ§è¡ã å¨ java æ©æçæ¬ä¸­ï¼synchronizedå±äº ééçº§éï¼æçä½ä¸ãè¿æ¯å ä¸ºçè§å¨éï¼monitorï¼æ¯ä¾èµäºåºå±çæä½ç³»ç»ç mutex lock æ¥å®ç°çï¼java ççº¿ç¨æ¯æ å°å°æä½ç³»ç»çåççº¿ç¨ä¹ä¸çãå¦æè¦æèµ·æèå¤éä¸ä¸ªçº¿ç¨ï¼é½éè¦æä½ç³»ç»å¸®å¿å®æï¼èæä½ç³»ç»å®ç°çº¿ç¨ä¹é´çåæ¢æ¶éè¦ä»ç¨æ·æè½¬æ¢å°åæ ¸æï¼è¿ä¸ªç¶æä¹é´çè½¬æ¢éè¦ç¸å¯¹æ¯è¾é¿çæ¶é´ï¼æ¶é´ææ¬ç¸å¯¹è¾é«ã ä¸è¿ï¼å¨ java 6 ä¹åï¼ synchronizedå¼å¥äºå¤§éçä¼åå¦èªæéãéåºæ§èªæéãéæ¶é¤ãéç²åãååéãè½»éçº§éç­ææ¯æ¥åå°éæä½çå¼éï¼è¿äºä¼åè®© synchronized éçæçæåäºå¾å¤ãå æ­¤ï¼ synchronized è¿æ¯å¯ä»¥å¨å®éé¡¹ç®ä¸­ä½¿ç¨çï¼å jdk æºç ãå¾å¤å¼æºæ¡æ¶é½å¤§éä½¿ç¨äº synchronized\n\n\n# synchronized å³é®å­çåºå±åç\n\nsynchronized åæ­¥è¯­å¥åçå®ç°ä½¿ç¨çæ¯ monitorenter å monitorexit æä»¤ï¼å¶ä¸­ monitorenter æä»¤æååæ­¥ä»£ç åçå¼å§ä½ç½®ï¼monitorexit æä»¤åææåæ­¥ä»£ç åçç»æä½ç½®ã synchronized ä¿®é¥°çæ¹æ³å¹¶æ²¡æ monitorenter æä»¤å monitorexit æä»¤ï¼åå¾ä»£ä¹çç¡®å®æ¯ acc_synchronized æ è¯ï¼è¯¥æ è¯ææäºè¯¥æ¹æ³æ¯ä¸ä¸ªåæ­¥æ¹æ³ã ä¸è¿ä¸¤èçæ¬è´¨é½æ¯å¯¹å¯¹è±¡çè§å¨ monitor çè·åã\n\n\n# jdk1.6 ä¹å synchronized å³é®å­åºå±åäºåªäºä¼åãsynchronized éåçº§æµç¨ã\n\ndk1.6 å¯¹éçå®ç°å¼å¥äºå¤§éçä¼åï¼å¦ååéãè½»éçº§éãèªæéãéåºæ§èªæéãéæ¶é¤ãéç²åç­ææ¯æ¥åå°éæä½çå¼éã éä¸»è¦å­å¨åç§ç¶æï¼ä¾æ¬¡æ¯ï¼æ éç¶æãååéç¶æãè½»éçº§éç¶æãééçº§éç¶æï¼ä»ä»¬ä¼éçç«äºçæ¿çèéæ¸åçº§ãæ³¨æéå¯ä»¥åçº§ä¸å¯éçº§ï¼è¿ç§ç­ç¥æ¯ä¸ºäºæé«è·å¾éåéæ¾éçæçã\n\n> åèï¼https://www.cnblogs.com/wuqinglong/p/9945618.html\n\n\n# synchronized å reentranlock çåºå«\n\n * synchronized ä¾èµäº jvm å®ç°çï¼å¨ jdk1.6 å¯¹ synchronized å³é®å­è¿è¡äºå¾å¤ä¼åï¼ä½æ¯è¿äºä¼åé½æ¯åºäºèææºå±é¢å®ç°çã\n\nreentrantlock æ¯ jdk å®ç°çï¼æ¥çæºç ï¼å¯ä»¥çå°åºå±æ¯éè¿lock() å unlock() æ¹æ³éå try/finally è¯­å¥åæ¥å®æ\n\n * reentrantlock æ¯æä¸­æ­ç­å¾éçæºå¶ï¼è synchronized ä¸æ¯æ\n * reentrantlock æ¯æå¬å¹³éåéå¬å¹³éï¼é»è®¤æ¯éå¬å¹³éï¼synchronized åªè½æ¯éå¬å¹³éã\n\n\n# synchronized å volatile çåºå«\n\nsynchronized å³é®å­å volatile å³é®å­æ¯ä¸¤ä¸ªäºè¡¥çå­å¨ï¼èä¸æ¯å¯¹ç«çå­å¨ï¼\n\n * volatile å³é®å­æ¯çº¿ç¨åæ­¥çè½»éçº§å®ç°ï¼æä»¥ volatileæ§è½è¯å®æ¯synchronizedå³é®å­è¦å¥½ ãä½æ¯ volatile å³é®å­åªè½ç¨äºåéè synchronized å³é®å­å¯ä»¥ä¿®é¥°æ¹æ³ä»¥åä»£ç å ã\n * volatile å³é®å­è½ä¿è¯æ°æ®çå¯è§æ§ï¼ä½ä¸è½ä¿è¯æ°æ®çåå­æ§ãsynchronized å³é®å­ä¸¤èé½è½ä¿è¯ã\n * volatileå³é®å­ä¸»è¦ç¨äºè§£å³åéå¨å¤ä¸ªçº¿ç¨ä¹é´çå¯è§æ§ï¼è synchronized å³é®å­è§£å³çæ¯å¤ä¸ªçº¿ç¨ä¹é´è®¿é®èµæºçåæ­¥æ§ã\n\n\n# volatileå³é®å­\n\n\n# volatile å³é®å­å¦ä½ä¿è¯åéçå¯è§æ§\n\nå¨ java ä¸­ï¼volatile å³é®å­å¯ä»¥ä¿è¯åéçå¯è§æ§ï¼å¦ææä»¬å°åéå£°æä¸º volatile ï¼è¿å°±æç¤º jvmï¼è¿ä¸ªåéæ¯å±äº«ä¸ä¸ç¨³å®çï¼æ¯æ¬¡ä½¿ç¨å®é½å°ä¸»å­ä¸­è¿è¡è¯»åã\nvolatile å³é®å­è½ä¿è¯æ°æ®çå¯è§æ§ï¼ä½ä¸è½ä¿è¯æ°æ®çåå­æ§ãsynchronized å³é®å­ä¸¤èé½è½ä¿è¯ã\n\n\n# volatile å¦ä½ç¦æ­¢æä»¤éæåº\n\nå¨ java ä¸­ï¼volatile å³é®å­é¤äºå¯ä»¥ä¿è¯åéçå¯è§æ§ï¼è¿æä¸ä¸ªéè¦çä½ç¨å°±æ¯é²æ­¢ jvm çæä»¤éæåºã å¦ææä»¬å°åéå£°æä¸º volatile ï¼å¨å¯¹è¿ä¸ªåéè¿è¡è¯»åæä½çæ¶åï¼ä¼éè¿æå¥ç¹å®ç åå­å±é çæ¹å¼æ¥ç¦æ­¢æä»¤éæåºã å¨ java ä¸­ï¼unsafe ç±»æä¾äºä¸ä¸ªå¼ç®±å³ç¨çåå­å±éç¸å³çæ¹æ³ï¼å±è½äºæä½ç³»ç»åºå±çå·®å¼ï¼\n\npublic native void loadfence();\npublic native void storefence();\npublic native void fullfence();\n\n\n\n\n# volatile å¯ä»¥ä¿è¯åå­æ§ä¹\n\nvolatile å³é®å­è½ä¿è¯åéçå¯è§æ§ï¼ä½ä¸è½ä¿è¯å¯¹åéçæä½æ¯åå­æ§çã\n\n\n# threadlocal\n\n\n# threadlocal æä»ä¹ç¨\n\néå¸¸æåµä¸ï¼æä»¬åå»ºçåéæ¯å¯ä»¥è¢«ä»»ä½ä¸ä¸ªçº¿ç¨è®¿é®å¹¶ä¿®æ¹çãå¦ææ³å®ç°æ¯ä¸ä¸ªçº¿ç¨é½æèªå·±çä¸å±æ¬å°åéè¯¥å¦ä½è§£å³å¢ï¼ jdk ä¸­èªå¸¦çthreadlocalç±»æ­£æ¯ä¸ºäºè§£å³è¿æ ·çé®é¢ã threadlocalç±»ä¸»è¦è§£å³çå°±æ¯è®©æ¯ä¸ªçº¿ç¨ç»å®èªå·±çå¼ï¼å¯ä»¥å°threadlocalç±»å½¢è±¡çæ¯å»æå­æ¾æ°æ®ççå­ï¼çå­ä¸­å¯ä»¥å­å¨æ¯ä¸ªçº¿ç¨çç§ææ°æ®ã å¦æä½ åå»ºäºä¸ä¸ªthreadlocalåéï¼é£ä¹è®¿é®è¿ä¸ªåéçæ¯ä¸ªçº¿ç¨é½ä¼æè¿ä¸ªåéçæ¬å°å¯æ¬ï¼è¿ä¹æ¯threadlocalåéåçç±æ¥ãä»ä»¬å¯ä»¥ä½¿ç¨ get() å set() æ¹æ³æ¥è·åé»è®¤å¼æå°å¶å¼æ´æ¹ä¸ºå½åçº¿ç¨æå­çå¯æ¬çå¼ï¼ä»èé¿åäºçº¿ç¨å®å¨é®é¢ã åä¸¾ä¸ªç®åçä¾å­ï¼ä¸¤ä¸ªäººå»å®å±æ¶éå®ç©ï¼è¿ä¸¤ä¸ªå±ç¨ä¸ä¸ªè¢å­çè¯è¯å®ä¼äº§çäºæ§ï¼ä½æ¯ç»ä»ä»¬ä¸¤ä¸ªäººæ¯ä¸ªäººåéä¸ä¸ªè¢å­çè¯å°±ä¸ä¼åºç°è¿æ ·çé®é¢ãå¦ææè¿ä¸¤ä¸ªäººæ¯ä½çº¿ç¨çè¯ï¼é£ä¹ threadlocal å°±æ¯ç¨æ¥é¿åè¿ä¸¤ä¸ªçº¿ç¨ç«äºçã\n\n\n# å¦ä½ä½¿ç¨ threadlocal\n\nä¸é¢ç®åæ¼ç¤ºä¸ä¸å¦ä½å¨é¡¹ç®ä¸­å®éä½¿ç¨ threadlocal ã\n\nimport java.text.simpledateformat;\nimport java.util.random;\n\npublic class threadlocalexample implements runnable{\n\n     // simpledateformat ä¸æ¯çº¿ç¨å®å¨çï¼æä»¥æ¯ä¸ªçº¿ç¨é½è¦æèªå·±ç¬ç«çå¯æ¬\n    private static final threadlocal<simpledateformat> formatter = threadlocal.withinitial(() -> new simpledateformat("yyyymmdd hhmm"));\n\n    public static void main(string[] args) throws interruptedexception {\n        threadlocalexample obj = new threadlocalexample();\n        for(int i=0 ; i<10; i++){\n            thread t = new thread(obj, ""+i);\n            thread.sleep(new random().nextint(1000));\n            t.start();\n        }\n    }\n\n    @override\n    public void run() {\n        system.out.println("thread name= "+thread.currentthread().getname()+" default formatter = "+formatter.get().topattern());\n        try {\n            thread.sleep(new random().nextint(1000));\n        } catch (interruptedexception e) {\n            e.printstacktrace();\n        }\n        //formatter pattern is changed here by thread, but it won\'t reflect to other threads\n        formatter.set(new simpledateformat());\n\n        system.out.println("thread name= "+thread.currentthread().getname()+" formatter = "+formatter.get().topattern());\n    }\n\n}\n\n\n\n\nè¾åºç»æï¼\n\nthread name= 0 default formatter = yyyymmdd hhmm\nthread name= 0 formatter = yy-m-d ah:mm\nthread name= 1 default formatter = yyyymmdd hhmm\nthread name= 2 default formatter = yyyymmdd hhmm\nthread name= 1 formatter = yy-m-d ah:mm\nthread name= 3 default formatter = yyyymmdd hhmm\nthread name= 2 formatter = yy-m-d ah:mm\nthread name= 4 default formatter = yyyymmdd hhmm\nthread name= 3 formatter = yy-m-d ah:mm\nthread name= 4 formatter = yy-m-d ah:mm\nthread name= 5 default formatter = yyyymmdd hhmm\nthread name= 5 formatter = yy-m-d ah:mm\nthread name= 6 default formatter = yyyymmdd hhmm\nthread name= 6 formatter = yy-m-d ah:mm\nthread name= 7 default formatter = yyyymmdd hhmm\nthread name= 7 formatter = yy-m-d ah:mm\nthread name= 8 default formatter = yyyymmdd hhmm\nthread name= 9 default formatter = yyyymmdd hhmm\nthread name= 8 formatter = yy-m-d ah:mm\nthread name= 9 formatter = yy-m-d ah:mm\n\n\n\nä»è¾åºä¸­å¯ä»¥çåºï¼è½ç¶ thread-0 å·²ç»æ¹åäº formatter çå¼ï¼ä½ thread-1 é»è®¤æ ¼å¼åå¼ä¸åå§åå¼ç¸åï¼å¶ä»çº¿ç¨ä¹ä¸æ ·ã\n\n\n# threadlocal åçäºè§£å\n\nä» threadç±»æºä»£ç å¥æã\n\npublic class thread implements runnable {\n    //......\n    //ä¸æ­¤çº¿ç¨æå³çthreadlocalå¼ãç±threadlocalç±»ç»´æ¤\n    threadlocal.threadlocalmap threadlocals = null;\n\n    //ä¸æ­¤çº¿ç¨æå³çinheritablethreadlocalå¼ãç±inheritablethreadlocalç±»ç»´æ¤\n    threadlocal.threadlocalmap inheritablethreadlocals = null;\n    //......\n}\n\n\n\nä»ä¸é¢threadç±» æºä»£ç å¯ä»¥çåºthread ç±»ä¸­æä¸ä¸ª threadlocals å ä¸ä¸ª inheritablethreadlocals åéï¼å®ä»¬é½æ¯ threadlocalmap ç±»åçåé,æä»¬å¯ä»¥æ threadlocalmap çè§£ä¸ºthreadlocal ç±»å®ç°çå®å¶åç hashmapãé»è®¤æåµä¸è¿ä¸¤ä¸ªåéé½æ¯ nullï¼åªæå½åçº¿ç¨è°ç¨ threadlocal ç±»ç setægetæ¹æ³æ¶æåå»ºå®ä»¬ï¼å®éä¸è°ç¨è¿ä¸¤ä¸ªæ¹æ³çæ¶åï¼æä»¬è°ç¨çæ¯threadlocalmapç±»å¯¹åºç get()ãset()æ¹æ³ã threadlocalç±»çset()æ¹æ³\n\npublic void set(t value) {\n    //è·åå½åè¯·æ±ççº¿ç¨\n    thread t = thread.currentthread();\n    //ååº thread ç±»åé¨ç threadlocals åé(åå¸è¡¨ç»æ)\n    threadlocalmap map = getmap(t);\n    if (map != null)\n        // å°éè¦å­å¨çå¼æ¾å¥å°è¿ä¸ªåå¸è¡¨ä¸­\n        map.set(this, value);\n    else\n        createmap(t, value);\n}\nthreadlocalmap getmap(thread t) {\n    return t.threadlocals;\n}\n\n\n\néè¿ä¸é¢è¿äºåå®¹ï¼æä»¬è¶³ä»¥éè¿çæµå¾åºç»è®ºï¼**æç»çåéæ¯æ¾å¨äºå½åçº¿ç¨ç threadlocalmap ä¸­ï¼å¹¶ä¸æ¯å­å¨ threadlocal ä¸ï¼threadlocal å¯ä»¥çè§£ä¸ºåªæ¯threadlocalmapçå°è£ï¼ä¼ éäºåéå¼ã**threallocal ç±»ä¸­å¯ä»¥éè¿thread.currentthread()è·åå°å½åçº¿ç¨å¯¹è±¡åï¼ç´æ¥éè¿getmap(thread t)å¯ä»¥è®¿é®å°è¯¥çº¿ç¨çthreadlocalmapå¯¹è±¡ã æ¯ä¸ªthreadä¸­é½å·å¤ä¸ä¸ªthreadlocalmapï¼èthreadlocalmapå¯ä»¥å­å¨ä»¥threadlocalä¸º key ï¼object å¯¹è±¡ä¸º value çé®å¼å¯¹ã\n\nthreadlocalmap(threadlocal<?> firstkey, object firstvalue) {\n    //......\n}\n\n\n\næ¯å¦æä»¬å¨åä¸ä¸ªçº¿ç¨ä¸­å£°æäºä¸¤ä¸ª threadlocal å¯¹è±¡çè¯ï¼ threadåé¨é½æ¯ä½¿ç¨ä»æçé£ä¸ªthreadlocalmap å­æ¾æ°æ®çï¼threadlocalmapç key å°±æ¯ threadlocalå¯¹è±¡ï¼value å°±æ¯ threadlocal å¯¹è±¡è°ç¨setæ¹æ³è®¾ç½®çå¼ã threadlocal æ°æ®ç»æå¦ä¸å¾æç¤ºï¼\n\n\n# threadlocal åå­æ³é²é®é¢æ¯æä¹å¯¼è´çï¼\n\nthreadlocalmap ä¸­ä½¿ç¨ç key ä¸º threadlocal çå¼±å¼ç¨ï¼è value æ¯å¼ºå¼ç¨ãæä»¥ï¼å¦æ threadlocal æ²¡æè¢«å¤é¨å¼ºå¼ç¨çæåµä¸ï¼å¨åå¾åæ¶çæ¶åï¼key ä¼è¢«æ¸çæï¼è value ä¸ä¼è¢«æ¸çæã è¿æ ·ä¸æ¥ï¼threadlocalmap ä¸­å°±ä¼åºç° key ä¸º null ç entryãåå¦æä»¬ä¸åä»»ä½æªæ½çè¯ï¼value æ°¸è¿æ æ³è¢« gc åæ¶ï¼è¿ä¸ªæ¶åå°±å¯è½ä¼äº§çåå­æ³é²ãthreadlocalmap å®ç°ä¸­å·²ç»èèäºè¿ç§æåµï¼å¨è°ç¨ set()ãget()ãremove() æ¹æ³çæ¶åï¼ä¼æ¸çæ key ä¸º null çè®°å½ãä½¿ç¨å® threadlocalæ¹æ³å æå¥½æå¨è°ç¨remove()æ¹æ³\n\n\n# çº¿ç¨æ± \n\n\n# ä»ä¹æ¯çº¿ç¨æ± \n\né¡¾åæä¹ï¼çº¿ç¨æ± å°±æ¯ç®¡çä¸ç³»åçº¿ç¨çèµæºæ± ãå½æä»»å¡è¦å¤çæ¶ï¼ç´æ¥ä»çº¿ç¨æ± ä¸­è·åçº¿ç¨æ¥å¤çï¼å¤çå®ä¹åçº¿ç¨å¹¶ä¸ä¼ç«å³è¢«éæ¯ï¼èæ¯ç­å¾ä¸ä¸ä¸ªä»»å¡ã\n\n\n# ä¸ºä»ä¹è¦ç¨çº¿ç¨æ± \n\næ± åææ¯æ³å¿å¤§å®¶å·²ç»å±¡è§ä¸é²äºï¼çº¿ç¨æ± ãæ°æ®åºè¿æ¥æ± ãhttp è¿æ¥æ± ç­ç­é½æ¯å¯¹è¿ä¸ªææ³çåºç¨ãæ± åææ¯çææ³ä¸»è¦æ¯ä¸ºäºåå°æ¯æ¬¡è·åèµæºçæ¶èï¼æé«å¯¹èµæºçå©ç¨çã çº¿ç¨æ± æä¾äºä¸ç§éå¶åç®¡çèµæºï¼åæ¬æ§è¡ä¸ä¸ªä»»å¡ï¼çæ¹å¼ã æ¯ä¸ªçº¿ç¨æ± è¿ç»´æ¤ä¸äºåºæ¬ç»è®¡ä¿¡æ¯ï¼ä¾å¦å·²å®æä»»å¡çæ°éã ä½¿ç¨çº¿ç¨æ± çå¥½å¤ï¼\n\n * éä½èµæºæ¶èãéè¿éå¤å©ç¨å·²åå»ºççº¿ç¨éä½çº¿ç¨åå»ºåéæ¯é æçæ¶èã\n * æé«ååºéåº¦ãå½ä»»å¡å°è¾¾æ¶ï¼ä»»å¡å¯ä»¥ä¸éè¦ç­å°çº¿ç¨åå»ºå°±è½ç«å³æ§è¡ã\n * æé«çº¿ç¨çå¯ç®¡çæ§ãçº¿ç¨æ¯ç¨ç¼ºèµæºï¼å¦ææ éå¶çåå»ºï¼ä¸ä»ä¼æ¶èç³»ç»èµæºï¼è¿ä¼éä½ç³»ç»çç¨³å®æ§ï¼ä½¿ç¨çº¿ç¨æ± å¯ä»¥è¿è¡ç»ä¸çåéï¼è°ä¼åçæ§ã\n\n\n# å¦ä½åå»ºçº¿ç¨æ± \n\næ¹å¼ä¸ï¼éè¿**threadpoolexecutor**æé å½æ°æ¥åå»ºï¼æ¨èï¼ã\n\næ¹å¼äºï¼éè¿ **executor** æ¡æ¶çå·¥å·ç±» **executors** æ¥åå»ºã\n\næä»¬å¯ä»¥åå»ºå¤ç§ç±»åç threadpoolexecutorï¼\n\n * fixedthreadpool ï¼ è¯¥æ¹æ³è¿åä¸ä¸ªåºå®çº¿ç¨æ°éççº¿ç¨æ± ãè¯¥çº¿ç¨æ± ä¸­ççº¿ç¨æ°éå§ç»ä¸åãå½æä¸ä¸ªæ°çä»»å¡æäº¤æ¶ï¼çº¿ç¨æ± ä¸­è¥æç©ºé²çº¿ç¨ï¼åç«å³æ§è¡ãè¥æ²¡æï¼åæ°çä»»å¡ä¼è¢«æå­å¨ä¸ä¸ªä»»å¡éåä¸­ï¼å¾æçº¿ç¨ç©ºé²æ¶ï¼ä¾¿å¤çå¨ä»»å¡éåä¸­çä»»å¡ã\n * singlethreadexecutorï¼ è¯¥æ¹æ³è¿åä¸ä¸ªåªæä¸ä¸ªçº¿ç¨ççº¿ç¨æ± ãè¥å¤ä½ä¸ä¸ªä»»å¡è¢«æäº¤å°è¯¥çº¿ç¨æ± ï¼ä»»å¡ä¼è¢«ä¿å­å¨ä¸ä¸ªä»»å¡éåä¸­ï¼å¾çº¿ç¨ç©ºé²ï¼æåå¥ååºçé¡ºåºæ§è¡éåä¸­çä»»å¡ã\n * cachedthreadpoolï¼ è¯¥æ¹æ³è¿åä¸ä¸ªå¯æ ¹æ®å®éæåµè°æ´çº¿ç¨æ°éççº¿ç¨æ± ãçº¿ç¨æ± ççº¿ç¨æ°éä¸ç¡®å®ï¼ä½è¥æç©ºé²çº¿ç¨å¯ä»¥å¤ç¨ï¼åä¼ä¼åä½¿ç¨å¯å¤ç¨ççº¿ç¨ãè¥ææçº¿ç¨åå¨å·¥ä½ï¼åææ°çä»»å¡æäº¤ï¼åä¼åå»ºæ°ççº¿ç¨å¤çä»»å¡ãææçº¿ç¨å¨å½åä»»å¡æ§è¡å®æ¯åï¼å°è¿åçº¿ç¨æ± è¿è¡å¤ç¨ã\n * scheduledthreadpool ï¼è¯¥è¿åä¸ä¸ªç¨æ¥å¨ç»å®çå»¶è¿åè¿è¡ä»»å¡æèå®ææ§è¡ä»»å¡ççº¿ç¨æ± ã\n\nå¯¹åº executors å·¥å·ç±»ä¸­çæ¹æ³å¦å¾æç¤ºï¼\n\n\n# çº¿ç¨æ± å¸¸è§åæ°æåªäºï¼å¦ä½è§£éï¼\n\n    /**\n     * ç¨ç»å®çåå§åæ°åå»ºä¸ä¸ªæ°çthreadpoolexecutorã\n     */\n    public threadpoolexecutor(int corepoolsize,//çº¿ç¨æ± çæ ¸å¿çº¿ç¨æ°é\n                              int maximumpoolsize,//çº¿ç¨æ± çæå¤§çº¿ç¨æ°\n                              long keepalivetime,//å½çº¿ç¨æ°å¤§äºæ ¸å¿çº¿ç¨æ°æ¶ï¼å¤ä½çç©ºé²çº¿ç¨å­æ´»çæé¿æ¶é´\n                              timeunit unit,//æ¶é´åä½\n                              blockingqueue<runnable> workqueue,//ä»»å¡éåï¼ç¨æ¥å¨å­ç­å¾æ§è¡ä»»å¡çéå\n                              threadfactory threadfactory,//çº¿ç¨å·¥åï¼ç¨æ¥åå»ºçº¿ç¨ï¼ä¸è¬é»è®¤å³å¯\n                              rejectedexecutionhandler handler//æç»ç­ç¥ï¼å½æäº¤çä»»å¡è¿å¤èä¸è½åæ¶å¤çæ¶ï¼æä»¬å¯ä»¥å®å¶ç­ç¥æ¥å¤çä»»å¡\n                               ) {\n        if (corepoolsize < 0 ||\n            maximumpoolsize <= 0 ||\n            maximumpoolsize < corepoolsize ||\n            keepalivetime < 0)\n            throw new illegalargumentexception();\n        if (workqueue == null || threadfactory == null || handler == null)\n            throw new nullpointerexception();\n        this.corepoolsize = corepoolsize;\n        this.maximumpoolsize = maximumpoolsize;\n        this.workqueue = workqueue;\n        this.keepalivetime = unit.tonanos(keepalivetime);\n        this.threadfactory = threadfactory;\n        this.handler = handler;\n    }\n\n\n\nthreadpoolexecutor 3 ä¸ªæéè¦çåæ°ï¼\n\n * corepoolsize : ä»»å¡éåæªè¾¾å°éåå®¹éæ¶ï¼æå¤§å¯ä»¥åæ¶è¿è¡ççº¿ç¨æ°éã\n * maximumpoolsize : ä»»å¡éåä¸­å­æ¾çä»»å¡è¾¾å°éåå®¹éçæ¶åï¼å½åå¯ä»¥åæ¶è¿è¡ççº¿ç¨æ°éåä¸ºæå¤§çº¿ç¨æ°ã\n * workqueue: æ°ä»»å¡æ¥çæ¶åä¼åå¤æ­å½åè¿è¡ççº¿ç¨æ°éæ¯å¦è¾¾å°æ ¸å¿çº¿ç¨æ°ï¼å¦æè¾¾å°çè¯ï¼æ°ä»»å¡å°±ä¼è¢«å­æ¾å¨éåä¸­ã\n\nthreadpoolexecutorå¶ä»å¸¸è§åæ° :\n\n * keepalivetime:çº¿ç¨æ± ä¸­ççº¿ç¨æ°éå¤§äº corepoolsize çæ¶åï¼å¦æè¿æ¶æ²¡ææ°çä»»å¡æäº¤ï¼æ ¸å¿çº¿ç¨å¤ççº¿ç¨ä¸ä¼ç«å³éæ¯ï¼èæ¯ä¼ç­å¾ï¼ç´å°ç­å¾çæ¶é´è¶è¿äº keepalivetimeæä¼è¢«åæ¶éæ¯ï¼\n * unit : keepalivetime åæ°çæ¶é´åä½ã\n * threadfactory :executor åå»ºæ°çº¿ç¨çæ¶åä¼ç¨å°ã\n * handler :é¥±åç­ç¥ãå³äºé¥±åç­ç¥ä¸é¢åç¬ä»ç»ä¸ä¸ã\n\n\n# çº¿ç¨æ± çé¥±åç­ç¥æåªäº\n\nå¦æå½ååæ¶è¿è¡ççº¿ç¨æ°éè¾¾å°æå¤§çº¿ç¨æ°éå¹¶ä¸éåä¹å·²ç»è¢«æ¾æ»¡äºä»»å¡æ¶ï¼threadpooltaskexecutor å®ä¹ä¸äºç­ç¥:\n\n * threadpoolexecutor.abortpolicyï¼ æåº rejectedexecutionexceptionæ¥æç»æ°ä»»å¡çå¤çã\n * threadpoolexecutor.callerrunspolicyï¼ è°ç¨æ§è¡èªå·±ççº¿ç¨è¿è¡ä»»å¡ï¼ä¹å°±æ¯ç´æ¥å¨è°ç¨executeæ¹æ³ççº¿ç¨ä¸­è¿è¡(run)è¢«æç»çä»»å¡ï¼å¦ææ§è¡ç¨åºå·²å³é­ï¼åä¼ä¸¢å¼è¯¥ä»»å¡ãå æ­¤è¿ç§ç­ç¥ä¼éä½å¯¹äºæ°ä»»å¡æäº¤éåº¦ï¼å½±åç¨åºçæ´ä½æ§è½ãå¦ææ¨çåºç¨ç¨åºå¯ä»¥æ¿åæ­¤å»¶è¿å¹¶ä¸ä½ è¦æ±ä»»ä½ä¸ä¸ªä»»å¡è¯·æ±é½è¦è¢«æ§è¡çè¯ï¼ä½ å¯ä»¥éæ©è¿ä¸ªç­ç¥ã\n * threadpoolexecutor.discardpolicyï¼ ä¸å¤çæ°ä»»å¡ï¼ç´æ¥ä¸¢å¼æã\n * threadpoolexecutor.discardoldestpolicyï¼ æ­¤ç­ç¥å°ä¸¢å¼ææ©çæªå¤ççä»»å¡è¯·æ±ã\n\nä¸¾ä¸ªä¾å­ï¼ spring éè¿ threadpooltaskexecutor æèæä»¬ç´æ¥éè¿ threadpoolexecutor çæé å½æ°åå»ºçº¿ç¨æ± çæ¶åï¼å½æä»¬ä¸æå® rejectedexecutionhandler é¥±åç­ç¥çè¯æ¥éç½®çº¿ç¨æ± çæ¶åé»è®¤ä½¿ç¨çæ¯ threadpoolexecutor.abortpolicyãå¨é»è®¤æåµä¸ï¼threadpoolexecutor å°æåº rejectedexecutionexception æ¥æç»æ°æ¥çä»»å¡ ï¼è¿ä»£è¡¨ä½ å°ä¸¢å¤±å¯¹è¿ä¸ªä»»å¡çå¤çã å¯¹äºå¯ä¼¸ç¼©çåºç¨ç¨åºï¼å»ºè®®ä½¿ç¨ threadpoolexecutor.callerrunspolicyãå½æå¤§æ± è¢«å¡«æ»¡æ¶ï¼æ­¤ç­ç¥ä¸ºæä»¬æä¾å¯ä¼¸ç¼©éåãï¼è¿ä¸ªç´æ¥æ¥ç threadpoolexecutor çæé å½æ°æºç å°±å¯ä»¥çåºï¼æ¯è¾ç®åçåå ï¼è¿éå°±ä¸è´´ä»£ç äºï¼\n\n\n# çº¿ç¨æ± çæ§è¡æµç¨\n\n\n\n 1. å¦æå½åè¿è¡ççº¿ç¨æ°å°äºæ ¸å¿çº¿ç¨æ°ï¼é£ä¹å°±ä¼æ°å»ºä¸ä¸ªçº¿ç¨æ¥æ§è¡ä»»å¡ã\n 2. å¦æå½åè¿è¡ççº¿ç¨æ°ç­äºæå¤§äºæ ¸å¿çº¿ç¨æ°ï¼ä½æ¯å°äºæå¤§çº¿ç¨æ°ï¼é£ä¹å°±æè¯¥ä»»å¡æ¾å¥å°ä»»å¡éåéç­å¾æ§è¡ã\n 3. å¦æåä»»å¡éåææ¾ä»»å¡å¤±è´¥ï¼ä»»å¡éåå·²ç»æ»¡äºï¼ï¼ä½æ¯å½åè¿è¡ççº¿ç¨æ°æ¯å°äºæå¤§çº¿ç¨æ°çï¼å°±æ°å»ºä¸ä¸ªçº¿ç¨æ¥æ§è¡ä»»å¡ã\n 4. å¦æå½åè¿è¡ççº¿ç¨æ°å·²ç»ç­åäºæå¤§çº¿ç¨æ°äºï¼æ°å»ºçº¿ç¨å°ä¼ä½¿å½åè¿è¡ççº¿ç¨è¶åºæå¤§çº¿ç¨æ°ï¼é£ä¹å½åä»»å¡ä¼è¢«æç»ï¼é¥±åç­ç¥ä¼è°ç¨rejectedexecutionhandler.rejectedexecution()æ¹æ³ã\n\n\n# å¦ä½è®¾å®çº¿ç¨æ± çå¤§å°\n\nçº¿ç¨æ± å¤§å°è®¾ç½®è¿å¤§æèè¿å°é½ä¼æé®é¢ï¼åéçææ¯æå¥½ã\n\n * å¦ææä»¬è®¾ç½®ççº¿ç¨æ± æ°éå¤ªå°çè¯ï¼å¦æåä¸æ¶é´æå¤§éä»»å¡/è¯·æ±éè¦å¤çï¼å¯è½ä¼å¯¼è´å¤§éçè¯·æ±/ä»»å¡å¨ä»»å¡éåä¸­æéç­å¾æ§è¡ï¼çè³ä¼åºç°ä»»å¡éåæ»¡äºä¹åä»»å¡/è¯·æ±æ æ³å¤ççæåµï¼æèå¤§éä»»å¡å ç§¯å¨ä»»å¡éåå¯¼è´ oomãè¿æ ·å¾ææ¾æ¯æé®é¢çï¼cpu æ ¹æ¬æ²¡æå¾å°ååå©ç¨ã\n * å¦ææä»¬è®¾ç½®çº¿ç¨æ°éå¤ªå¤§ï¼å¤§éçº¿ç¨å¯è½ä¼åæ¶å¨äºå cpu èµæºï¼è¿æ ·ä¼å¯¼è´å¤§éçä¸ä¸æåæ¢ï¼ä»èå¢å çº¿ç¨çæ§è¡æ¶é´ï¼å½±åäºæ´ä½æ§è¡æçã\n\næä¸ä¸ªç®åå¹¶ä¸éç¨é¢æ¯è¾å¹¿çå¬å¼ï¼\n\n * cpu å¯éåä»»å¡(n+1)ï¼ è¿ç§ä»»å¡æ¶èçä¸»è¦æ¯ cpu èµæºï¼å¯ä»¥å°çº¿ç¨æ°è®¾ç½®ä¸º nï¼cpu æ ¸å¿æ°ï¼+1ãæ¯ cpu æ ¸å¿æ°å¤åºæ¥çä¸ä¸ªçº¿ç¨æ¯ä¸ºäºé²æ­¢çº¿ç¨å¶åçç¼ºé¡µä¸­æ­ï¼æèå¶å®åå å¯¼è´çä»»å¡æåèå¸¦æ¥çå½±åãä¸æ¦ä»»å¡æåï¼cpu å°±ä¼å¤äºç©ºé²ç¶æï¼èå¨è¿ç§æåµä¸å¤åºæ¥çä¸ä¸ªçº¿ç¨å°±å¯ä»¥ååå©ç¨ cpu çç©ºé²æ¶é´ã\n * i/o å¯éåä»»å¡(2n)ï¼ è¿ç§ä»»å¡åºç¨èµ·æ¥ï¼ç³»ç»ä¼ç¨å¤§é¨åçæ¶é´æ¥å¤ç i/o äº¤äºï¼èçº¿ç¨å¨å¤ç i/o çæ¶é´æ®µåä¸ä¼å ç¨ cpu æ¥å¤çï¼è¿æ¶å°±å¯ä»¥å° cpu äº¤åºç»å¶å®çº¿ç¨ä½¿ç¨ãå æ­¤å¨ i/o å¯éåä»»å¡çåºç¨ä¸­ï¼æä»¬å¯ä»¥å¤éç½®ä¸äºçº¿ç¨ï¼å·ä½çè®¡ç®æ¹æ³æ¯ 2nã\n\n\n# aqs\n\n\n# aqs æ¯ä»ä¹ï¼\n\naqs çå¨ç§°ä¸º abstractqueuedsynchronizer ï¼ç¿»è¯è¿æ¥çææå°±æ¯æ½è±¡éååæ­¥å¨ãè¿ä¸ªç±»å¨ java.util.concurrent.locks åä¸é¢ã\naqs å°±æ¯ä¸ä¸ªæ½è±¡ç±»ï¼ä¸»è¦ç¨æ¥æå»ºéååæ­¥å¨\n\npublic abstract class abstractqueuedsynchronizer extends abstractownablesynchronizer implements java.io.serializable {\n}\n\n\n\naqs ä¸ºæå»ºéååæ­¥å¨æä¾äºä¸äºéç¨åè½çæ¯å®ç°ï¼å æ­¤ï¼ä½¿ç¨ aqs è½ç®åä¸é«æå°æé åºåºç¨å¹¿æ³çå¤§éçåæ­¥å¨ï¼æ¯å¦æä»¬æå°ç reentrantlockï¼semaphoreï¼å¶ä»çè¯¸å¦ reentrantreadwritelockï¼synchronousqueueç­ç­çæ¯åºäº aqs çã\n\n\n# aqsçåçæ¯ä»ä¹\n\naqs æ ¸å¿ææ³æ¯ï¼å¦æè¢«è¯·æ±çå±äº«èµæºç©ºé²ï¼åå°å½åè¯·æ±èµæºççº¿ç¨è®¾ç½®ä¸ºææçå·¥ä½çº¿ç¨ï¼å¹¶ä¸å°å±äº«èµæºè®¾ç½®ä¸ºéå®ç¶æãå¦æè¢«è¯·æ±çå±äº«èµæºè¢«å ç¨ï¼é£ä¹å°±éè¦ä¸å¥çº¿ç¨é»å¡ç­å¾ä»¥åè¢«å¤éæ¶éåéçæºå¶ï¼è¿ä¸ªæºå¶ aqs æ¯ç¨ clh éåé å®ç°çï¼å³å°ææ¶è·åä¸å°éççº¿ç¨å å¥å°éåä¸­ã',charsets:{cjk:!0},lastUpdated:"2023/11/14, 06:07:31",lastUpdatedTimestamp:1699942051e3},{title:"Java æ°ç¹æ§é¢è¯é¢",frontmatter:{title:"Java æ°ç¹æ§é¢è¯é¢",date:"2023-11-02T11:09:09.000Z",permalink:"/pages/89ee48/"},regularPath:"/02.Java%20%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/02.Java%20%E5%85%AB%E8%82%A1%E6%96%87/04.Java%20%E6%96%B0%E7%89%B9%E6%80%A7%E9%9D%A2%E8%AF%95%E9%A2%98.html",relativePath:"02.Java é¢è¯å®å¸/02.Java å«è¡æ/04.Java æ°ç¹æ§é¢è¯é¢.md",key:"v-d4e3c634",path:"/pages/89ee48/",headers:[{level:2,title:"CPU åªæä¸¤æ ¸çè¯ï¼å¹¶è¡æµè¿æç¨å",slug:"cpu-åªæä¸¤æ ¸çè¯-å¹¶è¡æµè¿æç¨å",normalizedTitle:"cpu åªæä¸¤æ ¸çè¯ï¼å¹¶è¡æµè¿æç¨å",charIndex:2}],headersStr:"CPU åªæä¸¤æ ¸çè¯ï¼å¹¶è¡æµè¿æç¨å",content:"# CPU åªæä¸¤æ ¸çè¯ï¼å¹¶è¡æµè¿æç¨å\n\næç¨ã\n\nå¹¶è¡æµå°±æ¯å°ä¸ä¸ªæµçåå®¹åæå¤ä¸ªæ°æ®åï¼å¹¶ç¨ä¸åççº¿ç¨åå«å¤çæ¯ä¸ªä¸åæ°æ®åçæµã\n\nå¹¶è¡æµåé¨ä½¿ç¨äºé»è®¤ç ForkJoinPool çº¿ç¨æ± ãé»è®¤ççº¿ç¨æ°éå°±æ¯å¤çå¨çæ ¸å¿æ°ã\n\næä»¥ CPU åªæä¸¤æ ¸çè¯ï¼å¹¶è¡æµä¼ä½¿ç¨ä¸¤ä¸ªçº¿ç¨æ°å¯¹æ°æ®è¿è¡å¤çã",normalizedContent:"# cpu åªæä¸¤æ ¸çè¯ï¼å¹¶è¡æµè¿æç¨å\n\næç¨ã\n\nå¹¶è¡æµå°±æ¯å°ä¸ä¸ªæµçåå®¹åæå¤ä¸ªæ°æ®åï¼å¹¶ç¨ä¸åççº¿ç¨åå«å¤çæ¯ä¸ªä¸åæ°æ®åçæµã\n\nå¹¶è¡æµåé¨ä½¿ç¨äºé»è®¤ç forkjoinpool çº¿ç¨æ± ãé»è®¤ççº¿ç¨æ°éå°±æ¯å¤çå¨çæ ¸å¿æ°ã\n\næä»¥ cpu åªæä¸¤æ ¸çè¯ï¼å¹¶è¡æµä¼ä½¿ç¨ä¸¤ä¸ªçº¿ç¨æ°å¯¹æ°æ®è¿è¡å¤çã",charsets:{cjk:!0},lastUpdated:"2023/11/02, 03:16:54",lastUpdatedTimestamp:1698895014e3},{title:"JVM é¢è¯é¢",frontmatter:{title:"JVM é¢è¯é¢",date:"2023-10-24T15:38:18.000Z",permalink:"/pages/752c30/"},regularPath:"/02.Java%20%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/02.Java%20%E5%85%AB%E8%82%A1%E6%96%87/05.JVM%20%E9%9D%A2%E8%AF%95%E9%A2%98.html",relativePath:"02.Java é¢è¯å®å¸/02.Java å«è¡æ/05.JVM é¢è¯é¢.md",key:"v-4e4a101c",path:"/pages/752c30/",headers:[{level:1,title:"è¿è¡æ¶æ°æ®åº",slug:"è¿è¡æ¶æ°æ®åº",normalizedTitle:"è¿è¡æ¶æ°æ®åº",charIndex:2},{level:2,title:"è¿è¡æ¶æ°æ®åºä¸­åå«åªäºåºåï¼åªäºçº¿ç¨å±äº«çï¼åªäºçº¿ç¨ç¬äº«ï¼åªäºåºåå¯è½åºç°OutOFMemoryErrorï¼åªäºåºåä¸ä¼åºç°OutOFMemoryError",slug:"è¿è¡æ¶æ°æ®åºä¸­åå«åªäºåºå-åªäºçº¿ç¨å±äº«ç-åªäºçº¿ç¨ç¬äº«-åªäºåºåå¯è½åºç°outofmemoryerror-åªäºåºåä¸ä¼åºç°outofmemoryerror",normalizedTitle:"è¿è¡æ¶æ°æ®åºä¸­åå«åªäºåºåï¼åªäºçº¿ç¨å±äº«çï¼åªäºçº¿ç¨ç¬äº«ï¼åªäºåºåå¯è½åºç°outofmemoryerrorï¼åªäºåºåä¸ä¼åºç°outofmemoryerror",charIndex:13},{level:3,title:"ç¨åºè®¡æ°å¨",slug:"ç¨åºè®¡æ°å¨",normalizedTitle:"ç¨åºè®¡æ°å¨",charIndex:148},{level:3,title:"Javaèææºæ ",slug:"javaèææºæ ",normalizedTitle:"javaèææºæ ",charIndex:417},{level:3,title:"æ¬å°æ¹æ³æ ",slug:"æ¬å°æ¹æ³æ ",normalizedTitle:"æ¬å°æ¹æ³æ ",charIndex:165},{level:3,title:"å ",slug:"å ",normalizedTitle:"å ",charIndex:183},{level:3,title:"æ¹æ³åº",slug:"æ¹æ³åº",normalizedTitle:"æ¹æ³åº",charIndex:188},{level:2,title:"æ¹æ³åºåæ°¸ä¹ä»£çå³ç³»",slug:"æ¹æ³åºåæ°¸ä¹ä»£çå³ç³»",normalizedTitle:"æ¹æ³åºåæ°¸ä¹ä»£çå³ç³»",charIndex:2167},{level:2,title:"Javaå¯¹è±¡åå»ºçè¿ç¨",slug:"javaå¯¹è±¡åå»ºçè¿ç¨",normalizedTitle:"javaå¯¹è±¡åå»ºçè¿ç¨",charIndex:2330},{level:2,title:"å¯¹è±¡çè®¿é®å®ä½ä¸¤ç§æ¹å¼ç¥éåï¼åæä»ä¹ä¼ç¼ºç¹",slug:"å¯¹è±¡çè®¿é®å®ä½ä¸¤ç§æ¹å¼ç¥éå-åæä»ä¹ä¼ç¼ºç¹",normalizedTitle:"å¯¹è±¡çè®¿é®å®ä½ä¸¤ç§æ¹å¼ç¥éåï¼åæä»ä¹ä¼ç¼ºç¹",charIndex:3056},{level:2,title:"å ç©ºé´çåºæ¬ç»æäºè§£åï¼ä»ä¹æåµä¸å¯¹è±¡å¯¹ä¼è¿å¥èå¹´ä»£",slug:"å ç©ºé´çåºæ¬ç»æäºè§£å-ä»ä¹æåµä¸å¯¹è±¡å¯¹ä¼è¿å¥èå¹´ä»£",normalizedTitle:"å ç©ºé´çåºæ¬ç»æäºè§£åï¼ä»ä¹æåµä¸å¯¹è±¡å¯¹ä¼è¿å¥èå¹´ä»£",charIndex:3378},{level:1,title:"åå¾æ¶é",slug:"åå¾æ¶é",normalizedTitle:"åå¾æ¶é",charIndex:1640},{level:2,title:"å¦ä½å¤æ­å¯¹è±¡æ¯å¦æ­»äº¡",slug:"å¦ä½å¤æ­å¯¹è±¡æ¯å¦æ­»äº¡",normalizedTitle:"å¦ä½å¤æ­å¯¹è±¡æ¯å¦æ­»äº¡",charIndex:4037},{level:2,title:"åªäºå¯¹è±¡å¯ä»¥ä½ä¸ºGC Rootså¢",slug:"åªäºå¯¹è±¡å¯ä»¥ä½ä¸ºgc-rootså¢",normalizedTitle:"åªäºå¯¹è±¡å¯ä»¥ä½ä¸ºgc rootså¢",charIndex:4442},{level:2,title:"å¯¹è±¡å¯ä»¥è¢«åæ¶ï¼å°±ä»£è¡¨ä¸å®ä¼è¢«åæ¶å",slug:"å¯¹è±¡å¯ä»¥è¢«åæ¶-å°±ä»£è¡¨ä¸å®ä¼è¢«åæ¶å",normalizedTitle:"å¯¹è±¡å¯ä»¥è¢«åæ¶ï¼å°±ä»£è¡¨ä¸å®ä¼è¢«åæ¶å",charIndex:4583},{level:2,title:"åå¾æ¶éæåªäºç®æ³ï¼åèªçç¹ç¹ï¼",slug:"åå¾æ¶éæåªäºç®æ³-åèªçç¹ç¹",normalizedTitle:"åå¾æ¶éæåªäºç®æ³ï¼åèªçç¹ç¹ï¼",charIndex:4848},{level:2,title:"ç¨åºè°ç¨System.gc()æ¶ï¼ä¸å®ä¼åçGCå",slug:"ç¨åºè°ç¨system-gc-æ¶-ä¸å®ä¼åçgcå",normalizedTitle:"ç¨åºè°ç¨system.gc()æ¶ï¼ä¸å®ä¼åçgcå",charIndex:5445},{level:2,title:"æåªäºå¸¸è§çGCï¼è°è°ä½ å¯¹Minor GCãè¿æFull GCççè§£ãMinor GCä¸Full GCåå«å¨ä»ä¹æ¶ååçï¼Minor GCä¼åçstop the worldç°è±¡åï¼",slug:"æåªäºå¸¸è§çgc-è°è°ä½ å¯¹minor-gcãè¿æfull-gcççè§£ãminor-gcä¸full-gcåå«å¨ä»ä¹æ¶ååç-minor-gcä¼åçstop-the-worldç°è±¡å",normalizedTitle:"æåªäºå¸¸è§çgcï¼è°è°ä½ å¯¹minor gcãè¿æfull gcççè§£ãminor gcä¸full gcåå«å¨ä»ä¹æ¶ååçï¼minor gcä¼åçstop the worldç°è±¡åï¼",charIndex:5557},{level:2,title:"è®²ä¸ä¸CMSåå¾æ¶éå¨çåä¸ªæ­¥éª¤ãCMSæä»ä¹ç¼ºç¹",slug:"è®²ä¸ä¸cmsåå¾æ¶éå¨çåä¸ªæ­¥éª¤ãcmsæä»ä¹ç¼ºç¹",normalizedTitle:"è®²ä¸ä¸cmsåå¾æ¶éå¨çåä¸ªæ­¥éª¤ãcmsæä»ä¹ç¼ºç¹",charIndex:5920},{level:2,title:"G1åå¾æ¶éå¨çæ­¥éª¤ãæä»ä¹ç¼ºç¹",slug:"g1åå¾æ¶éå¨çæ­¥éª¤ãæä»ä¹ç¼ºç¹",normalizedTitle:"g1åå¾æ¶éå¨çæ­¥éª¤ãæä»ä¹ç¼ºç¹",charIndex:6433},{level:1,title:"ç±»",slug:"ç±»",normalizedTitle:"ç±»",charIndex:598},{level:2,title:"ä»ä¹æ¯å­èç ï¼ç±»æä»¶ç»æçç»æäºè§£å",slug:"ä»ä¹æ¯å­èç -ç±»æä»¶ç»æçç»æäºè§£å",normalizedTitle:"ä»ä¹æ¯å­èç ï¼ç±»æä»¶ç»æçç»æäºè§£å",charIndex:6750},{level:2,title:"ç±»ççå½å¨æï¼ç±»å è½½è¿ç¨äºè§£åï¼å è½½è¿ä¸æ­¥ä¸»è¦åäºä»ä¹äºæï¼åå§åé¶æ®µä¸­åªå ç§æåµå¿é¡»å¯¹ç±»åå§å",slug:"ç±»ççå½å¨æ-ç±»å è½½è¿ç¨äºè§£å-å è½½è¿ä¸æ­¥ä¸»è¦åäºä»ä¹äºæ-åå§åé¶æ®µä¸­åªå ç§æåµå¿é¡»å¯¹ç±»åå§å",normalizedTitle:"ç±»ççå½å¨æï¼ç±»å è½½è¿ç¨äºè§£åï¼å è½½è¿ä¸æ­¥ä¸»è¦åäºä»ä¹äºæï¼åå§åé¶æ®µä¸­åªå ç§æåµå¿é¡»å¯¹ç±»åå§å",charIndex:7627},{level:2,title:"åäº²å§æ´¾æ¨¡åäºè§£åï¼",slug:"åäº²å§æ´¾æ¨¡åäºè§£å",normalizedTitle:"åäº²å§æ´¾æ¨¡åäºè§£åï¼",charIndex:8472},{level:2,title:"åäº²å§æ´¾æ¨¡åæä»ä¹å¥½å¤ï¼åäº²å§æ´¾æ¨¡åæ¯ä¸ºäºä¿è¯ä¸ä¸ªJavaç±»å¨JVMä¸­æ¯å¯ä¸çï¼",slug:"åäº²å§æ´¾æ¨¡åæä»ä¹å¥½å¤-åäº²å§æ´¾æ¨¡åæ¯ä¸ºäºä¿è¯ä¸ä¸ªjavaç±»å¨jvmä¸­æ¯å¯ä¸ç",normalizedTitle:"åäº²å§æ´¾æ¨¡åæä»ä¹å¥½å¤ï¼åäº²å§æ´¾æ¨¡åæ¯ä¸ºäºä¿è¯ä¸ä¸ªjavaç±»å¨jvmä¸­æ¯å¯ä¸çï¼",charIndex:8650},{level:2,title:"JDKä¸­æåªäºé»è®¤çç±»å è½½?",slug:"jdkä¸­æåªäºé»è®¤çç±»å è½½",normalizedTitle:"jdkä¸­æåªäºé»è®¤çç±»å è½½?",charIndex:8901},{level:1,title:"æ§è½ä¼å&é®é¢ææ¥",slug:"æ§è½ä¼å-é®é¢ææ¥",normalizedTitle:"æ§è½ä¼å&amp;é®é¢ææ¥",charIndex:null},{level:2,title:"åå­æ³æ¼ææ¥",slug:"åå­æ³æ¼ææ¥",normalizedTitle:"åå­æ³æ¼ææ¥",charIndex:9327},{level:2,title:"é¡¹ç®ä¸­å®è·µè¿JVMè°ä¼åï¼æä¹åçï¼",slug:"é¡¹ç®ä¸­å®è·µè¿jvmè°ä¼å-æä¹åç",normalizedTitle:"é¡¹ç®ä¸­å®è·µè¿jvmè°ä¼åï¼æä¹åçï¼",charIndex:9612},{level:3,title:"",slug:"",normalizedTitle:"",charIndex:0}],headersStr:"è¿è¡æ¶æ°æ®åº è¿è¡æ¶æ°æ®åºä¸­åå«åªäºåºåï¼åªäºçº¿ç¨å±äº«çï¼åªäºçº¿ç¨ç¬äº«ï¼åªäºåºåå¯è½åºç°OutOFMemoryErrorï¼åªäºåºåä¸ä¼åºç°OutOFMemoryError ç¨åºè®¡æ°å¨ Javaèææºæ  æ¬å°æ¹æ³æ  å  æ¹æ³åº æ¹æ³åºåæ°¸ä¹ä»£çå³ç³» Javaå¯¹è±¡åå»ºçè¿ç¨ å¯¹è±¡çè®¿é®å®ä½ä¸¤ç§æ¹å¼ç¥éåï¼åæä»ä¹ä¼ç¼ºç¹ å ç©ºé´çåºæ¬ç»æäºè§£åï¼ä»ä¹æåµä¸å¯¹è±¡å¯¹ä¼è¿å¥èå¹´ä»£ åå¾æ¶é å¦ä½å¤æ­å¯¹è±¡æ¯å¦æ­»äº¡ åªäºå¯¹è±¡å¯ä»¥ä½ä¸ºGC Rootså¢ å¯¹è±¡å¯ä»¥è¢«åæ¶ï¼å°±ä»£è¡¨ä¸å®ä¼è¢«åæ¶å åå¾æ¶éæåªäºç®æ³ï¼åèªçç¹ç¹ï¼ ç¨åºè°ç¨System.gc()æ¶ï¼ä¸å®ä¼åçGCå æåªäºå¸¸è§çGCï¼è°è°ä½ å¯¹Minor GCãè¿æFull GCççè§£ãMinor GCä¸Full GCåå«å¨ä»ä¹æ¶ååçï¼Minor GCä¼åçstop the worldç°è±¡åï¼ è®²ä¸ä¸CMSåå¾æ¶éå¨çåä¸ªæ­¥éª¤ãCMSæä»ä¹ç¼ºç¹ G1åå¾æ¶éå¨çæ­¥éª¤ãæä»ä¹ç¼ºç¹ ç±» ä»ä¹æ¯å­èç ï¼ç±»æä»¶ç»æçç»æäºè§£å ç±»ççå½å¨æï¼ç±»å è½½è¿ç¨äºè§£åï¼å è½½è¿ä¸æ­¥ä¸»è¦åäºä»ä¹äºæï¼åå§åé¶æ®µä¸­åªå ç§æåµå¿é¡»å¯¹ç±»åå§å åäº²å§æ´¾æ¨¡åäºè§£åï¼ åäº²å§æ´¾æ¨¡åæä»ä¹å¥½å¤ï¼åäº²å§æ´¾æ¨¡åæ¯ä¸ºäºä¿è¯ä¸ä¸ªJavaç±»å¨JVMä¸­æ¯å¯ä¸çï¼ JDKä¸­æåªäºé»è®¤çç±»å è½½? æ§è½ä¼å&é®é¢ææ¥ åå­æ³æ¼ææ¥ é¡¹ç®ä¸­å®è·µè¿JVMè°ä¼åï¼æä¹åçï¼ ",content:'# è¿è¡æ¶æ°æ®åº\n\n\n# è¿è¡æ¶æ°æ®åºä¸­åå«åªäºåºåï¼åªäºçº¿ç¨å±äº«çï¼åªäºçº¿ç¨ç¬äº«ï¼åªäºåºåå¯è½åºç°OutOFMemoryErrorï¼åªäºåºåä¸ä¼åºç°OutOFMemoryError\n\nJDK1.8 è¿è¡æ¶æ°æ®åºåä¹åççæ¬ç¥æä¸åã JDK1.8ä¹åï¼ JDK1.8ï¼\n\nçº¿ç¨ç§æçï¼\n\n * ç¨åºè®¡æ°å¨\n * èææºæ \n * æ¬å°æ¹æ³æ \n\nçº¿ç¨å±äº«çï¼\n\n * å \n * æ¹æ³åºï¼JDK1.8 æ¹æåç©ºé´ï¼\n\n\n# ç¨åºè®¡æ°å¨\n\nç¨åºè®¡æ°å¨æ¯ä¸åè¾å°çåå­ç©ºé´ï¼å¯ä»¥çä½å½åçº¿ç¨ææ§è¡çå­èç çè¡å·æç¤ºå¨ãä¸»è¦æä¸¤ä¸ªä½ç¨ï¼\n\n * å­èç è§£éå¨éè¿æ¹åç¨åºè®¡æ°å¨æ¥ä¾æ¬¡è¯»åæä»¤ï¼å®ç°ä»£ç çæµç¨æ§å¶ï¼å¦ï¼é¡ºåºæ§è¡ãéæ©ãå¾ªç¯ï¼å¼å¸¸å¤çç­ã\n * å¤çº¿ç¨çæåµä¸ï¼ç¨åºè®¡æ°å¨ä¼è®°å½å½åçº¿ç¨æ§è¡çä½ç½®ï¼å½çº¿ç¨åæ¢åæ¥æ¶å¯ä»¥ç¥éå½çº¿ç¨ä¸æ¬¡è¿è¡å°åªé\n\nç¨åºè®¡æ°å¨æ¯å¯ä¸ä¸ä¸ªä¸ä¼åºç° OutOfMemoryError çåå­åºåã\n\n\n# Javaèææºæ \n\nJavaèææºæ ä¸»è¦ç» Javaæ¹æ³ä½¿ç¨ï¼ææç Java æ¹æ³è°ç¨é½æ¯éè¿æ å®ç°çãæ¹æ³è°ç¨çæ°æ®éè¿æ è¿è¡ä¼ éï¼æ¯ä¸æ¬¡æ¹æ³è°ç¨é½æä¸ä¸ªå¯¹åºçæ å¸§è¢«åå¥æ ä¸­ï¼æ¯ä¸ä¸ªæ¹æ³è°ç¨ç»æåï¼é½ä¼æä¸ä¸ªæ å¸§è¢«å¼¹åºã æ ç±ä¸ä¸ªä¸ªæ å¸§ç»æï¼æ¯ä¸ªæ å¸§é½æ¥æï¼å±é¨åéè¡¨ãæä½æ°æ ãå¨æé¾æ¥ãæ¹æ³è¿åå°åã\n\n * å±é¨åéè¡¨ï¼ ä¸»è¦å­æ¾äºç¼è¯æå¯ç¥çåç§æ°æ®ç±»åï¼booleanãbyteãcharãshortãintãfloatãlongãdoubleï¼ãå¯¹è±¡å¼ç¨ï¼reference ç±»åï¼å®ä¸åäºå¯¹è±¡æ¬èº«ï¼å¯è½æ¯ä¸ä¸ªæåå¯¹è±¡èµ·å§å°åçå¼ç¨æéï¼ä¹å¯è½æ¯æåä¸ä¸ªä»£è¡¨å¯¹è±¡çå¥ææå¶ä»ä¸æ­¤å¯¹è±¡ç¸å³çä½ç½®ï¼ã\n * æä½æ°æ ï¼ç¨äºå­æ¾æ¹æ³æ§è¡è¿ç¨ä¸­äº§ççä¸­é´è®¡ç®ç»æåè®¡ç®è¿ç¨ä¸­äº§ççä¸´æ¶åé\n * å¨æé¾æ¥ï¼ä¸»è¦æå¡äºä¸ä¸ªæ¹æ³éè¦è°ç¨å¶ä»æ¹æ³çåºæ¯ã å¨ Java æºæä»¶è¢«ç¼è¯æå­èç æä»¶æ¶ï¼ææçåéåæ¹æ³å¼ç¨é½ä½ä¸ºç¬¦å·å¼ç¨ï¼Symbilic Referenceï¼ä¿å­å¨ Class æä»¶çå¸¸éæ± éãå½ä¸ä¸ªæ¹æ³è¦è°ç¨å¶ä»æ¹æ³ï¼éè¦å°å¸¸éæ± ä¸­æåæ¹æ³çç¬¦å·å¼ç¨è½¬åä¸ºå¶å¨åå­å°åä¸­çç´æ¥å¼ç¨ãå¨æé¾æ¥çä½ç¨å°±æ¯ä¸ºäºå°ç¬¦å·å¼ç¨è½¬æ¢ä¸ºè°ç¨æ¹æ³çç´æ¥å¼ç¨ã\n * æ¹æ³è¿åå°åï¼ Java æ¹æ³æä¸¤ç§è¿åæ¹å¼ï¼ä¸ç§æ¯ return è¯­å¥æ­£å¸¸è¿åï¼ä¸ç§æ¯æåºå¼å¸¸ãä¸ç®¡åªç§è¿åæ¹å¼ï¼é½ä¼å¯¼è´æ å¸§è¢«å¼¹åºãä¹å°±æ¯è¯´ï¼ æ å¸§éçæ¹æ³è°ç¨èåå»ºï¼éçæ¹æ³ç»æèéæ¯ãæ è®ºæ¹æ³æ­£å¸¸å®æè¿æ¯å¼å¸¸å®æé½ç®ä½æ¹æ³ç»æã\n\nç¨åºè¿è¡ä¸­Javaèææºæ å¯è½ä¼åºç°ä¸¤ç§éè¯¯ï¼\n\n * StackOverFlowErrorï¼ è¥æ çåå­å¤§å°ä¸åè®¸å¨ææ©å±ï¼é£ä¹å½çº¿ç¨è¯·æ±æ çæ·±åº¦è¶è¿å½å Java èææºæ çæå¤§æ·±åº¦çæ¶åï¼å°±æåº StackOverFlowErroréè¯¯ã\n * OutOfMemoryErrorï¼ å¦ææ çåå­å¤§å°å¯ä»¥å¨ææ©å±ï¼ å¦æèææºå¨å¨ææ©å±æ æ¶æ æ³ç³è¯·å°è¶³å¤çåå­ç©ºé´ï¼åæåºOutOfMemoryErrorå¼å¸¸\n\n\n# æ¬å°æ¹æ³æ \n\nåèææºæ æåæ¥çä½ç¨éå¸¸ç¸ä¼¼ï¼åºå«æ¯ï¼ èææºæ ä¸ºèææºæ§è¡ Java æ¹æ³ ï¼ä¹å°±æ¯å­èç ï¼æå¡ï¼èæ¬å°æ¹æ³æ åä¸ºèææºä½¿ç¨å°ç Native æ¹æ³æå¡ã å¨ HotSpot èææºä¸­å Java èææºæ åäºä¸ºä¸ã æ¬å°æ¹æ³è¢«æ§è¡çæ¶åï¼å¨æ¬å°æ¹æ³æ ä¹ä¼åå»ºä¸ä¸ªæ å¸§ï¼ç¨äºå­æ¾è¯¥æ¬å°æ¹æ³çå±é¨åéè¡¨ãæä½æ°æ ãå¨æé¾æ¥ãåºå£ä¿¡æ¯ã æ¹æ³æ§è¡å®æ¯åç¸åºçæ å¸§ä¹ä¼åºæ å¹¶éæ¾åå­ç©ºé´ï¼ä¹ä¼åºç° StackOverFlowErrorå OutOfMemoryError ä¸¤ç§éè¯¯ã\n\n\n# å \n\nJava èææºæç®¡ççåå­ä¸­æå¤§çä¸åï¼Java å æ¯ææçº¿ç¨å±äº«çä¸ååå­åºåï¼å¨èææºå¯å¨æ¶åå»ºã**æ­¤åå­åºåçå¯ä¸ç®çå°±æ¯å­æ¾å¯¹è±¡å®ä¾ï¼å ä¹ææçå¯¹è±¡å®ä¾ä»¥åæ°ç»é½å¨è¿éåéåå­ã**Java å æ¯åå¾æ¶éå¨ç®¡ççä¸»è¦åºåï¼å æ­¤ä¹è¢«ç§°ä½ GC å ï¼Garbage Collected Heapï¼ã å è¿éæå®¹æåºç°çå°±æ¯ OutOfMemoryError éè¯¯ï¼å¹¶ä¸åºç°è¿ç§éè¯¯ä¹åçè¡¨ç°å½¢å¼è¿ä¼æå ç§ï¼æ¯å¦ï¼\n\n 1. java.lang.OutOfMemoryError: GC Overhead Limit Exceeded ï¼ å½ JVM è±å¤ªå¤æ¶é´æ§è¡åå¾åæ¶å¹¶ä¸åªè½åæ¶å¾å°çå ç©ºé´æ¶ï¼å°±ä¼åçæ­¤éè¯¯ã\n 2. java.lang.OutOfMemoryError: Java heap space :åå¦å¨åå»ºæ°çå¯¹è±¡æ¶, å åå­ä¸­çç©ºé´ä¸è¶³ä»¥å­æ¾æ°åå»ºçå¯¹è±¡, å°±ä¼å¼åæ­¤éè¯¯ã(åéç½®çæå¤§å åå­æå³ï¼ä¸åå¶äºç©çåå­å¤§å°ãæå¤§å åå­å¯éè¿-Xmxåæ°éç½®ï¼è¥æ²¡æç¹å«éç½®ï¼å°ä¼ä½¿ç¨é»è®¤å¼ãï¼\n\n\n# æ¹æ³åº\n\næ¹æ³åºæ¯ä¸åé»è¾åºåï¼Java èææºè§èåªæ¯è§å®äºæ¹æ³åºçæ¦å¿µåä½ç¨ï¼ä¸åçèææºæ¹æ³åºçå®ç°ä¹æ¯ä¸åçã å½èææºè¦ä½¿ç¨ä¸ä¸ªç±»æ¶ï¼å®éè¦è¯»åå¹¶è§£æ Class æä»¶è·åç¸å³ä¿¡æ¯ï¼åå°ä¿¡æ¯å­å¥å°æ¹æ³åºãæ¹æ³åºä¼å­å¨å·²è¢«èææºå è½½ç ç±»ä¿¡æ¯ãå­æ®µä¿¡æ¯ãæ¹æ³ä¿¡æ¯ãå¸¸éãéæåéãå³æ¶ç¼è¯å¨ç¼è¯åçä»£ç ç¼å­ç­æ°æ®ã\n\n\n# æ¹æ³åºåæ°¸ä¹ä»£çå³ç³»\n\næ¹æ³åºåæ°¸ä¹ä»£ä»¥ååç©ºé´çå³ç³»æç¹åJavaä¸­æ¥å£åç±»çå³ç³»ï¼ç±»å®ç°äºæ¥å£ï¼è¿éçç±»å°±å¯ä»¥çä½æ¯æ°¸ä¹ä»£ååç©ºé´ï¼æ¥å£å¯ä»¥çä½æ¹æ³åºï¼ä¹å°±æ¯æ°¸ä¹ä»£ååç©ºé´æ¯èææºå¯¹èææºè§èä¸­æ¹æ³åºçä¸¤ç§å®ç°æ¹å¼ã æ°¸ä¹ä»£æ¯ JDK 1.8 ä¹åçæ¹æ³åºå®ç°ï¼JDK 1.8 åä»¥åæ¹æ³åºçå®ç°åæäºåç©ºé´ã\n\n\n\n# Javaå¯¹è±¡åå»ºçè¿ç¨\n\n\n\n 1. ç±»å è½½æ£æ¥ï¼ èææºéå°ä¸æ¡ new æä»¤æ¶ï¼é¦åå°å»æ£æ¥è¿ä¸ªæä»¤çåæ°æ¯å¦è½å¨å¸¸éæ± ä¸­å®ä½å°è¿ä¸ªç±»çç¬¦å·å¼ç¨ï¼å¹¶ä¸æ£æ¥è¿ä¸ªç¬¦å·å¼ç¨ä»£è¡¨çç±»æ¯å¦å·²è¢«å è½½è¿ãè§£æååå§åè¿ãå¦ææ²¡æï¼é£å¿é¡»åæ§è¡ç¸åºçç±»å è½½è¿ç¨ã\n 2. åéåå­ï¼ç±»å è½½æ£æ¥è¿åï¼èææºå°ä¸ºæ°çå¯¹è±¡åéåå­ã å¯¹è±¡æéçåå­å¤§å°å¨ç±»å è½½å®æåä¾¿å¯ç¡®å®ï¼ä¸ºå¯¹è±¡åéç©ºé´çä»»å¡ç­åäºæä¸åç¡®å®å¤§å°çåå­ä» Java å ä¸­åååºæ¥ãåéæ¹å¼æ âæéç¢°æâ å âç©ºé²åè¡¨â ä¸¤ç§ï¼éæ©åªç§åéæ¹å¼ç± Java å æ¯å¦è§æ´å³å®ï¼è Java å æ¯å¦è§æ´åç±æéç¨çåå¾æ¶éå¨æ¯å¦å¸¦æåç¼©æ´çåè½å³å®ã\n 3. åå§åé¶å¼ï¼ åå­åéå®æåï¼èææºéè¦å°åéå°çåå­ç©ºé´é½åå§åä¸ºé¶å¼ï¼ä¸åæ¬å¯¹è±¡å¤´ï¼ï¼è¿ä¸æ­¥æä½ä¿è¯äºå¯¹è±¡çå®ä¾å­æ®µå¨ Java ä»£ç ä¸­å¯ä»¥ä¸èµåå§å¼å°±ç´æ¥ä½¿ç¨ï¼ç¨åºè½è®¿é®å°è¿äºå­æ®µçæ°æ®ç±»åæå¯¹åºçé¶å¼ã\n 4. è®¾ç½®å¯¹è±¡å¤´ï¼ åå§åé¶å¼å®æä¹åï¼èææºè¦å¯¹å¯¹è±¡è¿è¡å¿è¦çè®¾ç½®ï¼ä¾å¦è¿ä¸ªå¯¹è±¡æ¯åªä¸ªç±»çå®ä¾ãå¦ä½æè½æ¾å°ç±»çåæ°æ®ä¿¡æ¯ãå¯¹è±¡çåå¸ç ãå¯¹è±¡ç GC åä»£å¹´é¾ç­ä¿¡æ¯ã è¿äºä¿¡æ¯å­æ¾å¨å¯¹è±¡å¤´ä¸­ã å¦å¤ï¼æ ¹æ®èææºå½åè¿è¡ç¶æçä¸åï¼å¦æ¯å¦å¯ç¨ååéç­ï¼å¯¹è±¡å¤´ä¼æä¸åçè®¾ç½®æ¹å¼ã\n 5. æ§è¡initæ¹æ³ï¼ å¨ä¸é¢å·¥ä½é½å®æä¹åï¼ä»èææºçè§è§æ¥çï¼ä¸ä¸ªæ°çå¯¹è±¡å·²ç»äº§çäºï¼ä½ä» Java ç¨åºçè§è§æ¥çï¼å¯¹è±¡åå»ºæåå¼å§ï¼<init> æ¹æ³è¿æ²¡ææ§è¡ï¼ææçå­æ®µé½è¿ä¸ºé¶ãæä»¥ä¸è¬æ¥è¯´ï¼æ§è¡ new æä»¤ä¹åä¼æ¥çæ§è¡ <init> æ¹æ³ï¼æå¯¹è±¡æç§ç¨åºåçææ¿è¿è¡åå§åï¼è¿æ ·ä¸ä¸ªçæ­£å¯ç¨çå¯¹è±¡æç®å®å¨äº§çåºæ¥ã\n\n\n# å¯¹è±¡çè®¿é®å®ä½ä¸¤ç§æ¹å¼ç¥éåï¼åæä»ä¹ä¼ç¼ºç¹\n\nå¯¹è±¡çè®¿é®å®ä½æ¹å¼æä½¿ç¨å¥æåç´æ¥æé\n\n * å¥æï¼å¦æä½¿ç¨å¥æçè¯ï¼é£ä¹ Java å ä¸­å°ä¼åååºä¸ååå­æ¥ä½ä¸ºå¥ææ± ï¼reference ä¸­å­å¨çå°±æ¯å¯¹è±¡çå¥æå°åï¼èå¥æä¸­åå«äºå¯¹è±¡å®ä¾æ°æ®ä¸å¯¹è±¡ç±»åæ°æ®åèªçå·ä½å°åä¿¡æ¯ã\n * ç´æ¥æéï¼ å¦æä½¿ç¨ç´æ¥æéè®¿é®ï¼reference ä¸­å­å¨çç´æ¥å°±æ¯å¯¹è±¡çå°åã\n\nè¿ä¸¤ç§å¯¹è±¡è®¿é®æ¹å¼åæä¼å¿ãä½¿ç¨å¥ææ¥è®¿é®çæå¤§å¥½å¤æ¯ reference ä¸­å­å¨çæ¯ç¨³å®çå¥æå°åï¼å¨å¯¹è±¡è¢«ç§»å¨æ¶åªä¼æ¹åå¥æä¸­çå®ä¾æ°æ®æéï¼è reference æ¬èº«ä¸éè¦ä¿®æ¹ãä½¿ç¨ç´æ¥æéè®¿é®æ¹å¼æå¤§çå¥½å¤å°±æ¯éåº¦å¿«ï¼å®èçäºä¸æ¬¡æéå®ä½çæ¶é´å¼éã\n\n\n# å ç©ºé´çåºæ¬ç»æäºè§£åï¼ä»ä¹æåµä¸å¯¹è±¡å¯¹ä¼è¿å¥èå¹´ä»£\n\nJava å è¿å¯ä»¥ç»åä¸ºï¼æ°çä»£åèå¹´ä»£ï¼åç»è´ä¸ç¹æï¼EdenãSurvivorãOld ç­ç©ºé´ãè¿ä¸æ­¥ååçç®çæ¯æ´å¥½å°åæ¶åå­ï¼æèæ´å¿«å°åéåå­ã å¨ JDK 7 çæ¬å JDK 7 çæ¬ä¹åï¼å åå­è¢«éå¸¸åä¸ºä¸é¢ä¸é¨åï¼\n\n 1. æ°çä»£åå­(Young Generation)\n 2. èçä»£(Old Generation)\n 3. æ°¸ä¹ä»£(Permanent Generation)\n\nä¸å¾æç¤ºç Eden åºãä¸¤ä¸ª Survivor åº S0 å S1 é½å±äºæ°çä»£ï¼ä¸­é´ä¸å±å±äºèå¹´ä»£ï¼æä¸é¢ä¸å±å±äºæ°¸ä¹ä»£ã JDK 8 çæ¬ä¹å PermGen(æ°¸ä¹) å·²è¢« Metaspace(åç©ºé´) åä»£ï¼åç©ºé´ä½¿ç¨çæ¯ç´æ¥åå­ã å¯¹è±¡è¿å¥èå¹´ä»£ä¸»è¦æä¸¤ç§æåµï¼\n\n * é¿æå­æ´»çå¯¹è±¡ä¼è¿å¥èå¹´ä»£ãå¤§é¨åæåµï¼å¯¹è±¡é½ä¼é¦åå¨ Eden åºååéï¼å¨ä¸æ¬¡æ°çä»£åå¾åæ¶åï¼å¦æå¯¹è±¡è¿å­æ´»ï¼åä¼è¿å¥ S0 æè S1ï¼å¹¶ä¸å¯¹è±¡çå¹´é¾è¿ä¼å  1(Eden åº->Survivor åºåå¯¹è±¡çåå§å¹´é¾åä¸º 1)å½å®çå¹´é¾å¢å å°ä¸å®ç¨åº¦ï¼é»è®¤ä¸º 15 å²ï¼ï¼å°±ä¼è¢«æåå°èå¹´ä»£ä¸­ãå¯¹è±¡æåå°èå¹´ä»£çå¹´é¾éå¼ï¼å¯ä»¥éè¿åæ° -XX:MaxTenuringThreshold æ¥è®¾ç½®ã\n * å¤§å¯¹è±¡ä¼ç´æ¥è¿å¥èå¹´ä»£ãä¸»è¦æ¯é¿åå¹´è½»ä»£éåºç°é£ç§å¤§å¯¹è±¡ï¼ç¶åå±¡æ¬¡èº²è¿GCï¼è¿å¾æä»å¨ä¸¤ä¸ªSurvivoråºåéæ¥åå¤å¶å¤æ¬¡ä¹åæè½è¿å¥èå¹´ä»£ã\n\n\n# åå¾æ¶é\n\n\n# å¦ä½å¤æ­å¯¹è±¡æ¯å¦æ­»äº¡\n\nå¤æ­å¯¹è±¡æ¯å¦æ­»äº¡ä¸»è¦æä¸¤ç§æ¹æ³ï¼å¼ç¨è®¡æ°æ³åå¯è¾¾æ§åæç®æ³ã å¼ç¨è®¡æ°æ³ç»å¯¹è±¡ä¸­æ·»å ä¸ä¸ªå¼ç¨è®¡æ°å¨ï¼\n\n * æ¯å½æä¸ä¸ªå°æ¹å¼ç¨å®ï¼è®¡æ°å¨å°±å  1ï¼\n * å½å¼ç¨å¤±æï¼è®¡æ°å¨å°±å 1ï¼\n * ä»»ä½æ¶åè®¡æ°å¨ä¸º 0 çå¯¹è±¡å°±æ¯ä¸å¯è½åè¢«ä½¿ç¨çã\n\nè¿ä¸ªæ¹æ³å®ç°ç®åï¼æçé«ï¼ä½æ¯ç®åä¸»æµçèææºä¸­å¹¶æ²¡æéæ©è¿ä¸ªç®æ³æ¥ç®¡çåå­ï¼å¶æä¸»è¦çåå æ¯å®å¾é¾è§£å³å¯¹è±¡ä¹é´ç¸äºå¾ªç¯å¼ç¨çé®é¢ï¼AåBå¯¹è±¡äºç¸å¼ç¨ï¼æ å¶ä»ä»»ä½å¼ç¨ï¼ã å¯è¾¾æ§åæç®æ³åºæ¬ææ³å°±æ¯éè¿ä¸ç³»åçç§°ä¸º âGC Rootsâ çå¯¹è±¡ä½ä¸ºèµ·ç¹ï¼ä»è¿äºèç¹å¼å§åä¸æç´¢ï¼èç¹æèµ°è¿çè·¯å¾ç§°ä¸ºå¼ç¨é¾ï¼å½ä¸ä¸ªå¯¹è±¡å° GC Roots æ²¡æä»»ä½å¼ç¨é¾ç¸è¿çè¯ï¼åè¯ææ­¤å¯¹è±¡æ¯ä¸å¯ç¨çï¼éè¦è¢«åæ¶ã ä¸å¾ä¸­ç Object 6 ~ Object 10 ä¹é´è½æå¼ç¨å³ç³»ï¼ä½å®ä»¬å° GC Roots ä¸å¯è¾¾ï¼å æ­¤ä¸ºéè¦è¢«åæ¶çå¯¹è±¡\n\n\n\n# åªäºå¯¹è±¡å¯ä»¥ä½ä¸ºGC Rootså¢\n\nä¸é¢è¿äºå¯¹è±¡å¯ä»¥ä½ä¸ºGC Roots:\n\n * èææºæ ï¼æ å¸§ä¸­çæ¬å°åéè¡¨ï¼ä¸­å¼ç¨çå¯¹è±¡\n * æ¬å°æ¹æ³æ (Nativeæ¹æ³)ä¸­å¼ç¨çå¯¹è±¡\n * æ¹æ³åºä¸­ç±»éæå±æ§å¼ç¨çå¯¹è±¡\n * æ¹æ³åºä¸­å¸¸éå¼ç¨çå¯¹è±¡\n * ææè¢«åæ­¥ç¹æçå¯¹è±¡\n\n\n# å¯¹è±¡å¯ä»¥è¢«åæ¶ï¼å°±ä»£è¡¨ä¸å®ä¼è¢«åæ¶å\n\nå³ä½¿æ¯ä¸å¯è¾¾åææ³ä¸­çä¸å¯è¾¾å¯¹è±¡ï¼ä¹ä¸ä¸å®ä¼è¢«åå¾æ¶éå¨åæ¶ï¼è¦çæ­£å®£åä¸ä¸ªå¯¹è±¡æ­»äº¡ï¼è³å°è¦ç»åä¸¤æ¬¡æ è®°è¿ç¨ã ä¸å¯è¾¾å¯¹è±¡è¢«ç¬¬ä¸æ¬¡æ è®°å¹¶ä¸è¿è¡ä¸æ¬¡ä¸æ¬¡ç­éï¼ç­éçæ¡ä»¶æ¯**æ­¤å¯¹è±¡æ¯å¦æå¿è¦æ§è¡ ****finalize **æ¹æ³ãå½å¯¹è±¡æ²¡æè¦ç finalize æ¹æ³ï¼æ finalize æ¹æ³å·²ç»è¢«èææºè°ç¨è¿æ¶ï¼èææºå°è¿ä¸¤ç§æåµè§ä¸ºæ²¡æå¿è¦æ§è¡ã è¢«å¤å®ä¸ºéè¦æ§è¡çå¯¹è±¡å°ä¼è¢«æ¾å¨ä¸ä¸ªéåä¸­è¿è¡ç¬¬äºæ¬¡æ è®°ï¼é¤éè¿ä¸ªå¯¹è±¡ä¸å¼ç¨é¾ä¸çä»»ä½ä¸ä¸ªå¯¹è±¡å»ºç«å³èï¼å¦åå°±ä¼è¢«ççåæ¶ã\n\n\n# åå¾æ¶éæåªäºç®æ³ï¼åèªçç¹ç¹ï¼\n\n * æ è®°-æ¸é¤ç®æ³ï¼è¯¥ç®æ³åä¸ºâæ è®°âåâæ¸é¤âé¶æ®µï¼é¦åæ è®°åºææä¸éè¦åæ¶çå¯¹è±¡ï¼å¨æ è®°å®æåç»ä¸åæ¶ææææ²¡æè¢«æ è®°çå¯¹è±¡ãä¼å¸¦æ¥æçé®é¢å**ç©ºé´é®é¢ï¼æ è®°æ¸é¤åä¼äº§çå¤§éä¸è¿ç»­çç¢çï¼ **\n * æ è®°-å¤å¶ç®æ³ï¼ ä¸ºäºè§£å³æçé®é¢ï¼âæ è®°-å¤å¶âæ¶éç®æ³åºç°äºãå®å¯ä»¥å°åå­åä¸ºå¤§å°ç¸åçä¸¤åï¼æ¯æ¬¡ä½¿ç¨å¶ä¸­çä¸åãå½è¿ä¸åçåå­ä½¿ç¨å®åï¼å°±å°è¿å­æ´»çå¯¹è±¡å¤å¶å°å¦ä¸åå»ï¼ç¶ååæä½¿ç¨çç©ºé´ä¸æ¬¡æ¸çæãè¿æ ·å°±ä½¿æ¯æ¬¡çåå­åæ¶é½æ¯å¯¹åå­åºé´çä¸åè¿è¡åæ¶ã\n * æ è®°-æ´çç®æ³ï¼ æ ¹æ®èå¹´ä»£çç¹ç¹æåºçä¸ç§æ è®°ç®æ³ï¼æ è®°è¿ç¨ä»ç¶ä¸âæ è®°-æ¸é¤âç®æ³ä¸æ ·ï¼ä½åç»­æ­¥éª¤ä¸æ¯ç´æ¥å¯¹å¯åæ¶å¯¹è±¡åæ¶ï¼èæ¯è®©ææå­æ´»çå¯¹è±¡åä¸ç«¯ç§»å¨ï¼ç¶åç´æ¥æ¸çæç«¯è¾¹çä»¥å¤çåå­ã åä»£æ¶éç®æ³ï¼å½åèææºçåå¾æ¶éé½éç¨åä»£æ¶éç®æ³ï¼è¿ç§ç®æ³æ²¡æä»ä¹æ°çææ³ï¼åªæ¯æ ¹æ®å¯¹è±¡å­æ´»å¨æçä¸åå°åå­åä¸ºå åãä¸è¬å° java å åä¸ºæ°çä»£åèå¹´ä»£ï¼è¿æ ·æä»¬å°±å¯ä»¥æ ¹æ®åä¸ªå¹´ä»£çç¹ç¹éæ©åéçåå¾æ¶éç®æ³ãæ¯å¦å¨æ°çä»£ä¸­ï¼æ¯æ¬¡æ¶éé½ä¼æå¤§éå¯¹è±¡æ­»å»ï¼æä»¥å¯ä»¥éæ©âæ è®°-å¤å¶âç®æ³ï¼åªéè¦ä»åºå°éå¯¹è±¡çå¤å¶ææ¬å°±å¯ä»¥å®ææ¯æ¬¡åå¾æ¶éãèèå¹´ä»£çå¯¹è±¡å­æ´»å çæ¯æ¯è¾é«çï¼èä¸æ²¡æé¢å¤çç©ºé´å¯¹å®è¿è¡åéæä¿ï¼æä»¥æä»¬å¿é¡»éæ©âæ è®°-æ¸é¤âæâæ è®°-æ´çâç®æ³è¿è¡åå¾æ¶éã\n\n\n# ç¨åºè°ç¨System.gc()æ¶ï¼ä¸å®ä¼åçGCå\n\næ­¤æ¹æ³çè°ç¨æ¯å»ºè®®JVMè¿è¡Full GCï¼ ä¸ä¸å®ä¼åçGCãä½æ¯ä¸å»ºè®®ä½¿ç¨ System.gc()ï¼ä¼å¢å Full GCçé¢çï¼åºè¯¥è®©èææºèªå·±å»ç®¡çåå­ã\n\n\n# æåªäºå¸¸è§çGCï¼è°è°ä½ å¯¹Minor GCãè¿æFull GCççè§£ãMinor GCä¸Full GCåå«å¨ä»ä¹æ¶ååçï¼Minor GCä¼åçstop the worldç°è±¡åï¼\n\néå¯¹HotSpot VMçå®ç°ï¼GCå¶å®åç¡®åç±»åªæä¸¤å¤§ç§ï¼ é¨åæ¶éï¼Partial GCï¼ï¼\n\n * æ°çä»£æ¶éï¼Minor GC/Young GCï¼ï¼åªå¯¹æ°çä»£è¿è¡åå¾æ¶éã Minor GC éå¸¸é¢ç¹ï¼åæ¶éåº¦æ¯è¾å¿«ã\n * èå¹´ä»£æ¶éï¼Major GC/Old GCï¼ï¼åªå¯¹èå¹´ä»£è¿è¡åå¾æ¶éãéè¦æ³¨æçæ¯Major GCå¨æçè¯­å¢ä¸­ä¹ç¨äºæä»£æ´å æ¶é\n * æ··åæ¶éï¼Mixed GCï¼ï¼å¯¹æ´ä¸ªæ°çä»£åé¨åèå¹´ä»£è¿è¡åå¾æ¶éã ç®ååªæG1æ¶éå¨ä¼æè¿ç§è¡ä¸ºã\n\næ´å æ¶éï¼Full GCï¼ï¼æ¶éæ´ä¸ªJavaå åæ¹æ³åºã\n\n\n# è®²ä¸ä¸CMSåå¾æ¶éå¨çåä¸ªæ­¥éª¤ãCMSæä»ä¹ç¼ºç¹\n\nCMS æ¶éå¨æ¯ç¬¬ä¸æ¬¾å®ç°åå¾æ¶éçº¿ç¨ä¸ç¨æ·çº¿ç¨ï¼åºæ¬ä¸ï¼åæ¶å·¥ä½çå¹¶åæ¶éå¨ï¼åºäº**âæ è®°-æ¸é¤âç®æ³**å®ç°ç ãæ´ä¸ªè¿ç¨åä¸ºåä¸ªæ­¥éª¤ï¼\n\n * åå§æ è®°ï¼ æåææçå¶ä»çº¿ç¨ï¼å¹¶è®°å½ä¸ç´æ¥ä¸ root ç¸è¿çå¯¹è±¡ï¼éåº¦å¾å¿« ï¼\n * å¹¶åæ è®°ï¼ åæ¶å¼å¯ GC åç¨æ·çº¿ç¨ï¼ç¨ä¸ä¸ªé­åç»æå»è®°å½å¯è¾¾å¯¹è±¡ãä½å¨è¿ä¸ªé¶æ®µç»æï¼è¿ä¸ªé­åç»æå¹¶ä¸è½ä¿è¯åå«å½åææçå¯è¾¾å¯¹è±¡ãå ä¸ºç¨æ·çº¿ç¨å¯è½ä¼ä¸æ­çæ´æ°å¼ç¨åï¼æä»¥ GC çº¿ç¨æ æ³ä¿è¯å¯è¾¾æ§åæçå®æ¶æ§ãæä»¥è¿ä¸ªç®æ³éä¼è·è¸ªè®°å½è¿äºåçå¼ç¨æ´æ°çå°æ¹ã\n * éæ°æ è®°ï¼ éæ°æ è®°é¶æ®µå°±æ¯ä¸ºäºä¿®æ­£å¹¶åæ è®°æé´å ä¸ºç¨æ·ç¨åºç»§ç»­è¿è¡èå¯¼è´æ è®°äº§çåå¨çé£ä¸é¨åå¯¹è±¡çæ è®°è®°å½ï¼è¿ä¸ªé¶æ®µçåé¡¿æ¶é´ä¸è¬ä¼æ¯åå§æ è®°é¶æ®µçæ¶é´ç¨é¿ï¼è¿è¿æ¯å¹¶åæ è®°é¶æ®µæ¶é´ç­\n * å¹¶åæ¸é¤ï¼ å¼å¯ç¨æ·çº¿ç¨ï¼åæ¶ GC çº¿ç¨å¼å§å¯¹æªæ è®°çåºååæ¸æ«ã\n\nCMSçä¸»è¦ä¼ç¹æ¯å¹¶åæ¶éãä½åé¡¿ãç¼ºç¹æ¯ï¼\n\n * å¯¹ CPU èµæºææï¼\n * æ æ³å¤çæµ®å¨åå¾ï¼\n * å®ä½¿ç¨çåæ¶ç®æ³-âæ è®°-æ¸é¤âç®æ³ä¼å¯¼è´æ¶éç»ææ¶ä¼æå¤§éç©ºé´ç¢çäº§çã\n\n\n# G1åå¾æ¶éå¨çæ­¥éª¤ãæä»ä¹ç¼ºç¹\n\nG1 æ¶éå¨çè¿ä½å¤§è´åä¸ºä»¥ä¸å ä¸ªæ­¥éª¤ï¼\n\n * åå§æ è®°ï¼æ è®°ä¸ä¸GC Rootsè½ç´æ¥å³èå°çå¯¹è±¡ï¼éè¦åé¡¿çº¿ç¨ï¼ä½èæ¶å¾ç­\n * å¹¶åæ è®°ï¼æ¯ä»GC Rootå¼å§å¯¹å ä¸­å¯¹è±¡è¿è¡å¯è¾¾æ§åæï¼æ¾åºå­æ´»çå¯¹è±¡ï¼è¿é¶æ®µèæ¶è¾é¿ï¼ä½å¯ä¸ç¨æ·ç¨åºå¹¶åæ§è¡\n * æç»æ è®°ï¼ä¿®æ­£å¨å¹¶åæ è®°æé´å ç¨æ·ç¨åºç»§ç»­è¿ä½èå¯¼è´æ è®°äº§çåå¨çé£ä¸é¨åæ è®°è®°å½\n * ç­éåæ¶ï¼å¯¹åä¸ªRegionçåæ¶ä»·å¼åææ¬è¿è¡æåºï¼æ ¹æ®ç¨æ·æææçGCåé¡¿æ¶é´æ¥å¶å®åæ¶è®¡å\n\nç¼ºç¹ï¼G1 æ¶éå¨ä¸ºäºåå¾æ¶éäº§ççåå­å ç¨ï¼Footprintï¼åç¨åºè¿è¡æ¶çé¢å¤æ§è¡è´è½½ï¼Overloadï¼é½è¦æ¯CMSè¦é«ã\n\n\n# ç±»\n\n\n# ä»ä¹æ¯å­èç ï¼ç±»æä»¶ç»æçç»æäºè§£å\n\nå¨Javaä¸­ï¼JVMå¯ä»¥çè§£çä»£ç å°±å«åå­èç ï¼å³æ©å±åä¸º.classçæä»¶ï¼ ClassFileçç»æå¦ä¸ï¼\n\nClassFile {\n    u4             magic; //é­æ°ï¼Class æä»¶çæ å¿\n    u2             minor_version;//Class çå°çæ¬å·\n    u2             major_version;//Class çå¤§çæ¬å·\n    u2             constant_pool_count;//å¸¸éæ± çæ°é\n    cp_info        constant_pool[constant_pool_count-1];//å¸¸éæ± \n    u2             access_flags;//Class çè®¿é®æ è®°\n    u2             this_class;//å½åç±»\n    u2             super_class;//ç¶ç±»\n    u2             interfaces_count;//æ¥å£\n    u2             interfaces[interfaces_count];//ä¸ä¸ªç±»å¯ä»¥å®ç°å¤ä¸ªæ¥å£\n    u2             fields_count;//Class æä»¶çå­æ®µå±æ§\n    field_info     fields[fields_count];//ä¸ä¸ªç±»å¯ä»¥æå¤ä¸ªå­æ®µ\n    u2             methods_count;//Class æä»¶çæ¹æ³æ°é\n    method_info    methods[methods_count];//ä¸ä¸ªç±»å¯ä»¥æä¸ªå¤ä¸ªæ¹æ³\n    u2             attributes_count;//æ­¤ç±»çå±æ§è¡¨ä¸­çå±æ§æ°\n    attribute_info attributes[attributes_count];//å±æ§è¡¨éå\n}\n\n\n\n\n# ç±»ççå½å¨æï¼ç±»å è½½è¿ç¨äºè§£åï¼å è½½è¿ä¸æ­¥ä¸»è¦åäºä»ä¹äºæï¼åå§åé¶æ®µä¸­åªå ç§æåµå¿é¡»å¯¹ç±»åå§å\n\nç±»çå®æ´çå½å¨æå¦ä¸ï¼ ç±»å è½½è¿ç¨ä¸»è¦åä¸ºä¸æ­¥ï¼å è½½->è¿æ¥->åå§åãè¿æ¥è¿ç¨ååä¸ºéªè¯->åå¤->è§£æã å è½½ä¸»è¦å®æï¼\n\n 1. éè¿å¨ç±»åè·åå®ä¹æ­¤ç±»çäºè¿å¶å­èæµ\n 2. å°å­èæµæä»£è¡¨çéæå­å¨ç»æè½¬æ¢ä¸ºæ¹æ³åºçè¿è¡æ¶æ°æ®ç»æ\n 3. å¨åå­ä¸­çæä¸ä¸ªä»£è¡¨è¯¥ç±»ç Class å¯¹è±¡ï¼ä½ä¸ºæ¹æ³åºè¿äºæ°æ®çè®¿é®å¥å£\n\nåå§åéè§ä¸é¢5ç§æåµå¿é¡»å¯¹ç±»è¿è¡åå§åâ\n\n 1. å½éå° new ã getstaticãputstatic æ invokestatic è¿ 4 æ¡ç´æ¥ç æä»¤æ¶ï¼æ¯å¦ new ä¸ä¸ªç±»ï¼è¯»åä¸ä¸ªéæå­æ®µ(æªè¢« final ä¿®é¥°)ãæè°ç¨ä¸ä¸ªç±»çéææ¹æ³æ¶ã\n    * å½ jvm æ§è¡ new æä»¤æ¶ä¼åå§åç±»ãå³å½ç¨åºåå»ºä¸ä¸ªç±»çå®ä¾å¯¹è±¡ã\n    * å½ jvm æ§è¡ getstatic æä»¤æ¶ä¼åå§åç±»ãå³ç¨åºè®¿é®ç±»çéæåé(ä¸æ¯éæå¸¸éï¼å¸¸éä¼è¢«å è½½å°è¿è¡æ¶å¸¸éæ± )ã\n    * å½ jvm æ§è¡ putstatic æä»¤æ¶ä¼åå§åç±»ãå³ç¨åºç»ç±»çéæåéèµå¼ã\n    * å½ jvm æ§è¡ invokestatic æä»¤æ¶ä¼åå§åç±»ãå³ç¨åºè°ç¨ç±»çéææ¹æ³ã\n 2. ä½¿ç¨ java.lang.reflect åçæ¹æ³å¯¹ç±»è¿è¡åå°è°ç¨æ¶å¦ Class.forname("..."), newInstance() ç­ç­ãå¦æç±»æ²¡åå§åï¼éè¦è§¦åå¶åå§åã\n 3. åå§åä¸ä¸ªç±»ï¼å¦æå¶ç¶ç±»è¿æªåå§åï¼ååè§¦åè¯¥ç¶ç±»çåå§åã\n 4. å½èææºå¯å¨æ¶ï¼ç¨æ·éè¦å®ä¹ä¸ä¸ªè¦æ§è¡çä¸»ç±» (åå« main æ¹æ³çé£ä¸ªç±»)ï¼èææºä¼ååå§åè¿ä¸ªç±»ã\n 5. MethodHandle å VarHandle å¯ä»¥çä½æ¯è½»éçº§çåå°è°ç¨æºå¶ï¼èè¦æ³ä½¿ç¨è¿ 2 ä¸ªè°ç¨ï¼ å°±å¿é¡»åä½¿ç¨ findStaticVarHandle æ¥åå§åè¦è°ç¨çç±»ã\n\n\n# åäº²å§æ´¾æ¨¡åäºè§£åï¼\n\nç±»å è½½çæ¶åï¼é¦åä¼æè¯¥è¯·æ±å§æ´¾ç»ç¶ç±»å è½½å¨ç loadClass() å¤çï¼å æ­¤ææçè¯·æ±æç»é½åºè¯¥ä¼ éå°é¡¶å±çå¯å¨ç±»å è½½å¨ BootstrapClassLoader ä¸­ãå½ç¶ç±»å è½½å¨æ æ³å¤çæ¶ï¼æç±èªå·±æ¥å¤çãå½ç¶ç±»å è½½å¨ä¸º null æ¶ï¼ä¼ä½¿ç¨å¯å¨ç±»å è½½å¨ BootstrapClassLoader ä½ä¸ºç¶ç±»å è½½å¨ã\n\n\n# åäº²å§æ´¾æ¨¡åæä»ä¹å¥½å¤ï¼åäº²å§æ´¾æ¨¡åæ¯ä¸ºäºä¿è¯ä¸ä¸ªJavaç±»å¨JVMä¸­æ¯å¯ä¸çï¼\n\nåäº²å§æ´¾æ¨¡åä¿è¯äº Java ç¨åºçç¨³å®è¿è¡ï¼å¯ä»¥é¿åç±»çéå¤å è½½ï¼JVM åºåä¸åç±»çæ¹å¼ä¸ä»ä»æ ¹æ®ç±»åï¼ç¸åçç±»æä»¶è¢«ä¸åçç±»å è½½å¨å è½½äº§ççæ¯ä¸¤ä¸ªä¸åçç±»ï¼ï¼ä¹ä¿è¯äº Java çæ ¸å¿ API ä¸è¢«ç¯¡æ¹ãå¦ææ²¡æä½¿ç¨åäº²å§æ´¾æ¨¡åï¼èæ¯æ¯ä¸ªç±»å è½½å¨å è½½èªå·±çè¯å°±ä¼åºç°ä¸äºé®é¢ï¼æ¯å¦æä»¬ç¼åä¸ä¸ªç§°ä¸º java.lang.Object ç±»çè¯ï¼é£ä¹ç¨åºè¿è¡çæ¶åï¼ç³»ç»å°±ä¼åºç°å¤ä¸ªä¸åç Object ç±»ã\n\n\n# JDKä¸­æåªäºé»è®¤çç±»å è½½?\n\nJVMä¸­åç½®äºä¸ä¸ªéè¦çClassLoaderï¼é¤äºBootstrapClassLoaderï¼ å¶ä»ç±»å è½½å¨åç±Javaå®ç°å¹¶ä¸å¨é¨ç»§æ¿èªjava.lang.ClassLoaderï¼\n\n 1. BootstrapClassLoader(å¯å¨ç±»å è½½å¨) ï¼æé¡¶å±çå è½½ç±»ï¼ç± C++å®ç°ï¼è´è´£å è½½ %JAVA_HOME%/libç®å½ä¸ç jar ååç±»æèè¢« -Xbootclasspathåæ°æå®çè·¯å¾ä¸­çææç±»ã\n 2. ExtensionClassLoader(æ©å±ç±»å è½½å¨) ï¼ä¸»è¦è´è´£å è½½ %JRE_HOME%/lib/ext ç®å½ä¸ç jar ååç±»ï¼æè¢« java.ext.dirs ç³»ç»åéææå®çè·¯å¾ä¸ç jar åã\n 3. AppClassLoader(åºç¨ç¨åºç±»å è½½å¨) ï¼é¢åæä»¬ç¨æ·çå è½½å¨ï¼è´è´£å è½½å½ååºç¨ classpath ä¸çææ jar ååç±»ã\n\n\n# æ§è½ä¼å&é®é¢ææ¥\n\n\n# åå­æ³æ¼ææ¥\n\n 1. ä½¿ç¨ **jps** å½ä»¤è·åå°å½åJVMè¿ç¨çpid\n 2. ä½¿ç¨ **jstat -gc** å½ä»¤è§å¯GCï¼ å¦æYGCæ¯æ¬¡GCæçåå­å¹¶ä¸å¤ï¼æ¯æ¬¡YGCåé½æä¸é¨ååå­æªåæ¶ï¼å¯¼è´å¨å¤æ¬¡YGCååæ¶ä¸æçåå­è¢«æªå°å çoldåºï¼oldæ»¡äºä¹åFGCåç°ä¹æ¯åæ¶ä¸æãå°±åºæ¬å¯ä»¥ç¡®å®æ¯åå­æ³æ¼é®é¢\n 3. ä½¿ç¨**jmap -dump **å½ä»¤çæå è½¬å­å¿«ç§ã\n 4. ä½¿ç¨MATï¼ MemoryAnalyzer ï¼åædumpæä»¶ï¼æ¾å°å·ä½åå­æ³æ¼çä»£ç ãï¼MATç Leak Suspectsæ¥è¡¨å¸®å©æä»¬å®ä½å°åå­æ³æ¼çä»£ç  ï¼\n\n\n# é¡¹ç®ä¸­å®è·µè¿JVMè°ä¼åï¼æä¹åçï¼\n\næå®è·µè¿ã å½æ¶çº¿ä¸çæ§å¹³å°æ¥å¤§é Full GC çè­¦åãæ·»å æå°GCæ¥å¿çåæ°ï¼æå°åºGCæ¥å¿ï¼ä¸ä¼ å°gceasy.ioè¿è¡åæãåç°æ¯åç©ºé´çåå§å¼å¤ªå°ï¼å¯¼è´åç©ºé´ä¸æ¦æ©å®¹ï¼è¿å¥å¯¼è´Full GCçå¤§éåºç°ã è§£å³ï¼éè¿XX:MetaspaceSize=N åæ°éå½è°å¤§åç©ºé´çåå§å¤§å°ãæ·»å å°æå¡å¨è¿è¡çæ§ï¼éè¿å¤æ¬¡è°æ´ï¼æ¾å°æåéçåç©ºé´åå§å¼ï¼ å¯¹äº8Gç©çåå­çæºå¨æ¥è¯´ï¼ä¸è¬å°è¿è¿ä¸ªå¼è®¾ç½®ä¸º256Må³å¯ï¼ãæç»è§£å³çº¿ä¸Full GCçå¤§éåºç°ã\n\n> è°ä¼çä¸»è¦æ­¥éª¤ï¼\n> \n>  1. çæ§åæGCæ¥å¿ã\n>  2. å¤æ­JVMé®é¢ï¼\n>     1. å¦æåé¡¹åæ°è®¾ç½®åçï¼ç³»ç»æ²¡æè¶æ¶æ¥å¿åºç°ï¼GCé¢çä¸é«ï¼GCèæ¶ä¸é«ï¼é£ä¹æ²¡æå¿è¦è¿è¡GCä¼å\n>     2. å¦æGCæ¶é´è¶è¿1-3ç§ï¼æèé¢ç¹GCï¼åå¿é¡»ä¼åã\n>  3. ç¡®å®è°ä¼ç®æ \n>  4. è°æ´åæ°\n>     1. è°ä¼ä¸è¬æ¯ä»æ»¡è¶³ç¨åºçåå­ä½¿ç¨éæ±å¼å§ï¼ä¹åæ¯æ¶é´å»¶è¿è¦æ±ï¼æåææ¯ååéè¦æ±ï¼è¦åºäºè¿ä¸ªæ­¥éª¤æ¥ä¸æ­ä¼åï¼æ¯ä¸ä¸ªæ­¥éª¤é½æ¯è¿è¡ä¸ä¸æ­¥çåºç¡ï¼ä¸å¯éè¡ä¹ã\n>  5. å¯¹æ¯è°ä¼ååå·®è·\n>  6. éå¤ï¼1ã2ã3ã4ã5æ­¥éª¤\n>     1. æ¾å°æä½³JVMåæ°è®¾ç½®\n>  7. åºç¨JVMå°åºç¨æå¡å¨\n>     1. æ¾å°æåéçåæ°ï¼å°è¿äºåæ°åºç¨å°æææå¡å¨ï¼å¹¶è¿è¡åç»­è·è¸ªã\n\n> åèï¼https://juejin.cn/post/7128377003224334373#heading-0\n\n\n#',normalizedContent:'# è¿è¡æ¶æ°æ®åº\n\n\n# è¿è¡æ¶æ°æ®åºä¸­åå«åªäºåºåï¼åªäºçº¿ç¨å±äº«çï¼åªäºçº¿ç¨ç¬äº«ï¼åªäºåºåå¯è½åºç°outofmemoryerrorï¼åªäºåºåä¸ä¼åºç°outofmemoryerror\n\njdk1.8 è¿è¡æ¶æ°æ®åºåä¹åççæ¬ç¥æä¸åã jdk1.8ä¹åï¼ jdk1.8ï¼\n\nçº¿ç¨ç§æçï¼\n\n * ç¨åºè®¡æ°å¨\n * èææºæ \n * æ¬å°æ¹æ³æ \n\nçº¿ç¨å±äº«çï¼\n\n * å \n * æ¹æ³åºï¼jdk1.8 æ¹æåç©ºé´ï¼\n\n\n# ç¨åºè®¡æ°å¨\n\nç¨åºè®¡æ°å¨æ¯ä¸åè¾å°çåå­ç©ºé´ï¼å¯ä»¥çä½å½åçº¿ç¨ææ§è¡çå­èç çè¡å·æç¤ºå¨ãä¸»è¦æä¸¤ä¸ªä½ç¨ï¼\n\n * å­èç è§£éå¨éè¿æ¹åç¨åºè®¡æ°å¨æ¥ä¾æ¬¡è¯»åæä»¤ï¼å®ç°ä»£ç çæµç¨æ§å¶ï¼å¦ï¼é¡ºåºæ§è¡ãéæ©ãå¾ªç¯ï¼å¼å¸¸å¤çç­ã\n * å¤çº¿ç¨çæåµä¸ï¼ç¨åºè®¡æ°å¨ä¼è®°å½å½åçº¿ç¨æ§è¡çä½ç½®ï¼å½çº¿ç¨åæ¢åæ¥æ¶å¯ä»¥ç¥éå½çº¿ç¨ä¸æ¬¡è¿è¡å°åªé\n\nç¨åºè®¡æ°å¨æ¯å¯ä¸ä¸ä¸ªä¸ä¼åºç° outofmemoryerror çåå­åºåã\n\n\n# javaèææºæ \n\njavaèææºæ ä¸»è¦ç» javaæ¹æ³ä½¿ç¨ï¼ææç java æ¹æ³è°ç¨é½æ¯éè¿æ å®ç°çãæ¹æ³è°ç¨çæ°æ®éè¿æ è¿è¡ä¼ éï¼æ¯ä¸æ¬¡æ¹æ³è°ç¨é½æä¸ä¸ªå¯¹åºçæ å¸§è¢«åå¥æ ä¸­ï¼æ¯ä¸ä¸ªæ¹æ³è°ç¨ç»æåï¼é½ä¼æä¸ä¸ªæ å¸§è¢«å¼¹åºã æ ç±ä¸ä¸ªä¸ªæ å¸§ç»æï¼æ¯ä¸ªæ å¸§é½æ¥æï¼å±é¨åéè¡¨ãæä½æ°æ ãå¨æé¾æ¥ãæ¹æ³è¿åå°åã\n\n * å±é¨åéè¡¨ï¼ ä¸»è¦å­æ¾äºç¼è¯æå¯ç¥çåç§æ°æ®ç±»åï¼booleanãbyteãcharãshortãintãfloatãlongãdoubleï¼ãå¯¹è±¡å¼ç¨ï¼reference ç±»åï¼å®ä¸åäºå¯¹è±¡æ¬èº«ï¼å¯è½æ¯ä¸ä¸ªæåå¯¹è±¡èµ·å§å°åçå¼ç¨æéï¼ä¹å¯è½æ¯æåä¸ä¸ªä»£è¡¨å¯¹è±¡çå¥ææå¶ä»ä¸æ­¤å¯¹è±¡ç¸å³çä½ç½®ï¼ã\n * æä½æ°æ ï¼ç¨äºå­æ¾æ¹æ³æ§è¡è¿ç¨ä¸­äº§ççä¸­é´è®¡ç®ç»æåè®¡ç®è¿ç¨ä¸­äº§ççä¸´æ¶åé\n * å¨æé¾æ¥ï¼ä¸»è¦æå¡äºä¸ä¸ªæ¹æ³éè¦è°ç¨å¶ä»æ¹æ³çåºæ¯ã å¨ java æºæä»¶è¢«ç¼è¯æå­èç æä»¶æ¶ï¼ææçåéåæ¹æ³å¼ç¨é½ä½ä¸ºç¬¦å·å¼ç¨ï¼symbilic referenceï¼ä¿å­å¨ class æä»¶çå¸¸éæ± éãå½ä¸ä¸ªæ¹æ³è¦è°ç¨å¶ä»æ¹æ³ï¼éè¦å°å¸¸éæ± ä¸­æåæ¹æ³çç¬¦å·å¼ç¨è½¬åä¸ºå¶å¨åå­å°åä¸­çç´æ¥å¼ç¨ãå¨æé¾æ¥çä½ç¨å°±æ¯ä¸ºäºå°ç¬¦å·å¼ç¨è½¬æ¢ä¸ºè°ç¨æ¹æ³çç´æ¥å¼ç¨ã\n * æ¹æ³è¿åå°åï¼ java æ¹æ³æä¸¤ç§è¿åæ¹å¼ï¼ä¸ç§æ¯ return è¯­å¥æ­£å¸¸è¿åï¼ä¸ç§æ¯æåºå¼å¸¸ãä¸ç®¡åªç§è¿åæ¹å¼ï¼é½ä¼å¯¼è´æ å¸§è¢«å¼¹åºãä¹å°±æ¯è¯´ï¼ æ å¸§éçæ¹æ³è°ç¨èåå»ºï¼éçæ¹æ³ç»æèéæ¯ãæ è®ºæ¹æ³æ­£å¸¸å®æè¿æ¯å¼å¸¸å®æé½ç®ä½æ¹æ³ç»æã\n\nç¨åºè¿è¡ä¸­javaèææºæ å¯è½ä¼åºç°ä¸¤ç§éè¯¯ï¼\n\n * stackoverflowerrorï¼ è¥æ çåå­å¤§å°ä¸åè®¸å¨ææ©å±ï¼é£ä¹å½çº¿ç¨è¯·æ±æ çæ·±åº¦è¶è¿å½å java èææºæ çæå¤§æ·±åº¦çæ¶åï¼å°±æåº stackoverflowerroréè¯¯ã\n * outofmemoryerrorï¼ å¦ææ çåå­å¤§å°å¯ä»¥å¨ææ©å±ï¼ å¦æèææºå¨å¨ææ©å±æ æ¶æ æ³ç³è¯·å°è¶³å¤çåå­ç©ºé´ï¼åæåºoutofmemoryerrorå¼å¸¸\n\n\n# æ¬å°æ¹æ³æ \n\nåèææºæ æåæ¥çä½ç¨éå¸¸ç¸ä¼¼ï¼åºå«æ¯ï¼ èææºæ ä¸ºèææºæ§è¡ java æ¹æ³ ï¼ä¹å°±æ¯å­èç ï¼æå¡ï¼èæ¬å°æ¹æ³æ åä¸ºèææºä½¿ç¨å°ç native æ¹æ³æå¡ã å¨ hotspot èææºä¸­å java èææºæ åäºä¸ºä¸ã æ¬å°æ¹æ³è¢«æ§è¡çæ¶åï¼å¨æ¬å°æ¹æ³æ ä¹ä¼åå»ºä¸ä¸ªæ å¸§ï¼ç¨äºå­æ¾è¯¥æ¬å°æ¹æ³çå±é¨åéè¡¨ãæä½æ°æ ãå¨æé¾æ¥ãåºå£ä¿¡æ¯ã æ¹æ³æ§è¡å®æ¯åç¸åºçæ å¸§ä¹ä¼åºæ å¹¶éæ¾åå­ç©ºé´ï¼ä¹ä¼åºç° stackoverflowerrorå outofmemoryerror ä¸¤ç§éè¯¯ã\n\n\n# å \n\njava èææºæç®¡ççåå­ä¸­æå¤§çä¸åï¼java å æ¯ææçº¿ç¨å±äº«çä¸ååå­åºåï¼å¨èææºå¯å¨æ¶åå»ºã**æ­¤åå­åºåçå¯ä¸ç®çå°±æ¯å­æ¾å¯¹è±¡å®ä¾ï¼å ä¹ææçå¯¹è±¡å®ä¾ä»¥åæ°ç»é½å¨è¿éåéåå­ã**java å æ¯åå¾æ¶éå¨ç®¡ççä¸»è¦åºåï¼å æ­¤ä¹è¢«ç§°ä½ gc å ï¼garbage collected heapï¼ã å è¿éæå®¹æåºç°çå°±æ¯ outofmemoryerror éè¯¯ï¼å¹¶ä¸åºç°è¿ç§éè¯¯ä¹åçè¡¨ç°å½¢å¼è¿ä¼æå ç§ï¼æ¯å¦ï¼\n\n 1. java.lang.outofmemoryerror: gc overhead limit exceeded ï¼ å½ jvm è±å¤ªå¤æ¶é´æ§è¡åå¾åæ¶å¹¶ä¸åªè½åæ¶å¾å°çå ç©ºé´æ¶ï¼å°±ä¼åçæ­¤éè¯¯ã\n 2. java.lang.outofmemoryerror: java heap space :åå¦å¨åå»ºæ°çå¯¹è±¡æ¶, å åå­ä¸­çç©ºé´ä¸è¶³ä»¥å­æ¾æ°åå»ºçå¯¹è±¡, å°±ä¼å¼åæ­¤éè¯¯ã(åéç½®çæå¤§å åå­æå³ï¼ä¸åå¶äºç©çåå­å¤§å°ãæå¤§å åå­å¯éè¿-xmxåæ°éç½®ï¼è¥æ²¡æç¹å«éç½®ï¼å°ä¼ä½¿ç¨é»è®¤å¼ãï¼\n\n\n# æ¹æ³åº\n\næ¹æ³åºæ¯ä¸åé»è¾åºåï¼java èææºè§èåªæ¯è§å®äºæ¹æ³åºçæ¦å¿µåä½ç¨ï¼ä¸åçèææºæ¹æ³åºçå®ç°ä¹æ¯ä¸åçã å½èææºè¦ä½¿ç¨ä¸ä¸ªç±»æ¶ï¼å®éè¦è¯»åå¹¶è§£æ class æä»¶è·åç¸å³ä¿¡æ¯ï¼åå°ä¿¡æ¯å­å¥å°æ¹æ³åºãæ¹æ³åºä¼å­å¨å·²è¢«èææºå è½½ç ç±»ä¿¡æ¯ãå­æ®µä¿¡æ¯ãæ¹æ³ä¿¡æ¯ãå¸¸éãéæåéãå³æ¶ç¼è¯å¨ç¼è¯åçä»£ç ç¼å­ç­æ°æ®ã\n\n\n# æ¹æ³åºåæ°¸ä¹ä»£çå³ç³»\n\næ¹æ³åºåæ°¸ä¹ä»£ä»¥ååç©ºé´çå³ç³»æç¹åjavaä¸­æ¥å£åç±»çå³ç³»ï¼ç±»å®ç°äºæ¥å£ï¼è¿éçç±»å°±å¯ä»¥çä½æ¯æ°¸ä¹ä»£ååç©ºé´ï¼æ¥å£å¯ä»¥çä½æ¹æ³åºï¼ä¹å°±æ¯æ°¸ä¹ä»£ååç©ºé´æ¯èææºå¯¹èææºè§èä¸­æ¹æ³åºçä¸¤ç§å®ç°æ¹å¼ã æ°¸ä¹ä»£æ¯ jdk 1.8 ä¹åçæ¹æ³åºå®ç°ï¼jdk 1.8 åä»¥åæ¹æ³åºçå®ç°åæäºåç©ºé´ã\n\n\n\n# javaå¯¹è±¡åå»ºçè¿ç¨\n\n\n\n 1. ç±»å è½½æ£æ¥ï¼ èææºéå°ä¸æ¡ new æä»¤æ¶ï¼é¦åå°å»æ£æ¥è¿ä¸ªæä»¤çåæ°æ¯å¦è½å¨å¸¸éæ± ä¸­å®ä½å°è¿ä¸ªç±»çç¬¦å·å¼ç¨ï¼å¹¶ä¸æ£æ¥è¿ä¸ªç¬¦å·å¼ç¨ä»£è¡¨çç±»æ¯å¦å·²è¢«å è½½è¿ãè§£æååå§åè¿ãå¦ææ²¡æï¼é£å¿é¡»åæ§è¡ç¸åºçç±»å è½½è¿ç¨ã\n 2. åéåå­ï¼ç±»å è½½æ£æ¥è¿åï¼èææºå°ä¸ºæ°çå¯¹è±¡åéåå­ã å¯¹è±¡æéçåå­å¤§å°å¨ç±»å è½½å®æåä¾¿å¯ç¡®å®ï¼ä¸ºå¯¹è±¡åéç©ºé´çä»»å¡ç­åäºæä¸åç¡®å®å¤§å°çåå­ä» java å ä¸­åååºæ¥ãåéæ¹å¼æ âæéç¢°æâ å âç©ºé²åè¡¨â ä¸¤ç§ï¼éæ©åªç§åéæ¹å¼ç± java å æ¯å¦è§æ´å³å®ï¼è java å æ¯å¦è§æ´åç±æéç¨çåå¾æ¶éå¨æ¯å¦å¸¦æåç¼©æ´çåè½å³å®ã\n 3. åå§åé¶å¼ï¼ åå­åéå®æåï¼èææºéè¦å°åéå°çåå­ç©ºé´é½åå§åä¸ºé¶å¼ï¼ä¸åæ¬å¯¹è±¡å¤´ï¼ï¼è¿ä¸æ­¥æä½ä¿è¯äºå¯¹è±¡çå®ä¾å­æ®µå¨ java ä»£ç ä¸­å¯ä»¥ä¸èµåå§å¼å°±ç´æ¥ä½¿ç¨ï¼ç¨åºè½è®¿é®å°è¿äºå­æ®µçæ°æ®ç±»åæå¯¹åºçé¶å¼ã\n 4. è®¾ç½®å¯¹è±¡å¤´ï¼ åå§åé¶å¼å®æä¹åï¼èææºè¦å¯¹å¯¹è±¡è¿è¡å¿è¦çè®¾ç½®ï¼ä¾å¦è¿ä¸ªå¯¹è±¡æ¯åªä¸ªç±»çå®ä¾ãå¦ä½æè½æ¾å°ç±»çåæ°æ®ä¿¡æ¯ãå¯¹è±¡çåå¸ç ãå¯¹è±¡ç gc åä»£å¹´é¾ç­ä¿¡æ¯ã è¿äºä¿¡æ¯å­æ¾å¨å¯¹è±¡å¤´ä¸­ã å¦å¤ï¼æ ¹æ®èææºå½åè¿è¡ç¶æçä¸åï¼å¦æ¯å¦å¯ç¨ååéç­ï¼å¯¹è±¡å¤´ä¼æä¸åçè®¾ç½®æ¹å¼ã\n 5. æ§è¡initæ¹æ³ï¼ å¨ä¸é¢å·¥ä½é½å®æä¹åï¼ä»èææºçè§è§æ¥çï¼ä¸ä¸ªæ°çå¯¹è±¡å·²ç»äº§çäºï¼ä½ä» java ç¨åºçè§è§æ¥çï¼å¯¹è±¡åå»ºæåå¼å§ï¼<init> æ¹æ³è¿æ²¡ææ§è¡ï¼ææçå­æ®µé½è¿ä¸ºé¶ãæä»¥ä¸è¬æ¥è¯´ï¼æ§è¡ new æä»¤ä¹åä¼æ¥çæ§è¡ <init> æ¹æ³ï¼æå¯¹è±¡æç§ç¨åºåçææ¿è¿è¡åå§åï¼è¿æ ·ä¸ä¸ªçæ­£å¯ç¨çå¯¹è±¡æç®å®å¨äº§çåºæ¥ã\n\n\n# å¯¹è±¡çè®¿é®å®ä½ä¸¤ç§æ¹å¼ç¥éåï¼åæä»ä¹ä¼ç¼ºç¹\n\nå¯¹è±¡çè®¿é®å®ä½æ¹å¼æä½¿ç¨å¥æåç´æ¥æé\n\n * å¥æï¼å¦æä½¿ç¨å¥æçè¯ï¼é£ä¹ java å ä¸­å°ä¼åååºä¸ååå­æ¥ä½ä¸ºå¥ææ± ï¼reference ä¸­å­å¨çå°±æ¯å¯¹è±¡çå¥æå°åï¼èå¥æä¸­åå«äºå¯¹è±¡å®ä¾æ°æ®ä¸å¯¹è±¡ç±»åæ°æ®åèªçå·ä½å°åä¿¡æ¯ã\n * ç´æ¥æéï¼ å¦æä½¿ç¨ç´æ¥æéè®¿é®ï¼reference ä¸­å­å¨çç´æ¥å°±æ¯å¯¹è±¡çå°åã\n\nè¿ä¸¤ç§å¯¹è±¡è®¿é®æ¹å¼åæä¼å¿ãä½¿ç¨å¥ææ¥è®¿é®çæå¤§å¥½å¤æ¯ reference ä¸­å­å¨çæ¯ç¨³å®çå¥æå°åï¼å¨å¯¹è±¡è¢«ç§»å¨æ¶åªä¼æ¹åå¥æä¸­çå®ä¾æ°æ®æéï¼è reference æ¬èº«ä¸éè¦ä¿®æ¹ãä½¿ç¨ç´æ¥æéè®¿é®æ¹å¼æå¤§çå¥½å¤å°±æ¯éåº¦å¿«ï¼å®èçäºä¸æ¬¡æéå®ä½çæ¶é´å¼éã\n\n\n# å ç©ºé´çåºæ¬ç»æäºè§£åï¼ä»ä¹æåµä¸å¯¹è±¡å¯¹ä¼è¿å¥èå¹´ä»£\n\njava å è¿å¯ä»¥ç»åä¸ºï¼æ°çä»£åèå¹´ä»£ï¼åç»è´ä¸ç¹æï¼edenãsurvivorãold ç­ç©ºé´ãè¿ä¸æ­¥ååçç®çæ¯æ´å¥½å°åæ¶åå­ï¼æèæ´å¿«å°åéåå­ã å¨ jdk 7 çæ¬å jdk 7 çæ¬ä¹åï¼å åå­è¢«éå¸¸åä¸ºä¸é¢ä¸é¨åï¼\n\n 1. æ°çä»£åå­(young generation)\n 2. èçä»£(old generation)\n 3. æ°¸ä¹ä»£(permanent generation)\n\nä¸å¾æç¤ºç eden åºãä¸¤ä¸ª survivor åº s0 å s1 é½å±äºæ°çä»£ï¼ä¸­é´ä¸å±å±äºèå¹´ä»£ï¼æä¸é¢ä¸å±å±äºæ°¸ä¹ä»£ã jdk 8 çæ¬ä¹å permgen(æ°¸ä¹) å·²è¢« metaspace(åç©ºé´) åä»£ï¼åç©ºé´ä½¿ç¨çæ¯ç´æ¥åå­ã å¯¹è±¡è¿å¥èå¹´ä»£ä¸»è¦æä¸¤ç§æåµï¼\n\n * é¿æå­æ´»çå¯¹è±¡ä¼è¿å¥èå¹´ä»£ãå¤§é¨åæåµï¼å¯¹è±¡é½ä¼é¦åå¨ eden åºååéï¼å¨ä¸æ¬¡æ°çä»£åå¾åæ¶åï¼å¦æå¯¹è±¡è¿å­æ´»ï¼åä¼è¿å¥ s0 æè s1ï¼å¹¶ä¸å¯¹è±¡çå¹´é¾è¿ä¼å  1(eden åº->survivor åºåå¯¹è±¡çåå§å¹´é¾åä¸º 1)å½å®çå¹´é¾å¢å å°ä¸å®ç¨åº¦ï¼é»è®¤ä¸º 15 å²ï¼ï¼å°±ä¼è¢«æåå°èå¹´ä»£ä¸­ãå¯¹è±¡æåå°èå¹´ä»£çå¹´é¾éå¼ï¼å¯ä»¥éè¿åæ° -xx:maxtenuringthreshold æ¥è®¾ç½®ã\n * å¤§å¯¹è±¡ä¼ç´æ¥è¿å¥èå¹´ä»£ãä¸»è¦æ¯é¿åå¹´è½»ä»£éåºç°é£ç§å¤§å¯¹è±¡ï¼ç¶åå±¡æ¬¡èº²è¿gcï¼è¿å¾æä»å¨ä¸¤ä¸ªsurvivoråºåéæ¥åå¤å¶å¤æ¬¡ä¹åæè½è¿å¥èå¹´ä»£ã\n\n\n# åå¾æ¶é\n\n\n# å¦ä½å¤æ­å¯¹è±¡æ¯å¦æ­»äº¡\n\nå¤æ­å¯¹è±¡æ¯å¦æ­»äº¡ä¸»è¦æä¸¤ç§æ¹æ³ï¼å¼ç¨è®¡æ°æ³åå¯è¾¾æ§åæç®æ³ã å¼ç¨è®¡æ°æ³ç»å¯¹è±¡ä¸­æ·»å ä¸ä¸ªå¼ç¨è®¡æ°å¨ï¼\n\n * æ¯å½æä¸ä¸ªå°æ¹å¼ç¨å®ï¼è®¡æ°å¨å°±å  1ï¼\n * å½å¼ç¨å¤±æï¼è®¡æ°å¨å°±å 1ï¼\n * ä»»ä½æ¶åè®¡æ°å¨ä¸º 0 çå¯¹è±¡å°±æ¯ä¸å¯è½åè¢«ä½¿ç¨çã\n\nè¿ä¸ªæ¹æ³å®ç°ç®åï¼æçé«ï¼ä½æ¯ç®åä¸»æµçèææºä¸­å¹¶æ²¡æéæ©è¿ä¸ªç®æ³æ¥ç®¡çåå­ï¼å¶æä¸»è¦çåå æ¯å®å¾é¾è§£å³å¯¹è±¡ä¹é´ç¸äºå¾ªç¯å¼ç¨çé®é¢ï¼aåbå¯¹è±¡äºç¸å¼ç¨ï¼æ å¶ä»ä»»ä½å¼ç¨ï¼ã å¯è¾¾æ§åæç®æ³åºæ¬ææ³å°±æ¯éè¿ä¸ç³»åçç§°ä¸º âgc rootsâ çå¯¹è±¡ä½ä¸ºèµ·ç¹ï¼ä»è¿äºèç¹å¼å§åä¸æç´¢ï¼èç¹æèµ°è¿çè·¯å¾ç§°ä¸ºå¼ç¨é¾ï¼å½ä¸ä¸ªå¯¹è±¡å° gc roots æ²¡æä»»ä½å¼ç¨é¾ç¸è¿çè¯ï¼åè¯ææ­¤å¯¹è±¡æ¯ä¸å¯ç¨çï¼éè¦è¢«åæ¶ã ä¸å¾ä¸­ç object 6 ~ object 10 ä¹é´è½æå¼ç¨å³ç³»ï¼ä½å®ä»¬å° gc roots ä¸å¯è¾¾ï¼å æ­¤ä¸ºéè¦è¢«åæ¶çå¯¹è±¡\n\n\n\n# åªäºå¯¹è±¡å¯ä»¥ä½ä¸ºgc rootså¢\n\nä¸é¢è¿äºå¯¹è±¡å¯ä»¥ä½ä¸ºgc roots:\n\n * èææºæ ï¼æ å¸§ä¸­çæ¬å°åéè¡¨ï¼ä¸­å¼ç¨çå¯¹è±¡\n * æ¬å°æ¹æ³æ (nativeæ¹æ³)ä¸­å¼ç¨çå¯¹è±¡\n * æ¹æ³åºä¸­ç±»éæå±æ§å¼ç¨çå¯¹è±¡\n * æ¹æ³åºä¸­å¸¸éå¼ç¨çå¯¹è±¡\n * ææè¢«åæ­¥ç¹æçå¯¹è±¡\n\n\n# å¯¹è±¡å¯ä»¥è¢«åæ¶ï¼å°±ä»£è¡¨ä¸å®ä¼è¢«åæ¶å\n\nå³ä½¿æ¯ä¸å¯è¾¾åææ³ä¸­çä¸å¯è¾¾å¯¹è±¡ï¼ä¹ä¸ä¸å®ä¼è¢«åå¾æ¶éå¨åæ¶ï¼è¦çæ­£å®£åä¸ä¸ªå¯¹è±¡æ­»äº¡ï¼è³å°è¦ç»åä¸¤æ¬¡æ è®°è¿ç¨ã ä¸å¯è¾¾å¯¹è±¡è¢«ç¬¬ä¸æ¬¡æ è®°å¹¶ä¸è¿è¡ä¸æ¬¡ä¸æ¬¡ç­éï¼ç­éçæ¡ä»¶æ¯**æ­¤å¯¹è±¡æ¯å¦æå¿è¦æ§è¡ ****finalize **æ¹æ³ãå½å¯¹è±¡æ²¡æè¦ç finalize æ¹æ³ï¼æ finalize æ¹æ³å·²ç»è¢«èææºè°ç¨è¿æ¶ï¼èææºå°è¿ä¸¤ç§æåµè§ä¸ºæ²¡æå¿è¦æ§è¡ã è¢«å¤å®ä¸ºéè¦æ§è¡çå¯¹è±¡å°ä¼è¢«æ¾å¨ä¸ä¸ªéåä¸­è¿è¡ç¬¬äºæ¬¡æ è®°ï¼é¤éè¿ä¸ªå¯¹è±¡ä¸å¼ç¨é¾ä¸çä»»ä½ä¸ä¸ªå¯¹è±¡å»ºç«å³èï¼å¦åå°±ä¼è¢«ççåæ¶ã\n\n\n# åå¾æ¶éæåªäºç®æ³ï¼åèªçç¹ç¹ï¼\n\n * æ è®°-æ¸é¤ç®æ³ï¼è¯¥ç®æ³åä¸ºâæ è®°âåâæ¸é¤âé¶æ®µï¼é¦åæ è®°åºææä¸éè¦åæ¶çå¯¹è±¡ï¼å¨æ è®°å®æåç»ä¸åæ¶ææææ²¡æè¢«æ è®°çå¯¹è±¡ãä¼å¸¦æ¥æçé®é¢å**ç©ºé´é®é¢ï¼æ è®°æ¸é¤åä¼äº§çå¤§éä¸è¿ç»­çç¢çï¼ **\n * æ è®°-å¤å¶ç®æ³ï¼ ä¸ºäºè§£å³æçé®é¢ï¼âæ è®°-å¤å¶âæ¶éç®æ³åºç°äºãå®å¯ä»¥å°åå­åä¸ºå¤§å°ç¸åçä¸¤åï¼æ¯æ¬¡ä½¿ç¨å¶ä¸­çä¸åãå½è¿ä¸åçåå­ä½¿ç¨å®åï¼å°±å°è¿å­æ´»çå¯¹è±¡å¤å¶å°å¦ä¸åå»ï¼ç¶ååæä½¿ç¨çç©ºé´ä¸æ¬¡æ¸çæãè¿æ ·å°±ä½¿æ¯æ¬¡çåå­åæ¶é½æ¯å¯¹åå­åºé´çä¸åè¿è¡åæ¶ã\n * æ è®°-æ´çç®æ³ï¼ æ ¹æ®èå¹´ä»£çç¹ç¹æåºçä¸ç§æ è®°ç®æ³ï¼æ è®°è¿ç¨ä»ç¶ä¸âæ è®°-æ¸é¤âç®æ³ä¸æ ·ï¼ä½åç»­æ­¥éª¤ä¸æ¯ç´æ¥å¯¹å¯åæ¶å¯¹è±¡åæ¶ï¼èæ¯è®©ææå­æ´»çå¯¹è±¡åä¸ç«¯ç§»å¨ï¼ç¶åç´æ¥æ¸çæç«¯è¾¹çä»¥å¤çåå­ã åä»£æ¶éç®æ³ï¼å½åèææºçåå¾æ¶éé½éç¨åä»£æ¶éç®æ³ï¼è¿ç§ç®æ³æ²¡æä»ä¹æ°çææ³ï¼åªæ¯æ ¹æ®å¯¹è±¡å­æ´»å¨æçä¸åå°åå­åä¸ºå åãä¸è¬å° java å åä¸ºæ°çä»£åèå¹´ä»£ï¼è¿æ ·æä»¬å°±å¯ä»¥æ ¹æ®åä¸ªå¹´ä»£çç¹ç¹éæ©åéçåå¾æ¶éç®æ³ãæ¯å¦å¨æ°çä»£ä¸­ï¼æ¯æ¬¡æ¶éé½ä¼æå¤§éå¯¹è±¡æ­»å»ï¼æä»¥å¯ä»¥éæ©âæ è®°-å¤å¶âç®æ³ï¼åªéè¦ä»åºå°éå¯¹è±¡çå¤å¶ææ¬å°±å¯ä»¥å®ææ¯æ¬¡åå¾æ¶éãèèå¹´ä»£çå¯¹è±¡å­æ´»å çæ¯æ¯è¾é«çï¼èä¸æ²¡æé¢å¤çç©ºé´å¯¹å®è¿è¡åéæä¿ï¼æä»¥æä»¬å¿é¡»éæ©âæ è®°-æ¸é¤âæâæ è®°-æ´çâç®æ³è¿è¡åå¾æ¶éã\n\n\n# ç¨åºè°ç¨system.gc()æ¶ï¼ä¸å®ä¼åçgcå\n\næ­¤æ¹æ³çè°ç¨æ¯å»ºè®®jvmè¿è¡full gcï¼ ä¸ä¸å®ä¼åçgcãä½æ¯ä¸å»ºè®®ä½¿ç¨ system.gc()ï¼ä¼å¢å full gcçé¢çï¼åºè¯¥è®©èææºèªå·±å»ç®¡çåå­ã\n\n\n# æåªäºå¸¸è§çgcï¼è°è°ä½ å¯¹minor gcãè¿æfull gcççè§£ãminor gcä¸full gcåå«å¨ä»ä¹æ¶ååçï¼minor gcä¼åçstop the worldç°è±¡åï¼\n\néå¯¹hotspot vmçå®ç°ï¼gcå¶å®åç¡®åç±»åªæä¸¤å¤§ç§ï¼ é¨åæ¶éï¼partial gcï¼ï¼\n\n * æ°çä»£æ¶éï¼minor gc/young gcï¼ï¼åªå¯¹æ°çä»£è¿è¡åå¾æ¶éã minor gc éå¸¸é¢ç¹ï¼åæ¶éåº¦æ¯è¾å¿«ã\n * èå¹´ä»£æ¶éï¼major gc/old gcï¼ï¼åªå¯¹èå¹´ä»£è¿è¡åå¾æ¶éãéè¦æ³¨æçæ¯major gcå¨æçè¯­å¢ä¸­ä¹ç¨äºæä»£æ´å æ¶é\n * æ··åæ¶éï¼mixed gcï¼ï¼å¯¹æ´ä¸ªæ°çä»£åé¨åèå¹´ä»£è¿è¡åå¾æ¶éã ç®ååªæg1æ¶éå¨ä¼æè¿ç§è¡ä¸ºã\n\næ´å æ¶éï¼full gcï¼ï¼æ¶éæ´ä¸ªjavaå åæ¹æ³åºã\n\n\n# è®²ä¸ä¸cmsåå¾æ¶éå¨çåä¸ªæ­¥éª¤ãcmsæä»ä¹ç¼ºç¹\n\ncms æ¶éå¨æ¯ç¬¬ä¸æ¬¾å®ç°åå¾æ¶éçº¿ç¨ä¸ç¨æ·çº¿ç¨ï¼åºæ¬ä¸ï¼åæ¶å·¥ä½çå¹¶åæ¶éå¨ï¼åºäº**âæ è®°-æ¸é¤âç®æ³**å®ç°ç ãæ´ä¸ªè¿ç¨åä¸ºåä¸ªæ­¥éª¤ï¼\n\n * åå§æ è®°ï¼ æåææçå¶ä»çº¿ç¨ï¼å¹¶è®°å½ä¸ç´æ¥ä¸ root ç¸è¿çå¯¹è±¡ï¼éåº¦å¾å¿« ï¼\n * å¹¶åæ è®°ï¼ åæ¶å¼å¯ gc åç¨æ·çº¿ç¨ï¼ç¨ä¸ä¸ªé­åç»æå»è®°å½å¯è¾¾å¯¹è±¡ãä½å¨è¿ä¸ªé¶æ®µç»æï¼è¿ä¸ªé­åç»æå¹¶ä¸è½ä¿è¯åå«å½åææçå¯è¾¾å¯¹è±¡ãå ä¸ºç¨æ·çº¿ç¨å¯è½ä¼ä¸æ­çæ´æ°å¼ç¨åï¼æä»¥ gc çº¿ç¨æ æ³ä¿è¯å¯è¾¾æ§åæçå®æ¶æ§ãæä»¥è¿ä¸ªç®æ³éä¼è·è¸ªè®°å½è¿äºåçå¼ç¨æ´æ°çå°æ¹ã\n * éæ°æ è®°ï¼ éæ°æ è®°é¶æ®µå°±æ¯ä¸ºäºä¿®æ­£å¹¶åæ è®°æé´å ä¸ºç¨æ·ç¨åºç»§ç»­è¿è¡èå¯¼è´æ è®°äº§çåå¨çé£ä¸é¨åå¯¹è±¡çæ è®°è®°å½ï¼è¿ä¸ªé¶æ®µçåé¡¿æ¶é´ä¸è¬ä¼æ¯åå§æ è®°é¶æ®µçæ¶é´ç¨é¿ï¼è¿è¿æ¯å¹¶åæ è®°é¶æ®µæ¶é´ç­\n * å¹¶åæ¸é¤ï¼ å¼å¯ç¨æ·çº¿ç¨ï¼åæ¶ gc çº¿ç¨å¼å§å¯¹æªæ è®°çåºååæ¸æ«ã\n\ncmsçä¸»è¦ä¼ç¹æ¯å¹¶åæ¶éãä½åé¡¿ãç¼ºç¹æ¯ï¼\n\n * å¯¹ cpu èµæºææï¼\n * æ æ³å¤çæµ®å¨åå¾ï¼\n * å®ä½¿ç¨çåæ¶ç®æ³-âæ è®°-æ¸é¤âç®æ³ä¼å¯¼è´æ¶éç»ææ¶ä¼æå¤§éç©ºé´ç¢çäº§çã\n\n\n# g1åå¾æ¶éå¨çæ­¥éª¤ãæä»ä¹ç¼ºç¹\n\ng1 æ¶éå¨çè¿ä½å¤§è´åä¸ºä»¥ä¸å ä¸ªæ­¥éª¤ï¼\n\n * åå§æ è®°ï¼æ è®°ä¸ä¸gc rootsè½ç´æ¥å³èå°çå¯¹è±¡ï¼éè¦åé¡¿çº¿ç¨ï¼ä½èæ¶å¾ç­\n * å¹¶åæ è®°ï¼æ¯ä»gc rootå¼å§å¯¹å ä¸­å¯¹è±¡è¿è¡å¯è¾¾æ§åæï¼æ¾åºå­æ´»çå¯¹è±¡ï¼è¿é¶æ®µèæ¶è¾é¿ï¼ä½å¯ä¸ç¨æ·ç¨åºå¹¶åæ§è¡\n * æç»æ è®°ï¼ä¿®æ­£å¨å¹¶åæ è®°æé´å ç¨æ·ç¨åºç»§ç»­è¿ä½èå¯¼è´æ è®°äº§çåå¨çé£ä¸é¨åæ è®°è®°å½\n * ç­éåæ¶ï¼å¯¹åä¸ªregionçåæ¶ä»·å¼åææ¬è¿è¡æåºï¼æ ¹æ®ç¨æ·æææçgcåé¡¿æ¶é´æ¥å¶å®åæ¶è®¡å\n\nç¼ºç¹ï¼g1 æ¶éå¨ä¸ºäºåå¾æ¶éäº§ççåå­å ç¨ï¼footprintï¼åç¨åºè¿è¡æ¶çé¢å¤æ§è¡è´è½½ï¼overloadï¼é½è¦æ¯cmsè¦é«ã\n\n\n# ç±»\n\n\n# ä»ä¹æ¯å­èç ï¼ç±»æä»¶ç»æçç»æäºè§£å\n\nå¨javaä¸­ï¼jvmå¯ä»¥çè§£çä»£ç å°±å«åå­èç ï¼å³æ©å±åä¸º.classçæä»¶ï¼ classfileçç»æå¦ä¸ï¼\n\nclassfile {\n    u4             magic; //é­æ°ï¼class æä»¶çæ å¿\n    u2             minor_version;//class çå°çæ¬å·\n    u2             major_version;//class çå¤§çæ¬å·\n    u2             constant_pool_count;//å¸¸éæ± çæ°é\n    cp_info        constant_pool[constant_pool_count-1];//å¸¸éæ± \n    u2             access_flags;//class çè®¿é®æ è®°\n    u2             this_class;//å½åç±»\n    u2             super_class;//ç¶ç±»\n    u2             interfaces_count;//æ¥å£\n    u2             interfaces[interfaces_count];//ä¸ä¸ªç±»å¯ä»¥å®ç°å¤ä¸ªæ¥å£\n    u2             fields_count;//class æä»¶çå­æ®µå±æ§\n    field_info     fields[fields_count];//ä¸ä¸ªç±»å¯ä»¥æå¤ä¸ªå­æ®µ\n    u2             methods_count;//class æä»¶çæ¹æ³æ°é\n    method_info    methods[methods_count];//ä¸ä¸ªç±»å¯ä»¥æä¸ªå¤ä¸ªæ¹æ³\n    u2             attributes_count;//æ­¤ç±»çå±æ§è¡¨ä¸­çå±æ§æ°\n    attribute_info attributes[attributes_count];//å±æ§è¡¨éå\n}\n\n\n\n\n# ç±»ççå½å¨æï¼ç±»å è½½è¿ç¨äºè§£åï¼å è½½è¿ä¸æ­¥ä¸»è¦åäºä»ä¹äºæï¼åå§åé¶æ®µä¸­åªå ç§æåµå¿é¡»å¯¹ç±»åå§å\n\nç±»çå®æ´çå½å¨æå¦ä¸ï¼ ç±»å è½½è¿ç¨ä¸»è¦åä¸ºä¸æ­¥ï¼å è½½->è¿æ¥->åå§åãè¿æ¥è¿ç¨ååä¸ºéªè¯->åå¤->è§£æã å è½½ä¸»è¦å®æï¼\n\n 1. éè¿å¨ç±»åè·åå®ä¹æ­¤ç±»çäºè¿å¶å­èæµ\n 2. å°å­èæµæä»£è¡¨çéæå­å¨ç»æè½¬æ¢ä¸ºæ¹æ³åºçè¿è¡æ¶æ°æ®ç»æ\n 3. å¨åå­ä¸­çæä¸ä¸ªä»£è¡¨è¯¥ç±»ç class å¯¹è±¡ï¼ä½ä¸ºæ¹æ³åºè¿äºæ°æ®çè®¿é®å¥å£\n\nåå§åéè§ä¸é¢5ç§æåµå¿é¡»å¯¹ç±»è¿è¡åå§åâ\n\n 1. å½éå° new ã getstaticãputstatic æ invokestatic è¿ 4 æ¡ç´æ¥ç æä»¤æ¶ï¼æ¯å¦ new ä¸ä¸ªç±»ï¼è¯»åä¸ä¸ªéæå­æ®µ(æªè¢« final ä¿®é¥°)ãæè°ç¨ä¸ä¸ªç±»çéææ¹æ³æ¶ã\n    * å½ jvm æ§è¡ new æä»¤æ¶ä¼åå§åç±»ãå³å½ç¨åºåå»ºä¸ä¸ªç±»çå®ä¾å¯¹è±¡ã\n    * å½ jvm æ§è¡ getstatic æä»¤æ¶ä¼åå§åç±»ãå³ç¨åºè®¿é®ç±»çéæåé(ä¸æ¯éæå¸¸éï¼å¸¸éä¼è¢«å è½½å°è¿è¡æ¶å¸¸éæ± )ã\n    * å½ jvm æ§è¡ putstatic æä»¤æ¶ä¼åå§åç±»ãå³ç¨åºç»ç±»çéæåéèµå¼ã\n    * å½ jvm æ§è¡ invokestatic æä»¤æ¶ä¼åå§åç±»ãå³ç¨åºè°ç¨ç±»çéææ¹æ³ã\n 2. ä½¿ç¨ java.lang.reflect åçæ¹æ³å¯¹ç±»è¿è¡åå°è°ç¨æ¶å¦ class.forname("..."), newinstance() ç­ç­ãå¦æç±»æ²¡åå§åï¼éè¦è§¦åå¶åå§åã\n 3. åå§åä¸ä¸ªç±»ï¼å¦æå¶ç¶ç±»è¿æªåå§åï¼ååè§¦åè¯¥ç¶ç±»çåå§åã\n 4. å½èææºå¯å¨æ¶ï¼ç¨æ·éè¦å®ä¹ä¸ä¸ªè¦æ§è¡çä¸»ç±» (åå« main æ¹æ³çé£ä¸ªç±»)ï¼èææºä¼ååå§åè¿ä¸ªç±»ã\n 5. methodhandle å varhandle å¯ä»¥çä½æ¯è½»éçº§çåå°è°ç¨æºå¶ï¼èè¦æ³ä½¿ç¨è¿ 2 ä¸ªè°ç¨ï¼ å°±å¿é¡»åä½¿ç¨ findstaticvarhandle æ¥åå§åè¦è°ç¨çç±»ã\n\n\n# åäº²å§æ´¾æ¨¡åäºè§£åï¼\n\nç±»å è½½çæ¶åï¼é¦åä¼æè¯¥è¯·æ±å§æ´¾ç»ç¶ç±»å è½½å¨ç loadclass() å¤çï¼å æ­¤ææçè¯·æ±æç»é½åºè¯¥ä¼ éå°é¡¶å±çå¯å¨ç±»å è½½å¨ bootstrapclassloader ä¸­ãå½ç¶ç±»å è½½å¨æ æ³å¤çæ¶ï¼æç±èªå·±æ¥å¤çãå½ç¶ç±»å è½½å¨ä¸º null æ¶ï¼ä¼ä½¿ç¨å¯å¨ç±»å è½½å¨ bootstrapclassloader ä½ä¸ºç¶ç±»å è½½å¨ã\n\n\n# åäº²å§æ´¾æ¨¡åæä»ä¹å¥½å¤ï¼åäº²å§æ´¾æ¨¡åæ¯ä¸ºäºä¿è¯ä¸ä¸ªjavaç±»å¨jvmä¸­æ¯å¯ä¸çï¼\n\nåäº²å§æ´¾æ¨¡åä¿è¯äº java ç¨åºçç¨³å®è¿è¡ï¼å¯ä»¥é¿åç±»çéå¤å è½½ï¼jvm åºåä¸åç±»çæ¹å¼ä¸ä»ä»æ ¹æ®ç±»åï¼ç¸åçç±»æä»¶è¢«ä¸åçç±»å è½½å¨å è½½äº§ççæ¯ä¸¤ä¸ªä¸åçç±»ï¼ï¼ä¹ä¿è¯äº java çæ ¸å¿ api ä¸è¢«ç¯¡æ¹ãå¦ææ²¡æä½¿ç¨åäº²å§æ´¾æ¨¡åï¼èæ¯æ¯ä¸ªç±»å è½½å¨å è½½èªå·±çè¯å°±ä¼åºç°ä¸äºé®é¢ï¼æ¯å¦æä»¬ç¼åä¸ä¸ªç§°ä¸º java.lang.object ç±»çè¯ï¼é£ä¹ç¨åºè¿è¡çæ¶åï¼ç³»ç»å°±ä¼åºç°å¤ä¸ªä¸åç object ç±»ã\n\n\n# jdkä¸­æåªäºé»è®¤çç±»å è½½?\n\njvmä¸­åç½®äºä¸ä¸ªéè¦çclassloaderï¼é¤äºbootstrapclassloaderï¼ å¶ä»ç±»å è½½å¨åç±javaå®ç°å¹¶ä¸å¨é¨ç»§æ¿èªjava.lang.classloaderï¼\n\n 1. bootstrapclassloader(å¯å¨ç±»å è½½å¨) ï¼æé¡¶å±çå è½½ç±»ï¼ç± c++å®ç°ï¼è´è´£å è½½ %java_home%/libç®å½ä¸ç jar ååç±»æèè¢« -xbootclasspathåæ°æå®çè·¯å¾ä¸­çææç±»ã\n 2. extensionclassloader(æ©å±ç±»å è½½å¨) ï¼ä¸»è¦è´è´£å è½½ %jre_home%/lib/ext ç®å½ä¸ç jar ååç±»ï¼æè¢« java.ext.dirs ç³»ç»åéææå®çè·¯å¾ä¸ç jar åã\n 3. appclassloader(åºç¨ç¨åºç±»å è½½å¨) ï¼é¢åæä»¬ç¨æ·çå è½½å¨ï¼è´è´£å è½½å½ååºç¨ classpath ä¸çææ jar ååç±»ã\n\n\n# æ§è½ä¼å&é®é¢ææ¥\n\n\n# åå­æ³æ¼ææ¥\n\n 1. ä½¿ç¨ **jps** å½ä»¤è·åå°å½åjvmè¿ç¨çpid\n 2. ä½¿ç¨ **jstat -gc** å½ä»¤è§å¯gcï¼ å¦æygcæ¯æ¬¡gcæçåå­å¹¶ä¸å¤ï¼æ¯æ¬¡ygcåé½æä¸é¨ååå­æªåæ¶ï¼å¯¼è´å¨å¤æ¬¡ygcååæ¶ä¸æçåå­è¢«æªå°å çoldåºï¼oldæ»¡äºä¹åfgcåç°ä¹æ¯åæ¶ä¸æãå°±åºæ¬å¯ä»¥ç¡®å®æ¯åå­æ³æ¼é®é¢\n 3. ä½¿ç¨**jmap -dump **å½ä»¤çæå è½¬å­å¿«ç§ã\n 4. ä½¿ç¨matï¼ memoryanalyzer ï¼åædumpæä»¶ï¼æ¾å°å·ä½åå­æ³æ¼çä»£ç ãï¼matç leak suspectsæ¥è¡¨å¸®å©æä»¬å®ä½å°åå­æ³æ¼çä»£ç  ï¼\n\n\n# é¡¹ç®ä¸­å®è·µè¿jvmè°ä¼åï¼æä¹åçï¼\n\næå®è·µè¿ã å½æ¶çº¿ä¸çæ§å¹³å°æ¥å¤§é full gc çè­¦åãæ·»å æå°gcæ¥å¿çåæ°ï¼æå°åºgcæ¥å¿ï¼ä¸ä¼ å°gceasy.ioè¿è¡åæãåç°æ¯åç©ºé´çåå§å¼å¤ªå°ï¼å¯¼è´åç©ºé´ä¸æ¦æ©å®¹ï¼è¿å¥å¯¼è´full gcçå¤§éåºç°ã è§£å³ï¼éè¿xx:metaspacesize=n åæ°éå½è°å¤§åç©ºé´çåå§å¤§å°ãæ·»å å°æå¡å¨è¿è¡çæ§ï¼éè¿å¤æ¬¡è°æ´ï¼æ¾å°æåéçåç©ºé´åå§å¼ï¼ å¯¹äº8gç©çåå­çæºå¨æ¥è¯´ï¼ä¸è¬å°è¿è¿ä¸ªå¼è®¾ç½®ä¸º256må³å¯ï¼ãæç»è§£å³çº¿ä¸full gcçå¤§éåºç°ã\n\n> è°ä¼çä¸»è¦æ­¥éª¤ï¼\n> \n>  1. çæ§åægcæ¥å¿ã\n>  2. å¤æ­jvmé®é¢ï¼\n>     1. å¦æåé¡¹åæ°è®¾ç½®åçï¼ç³»ç»æ²¡æè¶æ¶æ¥å¿åºç°ï¼gcé¢çä¸é«ï¼gcèæ¶ä¸é«ï¼é£ä¹æ²¡æå¿è¦è¿è¡gcä¼å\n>     2. å¦ægcæ¶é´è¶è¿1-3ç§ï¼æèé¢ç¹gcï¼åå¿é¡»ä¼åã\n>  3. ç¡®å®è°ä¼ç®æ \n>  4. è°æ´åæ°\n>     1. è°ä¼ä¸è¬æ¯ä»æ»¡è¶³ç¨åºçåå­ä½¿ç¨éæ±å¼å§ï¼ä¹åæ¯æ¶é´å»¶è¿è¦æ±ï¼æåææ¯ååéè¦æ±ï¼è¦åºäºè¿ä¸ªæ­¥éª¤æ¥ä¸æ­ä¼åï¼æ¯ä¸ä¸ªæ­¥éª¤é½æ¯è¿è¡ä¸ä¸æ­¥çåºç¡ï¼ä¸å¯éè¡ä¹ã\n>  5. å¯¹æ¯è°ä¼ååå·®è·\n>  6. éå¤ï¼1ã2ã3ã4ã5æ­¥éª¤\n>     1. æ¾å°æä½³jvmåæ°è®¾ç½®\n>  7. åºç¨jvmå°åºç¨æå¡å¨\n>     1. æ¾å°æåéçåæ°ï¼å°è¿äºåæ°åºç¨å°æææå¡å¨ï¼å¹¶è¿è¡åç»­è·è¸ªã\n\n> åèï¼https://juejin.cn/post/7128377003224334373#heading-0\n\n\n#',charsets:{cjk:!0},lastUpdated:"2023/11/02, 03:14:56",lastUpdatedTimestamp:1698894896e3},{title:"MySQL é¢è¯é¢",frontmatter:{title:"MySQL é¢è¯é¢",date:"2023-10-24T15:44:55.000Z",permalink:"/pages/b23391/"},regularPath:"/02.Java%20%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/02.Java%20%E5%85%AB%E8%82%A1%E6%96%87/06.MySQL%20%E9%9D%A2%E8%AF%95%E9%A2%98.html",relativePath:"02.Java é¢è¯å®å¸/02.Java å«è¡æ/06.MySQL é¢è¯é¢.md",key:"v-1b1c4248",path:"/pages/b23391/",headers:[{level:1,title:"MySQL ä½ç³»ç»æ",slug:"mysql-ä½ç³»ç»æ",normalizedTitle:"mysql ä½ç³»ç»æ",charIndex:2},{level:2,title:"MySQL é»è¾æ¶æ",slug:"mysql-é»è¾æ¶æ",normalizedTitle:"mysql é»è¾æ¶æ",charIndex:17},{level:2,title:"ä¸æ¡SQLè¯­å¥å¨MySQLä¸­æ¯æä¹æ§è¡ç",slug:"ä¸æ¡sqlè¯­å¥å¨mysqlä¸­æ¯æä¹æ§è¡ç",normalizedTitle:"ä¸æ¡sqlè¯­å¥å¨mysqlä¸­æ¯æä¹æ§è¡ç",charIndex:379},{level:1,title:"MySQLå­å¨å¼æ",slug:"mysqlå­å¨å¼æ",normalizedTitle:"mysqlå­å¨å¼æ",charIndex:616},{level:2,title:"MySQLæä¾äºåªäºå­å¨å¼æ",slug:"mysqlæä¾äºåªäºå­å¨å¼æ",normalizedTitle:"mysqlæä¾äºåªäºå­å¨å¼æ",charIndex:630},{level:2,title:"MySQLå­å¨å¼ææ¶æäºè§£å",slug:"mysqlå­å¨å¼ææ¶æäºè§£å",normalizedTitle:"mysqlå­å¨å¼ææ¶æäºè§£å",charIndex:776},{level:2,title:"MyISAMåInnoDBåºå«",slug:"myisamåinnodbåºå«",normalizedTitle:"myisamåinnodbåºå«",charIndex:863},{level:1,title:"MySQL äºå¡",slug:"mysql-äºå¡",normalizedTitle:"mysql äºå¡",charIndex:1209},{level:2,title:"ä»ä¹æ¯äºå¡",slug:"ä»ä¹æ¯äºå¡",normalizedTitle:"ä»ä¹æ¯äºå¡",charIndex:1222},{level:2,title:"ä»ä¹æ¯æ°æ®åºäºå¡",slug:"ä»ä¹æ¯æ°æ®åºäºå¡",normalizedTitle:"ä»ä¹æ¯æ°æ®åºäºå¡",charIndex:1267},{level:2,title:"ACIDç¹æ§æ¯ä»ä¹",slug:"acidç¹æ§æ¯ä»ä¹",normalizedTitle:"acidç¹æ§æ¯ä»ä¹",charIndex:1338},{level:2,title:"å¹¶åäºå¡å¸¦æ¥ä»ä¹é®é¢",slug:"å¹¶åäºå¡å¸¦æ¥ä»ä¹é®é¢",normalizedTitle:"å¹¶åäºå¡å¸¦æ¥ä»ä¹é®é¢",charIndex:1626},{level:2,title:"ä¸å¯éå¤è¯»åå¹»è¯»åºå«",slug:"ä¸å¯éå¤è¯»åå¹»è¯»åºå«",normalizedTitle:"ä¸å¯éå¤è¯»åå¹»è¯»åºå«",charIndex:1811},{level:2,title:"SQLæ å¿å®ä¹äºåªäºäºå¡éç¦»çº§å«",slug:"sqlæ å¿å®ä¹äºåªäºäºå¡éç¦»çº§å«",normalizedTitle:"sqlæ å¿å®ä¹äºåªäºäºå¡éç¦»çº§å«",charIndex:2e3},{level:2,title:"MySQLé»è®¤éç¦»çº§å«æ¯ä»ä¹ï¼è½è§£å³å¹»è¯»é®é¢å",slug:"mysqlé»è®¤éç¦»çº§å«æ¯ä»ä¹-è½è§£å³å¹»è¯»é®é¢å",normalizedTitle:"mysqlé»è®¤éç¦»çº§å«æ¯ä»ä¹ï¼è½è§£å³å¹»è¯»é®é¢å",charIndex:2362},{level:2,title:"ä»ä¹æ¯MVCC? æä»ä¹ç¨ï¼åçæ¯ä»ä¹ï¼ï¼å¾å®åï¼",slug:"ä»ä¹æ¯mvcc-æä»ä¹ç¨-åçæ¯ä»ä¹-å¾å®å",normalizedTitle:"ä»ä¹æ¯mvcc? æä»ä¹ç¨ï¼åçæ¯ä»ä¹ï¼ï¼å¾å®åï¼",charIndex:2728},{level:1,title:"MySQLé",slug:"mysqlé",normalizedTitle:"mysqlé",charIndex:2796},{level:2,title:"è¡¨çº§éåè¡çº§éäºè§£åï¼æä»ä¹åºå«ï¼",slug:"è¡¨çº§éåè¡çº§éäºè§£å-æä»ä¹åºå«",normalizedTitle:"è¡¨çº§éåè¡çº§éäºè§£åï¼æä»ä¹åºå«ï¼",charIndex:2807},{level:2,title:"è¡çº§éçä½¿ç¨æä»ä¹æ³¨æäºé¡¹",slug:"è¡çº§éçä½¿ç¨æä»ä¹æ³¨æäºé¡¹",normalizedTitle:"è¡çº§éçä½¿ç¨æä»ä¹æ³¨æäºé¡¹",charIndex:3240},{level:2,title:"å±äº«éåæä»éå¢",slug:"å±äº«éåæä»éå¢",normalizedTitle:"å±äº«éåæä»éå¢",charIndex:3441},{level:2,title:"å½åè¯»åå¿«ç§è¯»æä»ä¹åºå«",slug:"å½åè¯»åå¿«ç§è¯»æä»ä¹åºå«",normalizedTitle:"å½åè¯»åå¿«ç§è¯»æä»ä¹åºå«",charIndex:3736},{level:2,title:"InnoDBæåªå ç±»è¡é",slug:"innodbæåªå ç±»è¡é",normalizedTitle:"innodbæåªå ç±»è¡é",charIndex:4066},{level:1,title:"MySQLç´¢å¼",slug:"mysqlç´¢å¼",normalizedTitle:"mysqlç´¢å¼",charIndex:4474},{level:2,title:"ä½ä¸ºç´¢å¼ï¼æä»ä¹ä½ç¨ï¼",slug:"ä½ä¸ºç´¢å¼-æä»ä¹ä½ç¨",normalizedTitle:"ä½ä¸ºç´¢å¼ï¼æä»ä¹ä½ç¨ï¼",charIndex:4486},{level:2,title:"ç´¢å¼çä¼ç¼ºç¹",slug:"ç´¢å¼çä¼ç¼ºç¹",normalizedTitle:"ç´¢å¼çä¼ç¼ºç¹",charIndex:4642},{level:2,title:"ç´¢å¼çåºå±æ°æ®ç»æï¼å¾å®åï¼",slug:"ç´¢å¼çåºå±æ°æ®ç»æ-å¾å®å",normalizedTitle:"ç´¢å¼çåºå±æ°æ®ç»æï¼å¾å®åï¼",charIndex:4805},{level:2,title:"MySQLçç´¢å¼ç»æä¸ºä»ä¹ä½¿ç¨B+æ ï¼",slug:"mysqlçç´¢å¼ç»æä¸ºä»ä¹ä½¿ç¨b-æ ",normalizedTitle:"mysqlçç´¢å¼ç»æä¸ºä»ä¹ä½¿ç¨b+æ ï¼",charIndex:4849},{level:2,title:"ä¸»é®ç´¢å¼åäºçº§ç´¢å¼",slug:"ä¸»é®ç´¢å¼åäºçº§ç´¢å¼",normalizedTitle:"ä¸»é®ç´¢å¼åäºçº§ç´¢å¼",charIndex:5181},{level:2,title:"èç°ç´¢å¼åéèç°ç´¢å¼",slug:"èç°ç´¢å¼åéèç°ç´¢å¼",normalizedTitle:"èç°ç´¢å¼åéèç°ç´¢å¼",charIndex:5432},{level:2,title:"è¦çç´¢å¼",slug:"è¦çç´¢å¼",normalizedTitle:"è¦çç´¢å¼",charIndex:5721},{level:2,title:"èåç´¢å¼",slug:"èåç´¢å¼",normalizedTitle:"èåç´¢å¼",charIndex:5803},{level:2,title:"æå·¦åç¼å¹éåå",slug:"æå·¦åç¼å¹éåå",normalizedTitle:"æå·¦åç¼å¹éåå",charIndex:5851},{level:2,title:"åå»ºç´¢å¼çæ³¨æäºé¡¹æåªäº",slug:"åå»ºç´¢å¼çæ³¨æäºé¡¹æåªäº",normalizedTitle:"åå»ºç´¢å¼çæ³¨æäºé¡¹æåªäº",charIndex:6077},{level:2,title:"åªäºå­æ®µéååå»ºç´¢å¼",slug:"åªäºå­æ®µéååå»ºç´¢å¼",normalizedTitle:"åªäºå­æ®µéååå»ºç´¢å¼",charIndex:6258},{level:2,title:"ç´¢å¼å¤±æçæåµ",slug:"ç´¢å¼å¤±æçæåµ",normalizedTitle:"ç´¢å¼å¤±æçæåµ",charIndex:6359},{level:2,title:"å¦ä½è®©å¯ä¸ç´¢å¼åé»è¾å é¤å¼å®¹",slug:"å¦ä½è®©å¯ä¸ç´¢å¼åé»è¾å é¤å¼å®¹",normalizedTitle:"å¦ä½è®©å¯ä¸ç´¢å¼åé»è¾å é¤å¼å®¹",charIndex:6505},{level:1,title:"MySQLæ¥å¿",slug:"mysqlæ¥å¿",normalizedTitle:"mysqlæ¥å¿",charIndex:6633},{level:2,title:"MySQLå¸¸è§çæ¥å¿æåªäº",slug:"mysqlå¸¸è§çæ¥å¿æåªäº",normalizedTitle:"mysqlå¸¸è§çæ¥å¿æåªäº",charIndex:6645},{level:2,title:"æ¢æ¥è¯¢æ¥å¿æä»ä¹ç¨",slug:"æ¢æ¥è¯¢æ¥å¿æä»ä¹ç¨",normalizedTitle:"æ¢æ¥è¯¢æ¥å¿æä»ä¹ç¨",charIndex:7130},{level:2,title:"binlog ä¸»è¦è®°å½äºä»ä¹ï¼æä»ä¹ç¨",slug:"binlog-ä¸»è¦è®°å½äºä»ä¹-æä»ä¹ç¨",normalizedTitle:"binlog ä¸»è¦è®°å½äºä»ä¹ï¼æä»ä¹ç¨",charIndex:7410},{level:2,title:"redo log å¦ä½ä¿è¯äºå¡çæä¹æ§",slug:"redo-log-å¦ä½ä¿è¯äºå¡çæä¹æ§",normalizedTitle:"redo log å¦ä½ä¿è¯äºå¡çæä¹æ§",charIndex:7660},{level:2,title:"é¡µä¿®æ¹ä¹åä¸ºä»ä¹ä¸ç´æ¥å·çå¢",slug:"é¡µä¿®æ¹ä¹åä¸ºä»ä¹ä¸ç´æ¥å·çå¢",normalizedTitle:"é¡µä¿®æ¹ä¹åä¸ºä»ä¹ä¸ç´æ¥å·çå¢",charIndex:7940},{level:2,title:"binlog åredologæä»ä¹åºå«",slug:"binlog-åredologæä»ä¹åºå«",normalizedTitle:"binlog åredologæä»ä¹åºå«",charIndex:8167},{level:2,title:"undo log å¦ä½ä¿è¯äºå¡çåå­æ§",slug:"undo-log-å¦ä½ä¿è¯äºå¡çåå­æ§",normalizedTitle:"undo log å¦ä½ä¿è¯äºå¡çåå­æ§",charIndex:8512},{level:1,title:"è°ä¼",slug:"è°ä¼",normalizedTitle:"è°ä¼",charIndex:7383},{level:2,title:"SQLä¼å",slug:"sqlä¼å",normalizedTitle:"sqlä¼å",charIndex:8702},{level:2,title:"MySQL limitæ·±åº¦åé¡µä¼å",slug:"mysql-limitæ·±åº¦åé¡µä¼å",normalizedTitle:"mysql limitæ·±åº¦åé¡µä¼å",charIndex:9869},{level:1,title:"MySQL è¯»ååç¦»",slug:"mysql-è¯»ååç¦»",normalizedTitle:"mysql è¯»ååç¦»",charIndex:10063},{level:2,title:"è¯»ååç¦»å»¶è¿å¦ä½è§£å³",slug:"è¯»ååç¦»å»¶è¿å¦ä½è§£å³",normalizedTitle:"è¯»ååç¦»å»¶è¿å¦ä½è§£å³",charIndex:10078}],headersStr:"MySQL ä½ç³»ç»æ MySQL é»è¾æ¶æ ä¸æ¡SQLè¯­å¥å¨MySQLä¸­æ¯æä¹æ§è¡ç MySQLå­å¨å¼æ MySQLæä¾äºåªäºå­å¨å¼æ MySQLå­å¨å¼ææ¶æäºè§£å MyISAMåInnoDBåºå« MySQL äºå¡ ä»ä¹æ¯äºå¡ ä»ä¹æ¯æ°æ®åºäºå¡ ACIDç¹æ§æ¯ä»ä¹ å¹¶åäºå¡å¸¦æ¥ä»ä¹é®é¢ ä¸å¯éå¤è¯»åå¹»è¯»åºå« SQLæ å¿å®ä¹äºåªäºäºå¡éç¦»çº§å« MySQLé»è®¤éç¦»çº§å«æ¯ä»ä¹ï¼è½è§£å³å¹»è¯»é®é¢å ä»ä¹æ¯MVCC? æä»ä¹ç¨ï¼åçæ¯ä»ä¹ï¼ï¼å¾å®åï¼ MySQLé è¡¨çº§éåè¡çº§éäºè§£åï¼æä»ä¹åºå«ï¼ è¡çº§éçä½¿ç¨æä»ä¹æ³¨æäºé¡¹ å±äº«éåæä»éå¢ å½åè¯»åå¿«ç§è¯»æä»ä¹åºå« InnoDBæåªå ç±»è¡é MySQLç´¢å¼ ä½ä¸ºç´¢å¼ï¼æä»ä¹ä½ç¨ï¼ ç´¢å¼çä¼ç¼ºç¹ ç´¢å¼çåºå±æ°æ®ç»æï¼å¾å®åï¼ MySQLçç´¢å¼ç»æä¸ºä»ä¹ä½¿ç¨B+æ ï¼ ä¸»é®ç´¢å¼åäºçº§ç´¢å¼ èç°ç´¢å¼åéèç°ç´¢å¼ è¦çç´¢å¼ èåç´¢å¼ æå·¦åç¼å¹éåå åå»ºç´¢å¼çæ³¨æäºé¡¹æåªäº åªäºå­æ®µéååå»ºç´¢å¼ ç´¢å¼å¤±æçæåµ å¦ä½è®©å¯ä¸ç´¢å¼åé»è¾å é¤å¼å®¹ MySQLæ¥å¿ MySQLå¸¸è§çæ¥å¿æåªäº æ¢æ¥è¯¢æ¥å¿æä»ä¹ç¨ binlog ä¸»è¦è®°å½äºä»ä¹ï¼æä»ä¹ç¨ redo log å¦ä½ä¿è¯äºå¡çæä¹æ§ é¡µä¿®æ¹ä¹åä¸ºä»ä¹ä¸ç´æ¥å·çå¢ binlog åredologæä»ä¹åºå« undo log å¦ä½ä¿è¯äºå¡çåå­æ§ è°ä¼ SQLä¼å MySQL limitæ·±åº¦åé¡µä¼å MySQL è¯»ååç¦» è¯»ååç¦»å»¶è¿å¦ä½è§£å³",content:"# MySQL ä½ç³»ç»æ\n\n\n# MySQL é»è¾æ¶æ\n\nMySQL é»è¾æ¶æåä¸ºä¸å±ï¼\n\n * ç¬¬ä¸å±çè¿æ¥å±æ¯è¿è¡è¿æ¥ç®¡ççï¼åæ¬è¿æ¥å¤çãèº«ä»½è®¤è¯ãæéè·åãå®å¨ç­åè½ãè¿æ¥å±æä¸ªçº¿ç¨æ± ï¼MySQLä¼ä»çº¿ç¨æ± åéä¸ä¸ªçº¿ç¨ä¸å®¢æ·ç«¯è¿è¡äº¤äºï¼çå»åå»ºåéæ¯çº¿ç¨å¼éã\n * ç¬¬äºå±æ¯æå¡å±ï¼åæ¬SQLæ¥å£ãè§£æå¨ãä¼åå¨ãæ¥è¯¢ç¼å­ã\n   * SQLæ¥å£ç¨æ¥æ¥æ¶SQLå½ä»¤ãå¹¶è¿åç»æï¼æ¯æDMLãDDLãå­å¨è¿ç¨ãè§å¾ãè§¦åå¨ç­å¤ç§SQLè¯­è¨æ¥å£ã\n   * è§£æå¨æ¯éªè¯åè§£æSQLï¼å¹¶åå»ºè¯­æ³æ \n   * ä¼åå¨çææ§è¡è®¡åï¼å¹¶æç§æ§è¡è®¡åè°ç¨å­å¨å¼æçAPIæ¹æ³æ§è¡æ¥è¯¢\n   * æ¥è¯¢ç¼å­ä¼ç¼å­æ¥è¯¢ç»æï¼ä¸å¿è¿è¡æ¥è¯¢è§£æãä¼åãæ§è¡ç­è¿ç¨ï¼ç´æ¥å°ç»æè¿åãå¨MySQL8.0ä¸­ç§»é¤ã\n * ç¬¬ä¸å±æ¯å­å¨å¼æå±ãä¸»è¦è´è´£æ°æ®çå­å¨ä¸æåã\n\n\n# ä¸æ¡SQLè¯­å¥å¨MySQLä¸­æ¯æä¹æ§è¡ç\n\n 1. æå¡å¨ä¸­å¦æå¨æ¥è¯¢ç¼å­ä¸­åç°è¿æ¡SQLï¼å°±ä¼ç´æ¥å°ç»æè¿åï¼å¦åè¿å¥è§£æå¨é¶æ®µã\n 2. **è§£æå¨ **å¯¹SQLè¯­å¥è¿è¡è¯­æ³åæãè¯­ä¹æ£æ¥ãå¦æSQLè¯­å¥æ­£ç¡®çè¯å°±ä¼çæä¸ä¸ªè¯­æ³æ ã\n 3. ä¼åå¨ä¼å¯¹SQLè¯­å¥è¿è¡ä¼åï¼å¹¶ç¡®å®SQLè¯­å¥çæ§è¡è®¡åã\n 4. æ§è¡å¨å¨æ§è¡ä¹åå¤æ­ç¨æ·æ¯å¦å·å¤æéãå¦ææ²¡ææéï¼è¿åæééè¯¯ãå¦æå·å¤æéçè¯ï¼å°±æ§è¡SQLè¯­å¥å¹¶è¿åç»æãå¦æè®¾ç½®äºæ¥è¯¢ç¼å­ï¼ä¼å°ç»æè¿è¡ç¼å­ã\n\n\n# MySQLå­å¨å¼æ\n\n\n# MySQLæä¾äºåªäºå­å¨å¼æ\n\nå¯ä»¥éè¿show enginesæ¥çMySQLææå­å¨å¼æãæå¸¸è§çå­å¨å¼ææ¯InnoDBåMyISAMãMySQL 5.5.5 ä¹åï¼MyISAM æ¯ MySQL çé»è®¤å­å¨å¼æã5.5.5 çæ¬ä¹åï¼InnoDB æ¯ MySQL çé»è®¤å­å¨å¼æã\n\n\n# MySQLå­å¨å¼ææ¶æäºè§£å\n\nMySQL å­å¨å¼æéç¨çæ¯æä»¶å¼æ¶æï¼æ¯æå¤ç§å­å¨å¼æãå­å¨å¼ææ¯åºäºè¡¨çï¼èä¸æ¯æ°æ®åºï¼å¯ä»¥ä¸ºä¸åçæ°æ®åºè¡¨è®¾ç½®ä¸åçå­å¨å¼æã\n\n\n# MyISAMåInnoDBåºå«\n\n 1. æ¯å¦æ¯æè¡çº§éï¼MyISAMåªæ¯æè¡¨çº§éï¼èInnoDBæ¯æè¡çº§éåè¡¨çº§éï¼é»è®¤ä¸ºè¡çº§éã\n 2. æ¯å¦æ¯æäºå¡ï¼MyISAMä¸æ¯æäºå¡ï¼InnoDBæ¯æäºå¡ã\n 3. æ¯å¦æ¯æå¤é®ï¼MyISAMä¸æ¯æå¤é®ï¼InnoDBæ¯æå¤é®ã\n 4. æ¯å¦æ¯ææ°æ®åºå¼å¸¸å´©æºåçå®å¨æ¢å¤ï¼MyISAMä¸æ¯æï¼InnoDBæ¯æãInnoDBéè¿redo logä¿è¯æ°æ®åºå´©æºåè½å®å¨æ¢å¤ã\n 5. æ¯å¦æ¯æMVCCï¼MyISAMä¸æ¯æï¼InnoDBæ¯æã\n 6. ç´¢å¼å®ç°ä¸ä¸æ ·ï¼MyISAMåInnoDBè½ç¶é½æ¯ä½¿ç¨B+ Treeå®ç°ç´¢å¼ï¼ä½æ¯å®ç°æ¹å¼ä¸å¤ªä¸æ ·ï¼InnoDBçèç°ç´¢å¼å¶å­èç¹å­å¨å®æ´æ°æ®ï¼èMyISAMå¶å­èç¹å­å¨çæ¯æ°æ®è®°å½çå°åã\n\n\n# MySQL äºå¡\n\n\n# ä»ä¹æ¯äºå¡\n\näºå¡æ¯é»è¾ä¸çä¸ç»æä½ï¼äºå¡ä¸­çæä½è¦ä¹å¨é½æ§è¡ï¼è¦ä¹å¨é½ä¸æ§è¡ã\n\n\n# ä»ä¹æ¯æ°æ®åºäºå¡\n\næ°æ®åºäºå¡ä¿è¯å¤ä¸ªå¯¹æ°æ®åºçæä½ï¼ä¹å°±æ¯SQLï¼ææä¸ä¸ªé»è¾ä¸çæ´ä½ãè¿äºæä½è¦ä¹å¨é¨æ§è¡æåï¼è¦ä¹å¨é¨ä¸æ§è¡ã\n\n\n# ACIDç¹æ§æ¯ä»ä¹\n\n * åå­æ§ï¼Atomicityï¼ï¼ äºå¡æ¯æå°çæ§è¡åä½ï¼ä¸åè®¸åå²ãäºå¡çåå­æ§ç¡®ä¿äºå¡ä¸­æä½è¦ä¹å¨é¨å®æï¼è¦ä¹å¨é½ä¸å®æã\n * ä¸è´æ§ï¼Consistencyï¼ï¼äºå¡ååæ°æ®è¦ä¿æä¸è´ã\n * éç¦»æ§ï¼Isolationï¼ï¼å¹¶åè®¿é®æ°æ®åºæ¶ï¼ä¸ä¸ªç¨æ·çäºå¡ä¸è¢«å¶ä»äºå¡æå¹²æ°ï¼åå¹¶åäºå¡ä¹é´æ°æ®åºæ¯ç¬ç«çã\n * æä¹æ§ï¼Durabilityï¼ï¼äºå¡ä¸æ¦è¢«æäº¤ï¼å°æ°¸ä¹çä¿å­å°æ°æ®åºï¼å³ä½¿æ¯æ°æ®åºåçæéä¹ä¸åºè¯¥å¯¹å¶æä»»ä½å½±åã\n\nåªæä¿è¯äºäºå¡çæä¹æ§ãåå­æ§ãéç¦»æ§ä¹åï¼ä¸è´æ§æè½å¾å°ä¿éãä¹å°±æ¯è¯´ AãIãD æ¯ææ®µï¼C æ¯ç®ç\n\n\n# å¹¶åäºå¡å¸¦æ¥ä»ä¹é®é¢\n\n * èè¯»ï¼Dirty readï¼ï¼ä¸ä¸ªäºå¡è¯»åå¦ä¸ä¸ªäºå¡æªæäº¤æ°æ®\n * ä¸¢å¤±æ´æ°ï¼Lost to modifyï¼ï¼ä¸ä¸ªäºå¡å¯¹æ°æ®çä¿®æ¹è¢«å¦ä¸ä¸ªäºå¡æè¦ç\n * ä¸å¯éå¤è¯»ï¼ä¸ä¸ªäºå¡ä¸¤æ¬¡è¯»åç¸åæ°æ®ï¼å¨è¿æé´ï¼å¦ä¸ä¸ªäºå¡å¯¹æ°æ®è¿è¡ä¿®æ¹ï¼å¯¼è´ç¬¬ä¸ä¸ªäºå¡ä¸¤æ¬¡è¯»åçæ°æ®ä¸ä¸è´\n * å¹»è¯»ï¼ä¸ä¸ªäºå¡å¤æ¬¡è¯»åæ°æ®ä¸ä¸è´ï¼åç°è¯»åå°çæ°æ®å¢å äº\n\n\n# ä¸å¯éå¤è¯»åå¹»è¯»åºå«\n\n * ä¸å¯éå¤è¯»çéç¹æ¯åå®¹ä¿®æ¹æèè®°å½åå°ãæ¯å¦æå¤æ¬¡è¯»åä¸æ¡è®°å½ï¼åç°å¶ä¸­æäºè®°å½çå¼è¢«ä¿®æ¹ã\n * å¹»è¯»çéç¹å¨äºè®°å½æ°å¢ãæ¯å¦å¤æ¬¡æ§è¡åä¸æ¡æ¥è¯¢è¯­å¥ï¼åç°æ¥è¯¢å°è®°å½å¢å äºã\n\n> deleteåupdateæä½ï¼å¯ä»¥ç´æ¥å¯¹è®°å½å éï¼ä¿è¯äºå¡å®å¨ã èæ§è¡insertæä½æ¶ï¼è®°å½éåªè½éä½å·²å­å¨è®°å½ï¼ä¸ºäºé¿åæå¥æ°è®°å½ï¼éè¦ä½¿ç¨é´ééã\n\n\n# SQLæ å¿å®ä¹äºåªäºäºå¡éç¦»çº§å«\n\nSQLæ å¿å®ä¹äºåä¸ªéç¦»çº§å«ï¼\n\n * READ-UNCOMMITTED(è¯»åæªæäº¤) ï¼ æä½çéç¦»çº§å«ï¼åè®¸è¯»åå°æªæäº¤çæ°æ®ï¼å¯è½ä¼å¯¼è´èè¯»ãå¹»è¯»æä¸å¯éå¤è¯»ã\n * READ-COMMITTED(è¯»åå·²æäº¤) ï¼ åè®¸è¯»åå¹¶åäºå¡å·²ç»æäº¤çæ°æ®ï¼å¯ä»¥é»æ­¢èè¯»ï¼ä½æ¯å¹»è¯»æä¸å¯éå¤è¯»ä»æå¯è½åçã\n * REPEATABLE-READ(å¯éå¤è¯») ï¼ å¯¹åä¸å­æ®µçå¤æ¬¡è¯»åç»æé½æ¯ä¸è´çï¼é¤éæ°æ®æ¯è¢«æ¬èº«äºå¡èªå·±æä¿®æ¹ï¼å¯ä»¥é»æ­¢èè¯»åä¸å¯éå¤è¯»ï¼ä½å¹»è¯»ä»æå¯è½åçã\n * SERIALIZABLE(å¯ä¸²è¡å) ï¼ æé«çéç¦»çº§å«ï¼å®å¨æä» ACID çéç¦»çº§å«ãææçäºå¡ä¾æ¬¡éä¸ªæ§è¡ï¼è¿æ ·äºå¡ä¹é´å°±å®å¨ä¸å¯è½äº§çå¹²æ°ï¼ä¹å°±æ¯è¯´ï¼è¯¥çº§å«å¯ä»¥é²æ­¢èè¯»ãä¸å¯éå¤è¯»ä»¥åå¹»è¯»ã\n\n\n# MySQLé»è®¤éç¦»çº§å«æ¯ä»ä¹ï¼è½è§£å³å¹»è¯»é®é¢å\n\nMySQL InnoDBå­å¨å¼æé»è®¤éç¦»çº§å«æ¯REPEATABLE-READï¼å¯éå¤è¯»ï¼ãå¯ä»¥éè¿SELECT @@tx_isolation;å½ä»¤æ¥çï¼ MySQL 8.0 è¯¥å½ä»¤æ¹ä¸ºSELECT @@transaction_isolation; InnoDBå®ç°ç REPEATABLE-READ éç¦»çº§å«å¯ä»¥è§£å³å¹»è¯»é®é¢ï¼ä¸»è¦éè¿MVCCåNext-key Lockè§£å³å¹»è¯»é®é¢ï¼\n\n * å¿«ç§è¯»ï¼ç±MVCCæºå¶æ¥ä¿è¯ä¸ä¼åºç°å¹»è¯»ã\n * å½åè¯»ï¼ ä½¿ç¨ Next-Key Lock è¿è¡å éæ¥ä¿è¯ä¸åºç°å¹»è¯»ï¼Next-Key Lock æ¯è®°å½éï¼Record Lockï¼åé´ééï¼Gap Lockï¼çç»åï¼è¡éåªè½éä½å·²ç»å­å¨çè¡ï¼ä¸ºäºé¿åæå¥æ°è¡ï¼éè¦ä¾èµé´ééã\n\n\n# ä»ä¹æ¯MVCC? æä»ä¹ç¨ï¼åçæ¯ä»ä¹ï¼ï¼å¾å®åï¼\n\nMVCCæ¯å¤çæ¬å¹¶åæ§å¶ï¼æ¯InnoDBå­å¨å¼æå¯¹ééå®ä¸è´æ§è¯»çå®ç°ã\n\n\n# MySQLé\n\n\n# è¡¨çº§éåè¡çº§éäºè§£åï¼æä»ä¹åºå«ï¼\n\nMyISAMä»ä»æ¯æè¡¨çº§éï¼ä¸éå°±éæ´å¼ è¡¨ï¼è¿å¨å¹¶ååçæåµä¸æ§è½éå¸¸å·®ãInnoDBä¸åæ¯æè¡¨çº§éï¼è¿æ¯æè¡çº§éï¼é»è®¤ä¸ºè¡çº§éãè¡çº§éçç²åº¦æ´å°ï¼ä»å¯¹ç¸å³çè®°å½è¿è¡å éï¼å¯¹ä¸è¡æèå¤è¡è®°å½è¿è¡å éï¼ï¼æä»¥å¯¹äºå¹¶ååçæåµä¸ï¼InnoDBçæ§è½æ´é«ã è¡¨çº§éåè¡çº§éå¯¹æ¯ï¼\n\n * è¡¨çº§éï¼ MySQL ä¸­éå®ç²åº¦æå¤§çä¸ç§éï¼å¨å±éé¤å¤ï¼ï¼æ¯éå¯¹éç´¢å¼å­æ®µå çéï¼å¯¹å½åæä½çæ´å¼ è¡¨å éï¼å®ç°ç®åï¼èµæºæ¶èä¹æ¯è¾å°ï¼å éå¿«ï¼ä¸ä¼åºç°æ­»éãä¸è¿ï¼è§¦åéå²çªçæ¦çæé«ï¼é«å¹¶åä¸æçæä½ãè¡¨çº§éåå­å¨å¼ææ å³ï¼MyISAM å InnoDB å¼æé½æ¯æè¡¨çº§éã\n * è¡çº§éï¼ MySQL ä¸­éå®ç²åº¦æå°çä¸ç§éï¼æ¯ éå¯¹ç´¢å¼å­æ®µå çé ï¼åªéå¯¹å½åæä½çè¡è®°å½è¿è¡å éã è¡çº§éè½å¤§å¤§åå°æ°æ®åºæä½çå²çªãå¶å éç²åº¦æå°ï¼å¹¶ååº¦é«ï¼ä½å éçå¼éä¹æå¤§ï¼å éæ¢ï¼ä¼åºç°æ­»éãè¡çº§éåå­å¨å¼ææå³ï¼æ¯å¨å­å¨å¼æå±é¢å®ç°çã\n\n\n# è¡çº§éçä½¿ç¨æä»ä¹æ³¨æäºé¡¹\n\nInnoDBè¡éæ¯éå¯¹ç´¢å¼å­æ®µå çéï¼è¡¨çº§éæ¯éå¯¹éç´¢å¼å­æ®µå çéãå½æä»¬æ§è¡ UPDATEãDELETE è¯­å¥æ¶ï¼å¦æ WHEREæ¡ä»¶ä¸­å­æ®µæ²¡æå½ä¸­å¯ä¸ç´¢å¼æèç´¢å¼å¤±æçè¯ï¼å°±ä¼å¯¼è´æ«æå¨è¡¨å¯¹è¡¨ä¸­çææè¡è®°å½è¿è¡å éãè¿ä¸ªå¨æä»¬æ¥å¸¸å·¥ä½å¼åä¸­ç»å¸¸ä¼éå°ï¼ä¸å®è¦å¤å¤æ³¨æï¼ï¼ï¼ ä¸è¿ï¼å¾å¤æ¶åå³ä½¿ç¨äºç´¢å¼ä¹æå¯è½ä¼èµ°å¨è¡¨æ«æï¼è¿æ¯å ä¸º MySQL ä¼åå¨çåå ã\n\n\n# å±äº«éåæä»éå¢\n\nä¸è®ºæ¯è¡¨çº§éè¿æ¯è¡çº§éï¼é½å­å¨å±äº«éï¼Share Lockï¼S éï¼åæä»éï¼Exclusive Lockï¼X éï¼è¿ä¸¤ç±»ï¼\n\n * å±äº«éï¼S éï¼ ï¼åç§°è¯»éï¼äºå¡å¨è¯»åè®°å½çæ¶åè·åå±äº«éï¼åè®¸å¤ä¸ªäºå¡åæ¶è·åï¼éå¼å®¹ï¼ã\n * æä»éï¼X éï¼ ï¼åç§°åé/ç¬å éï¼äºå¡å¨ä¿®æ¹è®°å½çæ¶åè·åæä»éï¼ä¸åè®¸å¤ä¸ªäºå¡åæ¶è·åãå¦æä¸ä¸ªè®°å½å·²ç»è¢«å äºæä»éï¼é£å¶ä»äºå¡ä¸è½åå¯¹è¿æ¡äºå¡å ä»»ä½ç±»åçéï¼éä¸å¼å®¹ï¼ã\n\næä»éä¸ä»»ä½çéé½ä¸å¼å®¹ï¼å±äº«éä»åå±äº«éå¼å®¹ã\n\n      S é   X é\nS é   ä¸å²çª   å²çª\nX é   å²çª    å²çª\n\n\n# å½åè¯»åå¿«ç§è¯»æä»ä¹åºå«\n\nå¿«ç§è¯»ï¼ä¸è´æ§ééå®è¯»ï¼å°±æ¯åçº¯ç SELECT è¯­å¥ï¼ä½ä¸åæ¬ä¸é¢è¿ä¸¤ç±» SELECT è¯­å¥ï¼\n\nSELECT ... FOR UPDATE\nSELECT ... LOCK IN SHARE MODE\n\n\n\nå¿«ç§å³è®°å½çåå²çæ¬ï¼æ¯è¡è®°å½å¯è½å­å¨å¤ä¸ªåå²çæ¬ï¼å¤çæ¬ææ¯ï¼ã\n\nå½åè¯» ï¼ä¸è´æ§éå®è¯»ï¼å°±æ¯ç»è¡è®°å½å  X éæ S éã å½åè¯»çä¸äºå¸¸è§ SQL è¯­å¥ç±»åå¦ä¸ï¼\n\n# å¯¹è¯»çè®°å½å ä¸ä¸ªXé\nSELECT...FOR UPDATE\n# å¯¹è¯»çè®°å½å ä¸ä¸ªSé\nSELECT...LOCK IN SHARE MODE\n# å¯¹ä¿®æ¹çè®°å½å ä¸ä¸ªXé\nINSERT...\nUPDATE...\nDELETE...\n\n\n\n\n# InnoDBæåªå ç±»è¡é\n\nInnoDB è¡éæ¯éè¿å¯¹ç´¢å¼æ°æ®é¡µä¸çè®°å½å éå®ç°çï¼MySQL InnoDB æ¯æä¸ç§è¡éå®æ¹å¼ï¼\n\n * è®°å½éï¼Record Lockï¼ ï¼ä¹è¢«ç§°ä¸ºè®°å½éï¼å±äºåä¸ªè¡è®°å½ä¸çéã\n * é´ééï¼Gap Lockï¼ ï¼éå®ä¸ä¸ªèå´ï¼ä¸åæ¬è®°å½æ¬èº«ã\n * ä¸´é®éï¼Next-Key Lockï¼ ï¼Record Lock+Gap Lockï¼éå®ä¸ä¸ªèå´ï¼åå«è®°å½æ¬èº«ï¼ä¸»è¦ç®çæ¯ä¸ºäºè§£å³å¹»è¯»é®é¢ï¼MySQL äºå¡é¨åæå°è¿ï¼ãè®°å½éåªè½éä½å·²ç»å­å¨çè®°å½ï¼ä¸ºäºé¿åæå¥æ°è®°å½ï¼éè¦ä¾èµé´ééã\n\nå¨ InnoDB é»è®¤çéç¦»çº§å« REPEATABLE-READ ä¸ï¼è¡éé»è®¤ä½¿ç¨çæ¯ Next-Key Lockãä½æ¯ï¼å¦ææä½çç´¢å¼æ¯å¯ä¸ç´¢å¼æä¸»é®ï¼InnoDB ä¼å¯¹ Next-Key Lock è¿è¡ä¼åï¼å°å¶éçº§ä¸º Record Lockï¼å³ä»éä½ç´¢å¼æ¬èº«ï¼èä¸æ¯èå´ã\n\n\n# MySQLç´¢å¼\n\n\n# ä½ä¸ºç´¢å¼ï¼æä»ä¹ä½ç¨ï¼\n\nç´¢å¼æ¯ä¸ç§å¸®å©MySQLé«æè·åæ°æ®çæ°æ®ç»æï¼ç±å·ä½çå­å¨å¼æå®ç°ãç´¢å¼ç¸å½äºä¹¦çç®å½ï¼æäºç®å½å°±å¯ä»¥ç´æ¥å®ä½å°æä»¬è¦æ¥æ¾çæ°æ®ï¼æ é¡»ä¸é¡µä¸é¡µçè¿è¡æ¥æ¾ãå¸¸è§çç´¢å¼ç»ææï¼Bæ ãB+æ ãHashãçº¢é»æ ãå¨MySQLä¸­ï¼InnoDBåMyISAMé½ä½¿ç¨äºB+æ ä½ä¸ºç´¢å¼ç»æã\n\n\n# ç´¢å¼çä¼ç¼ºç¹\n\nä¼ç¹ï¼\n\n * ç´¢å¼å¯ä»¥æé«æ¥è¯¢æçï¼è¿æ¯åå»ºç´¢å¼æä¸»è¦çåå ã\n * éè¿åå»ºå¯ä¸ç´¢å¼ï¼å¯ä»¥ä¿è¯æ°æ®åºè¡¨ä¸­æ¯ä¸è¡æ°æ®çå¯ä¸æ§\n\nç¼ºç¹ï¼\n\n * åå»ºåç»´æ¤ç´¢å¼éè¦ä¸å®å¼éï¼å½å¯¹è¡¨ä¸­çæ°æ®è¿è¡å¢å æ¹æä½æ¶ï¼ç´¢å¼ä¹è¦å¨æçä¿®æ¹ï¼ä¼éä½SQLæ§è¡æçã\n * ç´¢å¼éè¦ä½¿ç¨ç©çæä»¶å­å¨ï¼ä¹ä¼èè´¹ä¸å®ç©ºé´ã\n\n\n# ç´¢å¼çåºå±æ°æ®ç»æï¼å¾å®åï¼\n\nç´¢å¼çåºå±æ°æ®ç»æï¼Hashè¡¨ãBæ ãB+æ ã\n\n\n# MySQLçç´¢å¼ç»æä¸ºä»ä¹ä½¿ç¨B+æ ï¼\n\n * äºåæ¥æ¾æ (BST)ï¼è§£å³äºæåºçåºæ¬é®é¢ï¼ä½æ¯ç±äºæ æ³ä¿è¯å¹³è¡¡ï¼å¯è½éåä¸ºé¾è¡¨ï¼\n * å¹³è¡¡äºåæ (AVL)ï¼éè¿æè½¬è§£å³äºå¹³è¡¡çé®é¢ï¼ä½æ¯æè½¬æä½æçå¤ªä½ï¼\n * çº¢é»æ ï¼éè¿èå¼ä¸¥æ ¼çå¹³è¡¡åå¼å¥çº¢é»èç¹ï¼è§£å³äºAVLæè½¬æçè¿ä½çé®é¢ï¼ä½æ¯å¨ç£çç­åºæ¯ä¸ï¼æ ä»ç¶å¤ªé«ï¼IOæ¬¡æ°å¤ªå¤ï¼\n * Bæ ï¼éè¿å°äºåæ æ¹ä¸ºå¤è·¯å¹³è¡¡æ¥æ¾æ ï¼è§£å³äºæ è¿é«çé®é¢ï¼\n * B+æ ï¼å¨Bæ çåºç¡ä¸ï¼å°éå¶èç¹æ¹é ä¸ºä¸å­å¨æ°æ®ççº¯ç´¢å¼èç¹ï¼è¿ä¸æ­¥éä½äºæ çé«åº¦ï¼æ­¤å¤å°å¶èç¹ä½¿ç¨æéè¿æ¥æé¾è¡¨ï¼èå´æ¥è¯¢æ´å é«æã\n\nåèèµæï¼https://www.cnblogs.com/kismetv/p/11582214.html\n\n\n# ä¸»é®ç´¢å¼åäºçº§ç´¢å¼\n\nä¸»é®ç´¢å¼ï¼æ°æ®è¡¨çä¸»é®åä½¿ç¨çå°±æ¯ä¸»é®ç´¢å¼ãä¸å¼ æ°æ®è¡¨åªè½æä¸ä¸ªä¸»é®ï¼å¹¶ä¸ä¸ä¸ºnullï¼ä¸è½éå¤ãå¨MySQLçInnoDBè¡¨ä¸­ï¼å¦ææ²¡ææ¾ç¤ºçæå®è¡¨çä¸»é®ï¼InnoDBä¼èªå¨æ£æ¥è¡¨ä¸­æ¯å¦æå¯ä¸ç´¢å¼å¹¶ä¸ä¸åè®¸ä¸ºnull å¼çå­æ®µï¼æçè¯ï¼é»è®¤è¯¥å­æ®µæªé»è®¤çä¸»é®ï¼å¦åInnoDBå°èªå¨åå»ºä¸ä¸ªèªå¢ä¸»é®ã äºçº§ç´¢å¼ï¼è¾å©ç´¢å¼ï¼ï¼äºçº§ç´¢å¼åç§°ä¸ºè¾å©ç´¢å¼ï¼å ä¸ºäºçº§ç´¢å¼çå¶å­èç¹å­å¨çæ°æ®æ¯ä¸»é®ãä¹å°±æ¯è¯´ï¼éè¿äºçº§ç´¢å¼ï¼å¯ä»¥å®ä½ä¸»é®çä½ç½®ãæ®éç´¢å¼ï¼å¯ä¸ç´¢å¼ç­é½å±äºäºçº§ç´¢å¼ã\n\n\n# èç°ç´¢å¼åéèç°ç´¢å¼\n\n**èç°ç´¢å¼ï¼èç°ç´¢å¼å³ç´¢å¼ç»æåæ°æ®ä¸èµ·å­æ¾çç´¢å¼ï¼å¹¶ä¸æ¯ä¸ç§åç¬çç´¢å¼ç±»åãInnoDB ä¸­çä¸»é®ç´¢å¼å°±å±äºèç°ç´¢å¼ã**èç°ç´¢å¼çæ¯ä¸ªéå¶å­èç¹å­å¨ç´¢å¼ï¼å¶å­èç¹å­å¨ç´¢å¼åç´¢å¼å¯¹åºçæ°æ®ãèç°ç´¢å¼çæ¥è¯¢éåº¦éå¸¸å¿«ï¼å ä¸ºæ°æ®æ¯ç´æ¥å­å¨å¨å¶å­èç¹ã éèç°ç´¢å¼ï¼**éèç°ç´¢å¼å³ç´¢å¼ç»æåæ°æ®åå¼å­æ¾çç´¢å¼ï¼å¹¶ä¸æ¯ä¸ç§åç¬çç´¢å¼ç±»åãäºçº§ç´¢å¼(è¾å©ç´¢å¼)å°±å±äºéèç°ç´¢å¼ãMySQL ç MyISAM å¼æï¼ä¸ç®¡ä¸»é®è¿æ¯éä¸»é®ï¼ä½¿ç¨çé½æ¯éèç°ç´¢å¼ã**éèç°ç´¢å¶å­èç¹æ¯ä¸å­æ¾æ°æ®çãinnoDBä½¿ç¨éèç°ç´¢å¼å¤§é¨åæåµä¸é½éè¦è¿è¡åè¡¨æä½ï¼é¤éä½¿ç¨è¦çç´¢å¼ï¼æä¸ç¨åè¡¨ã\n\n\n# è¦çç´¢å¼\n\néèç°ç´¢å¼æ¥è¯¢æ°æ®æ¶ï¼å¦ææ¥è¯¢è¯­å¥æç¨å°å­æ®µåå«å¨ç´¢å¼å­æ®µ+ä¸»é®ï¼æ­¤æ¶å°±æ é¡»è¿è¡åè¡¨æä½ï¼å¯ä»¥ç´æ¥å°æ°æ®è¿åã\n\n\n# èåç´¢å¼\n\nä½¿ç¨è¡¨ä¸­çå¤ä¸ªå­æ®µåå»ºç´¢å¼ï¼å°±æ¯ èåç´¢å¼ï¼ä¹å« ç»åç´¢å¼ æ å¤åç´¢å¼ã\n\n\n# æå·¦åç¼å¹éåå\n\næå·¦åç¼å¹éååæçæ¯ï¼å¨ä½¿ç¨èåç´¢å¼æ¶ï¼MySQL ä¼æ ¹æ®èåç´¢å¼ä¸­çå­æ®µé¡ºåºï¼ä»å·¦å°å³ä¾æ¬¡å°æ¥è¯¢æ¡ä»¶ä¸­å»å¹éï¼å¦ææ¥è¯¢æ¡ä»¶ä¸­å­å¨ä¸èåç´¢å¼ä¸­æå·¦ä¾§å­æ®µç¸å¹éçå­æ®µï¼åå°±ä¼ä½¿ç¨è¯¥å­æ®µè¿æ»¤ä¸æ¹æ°æ®ï¼ç´è³èåç´¢å¼ä¸­å¨é¨å­æ®µå¹éå®æï¼æèå¨æ§è¡è¿ç¨ä¸­éå°èå´æ¥è¯¢ï¼å¦ >ã<ãbetween å ä»¥%å¼å¤´çlikeæ¥è¯¢ ç­æ¡ä»¶ï¼æä¼åæ­¢å¹éã æä»¥ï¼æä»¬å¨ä½¿ç¨èåç´¢å¼æ¶ï¼å¯ä»¥å°åºååº¦é«çå­æ®µæ¾å¨æå·¦è¾¹ï¼è¿ä¹å¯ä»¥è¿æ»¤æ´å¤æ°æ®ã\n\n\n# åå»ºç´¢å¼çæ³¨æäºé¡¹æåªäº\n\n * éæ©åéçå­æ®µåå»ºç´¢å¼\n * é¢ç¹æ´æ°çå­æ®µåºè¯¥æéå»ºç«ç´¢å¼\n * å°½å¯è½çèèå»ºç«èåç´¢å¼èä¸æ¯ååç´¢å¼\n * é¿åç´¢å¼å¤±æ\n * å é¤é¿ææªä½¿ç¨çç´¢å¼ï¼ ä¸ç¨çç´¢å¼çå­å¨ä¼é æä¸å¿è¦çæ§è½æè MySQL 5.7 å¯ä»¥éè¿æ¥è¯¢ sys åºç schema_unused_indexes è§å¾æ¥æ¥è¯¢åªäºç´¢å¼ä»æªè¢«ä½¿ç¨\n\n\n# åªäºå­æ®µéååå»ºç´¢å¼\n\n * å·æå¯ä¸ç¹æ§çå­æ®µåºå½å»ºç«å¯ä¸ç´¢å¼\n * é¢ç¹ä½ä¸ºwhereæ¥è¯¢æ¡ä»¶çå­æ®µ\n * ç»å¸¸order byï¼group byçå­æ®µ\n * èåæ¥è¯¢æ¶è¿æ¥æ¡ä»¶ç¨å°çå­æ®µ\n\n\n# ç´¢å¼å¤±æçæåµ\n\n * åå»ºäºç»åç´¢å¼ï¼ä½æ¥è¯¢æ¡ä»¶æªåå®æå·¦å¹éåå;\n * å¨ç´¢å¼åä¸è¿è¡è®¡ç®ãå½æ°ãç±»åè½¬æ¢ç­æä½;\n * ä»¥ % å¼å¤´ç LIKE æ¥è¯¢æ¯å¦ like '%abc';\n * æ¥è¯¢æ¡ä»¶ä¸­ä½¿ç¨ orï¼ä¸ or çååæ¡ä»¶ä¸­æä¸ä¸ªåæ²¡æç´¢å¼ï¼æ¶åçç´¢å¼é½ä¸ä¼è¢«ä½¿ç¨å°\n\n\n# å¦ä½è®©å¯ä¸ç´¢å¼åé»è¾å é¤å¼å®¹\n\néè¿å¯ä¸ç´¢å¼åé»è¾å é¤å­æ®µå»ºç«èåå¯ä¸ç´¢å¼ãå¦ææ°æ®è¢«å é¤ï¼é»è¾å é¤å­æ®µçå¼å°±æ¯å½åæ°æ®çidã\n\nåèï¼https://blog.csdn.net/Park33/article/details/130015392\n\n\n# MySQLæ¥å¿\n\n\n# MySQLå¸¸è§çæ¥å¿æåªäº\n\nMySQLä¸­å¸¸è§çæ¥å¿ç±»åä¸»è¦æä¸é¢å ç±»ï¼éå¯¹çæ¯InnoDBå­å¨å¼æï¼ï¼\n\n * éè¯¯æ¥å¿ï¼error logï¼ï¼å¯¹MySQLçå¯å¨ãè¿è¡ãå³é­è¿ç¨è¿è¡äºè®°å½ã\n * äºè¿å¶æ¥å¿ï¼binary logï¼binlogï¼ï¼ä¸»è¦è®°å½çæ¯æ´æ¹æ°æ®åºæ°æ®çSQLè¯­å¥\n * ä¸è¬æ¥è¯¢æ¥å¿ï¼general query logï¼ï¼å·²å»ºç«è¿æ¥çå®¢æ·ç«¯åéç»MySQLæå¡å¨çææSQLè®°å½ï¼å ä¸ºSQLçéæ¯è¾å¤§ï¼é»è®¤æ¯ä¸å¼å¯çï¼ä¹ä¸å»ºè®®å¼å¯ã\n * æ¢æ¥è¯¢æ¥å¿ï¼show query logï¼ï¼æ§è¡æ¶é´è¶è¿long_query_timeç§éçæ¥è¯¢ï¼è§£å³SQLæ¢æ¥è¯¢é®é¢ä¼ç¨å°ã\n * äºå¡æ¥å¿ï¼redo log åundo logï¼ï¼redo logæ¯éåæ¥å¿ï¼undo log æ¯åæ»æ¥å¿ã\n * ä¸­ç»§æ¥å¿ï¼relay logï¼ï¼relay log æ¯å¤å¶è¿ç¨ä¸­äº§ççæ¥å¿ï¼å¾å¤æ¹é¢é½è·binary logå·®ä¸å¤ãä¸è¿ï¼relay log éå¯¹çæ¯ä¸»ä»å¤å¶ä¸­çä»åºã\n * DDLæ¥å¿ï¼metadata logï¼ï¼DDLè¯­å¥æ§è¡çåæ°æ®æä½ã\n\n\n# æ¢æ¥è¯¢æ¥å¿æä»ä¹ç¨\n\næ¢æ¥è¯¢æ¥å¿è®°å½äºæ§è¡æ¶é´è¶è¿long_query_timeï¼é»è®¤æ¯10sï¼éå¸¸è®¾ç½®ä¸º1sï¼çæææ¥è¯¢è¯­å¥ï¼å¨è§£å³SQLæ¢æ¥è¯¢ï¼SQLæ§è¡æ¶é´é¿ï¼é®é¢ç»å¸¸ä¼ç¨å°ã æ¾å°æ¢SQLæ¯ä¼åSQLè¯­å¥æ§è½çç¬¬ä¸æ­¥ï¼ç¶åä½¿ç¨EXPLAINå½åå¯¹æ¢SQLè¿è¡åæï¼è·åæ§è¡è®¡åã å¯ä»¥éè¿show_query_logålong_query_timeåéåå«æ¥çæ¢æ¥è¯¢æ¥å¿æ¯å¦å¼å¯ï¼é»è®¤å³é­ï¼åæ¢æ¥è¯¢æ¶é´éå¼ã å¨å®éå¼åä¸­ï¼æ¢æ¥è¯¢æ¥å¿å¯è½ä¼æ¯è¾å¤§ï¼ç´æ¥åæä¸æ¹ä¾¿ï¼å¯ä»¥åå©MySQLå®æ¹çæ¢æ¥è¯¢åæè°ä¼å·¥å·mysqldumpslowè¿è¡åæã\n\n\n# binlog ä¸»è¦è®°å½äºä»ä¹ï¼æä»ä¹ç¨\n\nMySQL binlogï¼binary log å³äºè¿å¶æ¥å¿æä»¶ï¼ä¸»è¦è®°å½äºMySQLæ°æ®åºä¸­æ°æ®çææååï¼æ°æ®åºæ§è¡çææDDLåDMLè¯­å¥ï¼ãbinlogæä¸»è¦çåºç¨åºæ¯æ¯ä¸»ä»å¤å¶ï¼ä¸»å¤ãä¸»ä¸»ãä¸»ä»é½ç¦»ä¸å¼binlogï¼éè¦ä¾é binlogæ¥åæ­¥æ°æ®ï¼ä¿è¯æ°æ®çä¸è´æ§ãæ­¤å¤ï¼binlogè¿è½å¸®å¿æä»¬è¿è¡æ°æ®æ¢å¤ï¼å¨å¯ç¨binlogæ¥å¿æåµä¸ï¼é»è®¤æ¯å¼å¯çï¼ï¼å½æä»¬è¯¯å æ°æ®çè³æ¯æ´ä¸ªæ°æ®åºçæåµä¸ï¼å°±å¯ä»¥ä½¿ç¨binlogæ¥å¸®å¿æä»¬æ¢å¤æ°æ®ã\n\n\n# redo log å¦ä½ä¿è¯äºå¡çæä¹æ§\n\nredo log ä¸»è¦åçäºæå°±æ¯è®°å½é¡µçä¿®æ¹ï¼æ¯å¦æä¸ªé¡µé¢æä¸ªåç§»éå¤ä¿®æ¹äºå ä¸ªå­èçå¼ä»¥åå·ä½è¢«ä¿®æ¹çåå®¹æ¯ä»ä¹ãå¨äºå¡æäº¤æ¶ï¼æä»¬ä¼å°redo logæç§å·çç­ç¥å·å°ç£çä¸å»ï¼è¿æ ·å³ä½¿ MySQL å®æºäºï¼éå¯ä¹åä¹è½æ¢å¤æªè½åå¥ç£ççæ°æ®ï¼ä»èä¿è¯äºå¡çæä¹æ§ã\n\n> InnoDBå­å¨å¼æä½¿ç¨Buffer Poolï¼ç¼å²æ± ï¼æ¥æé«è¯»åæ§è½ãå½ä¸ä¸ªäºå¡æäº¤ä¹åï¼ç¼å²æ± çå¯¹åºé¡µçä¿®æ¹è¿æªæä¹åå°ç£çï¼è¿æ¶ï¼å¦æMySQLçªç¶å®æºçè¯ï¼äºå¡çæ´æ¹æ¯ä¸æ¯ç´æ¥å°±æ¶å¤±äº?redo logå°±æ¯æ¥è§£å³è¿ä¸ªé®é¢ç\n\n\n# é¡µä¿®æ¹ä¹åä¸ºä»ä¹ä¸ç´æ¥å·çå¢\n\nç´æ¥å·çæ§è½éå¸¸å·®ï¼InnoDBé¡µçå¤§å°ä¸è¬ä¸º16KBï¼èé¡µåæ¯ç£çååå­äº¤äºçåºæ¬åä½ãè¿å°±å¯¼è´å³ä½¿æä»¬åªä¿®æ¹é¡µä¸­çå ä¸ªå­èæ°æ®ï¼ä¸æ¬¡å·çæä½ä¹å°±å°16KB å¤§å°çé¡µæ´ä¸ªé½å·æ°å°ç£çä¸­ãèä¸ï¼è¿äºä¿®æ¹çé¡µå¯è½å¹¶ä¸ç¸é»ï¼ä¹å°±æ¯è¯´è¿è¿æ¯éæºIOã éç¨redo log çæ¹å¼å¯ä»¥é¿åè¿ç§æ§è½é®é¢ï¼å ä¸ºredo logçå·çæ§è½å¾å¥½ãredo logçåå¥å±äºé¡ºåºIOï¼å¹¶ä¸ä¸è¡redo logè®°å½åªå å åä¸ªå­èã\n\n\n# binlog åredologæä»ä¹åºå«\n\n * ç¨éï¼binlogä¸»è¦ç¨äºæ°æ®åºè¿åï¼å±äºæ°æ®çº§å«çæ°æ®æ¢å¤ï¼ä¸»ä»å¤å¶æ¯binlogæå¸¸è§çä¸ä¸ªåºç¨åºæ¯ãredologä¸»è¦ç¨äºä¿è¯äºå¡çæä¹æ§ï¼å±äºäºå¡çº§å«çæ°æ®æ¢å¤ã\n * æ¯å¦æ¯InnoDBå¼æç¹æçï¼redologå±äºInnoDBå¼æç¹æçï¼binlogå±äºææå­å¨å¼æå±æçãå ä¸ºbinlogæ¯MySQLçServerå±å®ç°çã\n * redologå±äºç©çæ¥å¿ï¼ä¸»è¦è®°å½çæä¸ªé¡µçä¿®æ¹ãbinlogå±äºé»è¾æ¥å¿ï¼ä¸»è¦è®°å½çæ¯æ°æ®åºæ§è¡çææDDLåDMLè¯­å¥ã\n * åå¥æ¹å¼ï¼binlogéè¿è¿½å çæ¹å¼è¿è¡åå¥ï¼å¤§å°æ²¡æéå¶ãredo log éç¨å¾ªç¯åçæ¹å¼è¿è¡åå¥ï¼å¤§å°åºå®ï¼å½åå°ç»å°¾æ¶ï¼ä¼åå°å¼å¤´å¾ªç¯åæ¥å¿ã\n\n\n# undo log å¦ä½ä¿è¯äºå¡çåå­æ§\n\næ¯ä¸ä¸ªäºå¡å¯¹æ°æ®çä¿®æ¹é½ä¼è¢«è®°å½å°undo logï¼å½æ§è¡äºå¡è¿ç¨ä¸­åºç°éè¯¯æèéè¦æ§è¡åæ»æä½çè¯ï¼MySQLå¯ä»¥å©ç¨undo logå°æ°æ®æ¢å¤å°äºå¡å¼å§ä¹åçç¶æã undo log å±äºé»è¾æ¥å¿ï¼è®°å½çæ¯SQLè¯­å¥ï¼æ¯å¦è¯´äºå¡æ§è¡ä¸æ¡DELETEè¯­å¥ï¼é£undo logå°±ä¼è®°å½ä¸æ¡ç¸å¯¹äºçINSERTè¯­å¥ã\n\n\n# è°ä¼\n\n\n# SQLä¼å\n\n 1.  **é¿åä½¿ç¨select ***ï¼select * ä¼æ¥è¯¢å¤ä½çæ°æ®ï¼é ææ°æ®åºèµæºæµªè´¹åæ°æ®ä¼ è¾æ¶èãèä¸select * ä¸ä¼èµ°è¦çç´¢å¼ï¼ä¼åºç°å¤§éçåè¡¨æä½ï¼éä½æ¥è¯¢sqlçæ§è½ã\n 2.  ç¨union all ä»£æ¿unionï¼union éè¦æéï¼æéè¿ç¨éè¦éåãæåºåæ¯è¾ï¼æ´èæ¶ï¼ä¹æ´æ¶ècpuèµæºã\n 3.  å°è¡¨é©±å¨å¤§è¡¨ï¼ä¹å°±æ¯è¯´ç¨å°è¡¨çæ°æ®éé©±å¨å¤§è¡¨çæ°æ®éã in éç¨äºå·¦è¾¹å¤§è¡¨ï¼å³è¾¹å°è¡¨ãexists éç¨äºå·¦è¾¹å°è¡¨ï¼å³è¾¹å¤§è¡¨ãè¿ä¸¤ä¸ªæ ¸å¿ææ³é½æ¯ç¨å°è¡¨é©±å¨å¤§è¡¨ãä½¿ç¨left join æ¶å·¦è¾¹åºè¯¥æ¯å°è¡¨\n 4.  æ¹éæä½ï¼ä¸æ¬¡æ§æä½éåº¦æ°æ®ãå¦ææä½çæ°æ®éè¾å¤§æ¶ï¼å¯ä»¥åå¤æ¹æ¬¡å¤çã\n 5.  å¤ç¨limitï¼å½åªéè¦æ°æ®ä¸­ç¬¬ä¸æ¡æ¶ï¼ä½¿ç¨limit 1ï¼å½æ°æ®åºæ¾å°ç¬¦åçæ¡ä»¶çä¸æ¡æ°æ®å°±ç´æ¥è¿åç»æï¼å¤§å¤§æé«äºæåäºæ§è½ã\n 6.  ç¨è¿æ¥æ¥è¯¢ä»£æ¿å­æ¥è¯¢ï¼MySQL æ§è¡å­æ¥è¯¢æ¶ï¼éè¦åå»ºä¸´æ¶è¡¨ï¼æ¥è¯¢å®æ¯åï¼éè¦åå é¤è¿äºä¸´æ¶è¡¨ï¼æä¸äºé¢å¤çæ§è½æ¶èã\n 7.  joinçè¡¨ä¸å®è¿å¤ï¼join è¡¨çæ°éä¸åºè¯¥è¶è¿3ä¸ªï¼å¿è¦æ¶è¡¨ä¸­å¯ä»¥å­å¨åä½å­æ®µ\n 8.  æ§å¶ç´¢å¼æ°éï¼ä¼åä½¿ç¨èåç´¢å¼ï¼å¹¶ä¸å é¤æ ç¨çååç´¢å¼ã\n 9.  éæ©åççå­æ®µç±»åï¼\n     1. è½ç¨æ°å­ç±»åï¼å°±ä¸ç¨å­ç¬¦ä¸²ï¼å ä¸ºå­ç¬¦çå¤çå¾å¾æ¯æ°å­è¦æ¢ã\n     2. å°½å¯è½ä½¿ç¨å°çç±»åï¼æ¯å¦ï¼ç¨bitå­å¸å°å¼ï¼ç¨tinyintå­æä¸¾å¼ç­ã\n     3. é¿åº¦åºå®çå­ç¬¦ä¸²å­æ®µï¼ç¨charç±»åã\n     4. é¿åº¦å¯åçå­ç¬¦ä¸²å­æ®µï¼ç¨varcharç±»åã\n     5. éé¢å­æ®µç¨decimalï¼é¿åç²¾åº¦ä¸¢å¤±é®é¢ã\n 10. æé«group by æçï¼ä½¿ç¨group by åç»æ¶ï¼ä¼åå¨where å­å¥åç»åè¿è¡è¿æ»¤ï¼èä¸æ¯å¨havingåç»åè¿è¡è¿æ»¤ã\n 11. ç´¢å¼ä¼åï¼ä½¿ç¨explianæ¥çæ§è¡è®¡åï¼çsqlæ¯å¦èµ°äºç´¢å¼ï¼å¦ææ²¡æèµ°ç´¢å¼ï¼çæ¯å¦å»ºç«äºç´¢å¼æèç´¢å¼æ¯å¦å¤±æå¹¶è¿è¡ç¸åºçå¤çã\n\n> åèï¼\n> \n>  * https://cloud.tencent.com/developer/article/1899907\n>  * https://mp.weixin.qq.com/s?__biz=Mzg2OTA0Njk0OA==&mid=2247488618&idx=1&sn=e70a31865b5eadcb151f439004a4dd72&chksm=cea25ba1f9d5d2b795222ba90e0326618d649e858ec23e9c7360f90fbfc23a7786c33bff9556&token=1647609083&lang=zh_CN#rd\n\n\n# MySQL limitæ·±åº¦åé¡µä¼å\n\nåå ï¼MySQLåé¡µå°åé¢è¶æ¥è¶æ¢ï¼å¶å®æ¯è¿è¡å¤§éæ ç¨åè¡¨æä½é æï¼åé¢æ°æ®é½ä¸éè¦ï¼ä¹è¿è¡äºåè¡¨æä½ï¼ã è§£å³æ¹æ¡ï¼ä½¿ç¨ join+è¦çç´¢å¼ è¿è¡ä¼åãä½¿ç¨è¦çç´¢å¼æ¥è¯¢å¯¹åºæ°æ®ä¸»é®ï¼åjoinè·åå°å®æ´æ°æ®ï¼é¿åå¤§éåè¡¨æä½ã\n\n> åèï¼https://mp.weixin.qq.com/s/fNN77OxZbokcl7ax1tdZBA\n\n\n# MySQL è¯»ååç¦»\n\n\n# è¯»ååç¦»å»¶è¿å¦ä½è§£å³\n\nææ¯ä¸æ²¡æ³å°æ¹æ³ãä¸å¡ä¸å¦æè¦æ±å¼ºä¸è´æ§ï¼å°±é½è¯»ä¸»åºï¼å¦æä¸è¦æ±å¼ºä¸è´æ§ï¼å°±è¯»ä»åºã",normalizedContent:"# mysql ä½ç³»ç»æ\n\n\n# mysql é»è¾æ¶æ\n\nmysql é»è¾æ¶æåä¸ºä¸å±ï¼\n\n * ç¬¬ä¸å±çè¿æ¥å±æ¯è¿è¡è¿æ¥ç®¡ççï¼åæ¬è¿æ¥å¤çãèº«ä»½è®¤è¯ãæéè·åãå®å¨ç­åè½ãè¿æ¥å±æä¸ªçº¿ç¨æ± ï¼mysqlä¼ä»çº¿ç¨æ± åéä¸ä¸ªçº¿ç¨ä¸å®¢æ·ç«¯è¿è¡äº¤äºï¼çå»åå»ºåéæ¯çº¿ç¨å¼éã\n * ç¬¬äºå±æ¯æå¡å±ï¼åæ¬sqlæ¥å£ãè§£æå¨ãä¼åå¨ãæ¥è¯¢ç¼å­ã\n   * sqlæ¥å£ç¨æ¥æ¥æ¶sqlå½ä»¤ãå¹¶è¿åç»æï¼æ¯ædmlãddlãå­å¨è¿ç¨ãè§å¾ãè§¦åå¨ç­å¤ç§sqlè¯­è¨æ¥å£ã\n   * è§£æå¨æ¯éªè¯åè§£æsqlï¼å¹¶åå»ºè¯­æ³æ \n   * ä¼åå¨çææ§è¡è®¡åï¼å¹¶æç§æ§è¡è®¡åè°ç¨å­å¨å¼æçapiæ¹æ³æ§è¡æ¥è¯¢\n   * æ¥è¯¢ç¼å­ä¼ç¼å­æ¥è¯¢ç»æï¼ä¸å¿è¿è¡æ¥è¯¢è§£æãä¼åãæ§è¡ç­è¿ç¨ï¼ç´æ¥å°ç»æè¿åãå¨mysql8.0ä¸­ç§»é¤ã\n * ç¬¬ä¸å±æ¯å­å¨å¼æå±ãä¸»è¦è´è´£æ°æ®çå­å¨ä¸æåã\n\n\n# ä¸æ¡sqlè¯­å¥å¨mysqlä¸­æ¯æä¹æ§è¡ç\n\n 1. æå¡å¨ä¸­å¦æå¨æ¥è¯¢ç¼å­ä¸­åç°è¿æ¡sqlï¼å°±ä¼ç´æ¥å°ç»æè¿åï¼å¦åè¿å¥è§£æå¨é¶æ®µã\n 2. **è§£æå¨ **å¯¹sqlè¯­å¥è¿è¡è¯­æ³åæãè¯­ä¹æ£æ¥ãå¦æsqlè¯­å¥æ­£ç¡®çè¯å°±ä¼çæä¸ä¸ªè¯­æ³æ ã\n 3. ä¼åå¨ä¼å¯¹sqlè¯­å¥è¿è¡ä¼åï¼å¹¶ç¡®å®sqlè¯­å¥çæ§è¡è®¡åã\n 4. æ§è¡å¨å¨æ§è¡ä¹åå¤æ­ç¨æ·æ¯å¦å·å¤æéãå¦ææ²¡ææéï¼è¿åæééè¯¯ãå¦æå·å¤æéçè¯ï¼å°±æ§è¡sqlè¯­å¥å¹¶è¿åç»æãå¦æè®¾ç½®äºæ¥è¯¢ç¼å­ï¼ä¼å°ç»æè¿è¡ç¼å­ã\n\n\n# mysqlå­å¨å¼æ\n\n\n# mysqlæä¾äºåªäºå­å¨å¼æ\n\nå¯ä»¥éè¿show enginesæ¥çmysqlææå­å¨å¼æãæå¸¸è§çå­å¨å¼ææ¯innodbåmyisamãmysql 5.5.5 ä¹åï¼myisam æ¯ mysql çé»è®¤å­å¨å¼æã5.5.5 çæ¬ä¹åï¼innodb æ¯ mysql çé»è®¤å­å¨å¼æã\n\n\n# mysqlå­å¨å¼ææ¶æäºè§£å\n\nmysql å­å¨å¼æéç¨çæ¯æä»¶å¼æ¶æï¼æ¯æå¤ç§å­å¨å¼æãå­å¨å¼ææ¯åºäºè¡¨çï¼èä¸æ¯æ°æ®åºï¼å¯ä»¥ä¸ºä¸åçæ°æ®åºè¡¨è®¾ç½®ä¸åçå­å¨å¼æã\n\n\n# myisamåinnodbåºå«\n\n 1. æ¯å¦æ¯æè¡çº§éï¼myisamåªæ¯æè¡¨çº§éï¼èinnodbæ¯æè¡çº§éåè¡¨çº§éï¼é»è®¤ä¸ºè¡çº§éã\n 2. æ¯å¦æ¯æäºå¡ï¼myisamä¸æ¯æäºå¡ï¼innodbæ¯æäºå¡ã\n 3. æ¯å¦æ¯æå¤é®ï¼myisamä¸æ¯æå¤é®ï¼innodbæ¯æå¤é®ã\n 4. æ¯å¦æ¯ææ°æ®åºå¼å¸¸å´©æºåçå®å¨æ¢å¤ï¼myisamä¸æ¯æï¼innodbæ¯æãinnodbéè¿redo logä¿è¯æ°æ®åºå´©æºåè½å®å¨æ¢å¤ã\n 5. æ¯å¦æ¯æmvccï¼myisamä¸æ¯æï¼innodbæ¯æã\n 6. ç´¢å¼å®ç°ä¸ä¸æ ·ï¼myisamåinnodbè½ç¶é½æ¯ä½¿ç¨b+ treeå®ç°ç´¢å¼ï¼ä½æ¯å®ç°æ¹å¼ä¸å¤ªä¸æ ·ï¼innodbçèç°ç´¢å¼å¶å­èç¹å­å¨å®æ´æ°æ®ï¼èmyisamå¶å­èç¹å­å¨çæ¯æ°æ®è®°å½çå°åã\n\n\n# mysql äºå¡\n\n\n# ä»ä¹æ¯äºå¡\n\näºå¡æ¯é»è¾ä¸çä¸ç»æä½ï¼äºå¡ä¸­çæä½è¦ä¹å¨é½æ§è¡ï¼è¦ä¹å¨é½ä¸æ§è¡ã\n\n\n# ä»ä¹æ¯æ°æ®åºäºå¡\n\næ°æ®åºäºå¡ä¿è¯å¤ä¸ªå¯¹æ°æ®åºçæä½ï¼ä¹å°±æ¯sqlï¼ææä¸ä¸ªé»è¾ä¸çæ´ä½ãè¿äºæä½è¦ä¹å¨é¨æ§è¡æåï¼è¦ä¹å¨é¨ä¸æ§è¡ã\n\n\n# acidç¹æ§æ¯ä»ä¹\n\n * åå­æ§ï¼atomicityï¼ï¼ äºå¡æ¯æå°çæ§è¡åä½ï¼ä¸åè®¸åå²ãäºå¡çåå­æ§ç¡®ä¿äºå¡ä¸­æä½è¦ä¹å¨é¨å®æï¼è¦ä¹å¨é½ä¸å®æã\n * ä¸è´æ§ï¼consistencyï¼ï¼äºå¡ååæ°æ®è¦ä¿æä¸è´ã\n * éç¦»æ§ï¼isolationï¼ï¼å¹¶åè®¿é®æ°æ®åºæ¶ï¼ä¸ä¸ªç¨æ·çäºå¡ä¸è¢«å¶ä»äºå¡æå¹²æ°ï¼åå¹¶åäºå¡ä¹é´æ°æ®åºæ¯ç¬ç«çã\n * æä¹æ§ï¼durabilityï¼ï¼äºå¡ä¸æ¦è¢«æäº¤ï¼å°æ°¸ä¹çä¿å­å°æ°æ®åºï¼å³ä½¿æ¯æ°æ®åºåçæéä¹ä¸åºè¯¥å¯¹å¶æä»»ä½å½±åã\n\nåªæä¿è¯äºäºå¡çæä¹æ§ãåå­æ§ãéç¦»æ§ä¹åï¼ä¸è´æ§æè½å¾å°ä¿éãä¹å°±æ¯è¯´ aãiãd æ¯ææ®µï¼c æ¯ç®ç\n\n\n# å¹¶åäºå¡å¸¦æ¥ä»ä¹é®é¢\n\n * èè¯»ï¼dirty readï¼ï¼ä¸ä¸ªäºå¡è¯»åå¦ä¸ä¸ªäºå¡æªæäº¤æ°æ®\n * ä¸¢å¤±æ´æ°ï¼lost to modifyï¼ï¼ä¸ä¸ªäºå¡å¯¹æ°æ®çä¿®æ¹è¢«å¦ä¸ä¸ªäºå¡æè¦ç\n * ä¸å¯éå¤è¯»ï¼ä¸ä¸ªäºå¡ä¸¤æ¬¡è¯»åç¸åæ°æ®ï¼å¨è¿æé´ï¼å¦ä¸ä¸ªäºå¡å¯¹æ°æ®è¿è¡ä¿®æ¹ï¼å¯¼è´ç¬¬ä¸ä¸ªäºå¡ä¸¤æ¬¡è¯»åçæ°æ®ä¸ä¸è´\n * å¹»è¯»ï¼ä¸ä¸ªäºå¡å¤æ¬¡è¯»åæ°æ®ä¸ä¸è´ï¼åç°è¯»åå°çæ°æ®å¢å äº\n\n\n# ä¸å¯éå¤è¯»åå¹»è¯»åºå«\n\n * ä¸å¯éå¤è¯»çéç¹æ¯åå®¹ä¿®æ¹æèè®°å½åå°ãæ¯å¦æå¤æ¬¡è¯»åä¸æ¡è®°å½ï¼åç°å¶ä¸­æäºè®°å½çå¼è¢«ä¿®æ¹ã\n * å¹»è¯»çéç¹å¨äºè®°å½æ°å¢ãæ¯å¦å¤æ¬¡æ§è¡åä¸æ¡æ¥è¯¢è¯­å¥ï¼åç°æ¥è¯¢å°è®°å½å¢å äºã\n\n> deleteåupdateæä½ï¼å¯ä»¥ç´æ¥å¯¹è®°å½å éï¼ä¿è¯äºå¡å®å¨ã èæ§è¡insertæä½æ¶ï¼è®°å½éåªè½éä½å·²å­å¨è®°å½ï¼ä¸ºäºé¿åæå¥æ°è®°å½ï¼éè¦ä½¿ç¨é´ééã\n\n\n# sqlæ å¿å®ä¹äºåªäºäºå¡éç¦»çº§å«\n\nsqlæ å¿å®ä¹äºåä¸ªéç¦»çº§å«ï¼\n\n * read-uncommitted(è¯»åæªæäº¤) ï¼ æä½çéç¦»çº§å«ï¼åè®¸è¯»åå°æªæäº¤çæ°æ®ï¼å¯è½ä¼å¯¼è´èè¯»ãå¹»è¯»æä¸å¯éå¤è¯»ã\n * read-committed(è¯»åå·²æäº¤) ï¼ åè®¸è¯»åå¹¶åäºå¡å·²ç»æäº¤çæ°æ®ï¼å¯ä»¥é»æ­¢èè¯»ï¼ä½æ¯å¹»è¯»æä¸å¯éå¤è¯»ä»æå¯è½åçã\n * repeatable-read(å¯éå¤è¯») ï¼ å¯¹åä¸å­æ®µçå¤æ¬¡è¯»åç»æé½æ¯ä¸è´çï¼é¤éæ°æ®æ¯è¢«æ¬èº«äºå¡èªå·±æä¿®æ¹ï¼å¯ä»¥é»æ­¢èè¯»åä¸å¯éå¤è¯»ï¼ä½å¹»è¯»ä»æå¯è½åçã\n * serializable(å¯ä¸²è¡å) ï¼ æé«çéç¦»çº§å«ï¼å®å¨æä» acid çéç¦»çº§å«ãææçäºå¡ä¾æ¬¡éä¸ªæ§è¡ï¼è¿æ ·äºå¡ä¹é´å°±å®å¨ä¸å¯è½äº§çå¹²æ°ï¼ä¹å°±æ¯è¯´ï¼è¯¥çº§å«å¯ä»¥é²æ­¢èè¯»ãä¸å¯éå¤è¯»ä»¥åå¹»è¯»ã\n\n\n# mysqlé»è®¤éç¦»çº§å«æ¯ä»ä¹ï¼è½è§£å³å¹»è¯»é®é¢å\n\nmysql innodbå­å¨å¼æé»è®¤éç¦»çº§å«æ¯repeatable-readï¼å¯éå¤è¯»ï¼ãå¯ä»¥éè¿select @@tx_isolation;å½ä»¤æ¥çï¼ mysql 8.0 è¯¥å½ä»¤æ¹ä¸ºselect @@transaction_isolation; innodbå®ç°ç repeatable-read éç¦»çº§å«å¯ä»¥è§£å³å¹»è¯»é®é¢ï¼ä¸»è¦éè¿mvccånext-key lockè§£å³å¹»è¯»é®é¢ï¼\n\n * å¿«ç§è¯»ï¼ç±mvccæºå¶æ¥ä¿è¯ä¸ä¼åºç°å¹»è¯»ã\n * å½åè¯»ï¼ ä½¿ç¨ next-key lock è¿è¡å éæ¥ä¿è¯ä¸åºç°å¹»è¯»ï¼next-key lock æ¯è®°å½éï¼record lockï¼åé´ééï¼gap lockï¼çç»åï¼è¡éåªè½éä½å·²ç»å­å¨çè¡ï¼ä¸ºäºé¿åæå¥æ°è¡ï¼éè¦ä¾èµé´ééã\n\n\n# ä»ä¹æ¯mvcc? æä»ä¹ç¨ï¼åçæ¯ä»ä¹ï¼ï¼å¾å®åï¼\n\nmvccæ¯å¤çæ¬å¹¶åæ§å¶ï¼æ¯innodbå­å¨å¼æå¯¹ééå®ä¸è´æ§è¯»çå®ç°ã\n\n\n# mysqlé\n\n\n# è¡¨çº§éåè¡çº§éäºè§£åï¼æä»ä¹åºå«ï¼\n\nmyisamä»ä»æ¯æè¡¨çº§éï¼ä¸éå°±éæ´å¼ è¡¨ï¼è¿å¨å¹¶ååçæåµä¸æ§è½éå¸¸å·®ãinnodbä¸åæ¯æè¡¨çº§éï¼è¿æ¯æè¡çº§éï¼é»è®¤ä¸ºè¡çº§éãè¡çº§éçç²åº¦æ´å°ï¼ä»å¯¹ç¸å³çè®°å½è¿è¡å éï¼å¯¹ä¸è¡æèå¤è¡è®°å½è¿è¡å éï¼ï¼æä»¥å¯¹äºå¹¶ååçæåµä¸ï¼innodbçæ§è½æ´é«ã è¡¨çº§éåè¡çº§éå¯¹æ¯ï¼\n\n * è¡¨çº§éï¼ mysql ä¸­éå®ç²åº¦æå¤§çä¸ç§éï¼å¨å±éé¤å¤ï¼ï¼æ¯éå¯¹éç´¢å¼å­æ®µå çéï¼å¯¹å½åæä½çæ´å¼ è¡¨å éï¼å®ç°ç®åï¼èµæºæ¶èä¹æ¯è¾å°ï¼å éå¿«ï¼ä¸ä¼åºç°æ­»éãä¸è¿ï¼è§¦åéå²çªçæ¦çæé«ï¼é«å¹¶åä¸æçæä½ãè¡¨çº§éåå­å¨å¼ææ å³ï¼myisam å innodb å¼æé½æ¯æè¡¨çº§éã\n * è¡çº§éï¼ mysql ä¸­éå®ç²åº¦æå°çä¸ç§éï¼æ¯ éå¯¹ç´¢å¼å­æ®µå çé ï¼åªéå¯¹å½åæä½çè¡è®°å½è¿è¡å éã è¡çº§éè½å¤§å¤§åå°æ°æ®åºæä½çå²çªãå¶å éç²åº¦æå°ï¼å¹¶ååº¦é«ï¼ä½å éçå¼éä¹æå¤§ï¼å éæ¢ï¼ä¼åºç°æ­»éãè¡çº§éåå­å¨å¼ææå³ï¼æ¯å¨å­å¨å¼æå±é¢å®ç°çã\n\n\n# è¡çº§éçä½¿ç¨æä»ä¹æ³¨æäºé¡¹\n\ninnodbè¡éæ¯éå¯¹ç´¢å¼å­æ®µå çéï¼è¡¨çº§éæ¯éå¯¹éç´¢å¼å­æ®µå çéãå½æä»¬æ§è¡ updateãdelete è¯­å¥æ¶ï¼å¦æ whereæ¡ä»¶ä¸­å­æ®µæ²¡æå½ä¸­å¯ä¸ç´¢å¼æèç´¢å¼å¤±æçè¯ï¼å°±ä¼å¯¼è´æ«æå¨è¡¨å¯¹è¡¨ä¸­çææè¡è®°å½è¿è¡å éãè¿ä¸ªå¨æä»¬æ¥å¸¸å·¥ä½å¼åä¸­ç»å¸¸ä¼éå°ï¼ä¸å®è¦å¤å¤æ³¨æï¼ï¼ï¼ ä¸è¿ï¼å¾å¤æ¶åå³ä½¿ç¨äºç´¢å¼ä¹æå¯è½ä¼èµ°å¨è¡¨æ«æï¼è¿æ¯å ä¸º mysql ä¼åå¨çåå ã\n\n\n# å±äº«éåæä»éå¢\n\nä¸è®ºæ¯è¡¨çº§éè¿æ¯è¡çº§éï¼é½å­å¨å±äº«éï¼share lockï¼s éï¼åæä»éï¼exclusive lockï¼x éï¼è¿ä¸¤ç±»ï¼\n\n * å±äº«éï¼s éï¼ ï¼åç§°è¯»éï¼äºå¡å¨è¯»åè®°å½çæ¶åè·åå±äº«éï¼åè®¸å¤ä¸ªäºå¡åæ¶è·åï¼éå¼å®¹ï¼ã\n * æä»éï¼x éï¼ ï¼åç§°åé/ç¬å éï¼äºå¡å¨ä¿®æ¹è®°å½çæ¶åè·åæä»éï¼ä¸åè®¸å¤ä¸ªäºå¡åæ¶è·åãå¦æä¸ä¸ªè®°å½å·²ç»è¢«å äºæä»éï¼é£å¶ä»äºå¡ä¸è½åå¯¹è¿æ¡äºå¡å ä»»ä½ç±»åçéï¼éä¸å¼å®¹ï¼ã\n\næä»éä¸ä»»ä½çéé½ä¸å¼å®¹ï¼å±äº«éä»åå±äº«éå¼å®¹ã\n\n      s é   x é\ns é   ä¸å²çª   å²çª\nx é   å²çª    å²çª\n\n\n# å½åè¯»åå¿«ç§è¯»æä»ä¹åºå«\n\nå¿«ç§è¯»ï¼ä¸è´æ§ééå®è¯»ï¼å°±æ¯åçº¯ç select è¯­å¥ï¼ä½ä¸åæ¬ä¸é¢è¿ä¸¤ç±» select è¯­å¥ï¼\n\nselect ... for update\nselect ... lock in share mode\n\n\n\nå¿«ç§å³è®°å½çåå²çæ¬ï¼æ¯è¡è®°å½å¯è½å­å¨å¤ä¸ªåå²çæ¬ï¼å¤çæ¬ææ¯ï¼ã\n\nå½åè¯» ï¼ä¸è´æ§éå®è¯»ï¼å°±æ¯ç»è¡è®°å½å  x éæ s éã å½åè¯»çä¸äºå¸¸è§ sql è¯­å¥ç±»åå¦ä¸ï¼\n\n# å¯¹è¯»çè®°å½å ä¸ä¸ªxé\nselect...for update\n# å¯¹è¯»çè®°å½å ä¸ä¸ªsé\nselect...lock in share mode\n# å¯¹ä¿®æ¹çè®°å½å ä¸ä¸ªxé\ninsert...\nupdate...\ndelete...\n\n\n\n\n# innodbæåªå ç±»è¡é\n\ninnodb è¡éæ¯éè¿å¯¹ç´¢å¼æ°æ®é¡µä¸çè®°å½å éå®ç°çï¼mysql innodb æ¯æä¸ç§è¡éå®æ¹å¼ï¼\n\n * è®°å½éï¼record lockï¼ ï¼ä¹è¢«ç§°ä¸ºè®°å½éï¼å±äºåä¸ªè¡è®°å½ä¸çéã\n * é´ééï¼gap lockï¼ ï¼éå®ä¸ä¸ªèå´ï¼ä¸åæ¬è®°å½æ¬èº«ã\n * ä¸´é®éï¼next-key lockï¼ ï¼record lock+gap lockï¼éå®ä¸ä¸ªèå´ï¼åå«è®°å½æ¬èº«ï¼ä¸»è¦ç®çæ¯ä¸ºäºè§£å³å¹»è¯»é®é¢ï¼mysql äºå¡é¨åæå°è¿ï¼ãè®°å½éåªè½éä½å·²ç»å­å¨çè®°å½ï¼ä¸ºäºé¿åæå¥æ°è®°å½ï¼éè¦ä¾èµé´ééã\n\nå¨ innodb é»è®¤çéç¦»çº§å« repeatable-read ä¸ï¼è¡éé»è®¤ä½¿ç¨çæ¯ next-key lockãä½æ¯ï¼å¦ææä½çç´¢å¼æ¯å¯ä¸ç´¢å¼æä¸»é®ï¼innodb ä¼å¯¹ next-key lock è¿è¡ä¼åï¼å°å¶éçº§ä¸º record lockï¼å³ä»éä½ç´¢å¼æ¬èº«ï¼èä¸æ¯èå´ã\n\n\n# mysqlç´¢å¼\n\n\n# ä½ä¸ºç´¢å¼ï¼æä»ä¹ä½ç¨ï¼\n\nç´¢å¼æ¯ä¸ç§å¸®å©mysqlé«æè·åæ°æ®çæ°æ®ç»æï¼ç±å·ä½çå­å¨å¼æå®ç°ãç´¢å¼ç¸å½äºä¹¦çç®å½ï¼æäºç®å½å°±å¯ä»¥ç´æ¥å®ä½å°æä»¬è¦æ¥æ¾çæ°æ®ï¼æ é¡»ä¸é¡µä¸é¡µçè¿è¡æ¥æ¾ãå¸¸è§çç´¢å¼ç»ææï¼bæ ãb+æ ãhashãçº¢é»æ ãå¨mysqlä¸­ï¼innodbåmyisamé½ä½¿ç¨äºb+æ ä½ä¸ºç´¢å¼ç»æã\n\n\n# ç´¢å¼çä¼ç¼ºç¹\n\nä¼ç¹ï¼\n\n * ç´¢å¼å¯ä»¥æé«æ¥è¯¢æçï¼è¿æ¯åå»ºç´¢å¼æä¸»è¦çåå ã\n * éè¿åå»ºå¯ä¸ç´¢å¼ï¼å¯ä»¥ä¿è¯æ°æ®åºè¡¨ä¸­æ¯ä¸è¡æ°æ®çå¯ä¸æ§\n\nç¼ºç¹ï¼\n\n * åå»ºåç»´æ¤ç´¢å¼éè¦ä¸å®å¼éï¼å½å¯¹è¡¨ä¸­çæ°æ®è¿è¡å¢å æ¹æä½æ¶ï¼ç´¢å¼ä¹è¦å¨æçä¿®æ¹ï¼ä¼éä½sqlæ§è¡æçã\n * ç´¢å¼éè¦ä½¿ç¨ç©çæä»¶å­å¨ï¼ä¹ä¼èè´¹ä¸å®ç©ºé´ã\n\n\n# ç´¢å¼çåºå±æ°æ®ç»æï¼å¾å®åï¼\n\nç´¢å¼çåºå±æ°æ®ç»æï¼hashè¡¨ãbæ ãb+æ ã\n\n\n# mysqlçç´¢å¼ç»æä¸ºä»ä¹ä½¿ç¨b+æ ï¼\n\n * äºåæ¥æ¾æ (bst)ï¼è§£å³äºæåºçåºæ¬é®é¢ï¼ä½æ¯ç±äºæ æ³ä¿è¯å¹³è¡¡ï¼å¯è½éåä¸ºé¾è¡¨ï¼\n * å¹³è¡¡äºåæ (avl)ï¼éè¿æè½¬è§£å³äºå¹³è¡¡çé®é¢ï¼ä½æ¯æè½¬æä½æçå¤ªä½ï¼\n * çº¢é»æ ï¼éè¿èå¼ä¸¥æ ¼çå¹³è¡¡åå¼å¥çº¢é»èç¹ï¼è§£å³äºavlæè½¬æçè¿ä½çé®é¢ï¼ä½æ¯å¨ç£çç­åºæ¯ä¸ï¼æ ä»ç¶å¤ªé«ï¼ioæ¬¡æ°å¤ªå¤ï¼\n * bæ ï¼éè¿å°äºåæ æ¹ä¸ºå¤è·¯å¹³è¡¡æ¥æ¾æ ï¼è§£å³äºæ è¿é«çé®é¢ï¼\n * b+æ ï¼å¨bæ çåºç¡ä¸ï¼å°éå¶èç¹æ¹é ä¸ºä¸å­å¨æ°æ®ççº¯ç´¢å¼èç¹ï¼è¿ä¸æ­¥éä½äºæ çé«åº¦ï¼æ­¤å¤å°å¶èç¹ä½¿ç¨æéè¿æ¥æé¾è¡¨ï¼èå´æ¥è¯¢æ´å é«æã\n\nåèèµæï¼https://www.cnblogs.com/kismetv/p/11582214.html\n\n\n# ä¸»é®ç´¢å¼åäºçº§ç´¢å¼\n\nä¸»é®ç´¢å¼ï¼æ°æ®è¡¨çä¸»é®åä½¿ç¨çå°±æ¯ä¸»é®ç´¢å¼ãä¸å¼ æ°æ®è¡¨åªè½æä¸ä¸ªä¸»é®ï¼å¹¶ä¸ä¸ä¸ºnullï¼ä¸è½éå¤ãå¨mysqlçinnodbè¡¨ä¸­ï¼å¦ææ²¡ææ¾ç¤ºçæå®è¡¨çä¸»é®ï¼innodbä¼èªå¨æ£æ¥è¡¨ä¸­æ¯å¦æå¯ä¸ç´¢å¼å¹¶ä¸ä¸åè®¸ä¸ºnull å¼çå­æ®µï¼æçè¯ï¼é»è®¤è¯¥å­æ®µæªé»è®¤çä¸»é®ï¼å¦åinnodbå°èªå¨åå»ºä¸ä¸ªèªå¢ä¸»é®ã äºçº§ç´¢å¼ï¼è¾å©ç´¢å¼ï¼ï¼äºçº§ç´¢å¼åç§°ä¸ºè¾å©ç´¢å¼ï¼å ä¸ºäºçº§ç´¢å¼çå¶å­èç¹å­å¨çæ°æ®æ¯ä¸»é®ãä¹å°±æ¯è¯´ï¼éè¿äºçº§ç´¢å¼ï¼å¯ä»¥å®ä½ä¸»é®çä½ç½®ãæ®éç´¢å¼ï¼å¯ä¸ç´¢å¼ç­é½å±äºäºçº§ç´¢å¼ã\n\n\n# èç°ç´¢å¼åéèç°ç´¢å¼\n\n**èç°ç´¢å¼ï¼èç°ç´¢å¼å³ç´¢å¼ç»æåæ°æ®ä¸èµ·å­æ¾çç´¢å¼ï¼å¹¶ä¸æ¯ä¸ç§åç¬çç´¢å¼ç±»åãinnodb ä¸­çä¸»é®ç´¢å¼å°±å±äºèç°ç´¢å¼ã**èç°ç´¢å¼çæ¯ä¸ªéå¶å­èç¹å­å¨ç´¢å¼ï¼å¶å­èç¹å­å¨ç´¢å¼åç´¢å¼å¯¹åºçæ°æ®ãèç°ç´¢å¼çæ¥è¯¢éåº¦éå¸¸å¿«ï¼å ä¸ºæ°æ®æ¯ç´æ¥å­å¨å¨å¶å­èç¹ã éèç°ç´¢å¼ï¼**éèç°ç´¢å¼å³ç´¢å¼ç»æåæ°æ®åå¼å­æ¾çç´¢å¼ï¼å¹¶ä¸æ¯ä¸ç§åç¬çç´¢å¼ç±»åãäºçº§ç´¢å¼(è¾å©ç´¢å¼)å°±å±äºéèç°ç´¢å¼ãmysql ç myisam å¼æï¼ä¸ç®¡ä¸»é®è¿æ¯éä¸»é®ï¼ä½¿ç¨çé½æ¯éèç°ç´¢å¼ã**éèç°ç´¢å¶å­èç¹æ¯ä¸å­æ¾æ°æ®çãinnodbä½¿ç¨éèç°ç´¢å¼å¤§é¨åæåµä¸é½éè¦è¿è¡åè¡¨æä½ï¼é¤éä½¿ç¨è¦çç´¢å¼ï¼æä¸ç¨åè¡¨ã\n\n\n# è¦çç´¢å¼\n\néèç°ç´¢å¼æ¥è¯¢æ°æ®æ¶ï¼å¦ææ¥è¯¢è¯­å¥æç¨å°å­æ®µåå«å¨ç´¢å¼å­æ®µ+ä¸»é®ï¼æ­¤æ¶å°±æ é¡»è¿è¡åè¡¨æä½ï¼å¯ä»¥ç´æ¥å°æ°æ®è¿åã\n\n\n# èåç´¢å¼\n\nä½¿ç¨è¡¨ä¸­çå¤ä¸ªå­æ®µåå»ºç´¢å¼ï¼å°±æ¯ èåç´¢å¼ï¼ä¹å« ç»åç´¢å¼ æ å¤åç´¢å¼ã\n\n\n# æå·¦åç¼å¹éåå\n\næå·¦åç¼å¹éååæçæ¯ï¼å¨ä½¿ç¨èåç´¢å¼æ¶ï¼mysql ä¼æ ¹æ®èåç´¢å¼ä¸­çå­æ®µé¡ºåºï¼ä»å·¦å°å³ä¾æ¬¡å°æ¥è¯¢æ¡ä»¶ä¸­å»å¹éï¼å¦ææ¥è¯¢æ¡ä»¶ä¸­å­å¨ä¸èåç´¢å¼ä¸­æå·¦ä¾§å­æ®µç¸å¹éçå­æ®µï¼åå°±ä¼ä½¿ç¨è¯¥å­æ®µè¿æ»¤ä¸æ¹æ°æ®ï¼ç´è³èåç´¢å¼ä¸­å¨é¨å­æ®µå¹éå®æï¼æèå¨æ§è¡è¿ç¨ä¸­éå°èå´æ¥è¯¢ï¼å¦ >ã<ãbetween å ä»¥%å¼å¤´çlikeæ¥è¯¢ ç­æ¡ä»¶ï¼æä¼åæ­¢å¹éã æä»¥ï¼æä»¬å¨ä½¿ç¨èåç´¢å¼æ¶ï¼å¯ä»¥å°åºååº¦é«çå­æ®µæ¾å¨æå·¦è¾¹ï¼è¿ä¹å¯ä»¥è¿æ»¤æ´å¤æ°æ®ã\n\n\n# åå»ºç´¢å¼çæ³¨æäºé¡¹æåªäº\n\n * éæ©åéçå­æ®µåå»ºç´¢å¼\n * é¢ç¹æ´æ°çå­æ®µåºè¯¥æéå»ºç«ç´¢å¼\n * å°½å¯è½çèèå»ºç«èåç´¢å¼èä¸æ¯ååç´¢å¼\n * é¿åç´¢å¼å¤±æ\n * å é¤é¿ææªä½¿ç¨çç´¢å¼ï¼ ä¸ç¨çç´¢å¼çå­å¨ä¼é æä¸å¿è¦çæ§è½æè mysql 5.7 å¯ä»¥éè¿æ¥è¯¢ sys åºç schema_unused_indexes è§å¾æ¥æ¥è¯¢åªäºç´¢å¼ä»æªè¢«ä½¿ç¨\n\n\n# åªäºå­æ®µéååå»ºç´¢å¼\n\n * å·æå¯ä¸ç¹æ§çå­æ®µåºå½å»ºç«å¯ä¸ç´¢å¼\n * é¢ç¹ä½ä¸ºwhereæ¥è¯¢æ¡ä»¶çå­æ®µ\n * ç»å¸¸order byï¼group byçå­æ®µ\n * èåæ¥è¯¢æ¶è¿æ¥æ¡ä»¶ç¨å°çå­æ®µ\n\n\n# ç´¢å¼å¤±æçæåµ\n\n * åå»ºäºç»åç´¢å¼ï¼ä½æ¥è¯¢æ¡ä»¶æªåå®æå·¦å¹éåå;\n * å¨ç´¢å¼åä¸è¿è¡è®¡ç®ãå½æ°ãç±»åè½¬æ¢ç­æä½;\n * ä»¥ % å¼å¤´ç like æ¥è¯¢æ¯å¦ like '%abc';\n * æ¥è¯¢æ¡ä»¶ä¸­ä½¿ç¨ orï¼ä¸ or çååæ¡ä»¶ä¸­æä¸ä¸ªåæ²¡æç´¢å¼ï¼æ¶åçç´¢å¼é½ä¸ä¼è¢«ä½¿ç¨å°\n\n\n# å¦ä½è®©å¯ä¸ç´¢å¼åé»è¾å é¤å¼å®¹\n\néè¿å¯ä¸ç´¢å¼åé»è¾å é¤å­æ®µå»ºç«èåå¯ä¸ç´¢å¼ãå¦ææ°æ®è¢«å é¤ï¼é»è¾å é¤å­æ®µçå¼å°±æ¯å½åæ°æ®çidã\n\nåèï¼https://blog.csdn.net/park33/article/details/130015392\n\n\n# mysqlæ¥å¿\n\n\n# mysqlå¸¸è§çæ¥å¿æåªäº\n\nmysqlä¸­å¸¸è§çæ¥å¿ç±»åä¸»è¦æä¸é¢å ç±»ï¼éå¯¹çæ¯innodbå­å¨å¼æï¼ï¼\n\n * éè¯¯æ¥å¿ï¼error logï¼ï¼å¯¹mysqlçå¯å¨ãè¿è¡ãå³é­è¿ç¨è¿è¡äºè®°å½ã\n * äºè¿å¶æ¥å¿ï¼binary logï¼binlogï¼ï¼ä¸»è¦è®°å½çæ¯æ´æ¹æ°æ®åºæ°æ®çsqlè¯­å¥\n * ä¸è¬æ¥è¯¢æ¥å¿ï¼general query logï¼ï¼å·²å»ºç«è¿æ¥çå®¢æ·ç«¯åéç»mysqlæå¡å¨çææsqlè®°å½ï¼å ä¸ºsqlçéæ¯è¾å¤§ï¼é»è®¤æ¯ä¸å¼å¯çï¼ä¹ä¸å»ºè®®å¼å¯ã\n * æ¢æ¥è¯¢æ¥å¿ï¼show query logï¼ï¼æ§è¡æ¶é´è¶è¿long_query_timeç§éçæ¥è¯¢ï¼è§£å³sqlæ¢æ¥è¯¢é®é¢ä¼ç¨å°ã\n * äºå¡æ¥å¿ï¼redo log åundo logï¼ï¼redo logæ¯éåæ¥å¿ï¼undo log æ¯åæ»æ¥å¿ã\n * ä¸­ç»§æ¥å¿ï¼relay logï¼ï¼relay log æ¯å¤å¶è¿ç¨ä¸­äº§ççæ¥å¿ï¼å¾å¤æ¹é¢é½è·binary logå·®ä¸å¤ãä¸è¿ï¼relay log éå¯¹çæ¯ä¸»ä»å¤å¶ä¸­çä»åºã\n * ddlæ¥å¿ï¼metadata logï¼ï¼ddlè¯­å¥æ§è¡çåæ°æ®æä½ã\n\n\n# æ¢æ¥è¯¢æ¥å¿æä»ä¹ç¨\n\næ¢æ¥è¯¢æ¥å¿è®°å½äºæ§è¡æ¶é´è¶è¿long_query_timeï¼é»è®¤æ¯10sï¼éå¸¸è®¾ç½®ä¸º1sï¼çæææ¥è¯¢è¯­å¥ï¼å¨è§£å³sqlæ¢æ¥è¯¢ï¼sqlæ§è¡æ¶é´é¿ï¼é®é¢ç»å¸¸ä¼ç¨å°ã æ¾å°æ¢sqlæ¯ä¼åsqlè¯­å¥æ§è½çç¬¬ä¸æ­¥ï¼ç¶åä½¿ç¨explainå½åå¯¹æ¢sqlè¿è¡åæï¼è·åæ§è¡è®¡åã å¯ä»¥éè¿show_query_logålong_query_timeåéåå«æ¥çæ¢æ¥è¯¢æ¥å¿æ¯å¦å¼å¯ï¼é»è®¤å³é­ï¼åæ¢æ¥è¯¢æ¶é´éå¼ã å¨å®éå¼åä¸­ï¼æ¢æ¥è¯¢æ¥å¿å¯è½ä¼æ¯è¾å¤§ï¼ç´æ¥åæä¸æ¹ä¾¿ï¼å¯ä»¥åå©mysqlå®æ¹çæ¢æ¥è¯¢åæè°ä¼å·¥å·mysqldumpslowè¿è¡åæã\n\n\n# binlog ä¸»è¦è®°å½äºä»ä¹ï¼æä»ä¹ç¨\n\nmysql binlogï¼binary log å³äºè¿å¶æ¥å¿æä»¶ï¼ä¸»è¦è®°å½äºmysqlæ°æ®åºä¸­æ°æ®çææååï¼æ°æ®åºæ§è¡çææddlådmlè¯­å¥ï¼ãbinlogæä¸»è¦çåºç¨åºæ¯æ¯ä¸»ä»å¤å¶ï¼ä¸»å¤ãä¸»ä¸»ãä¸»ä»é½ç¦»ä¸å¼binlogï¼éè¦ä¾é binlogæ¥åæ­¥æ°æ®ï¼ä¿è¯æ°æ®çä¸è´æ§ãæ­¤å¤ï¼binlogè¿è½å¸®å¿æä»¬è¿è¡æ°æ®æ¢å¤ï¼å¨å¯ç¨binlogæ¥å¿æåµä¸ï¼é»è®¤æ¯å¼å¯çï¼ï¼å½æä»¬è¯¯å æ°æ®çè³æ¯æ´ä¸ªæ°æ®åºçæåµä¸ï¼å°±å¯ä»¥ä½¿ç¨binlogæ¥å¸®å¿æä»¬æ¢å¤æ°æ®ã\n\n\n# redo log å¦ä½ä¿è¯äºå¡çæä¹æ§\n\nredo log ä¸»è¦åçäºæå°±æ¯è®°å½é¡µçä¿®æ¹ï¼æ¯å¦æä¸ªé¡µé¢æä¸ªåç§»éå¤ä¿®æ¹äºå ä¸ªå­èçå¼ä»¥åå·ä½è¢«ä¿®æ¹çåå®¹æ¯ä»ä¹ãå¨äºå¡æäº¤æ¶ï¼æä»¬ä¼å°redo logæç§å·çç­ç¥å·å°ç£çä¸å»ï¼è¿æ ·å³ä½¿ mysql å®æºäºï¼éå¯ä¹åä¹è½æ¢å¤æªè½åå¥ç£ççæ°æ®ï¼ä»èä¿è¯äºå¡çæä¹æ§ã\n\n> innodbå­å¨å¼æä½¿ç¨buffer poolï¼ç¼å²æ± ï¼æ¥æé«è¯»åæ§è½ãå½ä¸ä¸ªäºå¡æäº¤ä¹åï¼ç¼å²æ± çå¯¹åºé¡µçä¿®æ¹è¿æªæä¹åå°ç£çï¼è¿æ¶ï¼å¦æmysqlçªç¶å®æºçè¯ï¼äºå¡çæ´æ¹æ¯ä¸æ¯ç´æ¥å°±æ¶å¤±äº?redo logå°±æ¯æ¥è§£å³è¿ä¸ªé®é¢ç\n\n\n# é¡µä¿®æ¹ä¹åä¸ºä»ä¹ä¸ç´æ¥å·çå¢\n\nç´æ¥å·çæ§è½éå¸¸å·®ï¼innodbé¡µçå¤§å°ä¸è¬ä¸º16kbï¼èé¡µåæ¯ç£çååå­äº¤äºçåºæ¬åä½ãè¿å°±å¯¼è´å³ä½¿æä»¬åªä¿®æ¹é¡µä¸­çå ä¸ªå­èæ°æ®ï¼ä¸æ¬¡å·çæä½ä¹å°±å°16kb å¤§å°çé¡µæ´ä¸ªé½å·æ°å°ç£çä¸­ãèä¸ï¼è¿äºä¿®æ¹çé¡µå¯è½å¹¶ä¸ç¸é»ï¼ä¹å°±æ¯è¯´è¿è¿æ¯éæºioã éç¨redo log çæ¹å¼å¯ä»¥é¿åè¿ç§æ§è½é®é¢ï¼å ä¸ºredo logçå·çæ§è½å¾å¥½ãredo logçåå¥å±äºé¡ºåºioï¼å¹¶ä¸ä¸è¡redo logè®°å½åªå å åä¸ªå­èã\n\n\n# binlog åredologæä»ä¹åºå«\n\n * ç¨éï¼binlogä¸»è¦ç¨äºæ°æ®åºè¿åï¼å±äºæ°æ®çº§å«çæ°æ®æ¢å¤ï¼ä¸»ä»å¤å¶æ¯binlogæå¸¸è§çä¸ä¸ªåºç¨åºæ¯ãredologä¸»è¦ç¨äºä¿è¯äºå¡çæä¹æ§ï¼å±äºäºå¡çº§å«çæ°æ®æ¢å¤ã\n * æ¯å¦æ¯innodbå¼æç¹æçï¼redologå±äºinnodbå¼æç¹æçï¼binlogå±äºææå­å¨å¼æå±æçãå ä¸ºbinlogæ¯mysqlçserverå±å®ç°çã\n * redologå±äºç©çæ¥å¿ï¼ä¸»è¦è®°å½çæä¸ªé¡µçä¿®æ¹ãbinlogå±äºé»è¾æ¥å¿ï¼ä¸»è¦è®°å½çæ¯æ°æ®åºæ§è¡çææddlådmlè¯­å¥ã\n * åå¥æ¹å¼ï¼binlogéè¿è¿½å çæ¹å¼è¿è¡åå¥ï¼å¤§å°æ²¡æéå¶ãredo log éç¨å¾ªç¯åçæ¹å¼è¿è¡åå¥ï¼å¤§å°åºå®ï¼å½åå°ç»å°¾æ¶ï¼ä¼åå°å¼å¤´å¾ªç¯åæ¥å¿ã\n\n\n# undo log å¦ä½ä¿è¯äºå¡çåå­æ§\n\næ¯ä¸ä¸ªäºå¡å¯¹æ°æ®çä¿®æ¹é½ä¼è¢«è®°å½å°undo logï¼å½æ§è¡äºå¡è¿ç¨ä¸­åºç°éè¯¯æèéè¦æ§è¡åæ»æä½çè¯ï¼mysqlå¯ä»¥å©ç¨undo logå°æ°æ®æ¢å¤å°äºå¡å¼å§ä¹åçç¶æã undo log å±äºé»è¾æ¥å¿ï¼è®°å½çæ¯sqlè¯­å¥ï¼æ¯å¦è¯´äºå¡æ§è¡ä¸æ¡deleteè¯­å¥ï¼é£undo logå°±ä¼è®°å½ä¸æ¡ç¸å¯¹äºçinsertè¯­å¥ã\n\n\n# è°ä¼\n\n\n# sqlä¼å\n\n 1.  **é¿åä½¿ç¨select ***ï¼select * ä¼æ¥è¯¢å¤ä½çæ°æ®ï¼é ææ°æ®åºèµæºæµªè´¹åæ°æ®ä¼ è¾æ¶èãèä¸select * ä¸ä¼èµ°è¦çç´¢å¼ï¼ä¼åºç°å¤§éçåè¡¨æä½ï¼éä½æ¥è¯¢sqlçæ§è½ã\n 2.  ç¨union all ä»£æ¿unionï¼union éè¦æéï¼æéè¿ç¨éè¦éåãæåºåæ¯è¾ï¼æ´èæ¶ï¼ä¹æ´æ¶ècpuèµæºã\n 3.  å°è¡¨é©±å¨å¤§è¡¨ï¼ä¹å°±æ¯è¯´ç¨å°è¡¨çæ°æ®éé©±å¨å¤§è¡¨çæ°æ®éã in éç¨äºå·¦è¾¹å¤§è¡¨ï¼å³è¾¹å°è¡¨ãexists éç¨äºå·¦è¾¹å°è¡¨ï¼å³è¾¹å¤§è¡¨ãè¿ä¸¤ä¸ªæ ¸å¿ææ³é½æ¯ç¨å°è¡¨é©±å¨å¤§è¡¨ãä½¿ç¨left join æ¶å·¦è¾¹åºè¯¥æ¯å°è¡¨\n 4.  æ¹éæä½ï¼ä¸æ¬¡æ§æä½éåº¦æ°æ®ãå¦ææä½çæ°æ®éè¾å¤§æ¶ï¼å¯ä»¥åå¤æ¹æ¬¡å¤çã\n 5.  å¤ç¨limitï¼å½åªéè¦æ°æ®ä¸­ç¬¬ä¸æ¡æ¶ï¼ä½¿ç¨limit 1ï¼å½æ°æ®åºæ¾å°ç¬¦åçæ¡ä»¶çä¸æ¡æ°æ®å°±ç´æ¥è¿åç»æï¼å¤§å¤§æé«äºæåäºæ§è½ã\n 6.  ç¨è¿æ¥æ¥è¯¢ä»£æ¿å­æ¥è¯¢ï¼mysql æ§è¡å­æ¥è¯¢æ¶ï¼éè¦åå»ºä¸´æ¶è¡¨ï¼æ¥è¯¢å®æ¯åï¼éè¦åå é¤è¿äºä¸´æ¶è¡¨ï¼æä¸äºé¢å¤çæ§è½æ¶èã\n 7.  joinçè¡¨ä¸å®è¿å¤ï¼join è¡¨çæ°éä¸åºè¯¥è¶è¿3ä¸ªï¼å¿è¦æ¶è¡¨ä¸­å¯ä»¥å­å¨åä½å­æ®µ\n 8.  æ§å¶ç´¢å¼æ°éï¼ä¼åä½¿ç¨èåç´¢å¼ï¼å¹¶ä¸å é¤æ ç¨çååç´¢å¼ã\n 9.  éæ©åççå­æ®µç±»åï¼\n     1. è½ç¨æ°å­ç±»åï¼å°±ä¸ç¨å­ç¬¦ä¸²ï¼å ä¸ºå­ç¬¦çå¤çå¾å¾æ¯æ°å­è¦æ¢ã\n     2. å°½å¯è½ä½¿ç¨å°çç±»åï¼æ¯å¦ï¼ç¨bitå­å¸å°å¼ï¼ç¨tinyintå­æä¸¾å¼ç­ã\n     3. é¿åº¦åºå®çå­ç¬¦ä¸²å­æ®µï¼ç¨charç±»åã\n     4. é¿åº¦å¯åçå­ç¬¦ä¸²å­æ®µï¼ç¨varcharç±»åã\n     5. éé¢å­æ®µç¨decimalï¼é¿åç²¾åº¦ä¸¢å¤±é®é¢ã\n 10. æé«group by æçï¼ä½¿ç¨group by åç»æ¶ï¼ä¼åå¨where å­å¥åç»åè¿è¡è¿æ»¤ï¼èä¸æ¯å¨havingåç»åè¿è¡è¿æ»¤ã\n 11. ç´¢å¼ä¼åï¼ä½¿ç¨explianæ¥çæ§è¡è®¡åï¼çsqlæ¯å¦èµ°äºç´¢å¼ï¼å¦ææ²¡æèµ°ç´¢å¼ï¼çæ¯å¦å»ºç«äºç´¢å¼æèç´¢å¼æ¯å¦å¤±æå¹¶è¿è¡ç¸åºçå¤çã\n\n> åèï¼\n> \n>  * https://cloud.tencent.com/developer/article/1899907\n>  * https://mp.weixin.qq.com/s?__biz=mzg2ota0njk0oa==&mid=2247488618&idx=1&sn=e70a31865b5eadcb151f439004a4dd72&chksm=cea25ba1f9d5d2b795222ba90e0326618d649e858ec23e9c7360f90fbfc23a7786c33bff9556&token=1647609083&lang=zh_cn#rd\n\n\n# mysql limitæ·±åº¦åé¡µä¼å\n\nåå ï¼mysqlåé¡µå°åé¢è¶æ¥è¶æ¢ï¼å¶å®æ¯è¿è¡å¤§éæ ç¨åè¡¨æä½é æï¼åé¢æ°æ®é½ä¸éè¦ï¼ä¹è¿è¡äºåè¡¨æä½ï¼ã è§£å³æ¹æ¡ï¼ä½¿ç¨ join+è¦çç´¢å¼ è¿è¡ä¼åãä½¿ç¨è¦çç´¢å¼æ¥è¯¢å¯¹åºæ°æ®ä¸»é®ï¼åjoinè·åå°å®æ´æ°æ®ï¼é¿åå¤§éåè¡¨æä½ã\n\n> åèï¼https://mp.weixin.qq.com/s/fnn77oxzbokcl7ax1tdzba\n\n\n# mysql è¯»ååç¦»\n\n\n# è¯»ååç¦»å»¶è¿å¦ä½è§£å³\n\nææ¯ä¸æ²¡æ³å°æ¹æ³ãä¸å¡ä¸å¦æè¦æ±å¼ºä¸è´æ§ï¼å°±é½è¯»ä¸»åºï¼å¦æä¸è¦æ±å¼ºä¸è´æ§ï¼å°±è¯»ä»åºã",charsets:{cjk:!0},lastUpdated:"2023/11/02, 03:14:56",lastUpdatedTimestamp:1698894896e3},{title:"Spring é¢è¯é¢",frontmatter:{title:"Spring é¢è¯é¢",date:"2023-10-24T15:45:29.000Z",permalink:"/pages/330962/"},regularPath:"/02.Java%20%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/02.Java%20%E5%85%AB%E8%82%A1%E6%96%87/08.Spring%20%E9%9D%A2%E8%AF%95%E9%A2%98.html",relativePath:"02.Java é¢è¯å®å¸/02.Java å«è¡æ/08.Spring é¢è¯é¢.md",key:"v-23006aec",path:"/pages/330962/",headers:[{level:1,title:"Spring IoC",slug:"spring-ioc",normalizedTitle:"spring ioc",charIndex:2},{level:2,title:"è°è°èªå·±å¯¹äºSpring Iocçäºè§£",slug:"è°è°èªå·±å¯¹äºspring-iocçäºè§£",normalizedTitle:"è°è°èªå·±å¯¹äºspring iocçäºè§£",charIndex:17},{level:1,title:"Spring Aop",slug:"spring-aop",normalizedTitle:"spring aop",charIndex:437},{level:2,title:"è°è°èªå·±å¯¹äºAOPçäºè§£",slug:"è°è°èªå·±å¯¹äºaopçäºè§£",normalizedTitle:"è°è°èªå·±å¯¹äºaopçäºè§£",charIndex:452}],headersStr:"Spring IoC è°è°èªå·±å¯¹äºSpring Iocçäºè§£ Spring Aop è°è°èªå·±å¯¹äºAOPçäºè§£",content:"# Spring IoC\n\n\n# è°è°èªå·±å¯¹äºSpring Iocçäºè§£\n\nIoCï¼Inversion of Control:æ§å¶åè½¬ï¼ æ¯ä¸ç§è®¾è®¡ææ³ï¼èä¸æ¯ä¸ä¸ªå·ä½çææ¯å®ç°ãIoC çææ³å°±æ¯å°åæ¬å¨ç¨åºä¸­æå¨åå»ºå¯¹è±¡çæ§å¶æï¼äº¤ç± Spring æ¡æ¶æ¥ç®¡çã\nä¸ºä»ä¹å«æ§å¶åè½¬ï¼\n\n * æ§å¶ ï¼æçæ¯å¯¹è±¡åå»ºï¼å®ä¾åãç®¡çï¼çæå\n * åè½¬ ï¼æ§å¶æäº¤ç»å¤é¨ç¯å¢ï¼Spring æ¡æ¶ãIoC å®¹å¨\n\nå°å¯¹è±¡ä¹é´çç¸äºä¾èµå³ç³»äº¤ç» IoC å®¹å¨æ¥ç®¡çï¼å¹¶ç± IoC å®¹å¨å®æå¯¹è±¡çæ³¨å¥ãè¿æ ·å¯ä»¥å¾å¤§ç¨åº¦ä¸ç®ååºç¨çå¼åï¼æåºç¨ä»å¤æçä¾èµå³ç³»ä¸­è§£æ¾åºæ¥ã IoC å®¹å¨å°±åæ¯ä¸ä¸ªå·¥åä¸æ ·ï¼å½æä»¬éè¦åå»ºä¸ä¸ªå¯¹è±¡çæ¶åï¼åªéè¦éç½®å¥½éç½®æä»¶/æ³¨è§£å³å¯ï¼å®å¨ä¸ç¨èèå¯¹è±¡æ¯å¦ä½è¢«åå»ºåºæ¥çã å¨ Spring ä¸­ï¼ IoC å®¹å¨æ¯ Spring ç¨æ¥å®ç° IoC çè½½ä½ï¼ IoC å®¹å¨å®éä¸å°±æ¯ä¸ª Mapï¼keyï¼valueï¼ï¼Map ä¸­å­æ¾çæ¯åç§å¯¹è±¡ã\n\n\n# Spring Aop\n\n\n# è°è°èªå·±å¯¹äºAOPçäºè§£\n\nAOP(Aspect-Oriented Programming:é¢ååé¢ç¼ç¨)è½å¤å°é£äºä¸ä¸å¡æ å³ï¼å´ä¸ºä¸å¡æ¨¡åæå±åè°ç¨çé»è¾æè´£ä»»ï¼ä¾å¦äºå¡å¤çãæ¥å¿ç®¡çãæéæ§å¶ç­ï¼å°è£èµ·æ¥ï¼ä¾¿äºåå°ç³»ç»çéå¤ä»£ç ï¼éä½æ¨¡åé´çè¦ååº¦ï¼å¹¶æå©äºæªæ¥çå¯æå±æ§åå¯ç»´æ¤æ§ã Spring AOP å°±æ¯åºäºå¨æä»£ççï¼å¦æè¦ä»£ççå¯¹è±¡ï¼å®ç°äºæä¸ªæ¥å£ï¼é£ä¹ Spring AOP ä¼ä½¿ç¨ JDK Proxyï¼å»åå»ºä»£çå¯¹è±¡ï¼èå¯¹äºæ²¡æå®ç°æ¥å£çå¯¹è±¡ï¼å°±æ æ³ä½¿ç¨ JDK Proxy å»è¿è¡ä»£çäºï¼è¿æ¶å Spring AOP ä¼ä½¿ç¨ Cglib çæä¸ä¸ªè¢«ä»£çå¯¹è±¡çå­ç±»æ¥ä½ä¸ºä»£çï¼å¦ä¸å¾æç¤ºï¼",normalizedContent:"# spring ioc\n\n\n# è°è°èªå·±å¯¹äºspring iocçäºè§£\n\niocï¼inversion of control:æ§å¶åè½¬ï¼ æ¯ä¸ç§è®¾è®¡ææ³ï¼èä¸æ¯ä¸ä¸ªå·ä½çææ¯å®ç°ãioc çææ³å°±æ¯å°åæ¬å¨ç¨åºä¸­æå¨åå»ºå¯¹è±¡çæ§å¶æï¼äº¤ç± spring æ¡æ¶æ¥ç®¡çã\nä¸ºä»ä¹å«æ§å¶åè½¬ï¼\n\n * æ§å¶ ï¼æçæ¯å¯¹è±¡åå»ºï¼å®ä¾åãç®¡çï¼çæå\n * åè½¬ ï¼æ§å¶æäº¤ç»å¤é¨ç¯å¢ï¼spring æ¡æ¶ãioc å®¹å¨\n\nå°å¯¹è±¡ä¹é´çç¸äºä¾èµå³ç³»äº¤ç» ioc å®¹å¨æ¥ç®¡çï¼å¹¶ç± ioc å®¹å¨å®æå¯¹è±¡çæ³¨å¥ãè¿æ ·å¯ä»¥å¾å¤§ç¨åº¦ä¸ç®ååºç¨çå¼åï¼æåºç¨ä»å¤æçä¾èµå³ç³»ä¸­è§£æ¾åºæ¥ã ioc å®¹å¨å°±åæ¯ä¸ä¸ªå·¥åä¸æ ·ï¼å½æä»¬éè¦åå»ºä¸ä¸ªå¯¹è±¡çæ¶åï¼åªéè¦éç½®å¥½éç½®æä»¶/æ³¨è§£å³å¯ï¼å®å¨ä¸ç¨èèå¯¹è±¡æ¯å¦ä½è¢«åå»ºåºæ¥çã å¨ spring ä¸­ï¼ ioc å®¹å¨æ¯ spring ç¨æ¥å®ç° ioc çè½½ä½ï¼ ioc å®¹å¨å®éä¸å°±æ¯ä¸ª mapï¼keyï¼valueï¼ï¼map ä¸­å­æ¾çæ¯åç§å¯¹è±¡ã\n\n\n# spring aop\n\n\n# è°è°èªå·±å¯¹äºaopçäºè§£\n\naop(aspect-oriented programming:é¢ååé¢ç¼ç¨)è½å¤å°é£äºä¸ä¸å¡æ å³ï¼å´ä¸ºä¸å¡æ¨¡åæå±åè°ç¨çé»è¾æè´£ä»»ï¼ä¾å¦äºå¡å¤çãæ¥å¿ç®¡çãæéæ§å¶ç­ï¼å°è£èµ·æ¥ï¼ä¾¿äºåå°ç³»ç»çéå¤ä»£ç ï¼éä½æ¨¡åé´çè¦ååº¦ï¼å¹¶æå©äºæªæ¥çå¯æå±æ§åå¯ç»´æ¤æ§ã spring aop å°±æ¯åºäºå¨æä»£ççï¼å¦æè¦ä»£ççå¯¹è±¡ï¼å®ç°äºæä¸ªæ¥å£ï¼é£ä¹ spring aop ä¼ä½¿ç¨ jdk proxyï¼å»åå»ºä»£çå¯¹è±¡ï¼èå¯¹äºæ²¡æå®ç°æ¥å£çå¯¹è±¡ï¼å°±æ æ³ä½¿ç¨ jdk proxy å»è¿è¡ä»£çäºï¼è¿æ¶å spring aop ä¼ä½¿ç¨ cglib çæä¸ä¸ªè¢«ä»£çå¯¹è±¡çå­ç±»æ¥ä½ä¸ºä»£çï¼å¦ä¸å¾æç¤ºï¼",charsets:{cjk:!0},lastUpdated:"2023/11/02, 03:14:56",lastUpdatedTimestamp:1698894896e3},{title:"Mybatis&MybatisPlus é¢è¯é¢",frontmatter:{title:"Mybatis&MybatisPlus é¢è¯é¢",date:"2023-10-24T15:45:41.000Z",permalink:"/pages/e68641/"},regularPath:"/02.Java%20%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/02.Java%20%E5%85%AB%E8%82%A1%E6%96%87/09.Mybatis&MybatisPlus%20%E9%9D%A2%E8%AF%95%E9%A2%98.html",relativePath:"02.Java é¢è¯å®å¸/02.Java å«è¡æ/09.Mybatis&MybatisPlus é¢è¯é¢.md",key:"v-7550b988",path:"/pages/e68641/",headers:[{level:1,title:"Mybatis",slug:"mybatis",normalizedTitle:"mybatis",charIndex:2},{level:2,title:"#{} å ${} çåºå«æ¯ä»ä¹ï¼",slug:"å-çåºå«æ¯ä»ä¹",normalizedTitle:"#{} å ${} çåºå«æ¯ä»ä¹ï¼",charIndex:14},{level:2,title:"xml æ å°æä»¶ä¸­ï¼é¤äºå¸¸è§ç selectãinsertãupdateãdelete æ ç­¾ä¹å¤ï¼è¿æåªäºæ ç­¾ï¼",slug:"xml-æ å°æä»¶ä¸­-é¤äºå¸¸è§ç-selectãinsertãupdateãdelete-æ ç­¾ä¹å¤-è¿æåªäºæ ç­¾",normalizedTitle:"xml æ å°æä»¶ä¸­ï¼é¤äºå¸¸è§ç selectãinsertãupdateãdelete æ ç­¾ä¹å¤ï¼è¿æåªäºæ ç­¾ï¼",charIndex:355},{level:2,title:"Dao æ¥å£çå·¥ä½åçæ¯ä»ä¹ï¼Dao æ¥å£éçæ¹æ³ï¼åæ°ä¸åæ¶ï¼æ¹æ³è½éè½½åï¼",slug:"dao-æ¥å£çå·¥ä½åçæ¯ä»ä¹-dao-æ¥å£éçæ¹æ³-åæ°ä¸åæ¶-æ¹æ³è½éè½½å",normalizedTitle:"dao æ¥å£çå·¥ä½åçæ¯ä»ä¹ï¼dao æ¥å£éçæ¹æ³ï¼åæ°ä¸åæ¶ï¼æ¹æ³è½éè½½åï¼",charIndex:557},{level:1,title:"MybatisPlus",slug:"mybatisplus",normalizedTitle:"mybatisplus",charIndex:1071}],headersStr:"Mybatis #{} å ${} çåºå«æ¯ä»ä¹ï¼ xml æ å°æä»¶ä¸­ï¼é¤äºå¸¸è§ç selectãinsertãupdateãdelete æ ç­¾ä¹å¤ï¼è¿æåªäºæ ç­¾ï¼ Dao æ¥å£çå·¥ä½åçæ¯ä»ä¹ï¼Dao æ¥å£éçæ¹æ³ï¼åæ°ä¸åæ¶ï¼æ¹æ³è½éè½½åï¼ MybatisPlus",content:"# Mybatis\n\n\n# #{} å ${} çåºå«æ¯ä»ä¹ï¼\n\n * ${}æ¯ Properties æä»¶ä¸­çåéå ä½ç¬¦ï¼å®å¯ä»¥ç¨äºæ ç­¾å±æ§å¼å sql åé¨ï¼å±äºéæææ¬æ¿æ¢ï¼æ¯å¦${driver}ä¼è¢«éææ¿æ¢ä¸ºcom.mysql.jdbc. Driverã\n * #{}æ¯ sql çåæ°å ä½ç¬¦ï¼MyBatis ä¼å° sql ä¸­ç#{}æ¿æ¢ä¸º? å·ï¼å¨ sql æ§è¡åä¼ä½¿ç¨ PreparedStatement çåæ°è®¾ç½®æ¹æ³ï¼æåºç» sql ç? å·å ä½ç¬¦è®¾ç½®åæ°å¼ï¼æ¯å¦ ps.setInt(0, parameterValue)ï¼#{item.name} çåå¼æ¹å¼ä¸ºä½¿ç¨åå°ä»åæ°å¯¹è±¡ä¸­è·å item å¯¹è±¡ç name å±æ§å¼ï¼ç¸å½äº param.getItem().getName()ã\n\n\n# xml æ å°æä»¶ä¸­ï¼é¤äºå¸¸è§ç selectãinsertãupdateãdelete æ ç­¾ä¹å¤ï¼è¿æåªäºæ ç­¾ï¼\n\nè¿æå¾å¤å¶ä»çæ ç­¾ï¼ ã ã ã ã ï¼å ä¸å¨æ sql ç 9 ä¸ªæ ç­¾ï¼ trim|where|set|foreach|if|choose|when|otherwise|bind ç­ï¼å¶ä¸­ ä¸º sql çæ®µæ ç­¾ï¼éè¿ æ ç­¾å¼å¥ sql çæ®µï¼ ä¸ºä¸æ¯æèªå¢çä¸»é®çæç­ç¥æ ç­¾ã\n\n\n# Dao æ¥å£çå·¥ä½åçæ¯ä»ä¹ï¼Dao æ¥å£éçæ¹æ³ï¼åæ°ä¸åæ¶ï¼æ¹æ³è½éè½½åï¼\n\néå¸¸ä¸ä¸ª xml æ å°æä»¶ï¼é½ä¼åä¸ä¸ª Dao æ¥å£ä¸ä¹å¯¹åºãDao æ¥å£å°±æ¯äººä»¬å¸¸è¯´ç Mapper æ¥å£ï¼æ¥å£çå¨éåï¼å°±æ¯æ å°æä»¶ä¸­ç namespace çå¼ï¼æ¥å£çæ¹æ³åï¼å°±æ¯æ å°æä»¶ä¸­ MappedStatement ç id å¼ï¼æ¥å£æ¹æ³åçåæ°ï¼å°±æ¯ä¼ éç» sql çåæ°ã Mapper æ¥å£æ¯æ²¡æå®ç°ç±»çï¼å½è°ç¨æ¥å£æ¹æ³æ¶ï¼æ¥å£å¨éå+æ¹æ³åæ¼æ¥å­ç¬¦ä¸²ä½ä¸º key å¼ï¼å¯å¯ä¸å®ä½ä¸ä¸ª MappedStatement ï¼ä¸¾ä¾ï¼ com.mybatis3.mappers. StudentDao.findStudentById ï¼å¯ä»¥å¯ä¸æ¾å° namespace ä¸º com.mybatis3.mappers. StudentDao ä¸é¢ id = findStudentById ç MappedStatement ãå¨ MyBatis ä¸­ï¼æ¯ä¸ä¸ª ã ã ã æ ç­¾ï¼é½ä¼è¢«è§£æä¸ºä¸ä¸ª MappedStatement å¯¹è±¡ã Dao æ¥å£éçæ¹æ³å¯ä»¥éè½½ï¼ä½æ¯ Mybatis ç xml éé¢ç ID ä¸åè®¸éå¤ã\n\n\n# MybatisPlus",normalizedContent:"# mybatis\n\n\n# #{} å ${} çåºå«æ¯ä»ä¹ï¼\n\n * ${}æ¯ properties æä»¶ä¸­çåéå ä½ç¬¦ï¼å®å¯ä»¥ç¨äºæ ç­¾å±æ§å¼å sql åé¨ï¼å±äºéæææ¬æ¿æ¢ï¼æ¯å¦${driver}ä¼è¢«éææ¿æ¢ä¸ºcom.mysql.jdbc. driverã\n * #{}æ¯ sql çåæ°å ä½ç¬¦ï¼mybatis ä¼å° sql ä¸­ç#{}æ¿æ¢ä¸º? å·ï¼å¨ sql æ§è¡åä¼ä½¿ç¨ preparedstatement çåæ°è®¾ç½®æ¹æ³ï¼æåºç» sql ç? å·å ä½ç¬¦è®¾ç½®åæ°å¼ï¼æ¯å¦ ps.setint(0, parametervalue)ï¼#{item.name} çåå¼æ¹å¼ä¸ºä½¿ç¨åå°ä»åæ°å¯¹è±¡ä¸­è·å item å¯¹è±¡ç name å±æ§å¼ï¼ç¸å½äº param.getitem().getname()ã\n\n\n# xml æ å°æä»¶ä¸­ï¼é¤äºå¸¸è§ç selectãinsertãupdateãdelete æ ç­¾ä¹å¤ï¼è¿æåªäºæ ç­¾ï¼\n\nè¿æå¾å¤å¶ä»çæ ç­¾ï¼ ã ã ã ã ï¼å ä¸å¨æ sql ç 9 ä¸ªæ ç­¾ï¼ trim|where|set|foreach|if|choose|when|otherwise|bind ç­ï¼å¶ä¸­ ä¸º sql çæ®µæ ç­¾ï¼éè¿ æ ç­¾å¼å¥ sql çæ®µï¼ ä¸ºä¸æ¯æèªå¢çä¸»é®çæç­ç¥æ ç­¾ã\n\n\n# dao æ¥å£çå·¥ä½åçæ¯ä»ä¹ï¼dao æ¥å£éçæ¹æ³ï¼åæ°ä¸åæ¶ï¼æ¹æ³è½éè½½åï¼\n\néå¸¸ä¸ä¸ª xml æ å°æä»¶ï¼é½ä¼åä¸ä¸ª dao æ¥å£ä¸ä¹å¯¹åºãdao æ¥å£å°±æ¯äººä»¬å¸¸è¯´ç mapper æ¥å£ï¼æ¥å£çå¨éåï¼å°±æ¯æ å°æä»¶ä¸­ç namespace çå¼ï¼æ¥å£çæ¹æ³åï¼å°±æ¯æ å°æä»¶ä¸­ mappedstatement ç id å¼ï¼æ¥å£æ¹æ³åçåæ°ï¼å°±æ¯ä¼ éç» sql çåæ°ã mapper æ¥å£æ¯æ²¡æå®ç°ç±»çï¼å½è°ç¨æ¥å£æ¹æ³æ¶ï¼æ¥å£å¨éå+æ¹æ³åæ¼æ¥å­ç¬¦ä¸²ä½ä¸º key å¼ï¼å¯å¯ä¸å®ä½ä¸ä¸ª mappedstatement ï¼ä¸¾ä¾ï¼ com.mybatis3.mappers. studentdao.findstudentbyid ï¼å¯ä»¥å¯ä¸æ¾å° namespace ä¸º com.mybatis3.mappers. studentdao ä¸é¢ id = findstudentbyid ç mappedstatement ãå¨ mybatis ä¸­ï¼æ¯ä¸ä¸ª ã ã ã æ ç­¾ï¼é½ä¼è¢«è§£æä¸ºä¸ä¸ª mappedstatement å¯¹è±¡ã dao æ¥å£éçæ¹æ³å¯ä»¥éè½½ï¼ä½æ¯ mybatis ç xml éé¢ç id ä¸åè®¸éå¤ã\n\n\n# mybatisplus",charsets:{cjk:!0},lastUpdated:"2023/11/02, 03:14:56",lastUpdatedTimestamp:1698894896e3},{title:"Redis é¢è¯é¢",frontmatter:{title:"Redis é¢è¯é¢",date:"2023-10-24T15:45:05.000Z",permalink:"/pages/b1ecc7/"},regularPath:"/02.Java%20%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/02.Java%20%E5%85%AB%E8%82%A1%E6%96%87/07.Redis%20%E9%9D%A2%E8%AF%95%E9%A2%98.html",relativePath:"02.Java é¢è¯å®å¸/02.Java å«è¡æ/07.Redis é¢è¯é¢.md",key:"v-4d5eaa9c",path:"/pages/b1ecc7/",headers:[{level:1,title:"Redis åºç¡",slug:"redis-åºç¡",normalizedTitle:"redis åºç¡",charIndex:2},{level:2,title:"ç®åä»ç»ä¸ Redis",slug:"ç®åä»ç»ä¸-redis",normalizedTitle:"ç®åä»ç»ä¸ redis",charIndex:15},{level:2,title:"ç¼å­æ°æ®å¤çæµç¨æ¯æä¹æ ·ç",slug:"ç¼å­æ°æ®å¤çæµç¨æ¯æä¹æ ·ç",normalizedTitle:"ç¼å­æ°æ®å¤çæµç¨æ¯æä¹æ ·ç",charIndex:193},{level:2,title:"ä¸ºä»ä¹è¦ä½¿ç¨ Redisï¼ç¼å­ï¼",slug:"ä¸ºä»ä¹è¦ä½¿ç¨-redis-ç¼å­",normalizedTitle:"ä¸ºä»ä¹è¦ä½¿ç¨ redisï¼ç¼å­ï¼",charIndex:323},{level:2,title:"Redis é¤äºåç¼å­ï¼è¿è½åä»ä¹",slug:"redis-é¤äºåç¼å­-è¿è½åä»ä¹",normalizedTitle:"redis é¤äºåç¼å­ï¼è¿è½åä»ä¹",charIndex:366},{level:1,title:"Redis æ°æ®ç»æ",slug:"redis-æ°æ®ç»æ",normalizedTitle:"redis æ°æ®ç»æ",charIndex:520},{level:2,title:"Redis å¸¸ç¨çæ°æ®ç»ææåªäº",slug:"redis-å¸¸ç¨çæ°æ®ç»ææåªäº",normalizedTitle:"redis å¸¸ç¨çæ°æ®ç»ææåªäº",charIndex:535},{level:2,title:"String çåºç¨åºæ¯æåªäº",slug:"string-çåºç¨åºæ¯æåªäº",normalizedTitle:"string çåºç¨åºæ¯æåªäº",charIndex:678},{level:2,title:"String è¿æ¯ Hashå­å¨å¯¹è±¡æ°æ®æ´å¥½å¢",slug:"string-è¿æ¯-hashå­å¨å¯¹è±¡æ°æ®æ´å¥½å¢",normalizedTitle:"string è¿æ¯ hashå­å¨å¯¹è±¡æ°æ®æ´å¥½å¢",charIndex:813},{level:2,title:"ä½¿ç¨ Redis å®ç°ä¸ä¸ªæè¡æ¦æä¹å",slug:"ä½¿ç¨-redis-å®ç°ä¸ä¸ªæè¡æ¦æä¹å",normalizedTitle:"ä½¿ç¨ redis å®ç°ä¸ä¸ªæè¡æ¦æä¹å",charIndex:913},{level:2,title:"ä½¿ç¨ Set å®ç°æ½å¥ç³»ç»",slug:"ä½¿ç¨-set-å®ç°æ½å¥ç³»ç»",normalizedTitle:"ä½¿ç¨ set å®ç°æ½å¥ç³»ç»",charIndex:1060},{level:1,title:"Redis åå­ç®¡ç",slug:"redis-åå­ç®¡ç",normalizedTitle:"redis åå­ç®¡ç",charIndex:1186},{level:2,title:"Reids ç»ç¼å­æ°æ®è®¾ç½®è¿ææ¶é´æå¥ç¨",slug:"reids-ç»ç¼å­æ°æ®è®¾ç½®è¿ææ¶é´æå¥ç¨",normalizedTitle:"reids ç»ç¼å­æ°æ®è®¾ç½®è¿ææ¶é´æå¥ç¨",charIndex:1201},{level:2,title:"Redis æ¯å¦ä½å¤æ­æ°æ®æ¯å¦è¿æå¢",slug:"redis-æ¯å¦ä½å¤æ­æ°æ®æ¯å¦è¿æå¢",normalizedTitle:"redis æ¯å¦ä½å¤æ­æ°æ®æ¯å¦è¿æå¢",charIndex:1409},{level:2,title:"Redis è¿ææ°æ®çå é¤ç­ç¥äºè§£å",slug:"redis-è¿ææ°æ®çå é¤ç­ç¥äºè§£å",normalizedTitle:"redis è¿ææ°æ®çå é¤ç­ç¥äºè§£å",charIndex:1556},{level:1,title:"Redis æä¹åæºå¶",slug:"redis-æä¹åæºå¶",normalizedTitle:"redis æä¹åæºå¶",charIndex:1713},{level:2,title:"æä¹ä¿è¯ Redis ææä¹ååéå¯æ°æ®å¯ä»¥è¿è¡æ¢å¤",slug:"æä¹ä¿è¯-redis-ææä¹ååéå¯æ°æ®å¯ä»¥è¿è¡æ¢å¤",normalizedTitle:"æä¹ä¿è¯ redis ææä¹ååéå¯æ°æ®å¯ä»¥è¿è¡æ¢å¤",charIndex:1729},{level:2,title:"ä»ä¹æ¯ RDB æä¹å",slug:"ä»ä¹æ¯-rdb-æä¹å",normalizedTitle:"ä»ä¹æ¯ rdb æä¹å",charIndex:1867},{level:2,title:"RDB åå»ºå¿«ç§æ¶ä¼é»å¡ä¸»çº¿ç¨å",slug:"rdb-åå»ºå¿«ç§æ¶ä¼é»å¡ä¸»çº¿ç¨å",normalizedTitle:"rdb åå»ºå¿«ç§æ¶ä¼é»å¡ä¸»çº¿ç¨å",charIndex:2013},{level:2,title:"ä»ä¹æ¯ AOF æä¹å",slug:"ä»ä¹æ¯-aof-æä¹å",normalizedTitle:"ä»ä¹æ¯ aof æä¹å",charIndex:2137},{level:2,title:"AOF æ¥å¿æ¯å¦ä½å®ç°ç",slug:"aof-æ¥å¿æ¯å¦ä½å®ç°ç",normalizedTitle:"aof æ¥å¿æ¯å¦ä½å®ç°ç",charIndex:2682},{level:1,title:"Redis äºå¡",slug:"redis-äºå¡",normalizedTitle:"redis äºå¡",charIndex:2839},{level:2,title:"å¦ä½ä½¿ç¨ Reids äºå¡",slug:"å¦ä½ä½¿ç¨-reids-äºå¡",normalizedTitle:"å¦ä½ä½¿ç¨ reids äºå¡",charIndex:2852},{level:2,title:"Redis äºå¡æ¯æåå­æ§å",slug:"redis-äºå¡æ¯æåå­æ§å",normalizedTitle:"redis äºå¡æ¯æåå­æ§å",charIndex:3090},{level:1,title:"Redis åå¸å¼é",slug:"redis-åå¸å¼é",normalizedTitle:"redis åå¸å¼é",charIndex:3208},{level:2,title:"Redis åå¸å¼éçåºå±åç",slug:"redis-åå¸å¼éçåºå±åç",normalizedTitle:"redis åå¸å¼éçåºå±åç",charIndex:3223},{level:1,title:"Redis çäº§é®é¢",slug:"redis-çäº§é®é¢",normalizedTitle:"redis çäº§é®é¢",charIndex:3559},{level:2,title:"ç¼å­ç©¿é",slug:"ç¼å­ç©¿é",normalizedTitle:"ç¼å­ç©¿é",charIndex:3574},{level:3,title:"ä»ä¹æ¯ç¼å­ç©¿é",slug:"ä»ä¹æ¯ç¼å­ç©¿é",normalizedTitle:"ä»ä¹æ¯ç¼å­ç©¿é",charIndex:3583},{level:3,title:"ç¼å­ç©¿éçå¤çæµç¨æ¯ææ ·ç",slug:"ç¼å­ç©¿éçå¤çæµç¨æ¯ææ ·ç",normalizedTitle:"ç¼å­ç©¿éçå¤çæµç¨æ¯ææ ·ç",charIndex:3648},{level:3,title:"æåªäºè§£å³åæ³",slug:"æåªäºè§£å³åæ³",normalizedTitle:"æåªäºè§£å³åæ³",charIndex:3726},{level:2,title:"ç¼å­éªå´©",slug:"ç¼å­éªå´©",normalizedTitle:"ç¼å­éªå´©",charIndex:3954},{level:2,title:"å¦ä½ä¿è¯ç¼å­åæ°æ®åºæ°æ®çä¸è´æ§",slug:"å¦ä½ä¿è¯ç¼å­åæ°æ®åºæ°æ®çä¸è´æ§",normalizedTitle:"å¦ä½ä¿è¯ç¼å­åæ°æ®åºæ°æ®çä¸è´æ§",charIndex:4166}],headersStr:"Redis åºç¡ ç®åä»ç»ä¸ Redis ç¼å­æ°æ®å¤çæµç¨æ¯æä¹æ ·ç ä¸ºä»ä¹è¦ä½¿ç¨ Redisï¼ç¼å­ï¼ Redis é¤äºåç¼å­ï¼è¿è½åä»ä¹ Redis æ°æ®ç»æ Redis å¸¸ç¨çæ°æ®ç»ææåªäº String çåºç¨åºæ¯æåªäº String è¿æ¯ Hashå­å¨å¯¹è±¡æ°æ®æ´å¥½å¢ ä½¿ç¨ Redis å®ç°ä¸ä¸ªæè¡æ¦æä¹å ä½¿ç¨ Set å®ç°æ½å¥ç³»ç» Redis åå­ç®¡ç Reids ç»ç¼å­æ°æ®è®¾ç½®è¿ææ¶é´æå¥ç¨ Redis æ¯å¦ä½å¤æ­æ°æ®æ¯å¦è¿æå¢ Redis è¿ææ°æ®çå é¤ç­ç¥äºè§£å Redis æä¹åæºå¶ æä¹ä¿è¯ Redis ææä¹ååéå¯æ°æ®å¯ä»¥è¿è¡æ¢å¤ ä»ä¹æ¯ RDB æä¹å RDB åå»ºå¿«ç§æ¶ä¼é»å¡ä¸»çº¿ç¨å ä»ä¹æ¯ AOF æä¹å AOF æ¥å¿æ¯å¦ä½å®ç°ç Redis äºå¡ å¦ä½ä½¿ç¨ Reids äºå¡ Redis äºå¡æ¯æåå­æ§å Redis åå¸å¼é Redis åå¸å¼éçåºå±åç Redis çäº§é®é¢ ç¼å­ç©¿é ä»ä¹æ¯ç¼å­ç©¿é ç¼å­ç©¿éçå¤çæµç¨æ¯ææ ·ç æåªäºè§£å³åæ³ ç¼å­éªå´© å¦ä½ä¿è¯ç¼å­åæ°æ®åºæ°æ®çä¸è´æ§",content:"# Redis åºç¡\n\n\n# ç®åä»ç»ä¸ Redis\n\nRedis æ¯ C è¯­è¨å¼åçæ°æ®åºï¼ä¸ä¼ ç»æ°æ®åºä¸åæ¯ Redis çæ°æ®æ¯å­å¨åå­ä¸­çï¼æä»¥è¯»åéå¸¸å¿«ï¼å æ­¤Redis è¢«å¹¿æ³åºç¨å¨ç¼å­æ¹é¢ãRedis é¤äºåç¼å­ï¼ä¹å¯ä»¥ç¨æ¥ååå¸å¼éï¼çè³æ¯æ¶æ¯éåã\n\nRedis æä¾äºå¤ç§æ°æ®ç±»åæ¥æ¯æä¸åçä¸å¡åºæ¯ãRedisè¿æ¯æäºå¡ãæä¹åãLuaèæ¬åå¤ç§éç¾¤æ¹æ¡ã\n\n\n# ç¼å­æ°æ®å¤çæµç¨æ¯æä¹æ ·ç\n\n 1. å¦æç¨æ·è¯·æ±çæ°æ®å¨ç¼å­ä¸­å­å¨å°±ç´æ¥è¿åæ°æ®\n 2. å¦æç¼å­ä¸å­å¨å°±çæ°æ®åºæ¯å¦å­å¨æ°æ®ã\n 3. æ°æ®åºå¦æå­å¨æ°æ®çè¯ï¼å°±æ´æ°ç¼å­çæ°æ®ï¼å¹¶å°æ°æ®è¿åç»ç¨æ·ã\n 4. å¦ææ°æ®åºæ²¡ææ°æ®çè¯ï¼å°±è¿åç©ºæ°æ®ã\n\n\n# ä¸ºä»ä¹è¦ä½¿ç¨ Redisï¼ç¼å­ï¼\n\nä½¿ç¨ç¼å­æ¯ä¸ºäºæé«æ§è½è¿èæåç¨æ·ä½éªã\n\n\n# Redis é¤äºåç¼å­ï¼è¿è½åä»ä¹\n\n * åå¸å¼éï¼Redis ååå¸å¼éæ¯ä¸ç§å¸¸è§çæ¹å¼ãéå¸¸æåµä¸ï¼æä»¬é½æ¯åºäº Redisson Â æ¥å®ç°åå¸å¼éã\n * éæµï¼å¯ä»¥éè¿ Redis+Lua èæ¬å®ç°éæµã\n * æ¶æ¯éåï¼Redis èªå¸¦ç list æ°æ®ç»æå¯ä»¥ä½ä¸ºä¸ä¸ªç®åçéåä½¿ç¨ã\n\n\n# Redis æ°æ®ç»æ\n\n\n# Redis å¸¸ç¨çæ°æ®ç»ææåªäº\n\n * 5ç§åºç¡æ°æ®ç»æï¼Stringï¼å­ç¬¦ä¸²ï¼ãListï¼åè¡¨ï¼ãHashï¼æ£åï¼ãSetï¼éåï¼ãZsetï¼æåºéåï¼\n * 3ç§ç¹æ®æ°æ®ç»æï¼HyperLogLogsï¼åºæ°ç»è®¡ï¼ãBitmapï¼ä½å­å¨ï¼ãGeospatialï¼å°çä½ç½®ï¼\n\n\n# String çåºç¨åºæ¯æåªäº\n\n * å¸¸è§æ°æ®ï¼æ¯å¦ sessionãtokenãåºåååçå¯¹è±¡ï¼çç¼å­ã\n * è®¡æ°ï¼æ¯å¦ç¨æ·åä½æ¶é´çè¯·æ±æ°ãé¡µé¢åä½æ¶é´çè®¿é®æ°ã\n * åå¸å¼éï¼å©ç¨ SETNX key value å½ä»¤å¯ä»¥å®ç°ä¸ä¸ªæç®æçåå¸å¼éï¼\n\n\n# String è¿æ¯ Hashå­å¨å¯¹è±¡æ°æ®æ´å¥½å¢\n\nç»å¤§é¨åå»ºè®®ä½¿ç¨ String å­å¨å¯¹è±¡æ°æ®ï¼é¤éå¯¹è±¡ä¸­çæä¸ªå­æ®µç»å¸¸åå¨æèéè¦åç¬æ¥è¯¢å¯¹è±¡ä¸­çä¸ªå«å­æ®µä¿¡æ¯ï¼è¿æ¶å°±å¯ä»¥æ¯ Hashå­å¨ã\n\n\n# ä½¿ç¨ Redis å®ç°ä¸ä¸ªæè¡æ¦æä¹å\n\nRedis ä¸­æä¸ä¸ªå«åsorted setçæ°æ®ç»æç»å¸¸è¢«ç¨å¨åç§æè¡æ¦çåºæ¯ã\n\nä½¿ç¨ç¸å³ç Redis å½ä»¤å¯ä»¥è¿è¡æè¡ï¼ ZRANGE (ä»å°å°å¤§æåº) ã ZREVRANGE ï¼ä»å¤§å°å°æåºï¼ã ZREVRANK (æå®åç´ æå)ã\n\n\n# ä½¿ç¨ Set å®ç°æ½å¥ç³»ç»\n\n * SPOP key countï¼éæºç§»é¤å¹¶è·åæå®éåä¸­ä¸ä¸ªæå¤ä¸ªåç´ ï¼éåä¸åè®¸éå¤ä¸­å¥çåºæ¯ã\n * SRANDMEMBER key countï¼éæºè·åæå®éåä¸­æå®æ°éçåç´ ï¼éååè®¸éå¤ä¸­å¥çåºæ¯ã\n\n\n# Redis åå­ç®¡ç\n\n\n# Reids ç»ç¼å­æ°æ®è®¾ç½®è¿ææ¶é´æå¥ç¨\n\nä¸»è¦æä¸¤ä¸ªæ¹é¢ï¼\n\n * åå­æ¯æéçï¼å¦æç¼å­ä¸­çæææ°æ®é½ä¸ç´ä¿å­çè¯ï¼ååéå°±åå­æº¢åºäºã\n * æäºä¸å¡åºæ¯å°±æ¯éè¦æ°æ®åªå¨æä¸æ¶é´æ®µåå­å¨ï¼æ¯å¦ç­ä¿¡éªè¯ç ãç¨æ·ç»å½ç tokenã\n\nRedis ä¸­é¤äºå­ç¬¦ä¸²ç±»åæèªå·±è®¾ç½®è¿ææ¶é´å½ä»¤ setexå¤ï¼å¶ä»æ¹æ³é½éè¦ä¾é  expireå½ä»¤æ¥è®¾ç½®è¿ææ¶é´ãå¦å¤ï¼persistå½ä»¤å¯ä»¥ç§»é¤ä¸ä¸ªé®çè¿ææ¶é´ã\n\n\n# Redis æ¯å¦ä½å¤æ­æ°æ®æ¯å¦è¿æå¢\n\nRedis éè¿ä¸ä¸ªå«åè¿æå­å¸ï¼å¯ä»¥çä½æ¯ hash è¡¨ï¼æ¥ä¿å­æ°æ®è¿æçæ¶é´ãè¿æå­å¸çé®æå Redis æ°æ®åºä¸­çæä¸ª keyï¼é®ï¼ï¼è¿æå­å¸çå¼æ¯ä¸ä¸ª long long ç±»åçæ´æ°ï¼è¿ä¸ªæ´æ°ä¿å­äº key ææåæ°æ®åºé®çè¿ææ¶é´ã\n\n\n# Redis è¿ææ°æ®çå é¤ç­ç¥äºè§£å\n\nå¸¸è§çè¿ææ°æ®å é¤ç­ç¥æä¸¤ç§ï¼\n\n * æ°æ§å é¤ï¼åªä¼å¨ååº key çæ¶åæå¯¹æ°æ®è¿è¡è¿ææ£æ¥ã\n * å®æå é¤ï¼æ¯éä¸æ®µæ¶é´æ½åä¸æ¹ key æ§è¡å é¤è¿æ key æä½ã\n\nå®æå é¤å¯¹åå­æ´å åå¥½ï¼æ°æ§å é¤å¯¹CPUæ¯è¾åå¥½ãRediséç¨çå®æå é¤+æ°æ§å é¤ã\n\n\n# Redis æä¹åæºå¶\n\n\n# æä¹ä¿è¯ Redis ææä¹ååéå¯æ°æ®å¯ä»¥è¿è¡æ¢å¤\n\néè¿æä¹åæ¢å¤æ°æ®ãæä¹åæ°æ®å°±æ¯å°åå­ä¸­çæ°æ®åå¥å°ç¡¬çéé¢ï¼å¯ä»¥ç¨æ¥æ¢å¤æ°æ®ã\n\nRedis æ¯ææä¹åæ°æ®ï¼å¹¶ä¸æ¯æä¸¤ç§ä¸åçæä¹åæä½ãä¸ç§æä¹åæ¹å¼å«å¿«ç§ï¼RDBï¼ï¼å¦ä¸ç§æ¹å¼æ¯åªè¿½å æä»¶ï¼AOFï¼ã\n\n\n# ä»ä¹æ¯ RDB æä¹å\n\nRedis å¯ä»¥éè¿åå»ºå¿«ç§æ¥è·å¾å­å¨å¨åå­ä¸­çæ°æ®å¨æä¸ªæ¶é´ç¹çå¯æ¬ãåå»ºå¿«ç§åï¼å¯ä»¥å¯¹å¿«ç§è¿è¡å¤ä»½ï¼ä¹å¯ä»¥å¤å¶å°å¶ä»æå¡å¨åå»ºç¸åæ°æ®çæå¡å¨å¯æ¬ï¼Redis ä¸»ä»ç»æï¼ä¸»è¦ç¨æ¥æé« Redis æ§è½ï¼ãå¿«ç§æä¹åæ¯ Redis é»è®¤éç¨çæä¹åæ¹å¼ã\n\n\n# RDB åå»ºå¿«ç§æ¶ä¼é»å¡ä¸»çº¿ç¨å\n\nRedis æä¾äº save å bgsave ä¸¤ä¸ªå½ä»¤æ¥çæ RDB å¿«ç§æä»¶ï¼é»è®¤éé¡¹æ¯bgsaveã\n\nsaveå½ä»¤æ¯ä¸»çº¿ç¨æ§è¡çï¼ä¼é»å¡ä¸»çº¿ç¨ã\n\nbgsaveå½ä»¤æ¯å­çº¿ç¨æ§è¡ï¼ä¸ä¼é»å¡ä¸»çº¿ç¨ã\n\n\n# ä»ä¹æ¯ AOF æä¹å\n\nä¸å¿«ç§æä¹åç¸æ¯ï¼ AOF æä¹åå®æ¶æ§æ´å¥½ï¼æ¯ç°å¨ä¸»æµçæä¹åæ¹æ¡ãé»è®¤æåµä¸ Redis æ²¡æå¼å¯ AOF æä¹åæ¹å¼ï¼å¯ä»¥éè¿ appendonly Â åæ°å¼å¯ã\n\nappendonly yes\n\n\nAOF æä¹åæ¯æ§è¡ä¸æ¡æ´æ¹ Redis æ°æ®çå½ä»¤ï¼ Redis å°±ä¼å°è¯¥å½ä»¤åå¥å°åå­ç¼å­ server.aof_bufï¼ç¶ååæ ¹æ® appendfsyncéç½®å³å®ä½æ¶åæ­¥å°ç¡¬çä¸­ç AOF æä»¶ã\n\nAOF æä»¶ä¿å­ä½ç½®å RDB æä»¶ç¸åï¼é½æ¯éè¿ dir åæ°è®¾ç½®çï¼é»è®¤çæä»¶åæ¯ appendonly.aofã\n\nRedis éç½®æä»¶å­å¨ä¸ç§ä¸åç AOF æä¹åæ¹å¼ï¼åå«æ¯ï¼\n\nappendfsync always\n#æ¯æ¬¡ææ°æ®ä¿®æ¹åçæ¶é½ä¼åå¥AOFæä»¶ï¼è¿æ ·ä¼ä¸¥ééä½Redisçéåº¦\nappendfsync everysec\n#æ¯ç§éåæ­¥ä¸æ¬¡ï¼æ¾å¼å°å°å¤ä¸ªåå½ä»¤åæ­¥å°ç¡¬ç\nappendfsync no\nè®©æä½ç³»ç»å³å®ä½æ¶è¿è¡åæ­¥\n\n\nå¯ä»¥èèä½¿ç¨appendfsync everysecè¿è¡æä¹åï¼è¿æ · Redis æ¯ç§åæ­¥ä¸æ¬¡ AOF æä»¶ï¼å¯¹ Redis æ§è½å ä¹æ²¡å½±åï¼èä¸å³ä½¿ç³»ç»å´©æºï¼æå¤åªä¼ä¸¢å¤±ä¸ç§ä¹åçæ°æ®ã\n\n\n# AOF æ¥å¿æ¯å¦ä½å®ç°ç\n\nå³ç³»åæ°æ®åºï¼å¦ MySQLï¼éè¿é½æ¯æ§è¡å½ä»¤ä¹åè®°å½æ¥å¿ï¼æ¹ä¾¿æéæ¢å¤ï¼ï¼è Redis AOF æä¹åæ¯å¨æ§è¡å½ä»¤ä¹åè®°å½æ¥å¿ã\n\nå¨æ§è¡å½ä»¤åè®°å½æ¥å¿å¯ä»¥é¿åé¢å¤çæ£æ¥å¼éï¼å¹¶ä¸ä¸ä¼é»å¡å½åå½ä»¤çæ§è¡ãä½æ¯å¦æåæ§è¡å®å½ä»¤ Reids å°±ææçè¯å°±ä¼å¯¼è´å¯¹åºçä¿®æ¹ä¸¢å¤±ã\n\n\n# Redis äºå¡\n\n\n# å¦ä½ä½¿ç¨ Reids äºå¡\n\nRedis å¯ä»¥éè¿ MULTIï¼ EXECï¼DISCARDï¼WATCHç­å½ä»¤æ¥å®ç°äºå¡ã\n\nä½¿ç¨ MULITå½ä»¤åå¯ä»¥è¾å¥å¤ä¸ªå½ä»¤ãRedis ä¸ä¼ç«å»æ§è¡è¿äºå½ä»¤ï¼èæ¯æ¾å¥éåä¸­ï¼å½è°ç¨ EXECå½ä»¤åå°æ§è¡ææå½ä»¤ã\n\nDISCARDå½ä»¤å¯ä»¥åæ¶ä¸ä¸ªäºå¡ï¼ä¼å°äºå¡éåä¸­ä¿å­çææå½ä»¤æ¸ç©ºã\n\nWATCHå½ä»¤çå¬æå®çé®ï¼å½è°ç¨ EXECå½ä»¤æ§è¡äºå¡æ¶ï¼å¦æä¸ä¸ªè¢« WATCHå½ä»¤çè§çé®è¢«ä¿®æ¹ï¼æ´ä¸ªäºå¡é½ä¸ä¼æ§è¡ï¼ç´æ¥è¿åå¤±è´¥ã\n\n\n# Redis äºå¡æ¯æåå­æ§å\n\nRedis äºå¡ä¸æ¯æåå­æ§ãRedis äºå¡å¨è¿è¡éè¯¯çæåµä¸ï¼é¤äºå¤çæ§è¡è¿ç¨ä¸­åºç°çéè¯¯å½ä»¤å¤ï¼å¶ä»å½ä»¤é½è½æ­£å¸¸æ§è¡ãå¹¶ä¸ Redis ä¸æ¯æåæ»æä½ãå æ­¤ï¼Redis äºå¡ä¸æ»¡è¶³åå­æ§ã\n\n\n# Redis åå¸å¼é\n\n\n# Redis åå¸å¼éçåºå±åç\n\nä¸ç®¡æ¯å®ç°æ¬å°éè¿æ¯åå¸å¼éï¼æ ¸å¿é½å¨äºâäºæ¥âã äºæ¥ï¼å¨ Redis ä¸­ï¼ SETNX å½ä»¤æ¯å¯ä»¥å¸®å©æä»¬å®ç°äºæ¥ãSETNX å³ SET if Not eXists (å¯¹åº Java ä¸­ç setIfAbsent æ¹æ³)ï¼å¦æ key ä¸å­å¨çè¯ï¼æä¼è®¾ç½® key çå¼ãå¦æ key å·²ç»å­å¨ï¼ SETNX å¥ä¹ä¸åãéæ¾éçè¯ï¼ç´æ¥éè¿ DEL å½ä»¤å é¤å¯¹åºç key å³å¯ã\nåå­æ§ï¼ä¸ºäºé²æ­¢è¯¯å å¶ä»çéï¼ä½¿ç¨ Lua èæ¬éè¿ key å¯¹åºç valueï¼å¯ä¸å¼ï¼æ¥å¤æ­ãéç¨ Lua èæ¬æ¯ä¸ºäºä¿è¯è§£éæä½çåå­æ§ãå ä¸º Redis å¨æ§è¡ Lua èæ¬æ¶ï¼å¯ä»¥ä»¥åå­æ§çæ¹å¼æ§è¡ï¼ä»èä¿è¯äºééæ¾æä½çåå­æ§ã\n\n\n# Redis çäº§é®é¢\n\n\n# ç¼å­ç©¿é\n\n\n# ä»ä¹æ¯ç¼å­ç©¿é\n\nç¼å­ç©¿éå°±æ¯å¤§éè¯·æ±ç key æ ¹æ¬ä¸å­å¨äºç¼å­ä¸­ï¼å¯¼è´è¯·æ±ç´æ¥å°äºæ°æ®åºä¸ï¼æ ¹æ¬æ²¡æç»è¿ç¼å­è¿ä¸å±ã\n\n\n# ç¼å­ç©¿éçå¤çæµç¨æ¯ææ ·ç\n\nå·ä½å¤çæµç¨æ¯ï¼\n\n 1. ç¨æ·è¯·æ±å¨ç¼å­ä¸­æ¾ä¸å°å¯¹åºçæ°æ®\n 2. å¨æ°æ®åºä¹æ¥è¯¢ä¸å°å¯¹åºçæ°æ®ï¼æç»è¿åç©ºæ°æ®ã\n\n\n# æåªäºè§£å³åæ³\n\nï¼1ï¼ç¼å­æ æ key\n\nå¦æç¼å­åæ°æ®åºé½æ¥ä¸å°æä¸ªkeyçæ°æ®ï¼å°±åä¸ä¸ªç©ºæ°æ®å° Redis å¹¶è®¾ç½®ä¸ä¸ªç­æçè¿ææ¶é´ï¼è¿ææ¶é´å°½éç­ä¸ç¹ï¼ãè¿ç§æ¹æ¡åªéç¨äºè¯·æ±ç key ååä¸é¢ç¹çæåµï¼å¹¶ä¸è½ä»æ ¹æ¬ä¸è§£å³è¿é®é¢ã\n\nï¼2ï¼å¸éè¿æ»¤å¨\n\nå°ææå¯è½å­å¨çè¯·æ±å¼é½å­å¨å¸éè¿æ»¤å¨ä¸­ï¼å½ç¨æ·è¯·æ±è¿æ¥ï¼åå¤æ­ç¨æ·åæ¥çè¯·æ±æ¯å¦å­å¨äºå¸éè¿æ»¤å¨ä¸­ãä¸å­å¨çè¯ï¼ç´æ¥è¿åè¯·æ±åæ°éè¯¯ä¿¡æ¯ç»å®¢æ·ç«¯ï¼å­å¨çè¯æä¼èµ°æ­£å¸¸è·åç¼å­çæµç¨ã\n\n\n# ç¼å­éªå´©\n\nç¼å­éªå´©å°±æ¯ç¼å­å¨åä¸æ¶é´å¤§é¢ç§¯å¤±æï¼åé¢çè¯·æ±é½ç´æ¥è½å°æ°æ®åºä¸ï¼é ææ°æ®åºç­æ¶é´åæ¿åå¤§éè¯·æ±ã\n\nç¼å­éªå´©å¯ä»¥åºç°åå ï¼\n\n * Redis æå¡ä¸å¯ç¨\n * ç­ç¹ç¼å­å¤±æ\n\néå¯¹ Redis æå¡ä¸å¯ç¨çæåµï¼å¯ä»¥æ­å»º Redis éç¾¤ï¼é¿ååæºåºç°é®é¢æ´ä¸ªç¼å­æå¡é½æ²¡æ³ä½¿ç¨ãè¿å¯ä»¥éæµï¼é¿ååæ¶å¤çå¤§éçè¯·æ±ã\n\néå¯¹ç­ç¹ç¼å­å¤±æï¼å¯ä»¥è®¾ç½®ç­ç¹ç¼å­ä¸åçå¤±ææ¶é´ï¼çè³å¯ä»¥è®¾ç½®ç¼å­æ°¸ä¸å¤±æã\n\n\n# å¦ä½ä¿è¯ç¼å­åæ°æ®åºæ°æ®çä¸è´æ§\n\næ²¡æ³å®å¨ä¿è¯ç¼å­æ°æ®ä¸æ°æ®åºçä¸è´ï¼ä½å¯ä»¥å°½éè®©å®ä»¬ä¿æä¸è´ãå¯ä»¥ä½¿ç¨æè·¯ç¼å­æ¨¡å¼ï¼å½éå°åè¯·æ±æ¶ï¼åæ´æ°æ°æ®åºï¼åå é¤ç¼å­ã\n\nå¦ææ´æ°æ°æ®åºæåï¼å é¤ç¼å­å¤±è´¥çè¯ï¼å°±ä½¿ç¨æ¶æ¯éåè¿è¡å¼æ­¥éè¯ã",normalizedContent:"# redis åºç¡\n\n\n# ç®åä»ç»ä¸ redis\n\nredis æ¯ c è¯­è¨å¼åçæ°æ®åºï¼ä¸ä¼ ç»æ°æ®åºä¸åæ¯ redis çæ°æ®æ¯å­å¨åå­ä¸­çï¼æä»¥è¯»åéå¸¸å¿«ï¼å æ­¤redis è¢«å¹¿æ³åºç¨å¨ç¼å­æ¹é¢ãredis é¤äºåç¼å­ï¼ä¹å¯ä»¥ç¨æ¥ååå¸å¼éï¼çè³æ¯æ¶æ¯éåã\n\nredis æä¾äºå¤ç§æ°æ®ç±»åæ¥æ¯æä¸åçä¸å¡åºæ¯ãredisè¿æ¯æäºå¡ãæä¹åãluaèæ¬åå¤ç§éç¾¤æ¹æ¡ã\n\n\n# ç¼å­æ°æ®å¤çæµç¨æ¯æä¹æ ·ç\n\n 1. å¦æç¨æ·è¯·æ±çæ°æ®å¨ç¼å­ä¸­å­å¨å°±ç´æ¥è¿åæ°æ®\n 2. å¦æç¼å­ä¸å­å¨å°±çæ°æ®åºæ¯å¦å­å¨æ°æ®ã\n 3. æ°æ®åºå¦æå­å¨æ°æ®çè¯ï¼å°±æ´æ°ç¼å­çæ°æ®ï¼å¹¶å°æ°æ®è¿åç»ç¨æ·ã\n 4. å¦ææ°æ®åºæ²¡ææ°æ®çè¯ï¼å°±è¿åç©ºæ°æ®ã\n\n\n# ä¸ºä»ä¹è¦ä½¿ç¨ redisï¼ç¼å­ï¼\n\nä½¿ç¨ç¼å­æ¯ä¸ºäºæé«æ§è½è¿èæåç¨æ·ä½éªã\n\n\n# redis é¤äºåç¼å­ï¼è¿è½åä»ä¹\n\n * åå¸å¼éï¼redis ååå¸å¼éæ¯ä¸ç§å¸¸è§çæ¹å¼ãéå¸¸æåµä¸ï¼æä»¬é½æ¯åºäº redisson Â æ¥å®ç°åå¸å¼éã\n * éæµï¼å¯ä»¥éè¿ redis+lua èæ¬å®ç°éæµã\n * æ¶æ¯éåï¼redis èªå¸¦ç list æ°æ®ç»æå¯ä»¥ä½ä¸ºä¸ä¸ªç®åçéåä½¿ç¨ã\n\n\n# redis æ°æ®ç»æ\n\n\n# redis å¸¸ç¨çæ°æ®ç»ææåªäº\n\n * 5ç§åºç¡æ°æ®ç»æï¼stringï¼å­ç¬¦ä¸²ï¼ãlistï¼åè¡¨ï¼ãhashï¼æ£åï¼ãsetï¼éåï¼ãzsetï¼æåºéåï¼\n * 3ç§ç¹æ®æ°æ®ç»æï¼hyperloglogsï¼åºæ°ç»è®¡ï¼ãbitmapï¼ä½å­å¨ï¼ãgeospatialï¼å°çä½ç½®ï¼\n\n\n# string çåºç¨åºæ¯æåªäº\n\n * å¸¸è§æ°æ®ï¼æ¯å¦ sessionãtokenãåºåååçå¯¹è±¡ï¼çç¼å­ã\n * è®¡æ°ï¼æ¯å¦ç¨æ·åä½æ¶é´çè¯·æ±æ°ãé¡µé¢åä½æ¶é´çè®¿é®æ°ã\n * åå¸å¼éï¼å©ç¨ setnx key value å½ä»¤å¯ä»¥å®ç°ä¸ä¸ªæç®æçåå¸å¼éï¼\n\n\n# string è¿æ¯ hashå­å¨å¯¹è±¡æ°æ®æ´å¥½å¢\n\nç»å¤§é¨åå»ºè®®ä½¿ç¨ string å­å¨å¯¹è±¡æ°æ®ï¼é¤éå¯¹è±¡ä¸­çæä¸ªå­æ®µç»å¸¸åå¨æèéè¦åç¬æ¥è¯¢å¯¹è±¡ä¸­çä¸ªå«å­æ®µä¿¡æ¯ï¼è¿æ¶å°±å¯ä»¥æ¯ hashå­å¨ã\n\n\n# ä½¿ç¨ redis å®ç°ä¸ä¸ªæè¡æ¦æä¹å\n\nredis ä¸­æä¸ä¸ªå«åsorted setçæ°æ®ç»æç»å¸¸è¢«ç¨å¨åç§æè¡æ¦çåºæ¯ã\n\nä½¿ç¨ç¸å³ç redis å½ä»¤å¯ä»¥è¿è¡æè¡ï¼ zrange (ä»å°å°å¤§æåº) ã zrevrange ï¼ä»å¤§å°å°æåºï¼ã zrevrank (æå®åç´ æå)ã\n\n\n# ä½¿ç¨ set å®ç°æ½å¥ç³»ç»\n\n * spop key countï¼éæºç§»é¤å¹¶è·åæå®éåä¸­ä¸ä¸ªæå¤ä¸ªåç´ ï¼éåä¸åè®¸éå¤ä¸­å¥çåºæ¯ã\n * srandmember key countï¼éæºè·åæå®éåä¸­æå®æ°éçåç´ ï¼éååè®¸éå¤ä¸­å¥çåºæ¯ã\n\n\n# redis åå­ç®¡ç\n\n\n# reids ç»ç¼å­æ°æ®è®¾ç½®è¿ææ¶é´æå¥ç¨\n\nä¸»è¦æä¸¤ä¸ªæ¹é¢ï¼\n\n * åå­æ¯æéçï¼å¦æç¼å­ä¸­çæææ°æ®é½ä¸ç´ä¿å­çè¯ï¼ååéå°±åå­æº¢åºäºã\n * æäºä¸å¡åºæ¯å°±æ¯éè¦æ°æ®åªå¨æä¸æ¶é´æ®µåå­å¨ï¼æ¯å¦ç­ä¿¡éªè¯ç ãç¨æ·ç»å½ç tokenã\n\nredis ä¸­é¤äºå­ç¬¦ä¸²ç±»åæèªå·±è®¾ç½®è¿ææ¶é´å½ä»¤ setexå¤ï¼å¶ä»æ¹æ³é½éè¦ä¾é  expireå½ä»¤æ¥è®¾ç½®è¿ææ¶é´ãå¦å¤ï¼persistå½ä»¤å¯ä»¥ç§»é¤ä¸ä¸ªé®çè¿ææ¶é´ã\n\n\n# redis æ¯å¦ä½å¤æ­æ°æ®æ¯å¦è¿æå¢\n\nredis éè¿ä¸ä¸ªå«åè¿æå­å¸ï¼å¯ä»¥çä½æ¯ hash è¡¨ï¼æ¥ä¿å­æ°æ®è¿æçæ¶é´ãè¿æå­å¸çé®æå redis æ°æ®åºä¸­çæä¸ª keyï¼é®ï¼ï¼è¿æå­å¸çå¼æ¯ä¸ä¸ª long long ç±»åçæ´æ°ï¼è¿ä¸ªæ´æ°ä¿å­äº key ææåæ°æ®åºé®çè¿ææ¶é´ã\n\n\n# redis è¿ææ°æ®çå é¤ç­ç¥äºè§£å\n\nå¸¸è§çè¿ææ°æ®å é¤ç­ç¥æä¸¤ç§ï¼\n\n * æ°æ§å é¤ï¼åªä¼å¨ååº key çæ¶åæå¯¹æ°æ®è¿è¡è¿ææ£æ¥ã\n * å®æå é¤ï¼æ¯éä¸æ®µæ¶é´æ½åä¸æ¹ key æ§è¡å é¤è¿æ key æä½ã\n\nå®æå é¤å¯¹åå­æ´å åå¥½ï¼æ°æ§å é¤å¯¹cpuæ¯è¾åå¥½ãrediséç¨çå®æå é¤+æ°æ§å é¤ã\n\n\n# redis æä¹åæºå¶\n\n\n# æä¹ä¿è¯ redis ææä¹ååéå¯æ°æ®å¯ä»¥è¿è¡æ¢å¤\n\néè¿æä¹åæ¢å¤æ°æ®ãæä¹åæ°æ®å°±æ¯å°åå­ä¸­çæ°æ®åå¥å°ç¡¬çéé¢ï¼å¯ä»¥ç¨æ¥æ¢å¤æ°æ®ã\n\nredis æ¯ææä¹åæ°æ®ï¼å¹¶ä¸æ¯æä¸¤ç§ä¸åçæä¹åæä½ãä¸ç§æä¹åæ¹å¼å«å¿«ç§ï¼rdbï¼ï¼å¦ä¸ç§æ¹å¼æ¯åªè¿½å æä»¶ï¼aofï¼ã\n\n\n# ä»ä¹æ¯ rdb æä¹å\n\nredis å¯ä»¥éè¿åå»ºå¿«ç§æ¥è·å¾å­å¨å¨åå­ä¸­çæ°æ®å¨æä¸ªæ¶é´ç¹çå¯æ¬ãåå»ºå¿«ç§åï¼å¯ä»¥å¯¹å¿«ç§è¿è¡å¤ä»½ï¼ä¹å¯ä»¥å¤å¶å°å¶ä»æå¡å¨åå»ºç¸åæ°æ®çæå¡å¨å¯æ¬ï¼redis ä¸»ä»ç»æï¼ä¸»è¦ç¨æ¥æé« redis æ§è½ï¼ãå¿«ç§æä¹åæ¯ redis é»è®¤éç¨çæä¹åæ¹å¼ã\n\n\n# rdb åå»ºå¿«ç§æ¶ä¼é»å¡ä¸»çº¿ç¨å\n\nredis æä¾äº save å bgsave ä¸¤ä¸ªå½ä»¤æ¥çæ rdb å¿«ç§æä»¶ï¼é»è®¤éé¡¹æ¯bgsaveã\n\nsaveå½ä»¤æ¯ä¸»çº¿ç¨æ§è¡çï¼ä¼é»å¡ä¸»çº¿ç¨ã\n\nbgsaveå½ä»¤æ¯å­çº¿ç¨æ§è¡ï¼ä¸ä¼é»å¡ä¸»çº¿ç¨ã\n\n\n# ä»ä¹æ¯ aof æä¹å\n\nä¸å¿«ç§æä¹åç¸æ¯ï¼ aof æä¹åå®æ¶æ§æ´å¥½ï¼æ¯ç°å¨ä¸»æµçæä¹åæ¹æ¡ãé»è®¤æåµä¸ redis æ²¡æå¼å¯ aof æä¹åæ¹å¼ï¼å¯ä»¥éè¿ appendonly Â åæ°å¼å¯ã\n\nappendonly yes\n\n\naof æä¹åæ¯æ§è¡ä¸æ¡æ´æ¹ redis æ°æ®çå½ä»¤ï¼ redis å°±ä¼å°è¯¥å½ä»¤åå¥å°åå­ç¼å­ server.aof_bufï¼ç¶ååæ ¹æ® appendfsyncéç½®å³å®ä½æ¶åæ­¥å°ç¡¬çä¸­ç aof æä»¶ã\n\naof æä»¶ä¿å­ä½ç½®å rdb æä»¶ç¸åï¼é½æ¯éè¿ dir åæ°è®¾ç½®çï¼é»è®¤çæä»¶åæ¯ appendonly.aofã\n\nredis éç½®æä»¶å­å¨ä¸ç§ä¸åç aof æä¹åæ¹å¼ï¼åå«æ¯ï¼\n\nappendfsync always\n#æ¯æ¬¡ææ°æ®ä¿®æ¹åçæ¶é½ä¼åå¥aofæä»¶ï¼è¿æ ·ä¼ä¸¥ééä½redisçéåº¦\nappendfsync everysec\n#æ¯ç§éåæ­¥ä¸æ¬¡ï¼æ¾å¼å°å°å¤ä¸ªåå½ä»¤åæ­¥å°ç¡¬ç\nappendfsync no\nè®©æä½ç³»ç»å³å®ä½æ¶è¿è¡åæ­¥\n\n\nå¯ä»¥èèä½¿ç¨appendfsync everysecè¿è¡æä¹åï¼è¿æ · redis æ¯ç§åæ­¥ä¸æ¬¡ aof æä»¶ï¼å¯¹ redis æ§è½å ä¹æ²¡å½±åï¼èä¸å³ä½¿ç³»ç»å´©æºï¼æå¤åªä¼ä¸¢å¤±ä¸ç§ä¹åçæ°æ®ã\n\n\n# aof æ¥å¿æ¯å¦ä½å®ç°ç\n\nå³ç³»åæ°æ®åºï¼å¦ mysqlï¼éè¿é½æ¯æ§è¡å½ä»¤ä¹åè®°å½æ¥å¿ï¼æ¹ä¾¿æéæ¢å¤ï¼ï¼è redis aof æä¹åæ¯å¨æ§è¡å½ä»¤ä¹åè®°å½æ¥å¿ã\n\nå¨æ§è¡å½ä»¤åè®°å½æ¥å¿å¯ä»¥é¿åé¢å¤çæ£æ¥å¼éï¼å¹¶ä¸ä¸ä¼é»å¡å½åå½ä»¤çæ§è¡ãä½æ¯å¦æåæ§è¡å®å½ä»¤ reids å°±ææçè¯å°±ä¼å¯¼è´å¯¹åºçä¿®æ¹ä¸¢å¤±ã\n\n\n# redis äºå¡\n\n\n# å¦ä½ä½¿ç¨ reids äºå¡\n\nredis å¯ä»¥éè¿ multiï¼ execï¼discardï¼watchç­å½ä»¤æ¥å®ç°äºå¡ã\n\nä½¿ç¨ mulitå½ä»¤åå¯ä»¥è¾å¥å¤ä¸ªå½ä»¤ãredis ä¸ä¼ç«å»æ§è¡è¿äºå½ä»¤ï¼èæ¯æ¾å¥éåä¸­ï¼å½è°ç¨ execå½ä»¤åå°æ§è¡ææå½ä»¤ã\n\ndiscardå½ä»¤å¯ä»¥åæ¶ä¸ä¸ªäºå¡ï¼ä¼å°äºå¡éåä¸­ä¿å­çææå½ä»¤æ¸ç©ºã\n\nwatchå½ä»¤çå¬æå®çé®ï¼å½è°ç¨ execå½ä»¤æ§è¡äºå¡æ¶ï¼å¦æä¸ä¸ªè¢« watchå½ä»¤çè§çé®è¢«ä¿®æ¹ï¼æ´ä¸ªäºå¡é½ä¸ä¼æ§è¡ï¼ç´æ¥è¿åå¤±è´¥ã\n\n\n# redis äºå¡æ¯æåå­æ§å\n\nredis äºå¡ä¸æ¯æåå­æ§ãredis äºå¡å¨è¿è¡éè¯¯çæåµä¸ï¼é¤äºå¤çæ§è¡è¿ç¨ä¸­åºç°çéè¯¯å½ä»¤å¤ï¼å¶ä»å½ä»¤é½è½æ­£å¸¸æ§è¡ãå¹¶ä¸ redis ä¸æ¯æåæ»æä½ãå æ­¤ï¼redis äºå¡ä¸æ»¡è¶³åå­æ§ã\n\n\n# redis åå¸å¼é\n\n\n# redis åå¸å¼éçåºå±åç\n\nä¸ç®¡æ¯å®ç°æ¬å°éè¿æ¯åå¸å¼éï¼æ ¸å¿é½å¨äºâäºæ¥âã äºæ¥ï¼å¨ redis ä¸­ï¼ setnx å½ä»¤æ¯å¯ä»¥å¸®å©æä»¬å®ç°äºæ¥ãsetnx å³ set if not exists (å¯¹åº java ä¸­ç setifabsent æ¹æ³)ï¼å¦æ key ä¸å­å¨çè¯ï¼æä¼è®¾ç½® key çå¼ãå¦æ key å·²ç»å­å¨ï¼ setnx å¥ä¹ä¸åãéæ¾éçè¯ï¼ç´æ¥éè¿ del å½ä»¤å é¤å¯¹åºç key å³å¯ã\nåå­æ§ï¼ä¸ºäºé²æ­¢è¯¯å å¶ä»çéï¼ä½¿ç¨ lua èæ¬éè¿ key å¯¹åºç valueï¼å¯ä¸å¼ï¼æ¥å¤æ­ãéç¨ lua èæ¬æ¯ä¸ºäºä¿è¯è§£éæä½çåå­æ§ãå ä¸º redis å¨æ§è¡ lua èæ¬æ¶ï¼å¯ä»¥ä»¥åå­æ§çæ¹å¼æ§è¡ï¼ä»èä¿è¯äºééæ¾æä½çåå­æ§ã\n\n\n# redis çäº§é®é¢\n\n\n# ç¼å­ç©¿é\n\n\n# ä»ä¹æ¯ç¼å­ç©¿é\n\nç¼å­ç©¿éå°±æ¯å¤§éè¯·æ±ç key æ ¹æ¬ä¸å­å¨äºç¼å­ä¸­ï¼å¯¼è´è¯·æ±ç´æ¥å°äºæ°æ®åºä¸ï¼æ ¹æ¬æ²¡æç»è¿ç¼å­è¿ä¸å±ã\n\n\n# ç¼å­ç©¿éçå¤çæµç¨æ¯ææ ·ç\n\nå·ä½å¤çæµç¨æ¯ï¼\n\n 1. ç¨æ·è¯·æ±å¨ç¼å­ä¸­æ¾ä¸å°å¯¹åºçæ°æ®\n 2. å¨æ°æ®åºä¹æ¥è¯¢ä¸å°å¯¹åºçæ°æ®ï¼æç»è¿åç©ºæ°æ®ã\n\n\n# æåªäºè§£å³åæ³\n\nï¼1ï¼ç¼å­æ æ key\n\nå¦æç¼å­åæ°æ®åºé½æ¥ä¸å°æä¸ªkeyçæ°æ®ï¼å°±åä¸ä¸ªç©ºæ°æ®å° redis å¹¶è®¾ç½®ä¸ä¸ªç­æçè¿ææ¶é´ï¼è¿ææ¶é´å°½éç­ä¸ç¹ï¼ãè¿ç§æ¹æ¡åªéç¨äºè¯·æ±ç key ååä¸é¢ç¹çæåµï¼å¹¶ä¸è½ä»æ ¹æ¬ä¸è§£å³è¿é®é¢ã\n\nï¼2ï¼å¸éè¿æ»¤å¨\n\nå°ææå¯è½å­å¨çè¯·æ±å¼é½å­å¨å¸éè¿æ»¤å¨ä¸­ï¼å½ç¨æ·è¯·æ±è¿æ¥ï¼åå¤æ­ç¨æ·åæ¥çè¯·æ±æ¯å¦å­å¨äºå¸éè¿æ»¤å¨ä¸­ãä¸å­å¨çè¯ï¼ç´æ¥è¿åè¯·æ±åæ°éè¯¯ä¿¡æ¯ç»å®¢æ·ç«¯ï¼å­å¨çè¯æä¼èµ°æ­£å¸¸è·åç¼å­çæµç¨ã\n\n\n# ç¼å­éªå´©\n\nç¼å­éªå´©å°±æ¯ç¼å­å¨åä¸æ¶é´å¤§é¢ç§¯å¤±æï¼åé¢çè¯·æ±é½ç´æ¥è½å°æ°æ®åºä¸ï¼é ææ°æ®åºç­æ¶é´åæ¿åå¤§éè¯·æ±ã\n\nç¼å­éªå´©å¯ä»¥åºç°åå ï¼\n\n * redis æå¡ä¸å¯ç¨\n * ç­ç¹ç¼å­å¤±æ\n\néå¯¹ redis æå¡ä¸å¯ç¨çæåµï¼å¯ä»¥æ­å»º redis éç¾¤ï¼é¿ååæºåºç°é®é¢æ´ä¸ªç¼å­æå¡é½æ²¡æ³ä½¿ç¨ãè¿å¯ä»¥éæµï¼é¿ååæ¶å¤çå¤§éçè¯·æ±ã\n\néå¯¹ç­ç¹ç¼å­å¤±æï¼å¯ä»¥è®¾ç½®ç­ç¹ç¼å­ä¸åçå¤±ææ¶é´ï¼çè³å¯ä»¥è®¾ç½®ç¼å­æ°¸ä¸å¤±æã\n\n\n# å¦ä½ä¿è¯ç¼å­åæ°æ®åºæ°æ®çä¸è´æ§\n\næ²¡æ³å®å¨ä¿è¯ç¼å­æ°æ®ä¸æ°æ®åºçä¸è´ï¼ä½å¯ä»¥å°½éè®©å®ä»¬ä¿æä¸è´ãå¯ä»¥ä½¿ç¨æè·¯ç¼å­æ¨¡å¼ï¼å½éå°åè¯·æ±æ¶ï¼åæ´æ°æ°æ®åºï¼åå é¤ç¼å­ã\n\nå¦ææ´æ°æ°æ®åºæåï¼å é¤ç¼å­å¤±è´¥çè¯ï¼å°±ä½¿ç¨æ¶æ¯éåè¿è¡å¼æ­¥éè¯ã",charsets:{cjk:!0},lastUpdated:"2023/11/02, 03:14:56",lastUpdatedTimestamp:1698894896e3},{title:"SpringBoot é¢è¯é¢",frontmatter:{title:"SpringBoot é¢è¯é¢",date:"2023-10-24T15:45:53.000Z",permalink:"/pages/663a49/"},regularPath:"/02.Java%20%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/02.Java%20%E5%85%AB%E8%82%A1%E6%96%87/10.SpringBoot%20%E9%9D%A2%E8%AF%95%E9%A2%98.html",relativePath:"02.Java é¢è¯å®å¸/02.Java å«è¡æ/10.SpringBoot é¢è¯é¢.md",key:"v-be1bac58",path:"/pages/663a49/",headers:[{level:1,title:"ä¸ºä»ä¹è¦æ SpringBoot",slug:"ä¸ºä»ä¹è¦æ-springboot",normalizedTitle:"ä¸ºä»ä¹è¦æ springboot",charIndex:2},{level:1,title:"è¯´åºä½¿ç¨SpringBootçä¸»è¦ä¼ç¹",slug:"è¯´åºä½¿ç¨springbootçä¸»è¦ä¼ç¹",normalizedTitle:"è¯´åºä½¿ç¨springbootçä¸»è¦ä¼ç¹",charIndex:92},{level:1,title:"ä»ä¹æ¯SpringBoot Starters",slug:"ä»ä¹æ¯springboot-starters",normalizedTitle:"ä»ä¹æ¯springboot starters",charIndex:641},{level:1,title:"Spring Boot æ¯æåªäºååµServletå®¹å¨",slug:"spring-boot-æ¯æåªäºååµservletå®¹å¨",normalizedTitle:"spring boot æ¯æåªäºååµservletå®¹å¨",charIndex:1082},{level:1,title:"ä»ç»ä¸ä¸@SpringBootApplication æ³¨è§£",slug:"ä»ç»ä¸ä¸-springbootapplication-æ³¨è§£",normalizedTitle:"ä»ç»ä¸ä¸@springbootapplication æ³¨è§£",charIndex:1243},{level:1,title:"SpringBootçèªå¨éç½®æ¯å¦ä½å®ç°ç",slug:"springbootçèªå¨éç½®æ¯å¦ä½å®ç°ç",normalizedTitle:"springbootçèªå¨éç½®æ¯å¦ä½å®ç°ç",charIndex:1577},{level:1,title:"å¼åRESTful Webæå¡å¸¸ç¨çæ³¨è§£æåªäº",slug:"å¼årestful-webæå¡å¸¸ç¨çæ³¨è§£æåªäº",normalizedTitle:"å¼årestful webæå¡å¸¸ç¨çæ³¨è§£æåªäº",charIndex:2415},{level:1,title:"Spring Boot å¸¸ç¨çä¸¤ç§éç½®æä»¶",slug:"spring-boot-å¸¸ç¨çä¸¤ç§éç½®æä»¶",normalizedTitle:"spring boot å¸¸ç¨çä¸¤ç§éç½®æä»¶",charIndex:3305},{level:1,title:"ä»ä¹æ¯YAMLï¼YAMLéç½®çä¼å¿å¨åªé",slug:"ä»ä¹æ¯yaml-yamléç½®çä¼å¿å¨åªé",normalizedTitle:"ä»ä¹æ¯yamlï¼yamléç½®çä¼å¿å¨åªé",charIndex:3427},{level:1,title:"Spring Bootå¸¸ç¨çè¯»åéç½®çæ¹æ³æåªäº",slug:"spring-bootå¸¸ç¨çè¯»åéç½®çæ¹æ³æåªäº",normalizedTitle:"spring bootå¸¸ç¨çè¯»åéç½®çæ¹æ³æåªäº",charIndex:3663},{level:1,title:"Spring Boot å è½½éç½®æä»¶çä¼åçº§äºè§£å",slug:"spring-boot-å è½½éç½®æä»¶çä¼åçº§äºè§£å",normalizedTitle:"spring boot å è½½éç½®æä»¶çä¼åçº§äºè§£å",charIndex:3840},{level:1,title:"å¸¸è§çBeanæ å°å·¥å·æåªäº",slug:"å¸¸è§çbeanæ å°å·¥å·æåªäº",normalizedTitle:"å¸¸è§çbeanæ å°å·¥å·æåªäº",charIndex:4030},{level:1,title:"Spring Boot å¦ä½çæ§ç³»ç»å®éè¿è¡ç¶åµ",slug:"spring-boot-å¦ä½çæ§ç³»ç»å®éè¿è¡ç¶åµ",normalizedTitle:"spring boot å¦ä½çæ§ç³»ç»å®éè¿è¡ç¶åµ",charIndex:4326},{level:1,title:"SpringBootå¦ä½åè¯·æ±åæ°æ ¡éª",slug:"springbootå¦ä½åè¯·æ±åæ°æ ¡éª",normalizedTitle:"springbootå¦ä½åè¯·æ±åæ°æ ¡éª",charIndex:4658},{level:2,title:"æ ¡éªæ³¨è§£",slug:"æ ¡éªæ³¨è§£",normalizedTitle:"æ ¡éªæ³¨è§£",charIndex:4849},{level:2,title:"éªè¯è¯·æ±ä½(RequestBody)",slug:"éªè¯è¯·æ±ä½-requestbody",normalizedTitle:"éªè¯è¯·æ±ä½(requestbody)",charIndex:5591},{level:2,title:"éªè¯è¯·æ±åæ°(Path Variables å Request Parameters)",slug:"éªè¯è¯·æ±åæ°-path-variables-å-request-parameters",normalizedTitle:"éªè¯è¯·æ±åæ°(path variables å request parameters)",charIndex:5727},{level:1,title:"å¦ä½ä½¿ç¨Spring Bootå®ç°å¨å±å¼å¸¸å¤ç",slug:"å¦ä½ä½¿ç¨spring-bootå®ç°å¨å±å¼å¸¸å¤ç",normalizedTitle:"å¦ä½ä½¿ç¨spring bootå®ç°å¨å±å¼å¸¸å¤ç",charIndex:5829},{level:1,title:"Spring Boot ä¸­å¦ä½å®ç°å®æ¶ä»»å¡",slug:"spring-boot-ä¸­å¦ä½å®ç°å®æ¶ä»»å¡",normalizedTitle:"spring boot ä¸­å¦ä½å®ç°å®æ¶ä»»å¡",charIndex:5949}],headersStr:"ä¸ºä»ä¹è¦æ SpringBoot è¯´åºä½¿ç¨SpringBootçä¸»è¦ä¼ç¹ ä»ä¹æ¯SpringBoot Starters Spring Boot æ¯æåªäºååµServletå®¹å¨ ä»ç»ä¸ä¸@SpringBootApplication æ³¨è§£ SpringBootçèªå¨éç½®æ¯å¦ä½å®ç°ç å¼åRESTful Webæå¡å¸¸ç¨çæ³¨è§£æåªäº Spring Boot å¸¸ç¨çä¸¤ç§éç½®æä»¶ ä»ä¹æ¯YAMLï¼YAMLéç½®çä¼å¿å¨åªé Spring Bootå¸¸ç¨çè¯»åéç½®çæ¹æ³æåªäº Spring Boot å è½½éç½®æä»¶çä¼åçº§äºè§£å å¸¸è§çBeanæ å°å·¥å·æåªäº Spring Boot å¦ä½çæ§ç³»ç»å®éè¿è¡ç¶åµ SpringBootå¦ä½åè¯·æ±åæ°æ ¡éª æ ¡éªæ³¨è§£ éªè¯è¯·æ±ä½(RequestBody) éªè¯è¯·æ±åæ°(Path Variables å Request Parameters) å¦ä½ä½¿ç¨Spring Bootå®ç°å¨å±å¼å¸¸å¤ç Spring Boot ä¸­å¦ä½å®ç°å®æ¶ä»»å¡",content:"# ä¸ºä»ä¹è¦æ SpringBoot\n\nSpring æ¨å¨ç®å J2EE ä¼ä¸åºç¨ç¨åºå¼åãSpring Boot æ¨å¨ç®å Spring å¼åï¼åå°éç½®æä»¶ï¼å¼ç®±å³ç¨ï¼ï¼ã\n\n\n# è¯´åºä½¿ç¨SpringBootçä¸»è¦ä¼ç¹\n\n 1. å¼ååºäº Spring çåºç¨ç¨åºå¾å®¹æã\n 2. Spring Boot é¡¹ç®æéçå¼åæå·¥ç¨æ¶é´ææ¾åå°ï¼éå¸¸ä¼æé«æ´ä½çäº§åã\n 3. Spring Boot ä¸éè¦ç¼åå¤§éæ ·æ¿ä»£ç ãXML éç½®åæ³¨\n 4. Spring å¼å¯¼åºç¨ç¨åºå¯ä»¥å¾å®¹æå°ä¸ Spring çæç³»ç»éæï¼å¦ Spring JDBCãSpring ORMãSpring DataãSpring Security ç­ã\n 5. Spring Boot éµå¾ªâåºæ§å·±è§çé»è®¤éç½®âï¼ä»¥åå°å¼åå·¥ä½ï¼é»è®¤éç½®å¯ä»¥ä¿®æ¹ï¼ã\n 6. Spring Boot åºç¨ç¨åºæä¾åµå¥å¼ HTTP æå¡å¨ï¼å¦ Tomcat å Jettyï¼å¯ä»¥è½»æ¾å°å¼ååæµè¯ web åºç¨ç¨åºãï¼è¿ç¹å¾èµï¼æ®éè¿è¡ Java ç¨åºçæ¹å¼å°±è½è¿è¡åºäº Spring Boot web é¡¹ç®ï¼çäºå¾å¤ï¼\n 7. Spring Boot æä¾å½ä»¤è¡æ¥å£(CLI)å·¥å·ï¼ç¨äºå¼ååæµè¯ Spring Boot åºç¨ç¨åºï¼å¦ Java æ Groovyã\n 8. Spring Boot æä¾äºå¤ç§æä»¶ï¼å¯ä»¥ä½¿ç¨åç½®å·¥å·(å¦ Maven å Gradle)å¼ååæµè¯ Spring Boot åºç¨ç¨åºã\n\n\n# ä»ä¹æ¯SpringBoot Starters\n\nSpring Boot Starters æ¯ä¸ç³»åä¾èµå³ç³»çéåï¼å ä¸ºå®çå­å¨ï¼é¡¹ç®çä¾èµä¹é´çå³ç³»å¯¹æä»¬æ¥è¯´åçæ´å ç®åäºã\n\nä¸¾ä¸ªä¾å­ï¼å¨æ²¡æ Spring Boot Starters ä¹åï¼æä»¬å¼å REST æå¡æ Web åºç¨ç¨åºæ¶; æä»¬éè¦ä½¿ç¨å Spring MVCï¼Tomcat å Jackson è¿æ ·çåºï¼è¿äºä¾èµæä»¬éè¦æå¨ä¸ä¸ªä¸ä¸ªæ·»å ãä½æ¯ï¼æäº Spring Boot Starters æä»¬åªéè¦ä¸ä¸ªåªéæ·»å ä¸ä¸ªspring-boot-starter-webä¸ä¸ªä¾èµå°±å¯ä»¥äºï¼è¿ä¸ªä¾èµåå«çå­ä¾èµä¸­åå«äºæä»¬å¼å REST æå¡éè¦çææä¾èµã\n\n<dependency>\n\t<groupId>org.springframework.boot</groupId>\n  <artifactId>spirng-boot-starter-web</artifactId>\n</dependency>\n\n\n\n# Spring Boot æ¯æåªäºååµServletå®¹å¨\n\nSpring Boot æ¯æä»¥ä¸åµå¥å¼ Servlet å®¹å¨:\n\n| Name\n\n| Servlet Version\n\n\nTomcat 9.0\n\n| 4.0\n\n| | Jetty 9.4\n\n| 3.1\n\n| | Undertow 2.0\n\n| 4.0 |\n\n\n# ä»ç»ä¸ä¸@SpringBootApplication æ³¨è§£\n\n@SpringBootApplicationå¯ä»¥çä½æ¯ @Configurationã@EnableAutoConfigurationã@ComponentScan æ³¨è§£çéåãæ ¹æ® SpringBoot å®ç½ï¼è¿ä¸ä¸ªæ³¨è§£çä½ç¨åå«æ¯ï¼\n\n * @EnableAutoConfigurationï¼å¯ç¨ SpringBoot çèªå¨éç½®æºå¶\n * @ComponentScanï¼ æ«æè¢«@Component (@Service,@Controller)æ³¨è§£ç beanï¼æ³¨è§£é»è®¤ä¼æ«æè¯¥ç±»æå¨çåä¸ææçç±»ã\n * @Configurationï¼åè®¸å¨ä¸ä¸æä¸­æ³¨åé¢å¤ç bean æå¯¼å¥å¶ä»éç½®ç±»\n\n\n# SpringBootçèªå¨éç½®æ¯å¦ä½å®ç°ç\n\nè¿ä¸ªæ¯å ä¸º@SpringBootApplicationæ³¨è§£çåå ï¼å¨ä¸ä¸ä¸ªé®é¢ä¸­å·²ç»æå°äºè¿ä¸ªæ³¨è§£ãæä»¬ç¥é @SpringBootApplicationçä½æ¯ @Configurationã@EnableAutoConfigurationã@ComponentScan æ³¨è§£çéåã @EnableAutoConfigurationæ¯å¯å¨èªå¨éç½®çå³é® @EnableAutoConfiguration æ³¨è§£éè¿ Spring æä¾ç @Import æ³¨è§£å¯¼å¥äºAutoConfigurationImportSelectorç±»ï¼@Import æ³¨è§£å¯ä»¥å¯¼å¥éç½®ç±»æè Bean å°å½åç±»ä¸­ï¼ã AutoConfigurationImportSelectorç±»ä¸­getCandidateConfigurationsæ¹æ³ä¼å°ææèªå¨éç½®ç±»çä¿¡æ¯ä»¥ List çå½¢å¼è¿åãè¿äºéç½®ä¿¡æ¯ä¼è¢« Spring å®¹å¨ä½ bean æ¥ç®¡çã èªå¨éç½®ä¿¡æ¯æäºï¼é£ä¹èªå¨éç½®è¿å·®ä»ä¹å¢ï¼ @Conditional æ³¨è§£ã@ConditionalOnClass(æå®çç±»å¿é¡»å­å¨äºç±»è·¯å¾ä¸),@ConditionalOnBean(å®¹å¨ä¸­æ¯å¦ææå®ç Bean)ç­ç­é½æ¯å¯¹@Conditionalæ³¨è§£çæ©å±ã\n\næ¿ Spring Security çèªå¨éç½®ä¸¾ä¸ªä¾å­:SecurityAutoConfigurationä¸­å¯¼å¥äºWebSecurityEnablerConfigurationç±»ï¼WebSecurityEnablerConfigurationç±»ä¸­ä½¿ç¨@ConditionalOnBeanæå®äºå®¹å¨ä¸­å¿é¡»è¿æWebSecurityConfigurerAdapter ç±»æå¶å®ç°ç±»ãæä»¥ï¼ä¸è¬æåµä¸ Spring Security éç½®ç±»é½ä¼å»å®ç° WebSecurityConfigurerAdapterï¼è¿æ ·èªå¨å°éç½®å°±å®æäºã\n\n\n# å¼åRESTful Webæå¡å¸¸ç¨çæ³¨è§£æåªäº\n\nSpring Bean ç¸å³ï¼\n\n * @Autowired : èªå¨å¯¼å¥å¯¹è±¡å°ç±»ä¸­ï¼è¢«æ³¨å¥è¿çç±»åæ ·è¦è¢« Spring å®¹å¨ç®¡çã\n * @RestController : @RestControlleræ³¨è§£æ¯@Controllerå@ResponseBodyçåé,è¡¨ç¤ºè¿æ¯ä¸ªæ§å¶å¨ bean,å¹¶ä¸æ¯å°å½æ°çè¿åå¼ç´ æ¥å¡«å¥ HTTP ååºä½ä¸­,æ¯ REST é£æ ¼çæ§å¶å¨ã\n * @Component ï¼éç¨çæ³¨è§£ï¼å¯æ æ³¨ä»»æç±»ä¸º Spring ç»ä»¶ãå¦æä¸ä¸ª Bean ä¸ç¥éå±äºåªä¸ªå±ï¼å¯ä»¥ä½¿ç¨@Component æ³¨è§£æ æ³¨ã\n * @Repository : å¯¹åºæä¹å±å³ Dao å±ï¼ä¸»è¦ç¨äºæ°æ®åºç¸å³æä½ã\n * @Service : å¯¹åºæå¡å±ï¼ä¸»è¦æ¶åä¸äºå¤æçé»è¾ï¼éè¦ç¨å° Dao å±ã\n * @Controller : å¯¹åº Spring MVC æ§å¶å±ï¼ä¸»è¦ç¨äºæ¥åç¨æ·è¯·æ±å¹¶è°ç¨ Service å±è¿åæ°æ®ç»åç«¯é¡µé¢ã\n\nå¤çå¸¸è§ç HTTP è¯·æ±ç±»åï¼\n\n * @GetMapping : GET è¯·æ±ã\n * @PostMapping : POST è¯·æ±ã\n * @PutMapping : PUT è¯·æ±ã\n * @DeleteMapping : DELETE è¯·æ±ã\n\nååç«¯ä¼ å¼ï¼\n\n * @RequestParamä»¥å@Pathvairable ï¼@PathVariableç¨äºè·åè·¯å¾åæ°ï¼@RequestParamç¨äºè·åæ¥è¯¢åæ°ã\n * @RequestBody ï¼ç¨äºè¯»å Request è¯·æ±ï¼å¯è½æ¯ POST,PUT,DELETE,GET è¯·æ±ï¼ç body é¨åå¹¶ä¸ Content-Type ä¸º application/json æ ¼å¼çæ°æ®ï¼æ¥æ¶å°æ°æ®ä¹åä¼èªå¨å°æ°æ®ç»å®å° Java å¯¹è±¡ä¸å»ãç³»ç»ä¼ä½¿ç¨HttpMessageConverteræèèªå®ä¹çHttpMessageConverterå°è¯·æ±ç body ä¸­ç json å­ç¬¦ä¸²è½¬æ¢ä¸º java å¯¹è±¡ã\n\n\n# Spring Boot å¸¸ç¨çä¸¤ç§éç½®æä»¶\n\næä»¬å¯ä»¥éè¿ application.propertiesæè application.yml å¯¹ Spring Boot ç¨åºè¿è¡ç®åçéç½®ãå¦æï¼ä½ ä¸è¿è¡éç½®çè¯ï¼å°±æ¯ä½¿ç¨çé»è®¤éç½®ã\n\n\n# ä»ä¹æ¯YAMLï¼YAMLéç½®çä¼å¿å¨åªé\n\nYAML æ¯ä¸ç§äººç±»å¯è¯»çæ°æ®åºååè¯­è¨ãå®éå¸¸ç¨äºéç½®æä»¶ãä¸å±æ§æä»¶ç¸æ¯ï¼å¦ææä»¬æ³è¦å¨éç½®æä»¶ä¸­æ·»å å¤æçå±æ§ï¼YAML æä»¶å°±æ´å ç»æåï¼èä¸æ´å°æ··æ·ãå¯ä»¥çåº YAML å·æåå±éç½®æ°æ®ã\n\nç¸æ¯äº Properties éç½®çæ¹å¼ï¼YAML éç½®çæ¹å¼æ´å ç´è§æ¸æ°ï¼ç®ä»æäºï¼æå±æ¬¡æã ä½æ¯ï¼YAML éç½®çæ¹å¼æä¸ä¸ªç¼ºç¹ï¼é£å°±æ¯ä¸æ¯æ @PropertySource æ³¨è§£å¯¼å¥èªå®ä¹ç YAML éç½®ã\n\n\n# Spring Bootå¸¸ç¨çè¯»åéç½®çæ¹æ³æåªäº\n\n 1. éè¿@Valueè¯»åæ¯è¾ç®åçéç½®ä¿¡æ¯ï¼ä¸æ¨èä½¿ç¨ï¼\n 2. éè¿@ConfigurationPropertiesè¯»åå¹¶ä¸beanç»å®\n 3. éè¿@ConfigurationPropertiesè¯»åå¹¶æ ¡éª\n 4. @PropertySourceè¯»åæå®ç properties æä»¶\n\n\n# Spring Boot å è½½éç½®æä»¶çä¼åçº§äºè§£å\n\nSpring è¯»åéç½®æä»¶ä¹æ¯æä¼åçº§çï¼ç´æ¥ä¸å¾ï¼\n\næ´å¯¹åå®¹è¯·æ¥çå®æ¹ææ¡£ï¼https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config\n\n\n# å¸¸è§çBeanæ å°å·¥å·æåªäº\n\næä»¬ç»å¸¸å¨ä»£ç ä¸­ä¼å¯¹ä¸ä¸ªæ°æ®ç»æå°è£æDOãSDOãDTOãVOç­ï¼èè¿äºBeanä¸­çå¤§é¨åå±æ§é½æ¯ä¸æ ·çï¼æä»¥ä½¿ç¨å±æ§æ·è´ç±»å·¥å·å¯ä»¥å¸®å©æä»¬èçå¤§éç set å get æä½ã\n\nå¸¸ç¨ç Bean æ å°å·¥å·æï¼Spring BeanUtilsãApache BeanUtilsãMapStructãModelMapperãDozerãOrikaãJMapper ã\n\nç±äº Apache BeanUtils ãDozer ãModelMapper æ§è½å¤ªå·®ï¼æä»¥ä¸å»ºè®®ä½¿ç¨ãMapStruct æ§è½æ´å¥½èä¸ä½¿ç¨èµ·æ¥æ¯è¾çµæ´»ï¼æ¯ä¸ä¸ªæ¯è¾ä¸éçéæ©ã\n\n\n# Spring Boot å¦ä½çæ§ç³»ç»å®éè¿è¡ç¶åµ\n\næä»¬å¯ä»¥ä½¿ç¨ Spring Boot Actuator æ¥å¯¹ Spring Boot é¡¹ç®è¿è¡ç®åççæ§ã\n\n<dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-actuator</artifactId>\n</dependency>\n\n\néæäºè¿ä¸ªæ¨¡åä¹åï¼ä½ ç Spring Boot åºç¨ç¨åºå°±èªå¸¦äºä¸äºå¼ç®±å³ç¨çè·åç¨åºè¿è¡æ¶çåé¨ç¶æä¿¡æ¯ç APIã\n\næ¯å¦éè¿ GET æ¹æ³è®¿é® /health æ¥å£ï¼ä½ å°±å¯ä»¥è·ååºç¨ç¨åºçå¥åº·ææ ã\n\n\n# SpringBootå¦ä½åè¯·æ±åæ°æ ¡éª\n\næ°æ®çæ ¡éªçéè¦æ§å°±ä¸ç¨è¯´äºï¼å³ä½¿å¨åç«¯å¯¹æ°æ®è¿è¡æ ¡éªçæåµä¸ï¼æä»¬è¿æ¯è¦å¯¹ä¼ å¥åç«¯çæ°æ®åè¿è¡ä¸éæ ¡éªï¼é¿åç¨æ·ç»è¿æµè§å¨ç´æ¥éè¿ä¸äº HTTP å·¥å·ç´æ¥ååç«¯è¯·æ±ä¸äºè¿æ³æ°æ®ã\n\nSpring Boot ç¨åºåè¯·æ±åæ°æ ¡éªçè¯åªéè¦spring-boot-starter-web ä¾èµå°±å¤äºï¼å®çå­ä¾èµåå«äºæä»¬æéè¦çä¸è¥¿ã\n\n\n# æ ¡éªæ³¨è§£\n\nJSR æä¾çæ ¡éªæ³¨è§£:\n\n * @Null è¢«æ³¨éçåç´ å¿é¡»ä¸º null\n * @NotNull è¢«æ³¨éçåç´ å¿é¡»ä¸ä¸º null\n * @AssertTrue è¢«æ³¨éçåç´ å¿é¡»ä¸º true\n * @AssertFalse è¢«æ³¨éçåç´ å¿é¡»ä¸º false\n * @Min(value) è¢«æ³¨éçåç´ å¿é¡»æ¯ä¸ä¸ªæ°å­ï¼å¶å¼å¿é¡»å¤§äºç­äºæå®çæå°å¼\n * @Max(value) è¢«æ³¨éçåç´ å¿é¡»æ¯ä¸ä¸ªæ°å­ï¼å¶å¼å¿é¡»å°äºç­äºæå®çæå¤§å¼\n * @DecimalMin(value) è¢«æ³¨éçåç´ å¿é¡»æ¯ä¸ä¸ªæ°å­ï¼å¶å¼å¿é¡»å¤§äºç­äºæå®çæå°å¼\n * @DecimalMax(value) è¢«æ³¨éçåç´ å¿é¡»æ¯ä¸ä¸ªæ°å­ï¼å¶å¼å¿é¡»å°äºç­äºæå®çæå¤§å¼\n * @Size(max=, min=) è¢«æ³¨éçåç´ çå¤§å°å¿é¡»å¨æå®çèå´å\n * @Digits (integer, fraction) è¢«æ³¨éçåç´ å¿é¡»æ¯ä¸ä¸ªæ°å­ï¼å¶å¼å¿é¡»å¨å¯æ¥åçèå´å\n * @Past è¢«æ³¨éçåç´ å¿é¡»æ¯ä¸ä¸ªè¿å»çæ¥æ\n * @Future è¢«æ³¨éçåç´ å¿é¡»æ¯ä¸ä¸ªå°æ¥çæ¥æ\n * @Pattern(regex=,flag=) è¢«æ³¨éçåç´ å¿é¡»ç¬¦åæå®çæ­£åè¡¨è¾¾å¼\n\nHibernate Validator æä¾çæ ¡éªæ³¨è§£ï¼\n\n * @NotBlank(message =) éªè¯å­ç¬¦ä¸²é nullï¼ä¸é¿åº¦å¿é¡»å¤§äº 0\n * @Email è¢«æ³¨éçåç´ å¿é¡»æ¯çµå­é®ç®±å°å\n * @Length(min=,max=) è¢«æ³¨éçå­ç¬¦ä¸²çå¤§å°å¿é¡»å¨æå®çèå´å\n * @NotEmpty è¢«æ³¨éçå­ç¬¦ä¸²çå¿é¡»éç©º\n * @Range(min=,max=,message=) è¢«æ³¨éçåç´ å¿é¡»å¨åéçèå´å\n\n\n# éªè¯è¯·æ±ä½(RequestBody)\n\næä»¬å¨éè¦éªè¯çåæ°ä¸å ä¸äº@Valid æ³¨è§£ï¼å¦æéªè¯å¤±è´¥ï¼å®å°æåºMethodArgumentNotValidExceptionãé»è®¤æåµä¸ï¼Spring ä¼å°æ­¤å¼å¸¸è½¬æ¢ä¸º HTTP Status 400ï¼éè¯¯è¯·æ±ï¼ã\n\n\n# éªè¯è¯·æ±åæ°(Path Variables å Request Parameters)\n\nä¸å®ä¸å®ä¸è¦å¿è®°å¨ç±»ä¸å ä¸ Validated æ³¨è§£äºï¼è¿ä¸ªåæ°å¯ä»¥åè¯ Spring å»æ ¡éªæ¹æ³åæ°ã\n\n\n# å¦ä½ä½¿ç¨Spring Bootå®ç°å¨å±å¼å¸¸å¤ç\n\nå¯ä»¥ä½¿ç¨ @ControllerAdvice å @ExceptionHandler å¤çå¨å±å¼å¸¸ã\n\næ´å¤åå®¹è¯·åèæçåå ï¼Spring Boot å¼å¸¸å¤çå¨å®éé¡¹ç®ä¸­çåºç¨\n\n\n# Spring Boot ä¸­å¦ä½å®ç°å®æ¶ä»»å¡\n\næä»¬ä½¿ç¨ @Scheduled æ³¨è§£å°±è½å¾æ¹ä¾¿å°åå»ºä¸ä¸ªå®æ¶ä»»å¡ã\n\nåçº¯ä¾é  @Scheduled æ³¨è§£ è¿ä¸è¡ï¼æä»¬è¿éè¦å¨ SpringBoot ä¸­æä»¬åªéè¦å¨å¯å¨ç±»ä¸å ä¸@EnableScheduling æ³¨è§£ï¼è¿æ ·æå¯ä»¥å¯å¨å®æ¶ä»»å¡ã@EnableScheduling æ³¨è§£çä½ç¨æ¯åç°æ³¨è§£ @Scheduled çä»»å¡å¹¶å¨åå°æ§è¡è¯¥ä»»å¡ã",normalizedContent:"# ä¸ºä»ä¹è¦æ springboot\n\nspring æ¨å¨ç®å j2ee ä¼ä¸åºç¨ç¨åºå¼åãspring boot æ¨å¨ç®å spring å¼åï¼åå°éç½®æä»¶ï¼å¼ç®±å³ç¨ï¼ï¼ã\n\n\n# è¯´åºä½¿ç¨springbootçä¸»è¦ä¼ç¹\n\n 1. å¼ååºäº spring çåºç¨ç¨åºå¾å®¹æã\n 2. spring boot é¡¹ç®æéçå¼åæå·¥ç¨æ¶é´ææ¾åå°ï¼éå¸¸ä¼æé«æ´ä½çäº§åã\n 3. spring boot ä¸éè¦ç¼åå¤§éæ ·æ¿ä»£ç ãxml éç½®åæ³¨\n 4. spring å¼å¯¼åºç¨ç¨åºå¯ä»¥å¾å®¹æå°ä¸ spring çæç³»ç»éæï¼å¦ spring jdbcãspring ormãspring dataãspring security ç­ã\n 5. spring boot éµå¾ªâåºæ§å·±è§çé»è®¤éç½®âï¼ä»¥åå°å¼åå·¥ä½ï¼é»è®¤éç½®å¯ä»¥ä¿®æ¹ï¼ã\n 6. spring boot åºç¨ç¨åºæä¾åµå¥å¼ http æå¡å¨ï¼å¦ tomcat å jettyï¼å¯ä»¥è½»æ¾å°å¼ååæµè¯ web åºç¨ç¨åºãï¼è¿ç¹å¾èµï¼æ®éè¿è¡ java ç¨åºçæ¹å¼å°±è½è¿è¡åºäº spring boot web é¡¹ç®ï¼çäºå¾å¤ï¼\n 7. spring boot æä¾å½ä»¤è¡æ¥å£(cli)å·¥å·ï¼ç¨äºå¼ååæµè¯ spring boot åºç¨ç¨åºï¼å¦ java æ groovyã\n 8. spring boot æä¾äºå¤ç§æä»¶ï¼å¯ä»¥ä½¿ç¨åç½®å·¥å·(å¦ maven å gradle)å¼ååæµè¯ spring boot åºç¨ç¨åºã\n\n\n# ä»ä¹æ¯springboot starters\n\nspring boot starters æ¯ä¸ç³»åä¾èµå³ç³»çéåï¼å ä¸ºå®çå­å¨ï¼é¡¹ç®çä¾èµä¹é´çå³ç³»å¯¹æä»¬æ¥è¯´åçæ´å ç®åäºã\n\nä¸¾ä¸ªä¾å­ï¼å¨æ²¡æ spring boot starters ä¹åï¼æä»¬å¼å rest æå¡æ web åºç¨ç¨åºæ¶; æä»¬éè¦ä½¿ç¨å spring mvcï¼tomcat å jackson è¿æ ·çåºï¼è¿äºä¾èµæä»¬éè¦æå¨ä¸ä¸ªä¸ä¸ªæ·»å ãä½æ¯ï¼æäº spring boot starters æä»¬åªéè¦ä¸ä¸ªåªéæ·»å ä¸ä¸ªspring-boot-starter-webä¸ä¸ªä¾èµå°±å¯ä»¥äºï¼è¿ä¸ªä¾èµåå«çå­ä¾èµä¸­åå«äºæä»¬å¼å rest æå¡éè¦çææä¾èµã\n\n<dependency>\n\t<groupid>org.springframework.boot</groupid>\n  <artifactid>spirng-boot-starter-web</artifactid>\n</dependency>\n\n\n\n# spring boot æ¯æåªäºååµservletå®¹å¨\n\nspring boot æ¯æä»¥ä¸åµå¥å¼ servlet å®¹å¨:\n\n| name\n\n| servlet version\n\n\ntomcat 9.0\n\n| 4.0\n\n| | jetty 9.4\n\n| 3.1\n\n| | undertow 2.0\n\n| 4.0 |\n\n\n# ä»ç»ä¸ä¸@springbootapplication æ³¨è§£\n\n@springbootapplicationå¯ä»¥çä½æ¯ @configurationã@enableautoconfigurationã@componentscan æ³¨è§£çéåãæ ¹æ® springboot å®ç½ï¼è¿ä¸ä¸ªæ³¨è§£çä½ç¨åå«æ¯ï¼\n\n * @enableautoconfigurationï¼å¯ç¨ springboot çèªå¨éç½®æºå¶\n * @componentscanï¼ æ«æè¢«@component (@service,@controller)æ³¨è§£ç beanï¼æ³¨è§£é»è®¤ä¼æ«æè¯¥ç±»æå¨çåä¸ææçç±»ã\n * @configurationï¼åè®¸å¨ä¸ä¸æä¸­æ³¨åé¢å¤ç bean æå¯¼å¥å¶ä»éç½®ç±»\n\n\n# springbootçèªå¨éç½®æ¯å¦ä½å®ç°ç\n\nè¿ä¸ªæ¯å ä¸º@springbootapplicationæ³¨è§£çåå ï¼å¨ä¸ä¸ä¸ªé®é¢ä¸­å·²ç»æå°äºè¿ä¸ªæ³¨è§£ãæä»¬ç¥é @springbootapplicationçä½æ¯ @configurationã@enableautoconfigurationã@componentscan æ³¨è§£çéåã @enableautoconfigurationæ¯å¯å¨èªå¨éç½®çå³é® @enableautoconfiguration æ³¨è§£éè¿ spring æä¾ç @import æ³¨è§£å¯¼å¥äºautoconfigurationimportselectorç±»ï¼@import æ³¨è§£å¯ä»¥å¯¼å¥éç½®ç±»æè bean å°å½åç±»ä¸­ï¼ã autoconfigurationimportselectorç±»ä¸­getcandidateconfigurationsæ¹æ³ä¼å°ææèªå¨éç½®ç±»çä¿¡æ¯ä»¥ list çå½¢å¼è¿åãè¿äºéç½®ä¿¡æ¯ä¼è¢« spring å®¹å¨ä½ bean æ¥ç®¡çã èªå¨éç½®ä¿¡æ¯æäºï¼é£ä¹èªå¨éç½®è¿å·®ä»ä¹å¢ï¼ @conditional æ³¨è§£ã@conditionalonclass(æå®çç±»å¿é¡»å­å¨äºç±»è·¯å¾ä¸),@conditionalonbean(å®¹å¨ä¸­æ¯å¦ææå®ç bean)ç­ç­é½æ¯å¯¹@conditionalæ³¨è§£çæ©å±ã\n\næ¿ spring security çèªå¨éç½®ä¸¾ä¸ªä¾å­:securityautoconfigurationä¸­å¯¼å¥äºwebsecurityenablerconfigurationç±»ï¼websecurityenablerconfigurationç±»ä¸­ä½¿ç¨@conditionalonbeanæå®äºå®¹å¨ä¸­å¿é¡»è¿æwebsecurityconfigureradapter ç±»æå¶å®ç°ç±»ãæä»¥ï¼ä¸è¬æåµä¸ spring security éç½®ç±»é½ä¼å»å®ç° websecurityconfigureradapterï¼è¿æ ·èªå¨å°éç½®å°±å®æäºã\n\n\n# å¼årestful webæå¡å¸¸ç¨çæ³¨è§£æåªäº\n\nspring bean ç¸å³ï¼\n\n * @autowired : èªå¨å¯¼å¥å¯¹è±¡å°ç±»ä¸­ï¼è¢«æ³¨å¥è¿çç±»åæ ·è¦è¢« spring å®¹å¨ç®¡çã\n * @restcontroller : @restcontrolleræ³¨è§£æ¯@controllerå@responsebodyçåé,è¡¨ç¤ºè¿æ¯ä¸ªæ§å¶å¨ bean,å¹¶ä¸æ¯å°å½æ°çè¿åå¼ç´ æ¥å¡«å¥ http ååºä½ä¸­,æ¯ rest é£æ ¼çæ§å¶å¨ã\n * @component ï¼éç¨çæ³¨è§£ï¼å¯æ æ³¨ä»»æç±»ä¸º spring ç»ä»¶ãå¦æä¸ä¸ª bean ä¸ç¥éå±äºåªä¸ªå±ï¼å¯ä»¥ä½¿ç¨@component æ³¨è§£æ æ³¨ã\n * @repository : å¯¹åºæä¹å±å³ dao å±ï¼ä¸»è¦ç¨äºæ°æ®åºç¸å³æä½ã\n * @service : å¯¹åºæå¡å±ï¼ä¸»è¦æ¶åä¸äºå¤æçé»è¾ï¼éè¦ç¨å° dao å±ã\n * @controller : å¯¹åº spring mvc æ§å¶å±ï¼ä¸»è¦ç¨äºæ¥åç¨æ·è¯·æ±å¹¶è°ç¨ service å±è¿åæ°æ®ç»åç«¯é¡µé¢ã\n\nå¤çå¸¸è§ç http è¯·æ±ç±»åï¼\n\n * @getmapping : get è¯·æ±ã\n * @postmapping : post è¯·æ±ã\n * @putmapping : put è¯·æ±ã\n * @deletemapping : delete è¯·æ±ã\n\nååç«¯ä¼ å¼ï¼\n\n * @requestparamä»¥å@pathvairable ï¼@pathvariableç¨äºè·åè·¯å¾åæ°ï¼@requestparamç¨äºè·åæ¥è¯¢åæ°ã\n * @requestbody ï¼ç¨äºè¯»å request è¯·æ±ï¼å¯è½æ¯ post,put,delete,get è¯·æ±ï¼ç body é¨åå¹¶ä¸ content-type ä¸º application/json æ ¼å¼çæ°æ®ï¼æ¥æ¶å°æ°æ®ä¹åä¼èªå¨å°æ°æ®ç»å®å° java å¯¹è±¡ä¸å»ãç³»ç»ä¼ä½¿ç¨httpmessageconverteræèèªå®ä¹çhttpmessageconverterå°è¯·æ±ç body ä¸­ç json å­ç¬¦ä¸²è½¬æ¢ä¸º java å¯¹è±¡ã\n\n\n# spring boot å¸¸ç¨çä¸¤ç§éç½®æä»¶\n\næä»¬å¯ä»¥éè¿ application.propertiesæè application.yml å¯¹ spring boot ç¨åºè¿è¡ç®åçéç½®ãå¦æï¼ä½ ä¸è¿è¡éç½®çè¯ï¼å°±æ¯ä½¿ç¨çé»è®¤éç½®ã\n\n\n# ä»ä¹æ¯yamlï¼yamléç½®çä¼å¿å¨åªé\n\nyaml æ¯ä¸ç§äººç±»å¯è¯»çæ°æ®åºååè¯­è¨ãå®éå¸¸ç¨äºéç½®æä»¶ãä¸å±æ§æä»¶ç¸æ¯ï¼å¦ææä»¬æ³è¦å¨éç½®æä»¶ä¸­æ·»å å¤æçå±æ§ï¼yaml æä»¶å°±æ´å ç»æåï¼èä¸æ´å°æ··æ·ãå¯ä»¥çåº yaml å·æåå±éç½®æ°æ®ã\n\nç¸æ¯äº properties éç½®çæ¹å¼ï¼yaml éç½®çæ¹å¼æ´å ç´è§æ¸æ°ï¼ç®ä»æäºï¼æå±æ¬¡æã ä½æ¯ï¼yaml éç½®çæ¹å¼æä¸ä¸ªç¼ºç¹ï¼é£å°±æ¯ä¸æ¯æ @propertysource æ³¨è§£å¯¼å¥èªå®ä¹ç yaml éç½®ã\n\n\n# spring bootå¸¸ç¨çè¯»åéç½®çæ¹æ³æåªäº\n\n 1. éè¿@valueè¯»åæ¯è¾ç®åçéç½®ä¿¡æ¯ï¼ä¸æ¨èä½¿ç¨ï¼\n 2. éè¿@configurationpropertiesè¯»åå¹¶ä¸beanç»å®\n 3. éè¿@configurationpropertiesè¯»åå¹¶æ ¡éª\n 4. @propertysourceè¯»åæå®ç properties æä»¶\n\n\n# spring boot å è½½éç½®æä»¶çä¼åçº§äºè§£å\n\nspring è¯»åéç½®æä»¶ä¹æ¯æä¼åçº§çï¼ç´æ¥ä¸å¾ï¼\n\næ´å¯¹åå®¹è¯·æ¥çå®æ¹ææ¡£ï¼https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config\n\n\n# å¸¸è§çbeanæ å°å·¥å·æåªäº\n\næä»¬ç»å¸¸å¨ä»£ç ä¸­ä¼å¯¹ä¸ä¸ªæ°æ®ç»æå°è£ædoãsdoãdtoãvoç­ï¼èè¿äºbeanä¸­çå¤§é¨åå±æ§é½æ¯ä¸æ ·çï¼æä»¥ä½¿ç¨å±æ§æ·è´ç±»å·¥å·å¯ä»¥å¸®å©æä»¬èçå¤§éç set å get æä½ã\n\nå¸¸ç¨ç bean æ å°å·¥å·æï¼spring beanutilsãapache beanutilsãmapstructãmodelmapperãdozerãorikaãjmapper ã\n\nç±äº apache beanutils ãdozer ãmodelmapper æ§è½å¤ªå·®ï¼æä»¥ä¸å»ºè®®ä½¿ç¨ãmapstruct æ§è½æ´å¥½èä¸ä½¿ç¨èµ·æ¥æ¯è¾çµæ´»ï¼æ¯ä¸ä¸ªæ¯è¾ä¸éçéæ©ã\n\n\n# spring boot å¦ä½çæ§ç³»ç»å®éè¿è¡ç¶åµ\n\næä»¬å¯ä»¥ä½¿ç¨ spring boot actuator æ¥å¯¹ spring boot é¡¹ç®è¿è¡ç®åççæ§ã\n\n<dependency>\n        <groupid>org.springframework.boot</groupid>\n        <artifactid>spring-boot-starter-actuator</artifactid>\n</dependency>\n\n\néæäºè¿ä¸ªæ¨¡åä¹åï¼ä½ ç spring boot åºç¨ç¨åºå°±èªå¸¦äºä¸äºå¼ç®±å³ç¨çè·åç¨åºè¿è¡æ¶çåé¨ç¶æä¿¡æ¯ç apiã\n\næ¯å¦éè¿ get æ¹æ³è®¿é® /health æ¥å£ï¼ä½ å°±å¯ä»¥è·ååºç¨ç¨åºçå¥åº·ææ ã\n\n\n# springbootå¦ä½åè¯·æ±åæ°æ ¡éª\n\næ°æ®çæ ¡éªçéè¦æ§å°±ä¸ç¨è¯´äºï¼å³ä½¿å¨åç«¯å¯¹æ°æ®è¿è¡æ ¡éªçæåµä¸ï¼æä»¬è¿æ¯è¦å¯¹ä¼ å¥åç«¯çæ°æ®åè¿è¡ä¸éæ ¡éªï¼é¿åç¨æ·ç»è¿æµè§å¨ç´æ¥éè¿ä¸äº http å·¥å·ç´æ¥ååç«¯è¯·æ±ä¸äºè¿æ³æ°æ®ã\n\nspring boot ç¨åºåè¯·æ±åæ°æ ¡éªçè¯åªéè¦spring-boot-starter-web ä¾èµå°±å¤äºï¼å®çå­ä¾èµåå«äºæä»¬æéè¦çä¸è¥¿ã\n\n\n# æ ¡éªæ³¨è§£\n\njsr æä¾çæ ¡éªæ³¨è§£:\n\n * @null è¢«æ³¨éçåç´ å¿é¡»ä¸º null\n * @notnull è¢«æ³¨éçåç´ å¿é¡»ä¸ä¸º null\n * @asserttrue è¢«æ³¨éçåç´ å¿é¡»ä¸º true\n * @assertfalse è¢«æ³¨éçåç´ å¿é¡»ä¸º false\n * @min(value) è¢«æ³¨éçåç´ å¿é¡»æ¯ä¸ä¸ªæ°å­ï¼å¶å¼å¿é¡»å¤§äºç­äºæå®çæå°å¼\n * @max(value) è¢«æ³¨éçåç´ å¿é¡»æ¯ä¸ä¸ªæ°å­ï¼å¶å¼å¿é¡»å°äºç­äºæå®çæå¤§å¼\n * @decimalmin(value) è¢«æ³¨éçåç´ å¿é¡»æ¯ä¸ä¸ªæ°å­ï¼å¶å¼å¿é¡»å¤§äºç­äºæå®çæå°å¼\n * @decimalmax(value) è¢«æ³¨éçåç´ å¿é¡»æ¯ä¸ä¸ªæ°å­ï¼å¶å¼å¿é¡»å°äºç­äºæå®çæå¤§å¼\n * @size(max=, min=) è¢«æ³¨éçåç´ çå¤§å°å¿é¡»å¨æå®çèå´å\n * @digits (integer, fraction) è¢«æ³¨éçåç´ å¿é¡»æ¯ä¸ä¸ªæ°å­ï¼å¶å¼å¿é¡»å¨å¯æ¥åçèå´å\n * @past è¢«æ³¨éçåç´ å¿é¡»æ¯ä¸ä¸ªè¿å»çæ¥æ\n * @future è¢«æ³¨éçåç´ å¿é¡»æ¯ä¸ä¸ªå°æ¥çæ¥æ\n * @pattern(regex=,flag=) è¢«æ³¨éçåç´ å¿é¡»ç¬¦åæå®çæ­£åè¡¨è¾¾å¼\n\nhibernate validator æä¾çæ ¡éªæ³¨è§£ï¼\n\n * @notblank(message =) éªè¯å­ç¬¦ä¸²é nullï¼ä¸é¿åº¦å¿é¡»å¤§äº 0\n * @email è¢«æ³¨éçåç´ å¿é¡»æ¯çµå­é®ç®±å°å\n * @length(min=,max=) è¢«æ³¨éçå­ç¬¦ä¸²çå¤§å°å¿é¡»å¨æå®çèå´å\n * @notempty è¢«æ³¨éçå­ç¬¦ä¸²çå¿é¡»éç©º\n * @range(min=,max=,message=) è¢«æ³¨éçåç´ å¿é¡»å¨åéçèå´å\n\n\n# éªè¯è¯·æ±ä½(requestbody)\n\næä»¬å¨éè¦éªè¯çåæ°ä¸å ä¸äº@valid æ³¨è§£ï¼å¦æéªè¯å¤±è´¥ï¼å®å°æåºmethodargumentnotvalidexceptionãé»è®¤æåµä¸ï¼spring ä¼å°æ­¤å¼å¸¸è½¬æ¢ä¸º http status 400ï¼éè¯¯è¯·æ±ï¼ã\n\n\n# éªè¯è¯·æ±åæ°(path variables å request parameters)\n\nä¸å®ä¸å®ä¸è¦å¿è®°å¨ç±»ä¸å ä¸ validated æ³¨è§£äºï¼è¿ä¸ªåæ°å¯ä»¥åè¯ spring å»æ ¡éªæ¹æ³åæ°ã\n\n\n# å¦ä½ä½¿ç¨spring bootå®ç°å¨å±å¼å¸¸å¤ç\n\nå¯ä»¥ä½¿ç¨ @controlleradvice å @exceptionhandler å¤çå¨å±å¼å¸¸ã\n\næ´å¤åå®¹è¯·åèæçåå ï¼spring boot å¼å¸¸å¤çå¨å®éé¡¹ç®ä¸­çåºç¨\n\n\n# spring boot ä¸­å¦ä½å®ç°å®æ¶ä»»å¡\n\næä»¬ä½¿ç¨ @scheduled æ³¨è§£å°±è½å¾æ¹ä¾¿å°åå»ºä¸ä¸ªå®æ¶ä»»å¡ã\n\nåçº¯ä¾é  @scheduled æ³¨è§£ è¿ä¸è¡ï¼æä»¬è¿éè¦å¨ springboot ä¸­æä»¬åªéè¦å¨å¯å¨ç±»ä¸å ä¸@enablescheduling æ³¨è§£ï¼è¿æ ·æå¯ä»¥å¯å¨å®æ¶ä»»å¡ã@enablescheduling æ³¨è§£çä½ç¨æ¯åç°æ³¨è§£ @scheduled çä»»å¡å¹¶å¨åå°æ§è¡è¯¥ä»»å¡ã",charsets:{cjk:!0},lastUpdated:"2023/11/02, 03:14:56",lastUpdatedTimestamp:1698894896e3},{title:"SpringCloud é¢è¯é¢",frontmatter:{title:"SpringCloud é¢è¯é¢",date:"2023-10-24T15:46:16.000Z",permalink:"/pages/3c9abe/"},regularPath:"/02.Java%20%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/02.Java%20%E5%85%AB%E8%82%A1%E6%96%87/11.SpringCloud%20%E9%9D%A2%E8%AF%95%E9%A2%98.html",relativePath:"02.Java é¢è¯å®å¸/02.Java å«è¡æ/11.SpringCloud é¢è¯é¢.md",key:"v-7fbbb95c",path:"/pages/3c9abe/",headers:[{level:1,title:"SpringCloud åºç¡",slug:"springcloud-åºç¡",normalizedTitle:"springcloud åºç¡",charIndex:2},{level:2,title:"ä»ä¹æ¯ SpringCloudï¼",slug:"ä»ä¹æ¯-springcloud",normalizedTitle:"ä»ä¹æ¯ springcloudï¼",charIndex:21},{level:2,title:"SpringCloud çæ ¸å¿ç»ä»¶æåªäºï¼",slug:"springcloud-çæ ¸å¿ç»ä»¶æåªäº",normalizedTitle:"springcloud çæ ¸å¿ç»ä»¶æåªäºï¼",charIndex:301},{level:1,title:"Spring Cloud Eureka",slug:"spring-cloud-eureka",normalizedTitle:"spring cloud eureka",charIndex:327},{level:2,title:"ä»ä¹æ¯Eureka",slug:"ä»ä¹æ¯eureka",normalizedTitle:"ä»ä¹æ¯eureka",charIndex:853},{level:2,title:"SpringCloud å¦ä½å®ç°æå¡çæ³¨å",slug:"springcloud-å¦ä½å®ç°æå¡çæ³¨å",normalizedTitle:"springcloud å¦ä½å®ç°æå¡çæ³¨å",charIndex:995},{level:2,title:"eurekaèªæä¿æ¤æºå¶æ¯ä»ä¹?",slug:"eurekaèªæä¿æ¤æºå¶æ¯ä»ä¹",normalizedTitle:"eurekaèªæä¿æ¤æºå¶æ¯ä»ä¹?",charIndex:1143},{level:2,title:"EurekaåZooKeeperé½å¯ä»¥æä¾æå¡æ³¨åä¸åç°çåè½,è¯·è¯´è¯´ä¸¤ä¸ªçåºå«",slug:"eurekaåzookeeperé½å¯ä»¥æä¾æå¡æ³¨åä¸åç°çåè½-è¯·è¯´è¯´ä¸¤ä¸ªçåºå«",normalizedTitle:"eurekaåzookeeperé½å¯ä»¥æä¾æå¡æ³¨åä¸åç°çåè½,è¯·è¯´è¯´ä¸¤ä¸ªçåºå«",charIndex:1312},{level:1,title:"Spring Cloud Ribbon",slug:"spring-cloud-ribbon",normalizedTitle:"spring cloud ribbon",charIndex:470},{level:2,title:"ä»ä¹æ¯Ribbonï¼",slug:"ä»ä¹æ¯ribbon",normalizedTitle:"ä»ä¹æ¯ribbonï¼",charIndex:1693},{level:2,title:"Ribbonåºå±å®ç°åç",slug:"ribbonåºå±å®ç°åç",normalizedTitle:"ribbonåºå±å®ç°åç",charIndex:1886},{level:2,title:"@LoadBalancedæ³¨è§£çä½ç¨ï¼",slug:"loadbalancedæ³¨è§£çä½ç¨",normalizedTitle:"@loadbalancedæ³¨è§£çä½ç¨ï¼",charIndex:1985},{level:1,title:"Spring Cloud Fegin&&OpenFeign",slug:"spring-cloud-fegin-openfeign",normalizedTitle:"spring cloud fegin&amp;&amp;openfeign",charIndex:null},{level:2,title:"ä»ä¹æ¯Feign",slug:"ä»ä¹æ¯feign",normalizedTitle:"ä»ä¹æ¯feign",charIndex:2055},{level:2,title:"ä»ä¹æ¯OpenFeign",slug:"ä»ä¹æ¯openfeign",normalizedTitle:"ä»ä¹æ¯openfeign",charIndex:2227},{level:1,title:"Spring Cloud Hystrix",slug:"spring-cloud-hystrix",normalizedTitle:"spring cloud hystrix",charIndex:515},{level:2,title:"ä»ä¹æ¯æ­è·¯å¨",slug:"ä»ä¹æ¯æ­è·¯å¨",normalizedTitle:"ä»ä¹æ¯æ­è·¯å¨",charIndex:2428},{level:2,title:"ä»ä¹æ¯Hystrix?",slug:"ä»ä¹æ¯hystrix",normalizedTitle:"ä»ä¹æ¯hystrix?",charIndex:2665},{level:2,title:"æå¡çæ­ä¸æå¡éçº§",slug:"æå¡çæ­ä¸æå¡éçº§",normalizedTitle:"æå¡çæ­ä¸æå¡éçº§",charIndex:2930},{level:2,title:"SpringCloud æ­è·¯å¨çä½ç¨æ¯ä»ä¹ï¼",slug:"springcloud-æ­è·¯å¨çä½ç¨æ¯ä»ä¹",normalizedTitle:"springcloud æ­è·¯å¨çä½ç¨æ¯ä»ä¹ï¼",charIndex:3161},{level:1,title:"Spring Cloud Zuul",slug:"spring-cloud-zuul",normalizedTitle:"spring cloud zuul",charIndex:371},{level:2,title:"ä»ä¹æ¯ç½å³",slug:"ä»ä¹æ¯ç½å³",normalizedTitle:"ä»ä¹æ¯ç½å³",charIndex:3344},{level:2,title:"ç½å³çä½ç¨æ¯ä»ä¹",slug:"ç½å³çä½ç¨æ¯ä»ä¹",normalizedTitle:"ç½å³çä½ç¨æ¯ä»ä¹",charIndex:3394},{level:2,title:"ä»ä¹æ¯SpringCloud Zuul",slug:"ä»ä¹æ¯springcloud-zuul",normalizedTitle:"ä»ä¹æ¯springcloud zuul",charIndex:3479},{level:1,title:"SpringCloud Gateway",slug:"springcloud-gateway",normalizedTitle:"springcloud gateway",charIndex:3833},{level:2,title:"Spring Cloud Gatewayå ä¸ªå¿ç¥çæ¯è¯­ï¼",slug:"spring-cloud-gatewayå ä¸ªå¿ç¥çæ¯è¯­",normalizedTitle:"spring cloud gatewayå ä¸ªå¿ç¥çæ¯è¯­ï¼",charIndex:3857},{level:2,title:"ä»ä¹æ¯Predictï¼æ­è¨ï¼ï¼",slug:"ä»ä¹æ¯predict-æ­è¨",normalizedTitle:"ä»ä¹æ¯predictï¼æ­è¨ï¼ï¼",charIndex:4073},{level:2,title:"ä»ä¹æ¯è¿æ»¤å¨ï¼",slug:"ä»ä¹æ¯è¿æ»¤å¨",normalizedTitle:"ä»ä¹æ¯è¿æ»¤å¨ï¼",charIndex:5728},{level:3,title:"GatewayFilterï¼å±é¨è¿æ»¤å¨ï¼",slug:"gatewayfilter-å±é¨è¿æ»¤å¨",normalizedTitle:"gatewayfilterï¼å±é¨è¿æ»¤å¨ï¼",charIndex:6067},{level:4,title:"èªå®ä¹å±é¨è¿æ»¤å¨",slug:"èªå®ä¹å±é¨è¿æ»¤å¨",normalizedTitle:"èªå®ä¹å±é¨è¿æ»¤å¨",charIndex:6763},{level:3,title:"GlobalFilterï¼å¨å±è¿æ»¤å¨ï¼",slug:"globalfilter-å¨å±è¿æ»¤å¨",normalizedTitle:"globalfilterï¼å¨å±è¿æ»¤å¨ï¼",charIndex:9850},{level:4,title:"èªå®ä¹å¨å±è¿æ»¤å¨",slug:"èªå®ä¹å¨å±è¿æ»¤å¨",normalizedTitle:"èªå®ä¹å¨å±è¿æ»¤å¨",charIndex:10248},{level:2,title:"ä¸ºä»ä¹è¦éææ³¨åä¸­å¿",slug:"ä¸ºä»ä¹è¦éææ³¨åä¸­å¿",normalizedTitle:"ä¸ºä»ä¹è¦éææ³¨åä¸­å¿",charIndex:11370},{level:2,title:"å¦ä½å®ç°å¨æè·¯ç±",slug:"å¦ä½å®ç°å¨æè·¯ç±",normalizedTitle:"å¦ä½å®ç°å¨æè·¯ç±",charIndex:11454},{level:2,title:"å¦ä½å®ç°èªå®ä¹å¨å±å¼å¸¸å¤ç",slug:"å¦ä½å®ç°èªå®ä¹å¨å±å¼å¸¸å¤ç",normalizedTitle:"å¦ä½å®ç°èªå®ä¹å¨å±å¼å¸¸å¤ç",charIndex:11540},{level:1,title:"Spring Cloud Config",slug:"spring-cloud-config",normalizedTitle:"spring cloud config",charIndex:412},{level:2,title:"ä»ä¹æ¯SpringCLoud Config",slug:"ä»ä¹æ¯springcloud-config",normalizedTitle:"ä»ä¹æ¯springcloud config",charIndex:11641},{level:2,title:"SpringCloud Configå¯ä»¥å®ç°å®æ¶å·æ°å",slug:"springcloud-configå¯ä»¥å®ç°å®æ¶å·æ°å",normalizedTitle:"springcloud configå¯ä»¥å®ç°å®æ¶å·æ°å",charIndex:11868},{level:1,title:"Spring Cloud Bus",slug:"spring-cloud-bus",normalizedTitle:"spring cloud bus",charIndex:712},{level:2,title:"ä»ä¹æ¯ Spring Cloud Bus",slug:"ä»ä¹æ¯-spring-cloud-bus",normalizedTitle:"ä»ä¹æ¯ spring cloud bus",charIndex:11967},{level:1,title:"Spring Cloud Sleuth",slug:"spring-cloud-sleuth",normalizedTitle:"spring cloud sleuth",charIndex:763},{level:2,title:"åå¸å¼é¾è·¯è¿½è¸ªä½¿ç¨ä»ä¹å®ç°",slug:"åå¸å¼é¾è·¯è¿½è¸ªä½¿ç¨ä»ä¹å®ç°",normalizedTitle:"åå¸å¼é¾è·¯è¿½è¸ªä½¿ç¨ä»ä¹å®ç°",charIndex:12230}],headersStr:"SpringCloud åºç¡ ä»ä¹æ¯ SpringCloudï¼ SpringCloud çæ ¸å¿ç»ä»¶æåªäºï¼ Spring Cloud Eureka ä»ä¹æ¯Eureka SpringCloud å¦ä½å®ç°æå¡çæ³¨å eurekaèªæä¿æ¤æºå¶æ¯ä»ä¹? EurekaåZooKeeperé½å¯ä»¥æä¾æå¡æ³¨åä¸åç°çåè½,è¯·è¯´è¯´ä¸¤ä¸ªçåºå« Spring Cloud Ribbon ä»ä¹æ¯Ribbonï¼ Ribbonåºå±å®ç°åç @LoadBalancedæ³¨è§£çä½ç¨ï¼ Spring Cloud Fegin&&OpenFeign ä»ä¹æ¯Feign ä»ä¹æ¯OpenFeign Spring Cloud Hystrix ä»ä¹æ¯æ­è·¯å¨ ä»ä¹æ¯Hystrix? æå¡çæ­ä¸æå¡éçº§ SpringCloud æ­è·¯å¨çä½ç¨æ¯ä»ä¹ï¼ Spring Cloud Zuul ä»ä¹æ¯ç½å³ ç½å³çä½ç¨æ¯ä»ä¹ ä»ä¹æ¯SpringCloud Zuul SpringCloud Gateway Spring Cloud Gatewayå ä¸ªå¿ç¥çæ¯è¯­ï¼ ä»ä¹æ¯Predictï¼æ­è¨ï¼ï¼ ä»ä¹æ¯è¿æ»¤å¨ï¼ GatewayFilterï¼å±é¨è¿æ»¤å¨ï¼ èªå®ä¹å±é¨è¿æ»¤å¨ GlobalFilterï¼å¨å±è¿æ»¤å¨ï¼ èªå®ä¹å¨å±è¿æ»¤å¨ ä¸ºä»ä¹è¦éææ³¨åä¸­å¿ å¦ä½å®ç°å¨æè·¯ç± å¦ä½å®ç°èªå®ä¹å¨å±å¼å¸¸å¤ç Spring Cloud Config ä»ä¹æ¯SpringCLoud Config SpringCloud Configå¯ä»¥å®ç°å®æ¶å·æ°å Spring Cloud Bus ä»ä¹æ¯ Spring Cloud Bus Spring Cloud Sleuth åå¸å¼é¾è·¯è¿½è¸ªä½¿ç¨ä»ä¹å®ç°",content:'# SpringCloud åºç¡\n\n\n# ä»ä¹æ¯ SpringCloudï¼\n\nSpring Cloudæ¯ä¸ç³»åæ¡æ¶çæåºéåãå®å©ç¨Spring Bootçå¼åä¾¿å©æ§å·§å¦å°ç®åäºåå¸å¼ç³»ç»åºç¡è®¾æ½çå¼åï¼å¦æå¡åç°æ³¨åãéç½®ä¸­å¿ãæºè½è·¯ç±ãæ¶æ¯æ»çº¿ãè´è½½åè¡¡ãæ­è·¯å¨ãæ°æ®çæ§ç­ï¼é½å¯ä»¥ç¨Spring Bootçå¼åé£æ ¼åå°ä¸é®å¯å¨åé¨ç½²ã Spring Cloudå¹¶æ²¡æéå¤å¶é è½®å­ï¼å®åªæ¯å°åå®¶å¬å¸å¼åçæ¯è¾æçãç»å¾èµ·å®éèéªçæå¡æ¡æ¶ç»åèµ·æ¥ï¼éè¿Spring Booté£æ ¼è¿è¡åå°è£å±è½æäºå¤æçéç½®åå®ç°åçï¼æç»ç»å¼åèçåºäºä¸å¥ç®åææãæé¨ç½²åæç»´æ¤çåå¸å¼ç³»ç»å¼åå·¥å·åã\n\n\n# SpringCloud çæ ¸å¿ç»ä»¶æåªäºï¼\n\n * Spring Cloud Eurekaï¼æå¡æ³¨åä¸­å¿ï¼ï¼ç¹æ§æå¤±æåé¤ãæå¡ä¿æ¤\n * Spring Cloud Zuulï¼APIæå¡ç½å³ï¼ï¼åè½æè·¯ç±åååè¿æ»¤\n * Spring Cloud Configï¼åå¸å¼éç½®ä¸­å¿ï¼ï¼æ¯ææ¬å°ä»åºãSVNãGitãJarååéç½®ç­æ¨¡å¼\n * Spring Cloud Ribbonï¼å®¢æ·ç«¯è´è½½åè¡¡ï¼ï¼ç¹æ§æåºåäº²å,éè¯æºå¶\n * Spring Cloud Hystrixï¼æå¡æ­è·¯å¨ï¼ï¼å®¢æ·ç«¯å®¹éä¿æ¤,ç¹æ§ææå¡éçº§ãæå¡çæ­ãè¯·æ±ç¼å­ãè¯·æ±åå¹¶ãä¾èµéç¦»\n * Spring Cloud Feignï¼æå¡æ¥å£è°ç¨ï¼ï¼å£°æå¼æå¡è°ç¨æ¬è´¨ä¸å°±æ¯Ribbon+Hystrix\n * Spring Cloud Streamï¼æ¶æ¯é©±å¨ï¼ï¼æSinkãSourceãProcessorä¸ç§éé,ç¹æ§æè®¢éåå¸ãæ¶è´¹ç»ãæ¶æ¯ååº\n * Spring Cloud Busï¼æ¶æ¯æ»çº¿ï¼ï¼éåConfigä»åºä¿®æ¹çä¸ç§Streamå®ç°ï¼\n * Spring Cloud Sleuthï¼åå¸å¼æå¡è¿½è¸ªï¼ï¼éè¦ææ¸æ¥TraceIDåSpanIDä»¥åæ½æ ·,å¦ä½ä¸ELKæ´å\n\n\n# Spring Cloud Eureka\n\n\n# ä»ä¹æ¯Eureka\n\nEurekaä½ä¸ºSpringCloudçæå¡æ³¨ååè½æå¡å¨ï¼ä»æ¯æå¡æ³¨åä¸­å¿ï¼ç³»ç»ä¸­çå¶ä»æå¡ä½¿ç¨Eurekaçå®¢æ·ç«¯å°å¶è¿æ¥å°Eureka Serviceä¸­ï¼å¹¶ä¸ä¿æå¿è·³ï¼è¿æ ·å·¥ä½äººåå¯ä»¥éè¿Eureka Serviceæ¥çæ§åä¸ªå¾®æå¡æ¯å¦è¿è¡æ­£å¸¸ã\n\n\n# SpringCloud å¦ä½å®ç°æå¡çæ³¨å\n\n 1. æå¡åå¸æ¶ï¼æå®å¯¹åºçæå¡å,å°æå¡æ³¨åå° æ³¨åä¸­å¿ eureka\n 2. æ³¨åä¸­å¿å @EnableEurekaServer,æå¡ç¨@EnableDiscoveryClientï¼ç¶åç¨ribbonæfeignè¿è¡æå¡ç´æ¥çè°ç¨åç°ã\n\n\n# eurekaèªæä¿æ¤æºå¶æ¯ä»ä¹?\n\né»è®¤æåµä¸ï¼å¦æEureka Serviceå¨ä¸å®æ¶é´åæ²¡ææ¥æ¶å°æä¸ªå¾®æå¡çå¿è·³ï¼Eureka Serviceä¼è¿å¥èªæä¿æ¤æ¨¡å¼ï¼å¨è¯¥æ¨¡å¼ä¸Eureka Serviceä¼ä¿æ¤æå¡æ³¨åè¡¨ä¸­çä¿¡æ¯ï¼ä¸åå é¤æ³¨åè¡¨ä¸­çæ°æ®ï¼å½ç½ç»æéæ¢å¤åï¼Eureka Servic èç¹ä¼èªå¨éåºèªæä¿æ¤æ¨¡å¼\n\n\n# EurekaåZooKeeperé½å¯ä»¥æä¾æå¡æ³¨åä¸åç°çåè½,è¯·è¯´è¯´ä¸¤ä¸ªçåºå«\n\n 1. ZooKeeperä¸­çèç¹æå¡æäºå°±è¦éä¸¾ï¼å¨éä¸¾æé´æ³¨åæå¡ç«çª,è½ç¶æå¡æç»ä¼æ¢å¤,ä½æ¯éä¸¾æé´ä¸å¯ç¨çï¼éä¸¾å°±æ¯è¯¥å¾®æå¡åäºéç¾¤ï¼å¿é¡»æä¸å°ä¸»å¶ä»çé½æ¯ä»\n 2. Eurekaåä¸ªèç¹æ¯å¹³ç­å³ç³»,æå¡å¨æäºæ²¡å³ç³»ï¼åªè¦æä¸å°Eurekaå°±å¯ä»¥ä¿è¯æå¡å¯ç¨ï¼æ°æ®é½æ¯ææ°çãå¦ææ¥è¯¢å°çæ°æ®å¹¶ä¸æ¯ææ°çï¼å°±æ¯å ä¸ºEurekaçèªæä¿æ¤æ¨¡å¼å¯¼è´ç\n 3. Eurekaæ¬è´¨ä¸æ¯ä¸ä¸ªå·¥ç¨,èZooKeeperåªæ¯ä¸ä¸ªè¿ç¨\n 4. Eurekaå¯ä»¥å¾å¥½çåºå¯¹å ç½ç»æéå¯¼è´é¨åèç¹å¤±å»èç³»çæåµ,èä¸ä¼åZooKeeper ä¸æ ·ä½¿å¾æ´ä¸ªæ³¨åç³»ç»ç«çª\n 5. ZooKeeperä¿è¯çæ¯CPï¼Eurekaä¿è¯çæ¯AP\n\n\n# Spring Cloud Ribbon\n\n\n# ä»ä¹æ¯Ribbonï¼\n\nRibbonæ¯Netflixåå¸çå¼æºé¡¹ç®ï¼ä¸»è¦åè½æ¯æä¾å®¢æ·ç«¯çè½¯ä»¶è´è½½åè¡¡ç®æ³ Ribbonå®¢æ·ç«¯ç»ä»¶æä¾ä¸ç³»åå®åçéç½®é¡¹ï¼å¦è¿æ¥è¶æ¶ï¼éè¯ç­ãç®åçè¯´ï¼å°±æ¯å¨éç½®æä»¶ä¸­ååºåé¢ææçæºå¨ï¼Ribbonä¼èªå¨çå¸®å©ä½ åºäºæç§è§åï¼å¦ç®åè½®è¯¢ï¼éæºè¿æ¥ç­ï¼å»è¿æ¥è¿äºæºå¨ãæä»¬ä¹å¾å®¹æä½¿ç¨Ribbonå®ç°èªå®ä¹çè´è½½åè¡¡ç®æ³ãï¼æç¹ç±»ä¼¼Nginxï¼\n\n\n# Ribbonåºå±å®ç°åç\n\nRibbonä½¿ç¨discoveryClientä»æ³¨åä¸­å¿è¯»åç®æ æå¡ä¿¡æ¯ï¼å¯¹åä¸æ¥å£è¯·æ±è¿è¡è®¡æ°ï¼ä½¿ç¨%åä½ç®æ³è·åç®æ æå¡éç¾¤ç´¢å¼ï¼è¿åè·åå°çç®æ æå¡ä¿¡æ¯ã\n\n\n# @LoadBalancedæ³¨è§£çä½ç¨ï¼\n\nå¼å¯å®¢æ·ç«¯è´è½½åè¡¡ã\n\n\n# Spring Cloud Fegin&&OpenFeign\n\n\n# ä»ä¹æ¯Feign\n\nFeignéæäºRibbonãRestTemplateå®ç°äºè´è½½åè¡¡çæ§è¡Httpè°ç¨ï¼åªä¸è¿å¯¹åæçæ¹å¼ï¼Ribbon+RestTemplateï¼è¿è¡äºå°è£ï¼å¼åèä¸å¿æå¨ä½¿ç¨RestTemplateè°æå¡ï¼èæ¯å®ä¹ä¸ä¸ªæ¥å£ï¼å¨è¿ä¸ªæ¥å£ä¸­æ æ³¨ä¸ä¸ªæ³¨è§£å³å¯å®ææå¡è°ç¨ï¼è¿æ ·æ´å ç¬¦åé¢åæ¥å£ç¼ç¨çå®æ¨ï¼ç®åäºå¼åã\n\n\n# ä»ä¹æ¯OpenFeign\n\nOpenFeignæ¯springcloudå¨Feignçåºç¡ä¸æ¯æäºSpringMVCçæ³¨è§£ï¼å¦@RequestMappingç­ç­ãOpenFeignç@FeignClientå¯ä»¥è§£æSpringMVCç@RequestMappingæ³¨è§£ä¸çæ¥å£ï¼å¹¶éè¿å¨æä»£ççæ¹å¼äº§çå®ç°ç±»ï¼å®ç°ç±»ä¸­åè´è½½åè¡¡å¹¶è°ç¨å¶ä»æå¡ã\n\n\n# Spring Cloud Hystrix\n\n\n# ä»ä¹æ¯æ­è·¯å¨\n\nå½ä¸ä¸ªæå¡è°ç¨å¦ä¸ä¸ªæå¡ç±äºç½ç»åå æèªèº«åå åºç°é®é¢ï¼è°ç¨èå°±ä¼ç­å¾è¢«è°ç¨èçååº å½æ´å¤çæå¡è¯·æ±å°è¿äºèµæºå¯¼è´æ´å¤çè¯·æ±ç­å¾ï¼åçè¿éæåºï¼éªå´©æåºï¼ æ­è·¯å¨æä¸ç§ç¶æ\n\n * æå¼ç¶æï¼ä¸æ®µæ¶é´å è¾¾å°ä¸å®çæ¬¡æ°æ æ³è°ç¨ å¹¶ä¸å¤æ¬¡çæµæ²¡ææ¢å¤çè¿¹è±¡ æ­è·¯å¨å®å¨æå¼ é£ä¹ä¸æ¬¡è¯·æ±å°±ä¸ä¼è¯·æ±å°è¯¥æå¡\n * åå¼ç¶æï¼ç­æ¶é´å ææ¢å¤è¿¹è±¡ æ­è·¯å¨ä¼å°é¨åè¯·æ±åç»è¯¥æå¡ï¼æ­£å¸¸è°ç¨æ¶ æ­è·¯å¨å³é­\n * å³é­ç¶æï¼å½æå¡ä¸ç´å¤äºæ­£å¸¸ç¶æ è½æ­£å¸¸è°ç¨\n\n\n# ä»ä¹æ¯Hystrix?\n\nå¨åå¸å¼ç³»ç»ï¼æä»¬ä¸å®ä¼ä¾èµåç§æå¡ï¼é£ä¹è¿äºä¸ªæå¡ä¸å®ä¼åºç°å¤±è´¥çæåµï¼å°±ä¼å¯¼è´éªå´©ï¼Hystrixå°±æ¯è¿æ ·çä¸ä¸ªå·¥å·ï¼é²éªå´©å©å¨ï¼å®å·ææå¡éçº§ï¼æå¡çæ­ï¼æå¡éç¦»ï¼çæ§ç­ä¸äºé²æ­¢éªå´©çææ¯ã Hystrixæåç§é²éªå´©æ¹å¼:\n\n * æå¡éçº§ï¼æ¥å£è°ç¨å¤±è´¥å°±è°ç¨æ¬å°çæ¹æ³è¿åä¸ä¸ªç©º\n * æå¡çæ­ï¼æ¥å£è°ç¨å¤±è´¥å°±ä¼è¿å¥è°ç¨æ¥å£æåå®ä¹å¥½çä¸ä¸ªçæ­çæ¹æ³ï¼è¿åéè¯¯ä¿¡æ¯\n * æå¡éç¦»ï¼éç¦»æå¡ä¹é´ç¸äºå½±å\n * æå¡çæ§ï¼å¨æå¡åçè°ç¨æ¶,ä¼å°æ¯ç§è¯·æ±æ°ãæåè¯·æ±æ°ç­è¿è¡ææ è®°å½ä¸æ¥ã\n\n\n# æå¡çæ­ä¸æå¡éçº§\n\néçº§æ¯ä»ç³»ç»åè½ä¼åçº§çè§åº¦èèå¦ä½åºå¯¹ç³»ç»æéã æå¡éçº§æçæ¯å½æå¡å¨ååå§å¢çæåµä¸ï¼æ ¹æ®å½åä¸å¡æåµåæµéå¯¹ä¸äºæå¡åé¡µé¢æç­ç¥çéçº§ï¼ä»¥æ­¤éæ¾æå¡å¨èµæºä»¥ä¿è¯æ ¸å¿ä»»å¡çæ­£å¸¸è¿è¡ã æå¡çæ­æçæ¯æä¸ªæå¡æéæèå¼å¸¸ï¼å°±ç´æ¥çæ­æ´ä¸ªæå¡ï¼èä¸æ¯ä¸ç´ç­å°æ­¤æå¡è¶æ¶ã çæ­åéçº§æ¯ä¸¤ä¸ªæ¯è¾å®¹ææ··æ·çæ¦å¿µï¼ä¸¤èçå«ä¹å¹¶ä¸ç¸åã éçº§çç®çå¨äºåºå¯¹ç³»ç»èªèº«çæéï¼èçæ­çç®çå¨äºåºå¯¹å½åç³»ç»ä¾èµçå¤é¨ç³»ç»æèç¬¬ä¸æ¹ç³»ç»çæéã\n\n\n# SpringCloud æ­è·¯å¨çä½ç¨æ¯ä»ä¹ï¼\n\nå¨åå¸å¼æ¶æä¸­ï¼æ­è·¯å¨æ¨¡å¼çä½ç¨ä¹æ¯ç±»ä¼¼çï¼å½æä¸ªæå¡åååçæéï¼ç±»ä¼¼ç¨çµå¨åçç­è·¯ï¼ä¹åï¼éè¿æ­è·¯å¨çæéçæ§ï¼ç±»ä¼¼çæ­ä¿é©ä¸ï¼ï¼åè°ç¨æ¹è¿åä¸ä¸ªéè¯¯ååºï¼èä¸æ¯é¿æ¶é´çç­å¾ãè¿æ ·å°±ä¸ä¼ä½¿å¾çº¿ç¨å è°ç¨æéæå¡è¢«é¿æ¶é´å ç¨ä¸éæ¾ï¼é¿åäºæéå¨åå¸å¼ç³»ç»ä¸­çèå»¶ã\n\n\n# Spring Cloud Zuul\n\n\n# ä»ä¹æ¯ç½å³\n\nç½å³ç¸å½äºä¸ä¸ªç½ç»æå¡æ¶æçå¥å£ï¼ææç½ç»è¯·æ±å¿é¡»éè¿ç½å³è½¬åå°å·ä½çæå¡ã\n\n\n# ç½å³çä½ç¨æ¯ä»ä¹\n\nç½å³æ¯ææå¾®æå¡çé¨æ·ï¼è·¯ç±è½¬åä»ä»æ¯æåºæ¬çåè½ï¼é¤æ­¤ä¹å¤è¿æå¶ä»çä¸äºåè½ï¼æ¯å¦ï¼è®¤è¯ãé´æãçæ­ãéæµãæ¥å¿çæ§ç­ç­.........\n\n\n# ä»ä¹æ¯SpringCloud Zuul\n\nZuulæ¯å¯¹SpringCloudæä¾çæçå¯¹çè·¯ç±æ¹æ¡ï¼ä»ä¼æ ¹æ®è¯·æ±çè·¯å¾ä¸åï¼ç½å³ä¼å®ä½å°æå®çå¾®æå¡ï¼å¹¶ä»£çè¯·æ±å°ä¸åçå¾®æå¡æ¥å£ï¼ä»å¯¹å¤éè½äºå¾®æå¡ççæ­£æ¥å£å°åã\n\n * ä¸ä¸ªéè¦æ¦å¿µï¼å¨æè·¯ç±è¡¨ï¼è·¯ç±å®ä½ï¼ååä»£çï¼\n   * å¨æè·¯ç±è¡¨ï¼Zuulæ¯æEurekaè·¯ç±ï¼æå¨éç½®è·¯ç±ï¼è¿ä¿©ç§é½æ¯æèªå¨æ´æ°\n   * è·¯ç±å®ä½ï¼æ ¹æ®è¯·æ±è·¯å¾ï¼Zuulæèªå·±çä¸å¥å®ä½æå¡è§åä»¥åè·¯ç±è¡¨è¾¾å¼å¹é\n   * ååä»£çï¼å®¢æ·ç«¯è¯·æ±å°è·¯ç±ç½å³ï¼ç½å³åçä¹åï¼å¨å¯¹ç®æ åéè¯·æ±ï¼æ¿å°ååºä¹åå¨ ç»å®¢æ·ç«¯\n * å®å¯ä»¥åEureka,Ribbon,Hystrixç­ç»ä»¶éåä½¿ç¨ï¼\n * Zuulçåºç¨åºæ¯ï¼\n   * å¯¹å¤æ´é²ï¼æéæ ¡éªï¼æå¡èåï¼æ¥å¿å®¡è®¡ç­\n\n\n# SpringCloud Gateway\n\n\n# Spring Cloud Gatewayå ä¸ªå¿ç¥çæ¯è¯­ï¼\n\n 1. è·¯ç±ï¼routeï¼ï¼gatewayçåºæ¬æå»ºæ¨¡åãå®ç±IDãç®æ URIãæ­è¨éååè¿æ»¤å¨éåç»æãå¦æèåæ­è¨ç»æä¸ºçï¼åå¹éå°è¯¥è·¯ç±ã\n 2. æ­è¨ï¼Predicate ï¼ï¼åç§Java8çæ°ç¹æ§Predicateï¼åè®¸å¼åäººåå¹éHTTPè¯·æ±ä¸­çä»»ä½åå®¹ï¼æ¯å¦å¤´æåæ°ã\n 3. è¿æ»¤å¨ï¼filterï¼ï¼å¯ä»¥å¨è¿åè¯·æ±ä¹åæä¹åä¿®æ¹è¯·æ±åååºçåå®¹ã\n\n\n# ä»ä¹æ¯Predictï¼æ­è¨ï¼ï¼\n\nPredicateæ¥èªäºjava8çæ¥å£ãPredicateæ¥åä¸ä¸ªè¾å¥åæ°ï¼è¿åä¸ä¸ªå¸å°å¼ç»æãè¯¥æ¥å£åå«å¤ç§é»è®¤æ¹æ³æ¥å°Predicateç»åæå¶ä»å¤æçé»è¾ï¼æ¯å¦ï¼ä¸ï¼æï¼éï¼ã å¯ä»¥ç¨äºæ¥å£è¯·æ±åæ°æ ¡éªãå¤æ­æ°èæ°æ®æ¯å¦æååéè¦è¿è¡æ´æ°æä½ã Spring Cloud Gatewayåç½®äºè®¸å¤Predictï¼è¿äºPredictçæºç å¨org.springframework.cloud.gateway.handler.predicateåä¸­ãåç½®çä¸äºæ­è¨å¦ä¸å¾ï¼ å·ä½å¯ä»¥æ¥çå®æ¹ææ¡£ï¼https://docs.spring.io/spring-cloud-gateway/docs/2.2.9.RELEASE/reference/html/ ä¸é¢å°±ä»¥æåä¸ç§æéæ­è¨ä¸ºä¾ä»ç»ä¸ä¸å¦ä½éç½®ãéç½®å¦ä¸ï¼\n\nspring:\n  cloud:\n    gateway:\n      ## è·¯ç±\n      routes:\n        ## idåªè¦å¯ä¸å³å¯ï¼åç§°ä»»æ\n        - id: gateway-provider_1\n          uri: http://localhost:9024\n          ## éç½®æ­è¨\n          predicates:\n            ## Path Route Predicate Factoryæ­è¨ï¼æ»¡è¶³/gateway/provider/**è¿ä¸ªè¯·æ±è·¯å¾çé½ä¼è¢«è·¯ç±å°http://localhost:9024è¿ä¸ªuriä¸­\n            - Path=/gateway/provider/**\n            ## Weight Route Predicate Factoryï¼åä¸åç»æç§æéè¿è¡åéæµéï¼è¿éåéäº80%\n            ## ç¬¬ä¸ä¸ªgroup1æ¯åç»åï¼ç¬¬äºä¸ªåæ°æ¯æé\n            - Weight=group1, 8\n            \n        ## idå¿é¡»å¯ä¸\n        - id: gateway-provider_2\n          ## è·¯ç±è½¬åçuri\n          uri: http://localhost:9025\n          ## éç½®æ­è¨\n          predicates:\n            ## Path Route Predicate Factoryæ­è¨ï¼æ»¡è¶³/gateway/provider/**è¿ä¸ªè¯·æ±è·¯å¾çé½ä¼è¢«è·¯ç±å°http://localhost:9024è¿ä¸ªuriä¸­\n            - Path=/gateway/provider/**\n            ## Weight Route Predicate Factoryï¼åä¸åç»æç§æéè¿è¡åéæµéï¼è¿éåéäº20%\n            ## ç¬¬ä¸ä¸ªgroup1æ¯åç»åï¼ç¬¬äºä¸ªåæ°æ¯æé\n            - Weight=group1, 2\n\n\n\nroutesä¸å°±æ¯éç½®çè·¯ç±ç­ç¥ï¼åä¸ªç»ä»¶å¦ä¸ï¼\n\n * idï¼è·¯ç±çå¯ä¸idï¼åç§°ä»»æ\n * uriï¼è·¯ç±è½¬åçuri\n * predicatesï¼æ­è¨éç½®ï¼å¯ä»¥éç½®å¤ä¸ª\n\nSpring Cloud Gatewayä¸­çæ­è¨å½åé½æ¯æè§èçï¼æ ¼å¼ï¼xxxRoutePredicateFactoryã æ¯å¦æéçæ­è¨ï¼WeightRoutePredicateFactoryï¼é£ä¹éç½®æ¶ç´æ¥ååé¢çWeightã é»è®¤çè·¯ç±è½¬åå¦æè·¯ç±å°äºä¸¤ä¸ªï¼åæ¯çæç§éç½®ååé¡ºåºè½¬åï¼ä¸é¢é½éç½®äºè·¯å¾ï¼Path=/gateway/provider/**ï¼å¦ææ²¡æéç½®æéï¼åè¯å®æ¯è½¬åå°http://localhost:9024ã ä½æ¯æ¢ç¶éç½®éç½®äºæéå¹¶ä¸ç¸åçåç»ï¼åæç§æéæ¯ä¾è¿è¡åéæµé\n\n\n# ä»ä¹æ¯è¿æ»¤å¨ï¼\n\nè¿æ»¤å¨è¿ä¸ªæ¦å¿µå¾çæï¼å¨Spring mvc å°±æ¥è§¦è¿ï¼Gatewayçè¿æ»¤å¨çä½ç¨ä»¥åçå½å¨æé½æ¯ç±»ä¼¼çã Gatewayççå½å¨æï¼\n\n * PREï¼è¿ç§è¿æ»¤å¨å¨è¯·æ±è¢«è·¯ç±ä¹åè°ç¨ãæä»¬å¯å©ç¨è¿ç§è¿æ»¤å¨å®ç°èº«ä»½éªè¯ãå¨éç¾¤ä¸­éæ© è¯·æ±çå¾®æå¡ãè®°å½è°è¯ä¿¡æ¯ç­ã\n * POSTï¼è¿ç§è¿æ»¤å¨å¨è·¯ç±å°å¾®æå¡ä»¥åæ§è¡ãè¿ç§è¿æ»¤å¨å¯ç¨æ¥ä¸ºååºæ·»å æ åçHTTP Headerãæ¶éç»è®¡ä¿¡æ¯åææ ãå°ååºä»å¾®æå¡åéç»å®¢æ·ç«¯ç­ã\n\nGateway çFilterä»ä½ç¨èå´å¯åä¸ºä¸¤ç§:\n\n * GatewayFilterï¼åºç¨å°åä¸ªè·¯ç±æèä¸ä¸ªåç»çè·¯ç±ä¸ï¼éè¦å¨éç½®æä»¶ä¸­éç½®ï¼ã\n * GlobalFilterï¼åºç¨å°ææçè·¯ç±ä¸ï¼æ ééç½®ï¼å¨å±çæï¼\n\n\n# GatewayFilterï¼å±é¨è¿æ»¤å¨ï¼\n\nSpring Cloud Gatewayä¸­åç½®äºè®¸å¤çå±é¨è¿æ»¤å¨ï¼å¦ä¸å¾ï¼ å±é¨è¿æ»¤å¨éè¦å¨æå®è·¯ç±éç½®æè½çæï¼é»è®¤æ¯ä¸çæçã ä»¥AddResponseHeaderGatewayFilterFactoryè¿ä¸ªè¿æ»¤å¨ä¸ºä¾ï¼ä¸ºåå§ååºæ·»å Headerï¼éç½®å¦ä¸ï¼\n\nspring:\n  cloud:\n    gateway:\n      ## è·¯ç±\n      routes:\n        ## idåªè¦å¯ä¸å³å¯ï¼åç§°ä»»æ\n        - id: gateway-provider_1\n          uri: http://localhost:9024\n          ## éç½®æ­è¨\n          predicates:\n            ## Path Route Predicate Factoryæ­è¨ï¼æ»¡è¶³/gateway/provider/**è¿ä¸ªè¯·æ±è·¯å¾çé½ä¼è¢«è·¯ç±å°http://localhost:9024è¿ä¸ªuriä¸­\n            - Path=/gateway/provider/**\n          ## éç½®è¿æ»¤å¨ï¼å±é¨ï¼\n          filters:\n            - AddResponseHeader=X-Response-Foo, Bar\n\n\n\næµè§å¨è¯·æ±ï¼åç°ååºå¤´ä¸­å·²ç»æäºX-Response-Foo=Barè¿ä¸ªé®å¼å¯¹ï¼å¦ä¸å¾ï¼\næ³¨æï¼è¿æ»¤å¨çåç§°åªéè¦ååç¼ï¼è¿æ»¤å¨å½åå¿é¡»æ¯xxxGatewayFilterFactoryï¼åæ¬èªå®ä¹ï¼ã\n\n# èªå®ä¹å±é¨è¿æ»¤å¨\n\nåºæ¯ï¼æ¨¡æä¸ä¸ªææéªè¯çè¿ç¨ï¼å¦æè¯·æ±å¤´æèè¯·æ±åæ°ä¸­æºå¸¦tokenåæ¾è¡ï¼å¦åç´æ¥æ¦æªè¿å401ï¼ä»£ç å¦ä¸ï¼\n\n/**\n* åç§°å¿é¡»æ¯xxxGatewayFilterFactoryå½¢å¼\n* todoï¼æ¨¡æææçéªè¯ï¼å·ä½é»è¾æ ¹æ®ä¸å¡å®å\n*/\n@Component\n    @Slf4j\n    public class AuthorizeGatewayFilterFactory extends AbstractGatewayFilterFactory<AuthorizeGatewayFilterFactory.Config> {\n\n        private static final String AUTHORIZE_TOKEN = "token";\n\n        //æé å½æ°ï¼å è½½Config\n        public AuthorizeGatewayFilterFactory() {\n            //åºå®åæ³\n            super(AuthorizeGatewayFilterFactory.Config.class);\n            log.info("Loaded GatewayFilterFactory [Authorize]");\n        }\n\n        //è¯»åéç½®æä»¶ä¸­çåæ° èµå¼å° éç½®ç±»ä¸­\n        @Override\n        public List<String> shortcutFieldOrder() {\n            //Config.enabled\n            return Arrays.asList("enabled");\n        }\n\n        @Override\n        public GatewayFilter apply(AuthorizeGatewayFilterFactory.Config config) {\n            return (exchange, chain) -> {\n                //å¤æ­æ¯å¦å¼å¯ææéªè¯\n                if (!config.isEnabled()) {\n                    return chain.filter(exchange);\n                }\n\n                ServerHttpRequest request = exchange.getRequest();\n                HttpHeaders headers = request.getHeaders();\n                //ä»è¯·æ±å¤´ä¸­è·åtoken\n                String token = headers.getFirst(AUTHORIZE_TOKEN);\n                if (token == null) {\n                    //ä»è¯·æ±å¤´åæ°ä¸­è·åtoken\n                    token = request.getQueryParams().getFirst(AUTHORIZE_TOKEN);\n                }\n\n                ServerHttpResponse response = exchange.getResponse();\n                //å¦ætokenä¸ºç©ºï¼ç´æ¥è¿å401ï¼æªææ\n                if (StringUtils.isEmpty(token)) {\n                    response.setStatusCode(HttpStatus.UNAUTHORIZED);\n                    //å¤çå®æï¼ç´æ¥æ¦æªï¼ä¸åè¿è¡ä¸å»\n                    return response.setComplete();\n                }\n                /**\n* todo chain.filter(exchange) ä¹åçé½æ¯è¿æ»¤å¨çåç½®å¤ç\n*\n* chain.filter().then(\n*  è¿æ»¤å¨çåç½®å¤ç...........\n* )\n*/\n                //æææ­£å¸¸ï¼ç»§ç»­ä¸ä¸ä¸ªè¿æ»¤å¨é¾çè°ç¨\n                return chain.filter(exchange);\n            };\n        }\n\n        @Data\n            @AllArgsConstructor\n            @NoArgsConstructor\n            public static class Config {\n                // æ§å¶æ¯å¦å¼å¯è®¤è¯\n                private boolean enabled;\n            }\n    }\n\n\n\nå±é¨è¿æ»¤å¨éè¦å¨è·¯ç±ä¸­éç½®æè½çæï¼éç½®å¦ä¸ï¼\n\nspring:\n  cloud:\n    gateway:\n      ## è·¯ç±\n      routes:\n        ## idåªè¦å¯ä¸å³å¯ï¼åç§°ä»»æ\n        - id: gateway-provider_1\n          uri: http://localhost:9024\n          ## éç½®æ­è¨\n          predicates:\n            ## Path Route Predicate Factoryæ­è¨ï¼æ»¡è¶³/gateway/provider/**è¿ä¸ªè¯·æ±è·¯å¾çé½ä¼è¢«è·¯ç±å°http://localhost:9024è¿ä¸ªuriä¸­\n            - Path=/gateway/provider/**\n          ## éç½®è¿æ»¤å¨ï¼å±é¨ï¼\n          filters:\n            - AddResponseHeader=X-Response-Foo, Bar\n            ## AuthorizeGatewayFilterFactoryèªå®ä¹è¿æ»¤å¨éç½®ï¼å¼ä¸ºtrueéè¦éªè¯ææï¼falseä¸éè¦\n            - Authorize=true\n\n\n\næ­¤æ¶ç´æ¥è®¿é®ï¼http://localhost:9023/gateway/provider/portï¼ä¸æºå¸¦tokenï¼è¿åå¦ä¸å¾ï¼ è¯·æ±åæ°å¸¦ä¸tokenï¼http://localhost:9023/gateway/provider/port?token=abcdcdecd-ddcdeicd12ï¼æåè¿åï¼å¦ä¸å¾ï¼ ä¸è¿°çAuthorizeGatewayFilterFactoryåªæ¯æ¶åå°äºè¿æ»¤å¨çåç½®å¤çï¼åç½®å¤çæ¯å¨chain.filter().then()ä¸­çthen()æ¹æ³ä¸­å®æçï¼å·ä½å¯ä»¥çä¸é¡¹ç®æºç ä¸­çTimeGatewayFilterFactoryï¼ä»£ç å°±ä¸åè´´åºæ¥äºï¼å¦ä¸å¾ï¼\n\n\n\n# GlobalFilterï¼å¨å±è¿æ»¤å¨ï¼\n\nå¨å±è¿æ»¤å¨åºç¨å°å¨é¨è·¯ç±ä¸ï¼æ éå¼åèéç½®ï¼Spring Cloud Gatewayä¹åç½®äºä¸äºå¨å±è¿æ»¤å¨ï¼å¦ä¸å¾ï¼ GlobalFilterçåè½å¶å®åGatewayFilteræ¯ç¸åçï¼åªæ¯GlobalFilterçä½ç¨åæ¯ææçè·¯ç±éç½®ï¼èä¸æ¯ç»å®å¨æå®çè·¯ç±éç½®ä¸ãå¤ä¸ªGlobalFilterå¯ä»¥éè¿@OrderæègetOrder()æ¹æ³æå®æ¯ä¸ªGlobalFilterçæ§è¡é¡ºåºï¼orderå¼è¶å°ï¼GlobalFilteræ§è¡çä¼åçº§è¶é«ã æ³¨æï¼ç±äºè¿æ»¤å¨æpreåpostä¸¤ç§ç±»åï¼preç±»åè¿æ»¤å¨å¦æorderå¼è¶å°ï¼é£ä¹å®å°±åºè¯¥å¨preè¿æ»¤å¨é¾çé¡¶å±ï¼postç±»åè¿æ»¤å¨å¦æorderå¼è¶å°ï¼é£ä¹å®å°±åºè¯¥å¨preè¿æ»¤å¨é¾çåºå±ãç¤ºæå¾å¦ä¸ï¼\n\nå½ç¶é¤äºåç½®çå¨å±è¿æ»¤å¨ï¼å®éå·¥ä½ä¸­è¿éè¦å®å¶è¿æ»¤å¨ï¼ä¸é¢æ¥ä»ç»ä¸ä¸å¦ä½èªå®ä¹ã\n\n# èªå®ä¹å¨å±è¿æ»¤å¨\n\nåºæ¯ï¼æ¨¡æNginxçAccess Log åè½ï¼è®°å½æ¯æ¬¡è¯·æ±çç¸å³ä¿¡æ¯ãä»£ç å¦ä¸ï¼\n\n/**\n* å®ç°GlobalFilter\n*/\n@Slf4j\n    @Component\n    @Order(value = Integer.MIN_VALUE)\n    public class AccessLogGlobalFilter implements GlobalFilter {\n\n        @Override\n        public Mono<Void> filter(ServerWebExchange exchange, GatewayFilterChain chain) {\n            //filterçåç½®å¤ç\n            ServerHttpRequest request = exchange.getRequest();\n            String path = request.getPath().pathWithinApplication().value();\n            InetSocketAddress remoteAddress = request.getRemoteAddress();\n            return chain\n                //ç»§ç»­è°ç¨filter\n                .filter(exchange)\n                //filterçåç½®å¤ç\n                .then(Mono.fromRunnable(() -> {\n                    ServerHttpResponse response = exchange.getResponse();\n                    HttpStatus statusCode = response.getStatusCode();\n                    log.info("è¯·æ±è·¯å¾:{},è¿ç¨IPå°å:{},ååºç :{}", path, remoteAddress, statusCode);\n                }));\n        }\n    }\n\n\n\nå¥½äºï¼å¨å±è¿æ»¤å¨ä¸å¿å¨è·¯ç±ä¸éç½®ï¼æ³¨å¥å°IOCå®¹å¨ä¸­å³å¯å¨å±çæã æ­¤æ¶ååºä¸ä¸ªè¯·æ±ï¼æ§å¶å°æå°ä¿¡æ¯å¦ä¸ï¼\n\nè¯·æ±è·¯å¾:/gateway/provider/port,è¿ç¨IPå°å:/0:0:0:0:0:0:0:1:64114,ååºç :200 OK\n\n\n\n\n# ä¸ºä»ä¹è¦éææ³¨åä¸­å¿\n\n * ä½¿å¾ç½å³è½å¤ä»æ³¨åä¸­å¿èªå¨è·åuri ï¼é²æ­¢æå¡çIPçå°åä¸æ¦ä¿®æ¹äºï¼è·¯ç±éç½®ä¸­çuriå¿é¡»ä¿®æ¹\n * æå¡éç¾¤ä¸­å®ç°è´è½½åè¡¡\n\n\n# å¦ä½å®ç°å¨æè·¯ç±\n\nå°ç½å³çéç½®å­æ¾å° Nacos éç½®ä¸­å¿ä¸­ï¼è¿æ ·ç±éç½®ä¸­å¿ç»ä¸ç®¡çï¼ä¸æ¦è·¯ç±åçæ¹åï¼åªéè¦å¨éç½®ä¸­å¿ä¿®æ¹ï¼ä¾¿è½è¾¾å°ä¸å¤ä¿®æ¹ï¼å¤å¤çæçç®çã\n\n\n# å¦ä½å®ç°èªå®ä¹å¨å±å¼å¸¸å¤ç\n\nç´æ¥åå»ºä¸ä¸ªèªå®ä¹å¨å±å¼å¸¸å¤çç±»ï¼å®ç°ErrorWebExceptionHandlerï¼éåå¶ä¸­çhandleæ¹æ³\n\n\n# Spring Cloud Config\n\n\n# ä»ä¹æ¯SpringCLoud Config\n\nSpring Cloud Configä¸ºåå¸å¼ç³»ç»ä¸­çå¤é¨éç½®æä¾æå¡å¨åå®¢æ·ç«¯æ¯æï¼å¯ä»¥æ¹ä¾¿çå¯¹å¾®æå¡åä¸ªç¯å¢ä¸çéç½®è¿è¡éä¸­å¼ç®¡çã Spring Cloud Configåä¸ºConfig ServeråConfig Clientä¸¤é¨åãConfig Serverè´è´£è¯»åéç½®æä»¶ï¼å¹¶ä¸æ´é²Http APIæ¥å£ï¼Config Clientéè¿è°ç¨Config Serverçæ¥å£æ¥è¯»åéç½®æä»¶ã\n\n\n# SpringCloud Configå¯ä»¥å®ç°å®æ¶å·æ°å\n\nspringcloud configå®æ¶å·æ°éç¨SpringCloud Busæ¶æ¯æ»çº¿ã\n\n\n# Spring Cloud Bus\n\n\n# ä»ä¹æ¯ Spring Cloud Bus\n\n * Spring Cloud Buså°±åä¸ä¸ªåå¸å¼æ§è¡å¨ï¼ç¨äºæ©å±çSpring Bootåºç¨ç¨åºçéç½®æä»¶ï¼ä½ä¹å¯ä»¥ç¨ä½åºç¨ç¨åºä¹é´çéä¿¡ééã\n * Spring Cloud Bus ä¸è½åç¬å®æéä¿¡ï¼éè¦éåMQæ¯æ\n * Spring Cloud Busä¸è¬æ¯éåSpring Cloud Configåéç½®ä¸­å¿ç\n * Springcloud configå®æ¶å·æ°ä¹å¿é¡»éç¨SpringCloud Busæ¶æ¯æ»çº¿\n\n\n# Spring Cloud Sleuth\n\n\n# åå¸å¼é¾è·¯è¿½è¸ªä½¿ç¨ä»ä¹å®ç°\n\nåå¸å¼é¾è·¯è¿½è¸ªä½¿ç¨ Spring Cloud Sleuth+ zipkin å®ç°çï¼ Sleuthå®ç°æ¥å¿ééï¼zipkinå®ç°å¯è§åã zipkin ä¿®æ¹é»è®¤httpä¼ è¾æ¹ä¸ºMQä¼ è¾ï¼å¯ä»¥é²æ­¢æ°æ®ä¸¢å¤±åè¿è¡å¼æ­¥è§£è¦æé«æ§è½ã zipkin æä¹åæ¹å¼æ¯ä½¿ç¨ Elasticsearch è¿è¡å­å¨çï¼é»è®¤ä¸ºåå­å­å¨ï¼ã\n\nhttps://www.cnblogs.com/cbvlog/p/15571496.html',normalizedContent:'# springcloud åºç¡\n\n\n# ä»ä¹æ¯ springcloudï¼\n\nspring cloudæ¯ä¸ç³»åæ¡æ¶çæåºéåãå®å©ç¨spring bootçå¼åä¾¿å©æ§å·§å¦å°ç®åäºåå¸å¼ç³»ç»åºç¡è®¾æ½çå¼åï¼å¦æå¡åç°æ³¨åãéç½®ä¸­å¿ãæºè½è·¯ç±ãæ¶æ¯æ»çº¿ãè´è½½åè¡¡ãæ­è·¯å¨ãæ°æ®çæ§ç­ï¼é½å¯ä»¥ç¨spring bootçå¼åé£æ ¼åå°ä¸é®å¯å¨åé¨ç½²ã spring cloudå¹¶æ²¡æéå¤å¶é è½®å­ï¼å®åªæ¯å°åå®¶å¬å¸å¼åçæ¯è¾æçãç»å¾èµ·å®éèéªçæå¡æ¡æ¶ç»åèµ·æ¥ï¼éè¿spring booté£æ ¼è¿è¡åå°è£å±è½æäºå¤æçéç½®åå®ç°åçï¼æç»ç»å¼åèçåºäºä¸å¥ç®åææãæé¨ç½²åæç»´æ¤çåå¸å¼ç³»ç»å¼åå·¥å·åã\n\n\n# springcloud çæ ¸å¿ç»ä»¶æåªäºï¼\n\n * spring cloud eurekaï¼æå¡æ³¨åä¸­å¿ï¼ï¼ç¹æ§æå¤±æåé¤ãæå¡ä¿æ¤\n * spring cloud zuulï¼apiæå¡ç½å³ï¼ï¼åè½æè·¯ç±åååè¿æ»¤\n * spring cloud configï¼åå¸å¼éç½®ä¸­å¿ï¼ï¼æ¯ææ¬å°ä»åºãsvnãgitãjarååéç½®ç­æ¨¡å¼\n * spring cloud ribbonï¼å®¢æ·ç«¯è´è½½åè¡¡ï¼ï¼ç¹æ§æåºåäº²å,éè¯æºå¶\n * spring cloud hystrixï¼æå¡æ­è·¯å¨ï¼ï¼å®¢æ·ç«¯å®¹éä¿æ¤,ç¹æ§ææå¡éçº§ãæå¡çæ­ãè¯·æ±ç¼å­ãè¯·æ±åå¹¶ãä¾èµéç¦»\n * spring cloud feignï¼æå¡æ¥å£è°ç¨ï¼ï¼å£°æå¼æå¡è°ç¨æ¬è´¨ä¸å°±æ¯ribbon+hystrix\n * spring cloud streamï¼æ¶æ¯é©±å¨ï¼ï¼æsinkãsourceãprocessorä¸ç§éé,ç¹æ§æè®¢éåå¸ãæ¶è´¹ç»ãæ¶æ¯ååº\n * spring cloud busï¼æ¶æ¯æ»çº¿ï¼ï¼éåconfigä»åºä¿®æ¹çä¸ç§streamå®ç°ï¼\n * spring cloud sleuthï¼åå¸å¼æå¡è¿½è¸ªï¼ï¼éè¦ææ¸æ¥traceidåspanidä»¥åæ½æ ·,å¦ä½ä¸elkæ´å\n\n\n# spring cloud eureka\n\n\n# ä»ä¹æ¯eureka\n\neurekaä½ä¸ºspringcloudçæå¡æ³¨ååè½æå¡å¨ï¼ä»æ¯æå¡æ³¨åä¸­å¿ï¼ç³»ç»ä¸­çå¶ä»æå¡ä½¿ç¨eurekaçå®¢æ·ç«¯å°å¶è¿æ¥å°eureka serviceä¸­ï¼å¹¶ä¸ä¿æå¿è·³ï¼è¿æ ·å·¥ä½äººåå¯ä»¥éè¿eureka serviceæ¥çæ§åä¸ªå¾®æå¡æ¯å¦è¿è¡æ­£å¸¸ã\n\n\n# springcloud å¦ä½å®ç°æå¡çæ³¨å\n\n 1. æå¡åå¸æ¶ï¼æå®å¯¹åºçæå¡å,å°æå¡æ³¨åå° æ³¨åä¸­å¿ eureka\n 2. æ³¨åä¸­å¿å @enableeurekaserver,æå¡ç¨@enablediscoveryclientï¼ç¶åç¨ribbonæfeignè¿è¡æå¡ç´æ¥çè°ç¨åç°ã\n\n\n# eurekaèªæä¿æ¤æºå¶æ¯ä»ä¹?\n\né»è®¤æåµä¸ï¼å¦æeureka serviceå¨ä¸å®æ¶é´åæ²¡ææ¥æ¶å°æä¸ªå¾®æå¡çå¿è·³ï¼eureka serviceä¼è¿å¥èªæä¿æ¤æ¨¡å¼ï¼å¨è¯¥æ¨¡å¼ä¸eureka serviceä¼ä¿æ¤æå¡æ³¨åè¡¨ä¸­çä¿¡æ¯ï¼ä¸åå é¤æ³¨åè¡¨ä¸­çæ°æ®ï¼å½ç½ç»æéæ¢å¤åï¼eureka servic èç¹ä¼èªå¨éåºèªæä¿æ¤æ¨¡å¼\n\n\n# eurekaåzookeeperé½å¯ä»¥æä¾æå¡æ³¨åä¸åç°çåè½,è¯·è¯´è¯´ä¸¤ä¸ªçåºå«\n\n 1. zookeeperä¸­çèç¹æå¡æäºå°±è¦éä¸¾ï¼å¨éä¸¾æé´æ³¨åæå¡ç«çª,è½ç¶æå¡æç»ä¼æ¢å¤,ä½æ¯éä¸¾æé´ä¸å¯ç¨çï¼éä¸¾å°±æ¯è¯¥å¾®æå¡åäºéç¾¤ï¼å¿é¡»æä¸å°ä¸»å¶ä»çé½æ¯ä»\n 2. eurekaåä¸ªèç¹æ¯å¹³ç­å³ç³»,æå¡å¨æäºæ²¡å³ç³»ï¼åªè¦æä¸å°eurekaå°±å¯ä»¥ä¿è¯æå¡å¯ç¨ï¼æ°æ®é½æ¯ææ°çãå¦ææ¥è¯¢å°çæ°æ®å¹¶ä¸æ¯ææ°çï¼å°±æ¯å ä¸ºeurekaçèªæä¿æ¤æ¨¡å¼å¯¼è´ç\n 3. eurekaæ¬è´¨ä¸æ¯ä¸ä¸ªå·¥ç¨,èzookeeperåªæ¯ä¸ä¸ªè¿ç¨\n 4. eurekaå¯ä»¥å¾å¥½çåºå¯¹å ç½ç»æéå¯¼è´é¨åèç¹å¤±å»èç³»çæåµ,èä¸ä¼åzookeeper ä¸æ ·ä½¿å¾æ´ä¸ªæ³¨åç³»ç»ç«çª\n 5. zookeeperä¿è¯çæ¯cpï¼eurekaä¿è¯çæ¯ap\n\n\n# spring cloud ribbon\n\n\n# ä»ä¹æ¯ribbonï¼\n\nribbonæ¯netflixåå¸çå¼æºé¡¹ç®ï¼ä¸»è¦åè½æ¯æä¾å®¢æ·ç«¯çè½¯ä»¶è´è½½åè¡¡ç®æ³ ribbonå®¢æ·ç«¯ç»ä»¶æä¾ä¸ç³»åå®åçéç½®é¡¹ï¼å¦è¿æ¥è¶æ¶ï¼éè¯ç­ãç®åçè¯´ï¼å°±æ¯å¨éç½®æä»¶ä¸­ååºåé¢ææçæºå¨ï¼ribbonä¼èªå¨çå¸®å©ä½ åºäºæç§è§åï¼å¦ç®åè½®è¯¢ï¼éæºè¿æ¥ç­ï¼å»è¿æ¥è¿äºæºå¨ãæä»¬ä¹å¾å®¹æä½¿ç¨ribbonå®ç°èªå®ä¹çè´è½½åè¡¡ç®æ³ãï¼æç¹ç±»ä¼¼nginxï¼\n\n\n# ribbonåºå±å®ç°åç\n\nribbonä½¿ç¨discoveryclientä»æ³¨åä¸­å¿è¯»åç®æ æå¡ä¿¡æ¯ï¼å¯¹åä¸æ¥å£è¯·æ±è¿è¡è®¡æ°ï¼ä½¿ç¨%åä½ç®æ³è·åç®æ æå¡éç¾¤ç´¢å¼ï¼è¿åè·åå°çç®æ æå¡ä¿¡æ¯ã\n\n\n# @loadbalancedæ³¨è§£çä½ç¨ï¼\n\nå¼å¯å®¢æ·ç«¯è´è½½åè¡¡ã\n\n\n# spring cloud fegin&&openfeign\n\n\n# ä»ä¹æ¯feign\n\nfeignéæäºribbonãresttemplateå®ç°äºè´è½½åè¡¡çæ§è¡httpè°ç¨ï¼åªä¸è¿å¯¹åæçæ¹å¼ï¼ribbon+resttemplateï¼è¿è¡äºå°è£ï¼å¼åèä¸å¿æå¨ä½¿ç¨resttemplateè°æå¡ï¼èæ¯å®ä¹ä¸ä¸ªæ¥å£ï¼å¨è¿ä¸ªæ¥å£ä¸­æ æ³¨ä¸ä¸ªæ³¨è§£å³å¯å®ææå¡è°ç¨ï¼è¿æ ·æ´å ç¬¦åé¢åæ¥å£ç¼ç¨çå®æ¨ï¼ç®åäºå¼åã\n\n\n# ä»ä¹æ¯openfeign\n\nopenfeignæ¯springcloudå¨feignçåºç¡ä¸æ¯æäºspringmvcçæ³¨è§£ï¼å¦@requestmappingç­ç­ãopenfeignç@feignclientå¯ä»¥è§£æspringmvcç@requestmappingæ³¨è§£ä¸çæ¥å£ï¼å¹¶éè¿å¨æä»£ççæ¹å¼äº§çå®ç°ç±»ï¼å®ç°ç±»ä¸­åè´è½½åè¡¡å¹¶è°ç¨å¶ä»æå¡ã\n\n\n# spring cloud hystrix\n\n\n# ä»ä¹æ¯æ­è·¯å¨\n\nå½ä¸ä¸ªæå¡è°ç¨å¦ä¸ä¸ªæå¡ç±äºç½ç»åå æèªèº«åå åºç°é®é¢ï¼è°ç¨èå°±ä¼ç­å¾è¢«è°ç¨èçååº å½æ´å¤çæå¡è¯·æ±å°è¿äºèµæºå¯¼è´æ´å¤çè¯·æ±ç­å¾ï¼åçè¿éæåºï¼éªå´©æåºï¼ æ­è·¯å¨æä¸ç§ç¶æ\n\n * æå¼ç¶æï¼ä¸æ®µæ¶é´å è¾¾å°ä¸å®çæ¬¡æ°æ æ³è°ç¨ å¹¶ä¸å¤æ¬¡çæµæ²¡ææ¢å¤çè¿¹è±¡ æ­è·¯å¨å®å¨æå¼ é£ä¹ä¸æ¬¡è¯·æ±å°±ä¸ä¼è¯·æ±å°è¯¥æå¡\n * åå¼ç¶æï¼ç­æ¶é´å ææ¢å¤è¿¹è±¡ æ­è·¯å¨ä¼å°é¨åè¯·æ±åç»è¯¥æå¡ï¼æ­£å¸¸è°ç¨æ¶ æ­è·¯å¨å³é­\n * å³é­ç¶æï¼å½æå¡ä¸ç´å¤äºæ­£å¸¸ç¶æ è½æ­£å¸¸è°ç¨\n\n\n# ä»ä¹æ¯hystrix?\n\nå¨åå¸å¼ç³»ç»ï¼æä»¬ä¸å®ä¼ä¾èµåç§æå¡ï¼é£ä¹è¿äºä¸ªæå¡ä¸å®ä¼åºç°å¤±è´¥çæåµï¼å°±ä¼å¯¼è´éªå´©ï¼hystrixå°±æ¯è¿æ ·çä¸ä¸ªå·¥å·ï¼é²éªå´©å©å¨ï¼å®å·ææå¡éçº§ï¼æå¡çæ­ï¼æå¡éç¦»ï¼çæ§ç­ä¸äºé²æ­¢éªå´©çææ¯ã hystrixæåç§é²éªå´©æ¹å¼:\n\n * æå¡éçº§ï¼æ¥å£è°ç¨å¤±è´¥å°±è°ç¨æ¬å°çæ¹æ³è¿åä¸ä¸ªç©º\n * æå¡çæ­ï¼æ¥å£è°ç¨å¤±è´¥å°±ä¼è¿å¥è°ç¨æ¥å£æåå®ä¹å¥½çä¸ä¸ªçæ­çæ¹æ³ï¼è¿åéè¯¯ä¿¡æ¯\n * æå¡éç¦»ï¼éç¦»æå¡ä¹é´ç¸äºå½±å\n * æå¡çæ§ï¼å¨æå¡åçè°ç¨æ¶,ä¼å°æ¯ç§è¯·æ±æ°ãæåè¯·æ±æ°ç­è¿è¡ææ è®°å½ä¸æ¥ã\n\n\n# æå¡çæ­ä¸æå¡éçº§\n\néçº§æ¯ä»ç³»ç»åè½ä¼åçº§çè§åº¦èèå¦ä½åºå¯¹ç³»ç»æéã æå¡éçº§æçæ¯å½æå¡å¨ååå§å¢çæåµä¸ï¼æ ¹æ®å½åä¸å¡æåµåæµéå¯¹ä¸äºæå¡åé¡µé¢æç­ç¥çéçº§ï¼ä»¥æ­¤éæ¾æå¡å¨èµæºä»¥ä¿è¯æ ¸å¿ä»»å¡çæ­£å¸¸è¿è¡ã æå¡çæ­æçæ¯æä¸ªæå¡æéæèå¼å¸¸ï¼å°±ç´æ¥çæ­æ´ä¸ªæå¡ï¼èä¸æ¯ä¸ç´ç­å°æ­¤æå¡è¶æ¶ã çæ­åéçº§æ¯ä¸¤ä¸ªæ¯è¾å®¹ææ··æ·çæ¦å¿µï¼ä¸¤èçå«ä¹å¹¶ä¸ç¸åã éçº§çç®çå¨äºåºå¯¹ç³»ç»èªèº«çæéï¼èçæ­çç®çå¨äºåºå¯¹å½åç³»ç»ä¾èµçå¤é¨ç³»ç»æèç¬¬ä¸æ¹ç³»ç»çæéã\n\n\n# springcloud æ­è·¯å¨çä½ç¨æ¯ä»ä¹ï¼\n\nå¨åå¸å¼æ¶æä¸­ï¼æ­è·¯å¨æ¨¡å¼çä½ç¨ä¹æ¯ç±»ä¼¼çï¼å½æä¸ªæå¡åååçæéï¼ç±»ä¼¼ç¨çµå¨åçç­è·¯ï¼ä¹åï¼éè¿æ­è·¯å¨çæéçæ§ï¼ç±»ä¼¼çæ­ä¿é©ä¸ï¼ï¼åè°ç¨æ¹è¿åä¸ä¸ªéè¯¯ååºï¼èä¸æ¯é¿æ¶é´çç­å¾ãè¿æ ·å°±ä¸ä¼ä½¿å¾çº¿ç¨å è°ç¨æéæå¡è¢«é¿æ¶é´å ç¨ä¸éæ¾ï¼é¿åäºæéå¨åå¸å¼ç³»ç»ä¸­çèå»¶ã\n\n\n# spring cloud zuul\n\n\n# ä»ä¹æ¯ç½å³\n\nç½å³ç¸å½äºä¸ä¸ªç½ç»æå¡æ¶æçå¥å£ï¼ææç½ç»è¯·æ±å¿é¡»éè¿ç½å³è½¬åå°å·ä½çæå¡ã\n\n\n# ç½å³çä½ç¨æ¯ä»ä¹\n\nç½å³æ¯ææå¾®æå¡çé¨æ·ï¼è·¯ç±è½¬åä»ä»æ¯æåºæ¬çåè½ï¼é¤æ­¤ä¹å¤è¿æå¶ä»çä¸äºåè½ï¼æ¯å¦ï¼è®¤è¯ãé´æãçæ­ãéæµãæ¥å¿çæ§ç­ç­.........\n\n\n# ä»ä¹æ¯springcloud zuul\n\nzuulæ¯å¯¹springcloudæä¾çæçå¯¹çè·¯ç±æ¹æ¡ï¼ä»ä¼æ ¹æ®è¯·æ±çè·¯å¾ä¸åï¼ç½å³ä¼å®ä½å°æå®çå¾®æå¡ï¼å¹¶ä»£çè¯·æ±å°ä¸åçå¾®æå¡æ¥å£ï¼ä»å¯¹å¤éè½äºå¾®æå¡ççæ­£æ¥å£å°åã\n\n * ä¸ä¸ªéè¦æ¦å¿µï¼å¨æè·¯ç±è¡¨ï¼è·¯ç±å®ä½ï¼ååä»£çï¼\n   * å¨æè·¯ç±è¡¨ï¼zuulæ¯æeurekaè·¯ç±ï¼æå¨éç½®è·¯ç±ï¼è¿ä¿©ç§é½æ¯æèªå¨æ´æ°\n   * è·¯ç±å®ä½ï¼æ ¹æ®è¯·æ±è·¯å¾ï¼zuulæèªå·±çä¸å¥å®ä½æå¡è§åä»¥åè·¯ç±è¡¨è¾¾å¼å¹é\n   * ååä»£çï¼å®¢æ·ç«¯è¯·æ±å°è·¯ç±ç½å³ï¼ç½å³åçä¹åï¼å¨å¯¹ç®æ åéè¯·æ±ï¼æ¿å°ååºä¹åå¨ ç»å®¢æ·ç«¯\n * å®å¯ä»¥åeureka,ribbon,hystrixç­ç»ä»¶éåä½¿ç¨ï¼\n * zuulçåºç¨åºæ¯ï¼\n   * å¯¹å¤æ´é²ï¼æéæ ¡éªï¼æå¡èåï¼æ¥å¿å®¡è®¡ç­\n\n\n# springcloud gateway\n\n\n# spring cloud gatewayå ä¸ªå¿ç¥çæ¯è¯­ï¼\n\n 1. è·¯ç±ï¼routeï¼ï¼gatewayçåºæ¬æå»ºæ¨¡åãå®ç±idãç®æ uriãæ­è¨éååè¿æ»¤å¨éåç»æãå¦æèåæ­è¨ç»æä¸ºçï¼åå¹éå°è¯¥è·¯ç±ã\n 2. æ­è¨ï¼predicate ï¼ï¼åç§java8çæ°ç¹æ§predicateï¼åè®¸å¼åäººåå¹éhttpè¯·æ±ä¸­çä»»ä½åå®¹ï¼æ¯å¦å¤´æåæ°ã\n 3. è¿æ»¤å¨ï¼filterï¼ï¼å¯ä»¥å¨è¿åè¯·æ±ä¹åæä¹åä¿®æ¹è¯·æ±åååºçåå®¹ã\n\n\n# ä»ä¹æ¯predictï¼æ­è¨ï¼ï¼\n\npredicateæ¥èªäºjava8çæ¥å£ãpredicateæ¥åä¸ä¸ªè¾å¥åæ°ï¼è¿åä¸ä¸ªå¸å°å¼ç»æãè¯¥æ¥å£åå«å¤ç§é»è®¤æ¹æ³æ¥å°predicateç»åæå¶ä»å¤æçé»è¾ï¼æ¯å¦ï¼ä¸ï¼æï¼éï¼ã å¯ä»¥ç¨äºæ¥å£è¯·æ±åæ°æ ¡éªãå¤æ­æ°èæ°æ®æ¯å¦æååéè¦è¿è¡æ´æ°æä½ã spring cloud gatewayåç½®äºè®¸å¤predictï¼è¿äºpredictçæºç å¨org.springframework.cloud.gateway.handler.predicateåä¸­ãåç½®çä¸äºæ­è¨å¦ä¸å¾ï¼ å·ä½å¯ä»¥æ¥çå®æ¹ææ¡£ï¼https://docs.spring.io/spring-cloud-gateway/docs/2.2.9.release/reference/html/ ä¸é¢å°±ä»¥æåä¸ç§æéæ­è¨ä¸ºä¾ä»ç»ä¸ä¸å¦ä½éç½®ãéç½®å¦ä¸ï¼\n\nspring:\n  cloud:\n    gateway:\n      ## è·¯ç±\n      routes:\n        ## idåªè¦å¯ä¸å³å¯ï¼åç§°ä»»æ\n        - id: gateway-provider_1\n          uri: http://localhost:9024\n          ## éç½®æ­è¨\n          predicates:\n            ## path route predicate factoryæ­è¨ï¼æ»¡è¶³/gateway/provider/**è¿ä¸ªè¯·æ±è·¯å¾çé½ä¼è¢«è·¯ç±å°http://localhost:9024è¿ä¸ªuriä¸­\n            - path=/gateway/provider/**\n            ## weight route predicate factoryï¼åä¸åç»æç§æéè¿è¡åéæµéï¼è¿éåéäº80%\n            ## ç¬¬ä¸ä¸ªgroup1æ¯åç»åï¼ç¬¬äºä¸ªåæ°æ¯æé\n            - weight=group1, 8\n            \n        ## idå¿é¡»å¯ä¸\n        - id: gateway-provider_2\n          ## è·¯ç±è½¬åçuri\n          uri: http://localhost:9025\n          ## éç½®æ­è¨\n          predicates:\n            ## path route predicate factoryæ­è¨ï¼æ»¡è¶³/gateway/provider/**è¿ä¸ªè¯·æ±è·¯å¾çé½ä¼è¢«è·¯ç±å°http://localhost:9024è¿ä¸ªuriä¸­\n            - path=/gateway/provider/**\n            ## weight route predicate factoryï¼åä¸åç»æç§æéè¿è¡åéæµéï¼è¿éåéäº20%\n            ## ç¬¬ä¸ä¸ªgroup1æ¯åç»åï¼ç¬¬äºä¸ªåæ°æ¯æé\n            - weight=group1, 2\n\n\n\nroutesä¸å°±æ¯éç½®çè·¯ç±ç­ç¥ï¼åä¸ªç»ä»¶å¦ä¸ï¼\n\n * idï¼è·¯ç±çå¯ä¸idï¼åç§°ä»»æ\n * uriï¼è·¯ç±è½¬åçuri\n * predicatesï¼æ­è¨éç½®ï¼å¯ä»¥éç½®å¤ä¸ª\n\nspring cloud gatewayä¸­çæ­è¨å½åé½æ¯æè§èçï¼æ ¼å¼ï¼xxxroutepredicatefactoryã æ¯å¦æéçæ­è¨ï¼weightroutepredicatefactoryï¼é£ä¹éç½®æ¶ç´æ¥ååé¢çweightã é»è®¤çè·¯ç±è½¬åå¦æè·¯ç±å°äºä¸¤ä¸ªï¼åæ¯çæç§éç½®ååé¡ºåºè½¬åï¼ä¸é¢é½éç½®äºè·¯å¾ï¼path=/gateway/provider/**ï¼å¦ææ²¡æéç½®æéï¼åè¯å®æ¯è½¬åå°http://localhost:9024ã ä½æ¯æ¢ç¶éç½®éç½®äºæéå¹¶ä¸ç¸åçåç»ï¼åæç§æéæ¯ä¾è¿è¡åéæµé\n\n\n# ä»ä¹æ¯è¿æ»¤å¨ï¼\n\nè¿æ»¤å¨è¿ä¸ªæ¦å¿µå¾çæï¼å¨spring mvc å°±æ¥è§¦è¿ï¼gatewayçè¿æ»¤å¨çä½ç¨ä»¥åçå½å¨æé½æ¯ç±»ä¼¼çã gatewayççå½å¨æï¼\n\n * preï¼è¿ç§è¿æ»¤å¨å¨è¯·æ±è¢«è·¯ç±ä¹åè°ç¨ãæä»¬å¯å©ç¨è¿ç§è¿æ»¤å¨å®ç°èº«ä»½éªè¯ãå¨éç¾¤ä¸­éæ© è¯·æ±çå¾®æå¡ãè®°å½è°è¯ä¿¡æ¯ç­ã\n * postï¼è¿ç§è¿æ»¤å¨å¨è·¯ç±å°å¾®æå¡ä»¥åæ§è¡ãè¿ç§è¿æ»¤å¨å¯ç¨æ¥ä¸ºååºæ·»å æ åçhttp headerãæ¶éç»è®¡ä¿¡æ¯åææ ãå°ååºä»å¾®æå¡åéç»å®¢æ·ç«¯ç­ã\n\ngateway çfilterä»ä½ç¨èå´å¯åä¸ºä¸¤ç§:\n\n * gatewayfilterï¼åºç¨å°åä¸ªè·¯ç±æèä¸ä¸ªåç»çè·¯ç±ä¸ï¼éè¦å¨éç½®æä»¶ä¸­éç½®ï¼ã\n * globalfilterï¼åºç¨å°ææçè·¯ç±ä¸ï¼æ ééç½®ï¼å¨å±çæï¼\n\n\n# gatewayfilterï¼å±é¨è¿æ»¤å¨ï¼\n\nspring cloud gatewayä¸­åç½®äºè®¸å¤çå±é¨è¿æ»¤å¨ï¼å¦ä¸å¾ï¼ å±é¨è¿æ»¤å¨éè¦å¨æå®è·¯ç±éç½®æè½çæï¼é»è®¤æ¯ä¸çæçã ä»¥addresponseheadergatewayfilterfactoryè¿ä¸ªè¿æ»¤å¨ä¸ºä¾ï¼ä¸ºåå§ååºæ·»å headerï¼éç½®å¦ä¸ï¼\n\nspring:\n  cloud:\n    gateway:\n      ## è·¯ç±\n      routes:\n        ## idåªè¦å¯ä¸å³å¯ï¼åç§°ä»»æ\n        - id: gateway-provider_1\n          uri: http://localhost:9024\n          ## éç½®æ­è¨\n          predicates:\n            ## path route predicate factoryæ­è¨ï¼æ»¡è¶³/gateway/provider/**è¿ä¸ªè¯·æ±è·¯å¾çé½ä¼è¢«è·¯ç±å°http://localhost:9024è¿ä¸ªuriä¸­\n            - path=/gateway/provider/**\n          ## éç½®è¿æ»¤å¨ï¼å±é¨ï¼\n          filters:\n            - addresponseheader=x-response-foo, bar\n\n\n\næµè§å¨è¯·æ±ï¼åç°ååºå¤´ä¸­å·²ç»æäºx-response-foo=barè¿ä¸ªé®å¼å¯¹ï¼å¦ä¸å¾ï¼\næ³¨æï¼è¿æ»¤å¨çåç§°åªéè¦ååç¼ï¼è¿æ»¤å¨å½åå¿é¡»æ¯xxxgatewayfilterfactoryï¼åæ¬èªå®ä¹ï¼ã\n\n# èªå®ä¹å±é¨è¿æ»¤å¨\n\nåºæ¯ï¼æ¨¡æä¸ä¸ªææéªè¯çè¿ç¨ï¼å¦æè¯·æ±å¤´æèè¯·æ±åæ°ä¸­æºå¸¦tokenåæ¾è¡ï¼å¦åç´æ¥æ¦æªè¿å401ï¼ä»£ç å¦ä¸ï¼\n\n/**\n* åç§°å¿é¡»æ¯xxxgatewayfilterfactoryå½¢å¼\n* todoï¼æ¨¡æææçéªè¯ï¼å·ä½é»è¾æ ¹æ®ä¸å¡å®å\n*/\n@component\n    @slf4j\n    public class authorizegatewayfilterfactory extends abstractgatewayfilterfactory<authorizegatewayfilterfactory.config> {\n\n        private static final string authorize_token = "token";\n\n        //æé å½æ°ï¼å è½½config\n        public authorizegatewayfilterfactory() {\n            //åºå®åæ³\n            super(authorizegatewayfilterfactory.config.class);\n            log.info("loaded gatewayfilterfactory [authorize]");\n        }\n\n        //è¯»åéç½®æä»¶ä¸­çåæ° èµå¼å° éç½®ç±»ä¸­\n        @override\n        public list<string> shortcutfieldorder() {\n            //config.enabled\n            return arrays.aslist("enabled");\n        }\n\n        @override\n        public gatewayfilter apply(authorizegatewayfilterfactory.config config) {\n            return (exchange, chain) -> {\n                //å¤æ­æ¯å¦å¼å¯ææéªè¯\n                if (!config.isenabled()) {\n                    return chain.filter(exchange);\n                }\n\n                serverhttprequest request = exchange.getrequest();\n                httpheaders headers = request.getheaders();\n                //ä»è¯·æ±å¤´ä¸­è·åtoken\n                string token = headers.getfirst(authorize_token);\n                if (token == null) {\n                    //ä»è¯·æ±å¤´åæ°ä¸­è·åtoken\n                    token = request.getqueryparams().getfirst(authorize_token);\n                }\n\n                serverhttpresponse response = exchange.getresponse();\n                //å¦ætokenä¸ºç©ºï¼ç´æ¥è¿å401ï¼æªææ\n                if (stringutils.isempty(token)) {\n                    response.setstatuscode(httpstatus.unauthorized);\n                    //å¤çå®æï¼ç´æ¥æ¦æªï¼ä¸åè¿è¡ä¸å»\n                    return response.setcomplete();\n                }\n                /**\n* todo chain.filter(exchange) ä¹åçé½æ¯è¿æ»¤å¨çåç½®å¤ç\n*\n* chain.filter().then(\n*  è¿æ»¤å¨çåç½®å¤ç...........\n* )\n*/\n                //æææ­£å¸¸ï¼ç»§ç»­ä¸ä¸ä¸ªè¿æ»¤å¨é¾çè°ç¨\n                return chain.filter(exchange);\n            };\n        }\n\n        @data\n            @allargsconstructor\n            @noargsconstructor\n            public static class config {\n                // æ§å¶æ¯å¦å¼å¯è®¤è¯\n                private boolean enabled;\n            }\n    }\n\n\n\nå±é¨è¿æ»¤å¨éè¦å¨è·¯ç±ä¸­éç½®æè½çæï¼éç½®å¦ä¸ï¼\n\nspring:\n  cloud:\n    gateway:\n      ## è·¯ç±\n      routes:\n        ## idåªè¦å¯ä¸å³å¯ï¼åç§°ä»»æ\n        - id: gateway-provider_1\n          uri: http://localhost:9024\n          ## éç½®æ­è¨\n          predicates:\n            ## path route predicate factoryæ­è¨ï¼æ»¡è¶³/gateway/provider/**è¿ä¸ªè¯·æ±è·¯å¾çé½ä¼è¢«è·¯ç±å°http://localhost:9024è¿ä¸ªuriä¸­\n            - path=/gateway/provider/**\n          ## éç½®è¿æ»¤å¨ï¼å±é¨ï¼\n          filters:\n            - addresponseheader=x-response-foo, bar\n            ## authorizegatewayfilterfactoryèªå®ä¹è¿æ»¤å¨éç½®ï¼å¼ä¸ºtrueéè¦éªè¯ææï¼falseä¸éè¦\n            - authorize=true\n\n\n\næ­¤æ¶ç´æ¥è®¿é®ï¼http://localhost:9023/gateway/provider/portï¼ä¸æºå¸¦tokenï¼è¿åå¦ä¸å¾ï¼ è¯·æ±åæ°å¸¦ä¸tokenï¼http://localhost:9023/gateway/provider/port?token=abcdcdecd-ddcdeicd12ï¼æåè¿åï¼å¦ä¸å¾ï¼ ä¸è¿°çauthorizegatewayfilterfactoryåªæ¯æ¶åå°äºè¿æ»¤å¨çåç½®å¤çï¼åç½®å¤çæ¯å¨chain.filter().then()ä¸­çthen()æ¹æ³ä¸­å®æçï¼å·ä½å¯ä»¥çä¸é¡¹ç®æºç ä¸­çtimegatewayfilterfactoryï¼ä»£ç å°±ä¸åè´´åºæ¥äºï¼å¦ä¸å¾ï¼\n\n\n\n# globalfilterï¼å¨å±è¿æ»¤å¨ï¼\n\nå¨å±è¿æ»¤å¨åºç¨å°å¨é¨è·¯ç±ä¸ï¼æ éå¼åèéç½®ï¼spring cloud gatewayä¹åç½®äºä¸äºå¨å±è¿æ»¤å¨ï¼å¦ä¸å¾ï¼ globalfilterçåè½å¶å®ågatewayfilteræ¯ç¸åçï¼åªæ¯globalfilterçä½ç¨åæ¯ææçè·¯ç±éç½®ï¼èä¸æ¯ç»å®å¨æå®çè·¯ç±éç½®ä¸ãå¤ä¸ªglobalfilterå¯ä»¥éè¿@orderæègetorder()æ¹æ³æå®æ¯ä¸ªglobalfilterçæ§è¡é¡ºåºï¼orderå¼è¶å°ï¼globalfilteræ§è¡çä¼åçº§è¶é«ã æ³¨æï¼ç±äºè¿æ»¤å¨æpreåpostä¸¤ç§ç±»åï¼preç±»åè¿æ»¤å¨å¦æorderå¼è¶å°ï¼é£ä¹å®å°±åºè¯¥å¨preè¿æ»¤å¨é¾çé¡¶å±ï¼postç±»åè¿æ»¤å¨å¦æorderå¼è¶å°ï¼é£ä¹å®å°±åºè¯¥å¨preè¿æ»¤å¨é¾çåºå±ãç¤ºæå¾å¦ä¸ï¼\n\nå½ç¶é¤äºåç½®çå¨å±è¿æ»¤å¨ï¼å®éå·¥ä½ä¸­è¿éè¦å®å¶è¿æ»¤å¨ï¼ä¸é¢æ¥ä»ç»ä¸ä¸å¦ä½èªå®ä¹ã\n\n# èªå®ä¹å¨å±è¿æ»¤å¨\n\nåºæ¯ï¼æ¨¡ænginxçaccess log åè½ï¼è®°å½æ¯æ¬¡è¯·æ±çç¸å³ä¿¡æ¯ãä»£ç å¦ä¸ï¼\n\n/**\n* å®ç°globalfilter\n*/\n@slf4j\n    @component\n    @order(value = integer.min_value)\n    public class accesslogglobalfilter implements globalfilter {\n\n        @override\n        public mono<void> filter(serverwebexchange exchange, gatewayfilterchain chain) {\n            //filterçåç½®å¤ç\n            serverhttprequest request = exchange.getrequest();\n            string path = request.getpath().pathwithinapplication().value();\n            inetsocketaddress remoteaddress = request.getremoteaddress();\n            return chain\n                //ç»§ç»­è°ç¨filter\n                .filter(exchange)\n                //filterçåç½®å¤ç\n                .then(mono.fromrunnable(() -> {\n                    serverhttpresponse response = exchange.getresponse();\n                    httpstatus statuscode = response.getstatuscode();\n                    log.info("è¯·æ±è·¯å¾:{},è¿ç¨ipå°å:{},ååºç :{}", path, remoteaddress, statuscode);\n                }));\n        }\n    }\n\n\n\nå¥½äºï¼å¨å±è¿æ»¤å¨ä¸å¿å¨è·¯ç±ä¸éç½®ï¼æ³¨å¥å°iocå®¹å¨ä¸­å³å¯å¨å±çæã æ­¤æ¶ååºä¸ä¸ªè¯·æ±ï¼æ§å¶å°æå°ä¿¡æ¯å¦ä¸ï¼\n\nè¯·æ±è·¯å¾:/gateway/provider/port,è¿ç¨ipå°å:/0:0:0:0:0:0:0:1:64114,ååºç :200 ok\n\n\n\n\n# ä¸ºä»ä¹è¦éææ³¨åä¸­å¿\n\n * ä½¿å¾ç½å³è½å¤ä»æ³¨åä¸­å¿èªå¨è·åuri ï¼é²æ­¢æå¡çipçå°åä¸æ¦ä¿®æ¹äºï¼è·¯ç±éç½®ä¸­çuriå¿é¡»ä¿®æ¹\n * æå¡éç¾¤ä¸­å®ç°è´è½½åè¡¡\n\n\n# å¦ä½å®ç°å¨æè·¯ç±\n\nå°ç½å³çéç½®å­æ¾å° nacos éç½®ä¸­å¿ä¸­ï¼è¿æ ·ç±éç½®ä¸­å¿ç»ä¸ç®¡çï¼ä¸æ¦è·¯ç±åçæ¹åï¼åªéè¦å¨éç½®ä¸­å¿ä¿®æ¹ï¼ä¾¿è½è¾¾å°ä¸å¤ä¿®æ¹ï¼å¤å¤çæçç®çã\n\n\n# å¦ä½å®ç°èªå®ä¹å¨å±å¼å¸¸å¤ç\n\nç´æ¥åå»ºä¸ä¸ªèªå®ä¹å¨å±å¼å¸¸å¤çç±»ï¼å®ç°errorwebexceptionhandlerï¼éåå¶ä¸­çhandleæ¹æ³\n\n\n# spring cloud config\n\n\n# ä»ä¹æ¯springcloud config\n\nspring cloud configä¸ºåå¸å¼ç³»ç»ä¸­çå¤é¨éç½®æä¾æå¡å¨åå®¢æ·ç«¯æ¯æï¼å¯ä»¥æ¹ä¾¿çå¯¹å¾®æå¡åä¸ªç¯å¢ä¸çéç½®è¿è¡éä¸­å¼ç®¡çã spring cloud configåä¸ºconfig serveråconfig clientä¸¤é¨åãconfig serverè´è´£è¯»åéç½®æä»¶ï¼å¹¶ä¸æ´é²http apiæ¥å£ï¼config clientéè¿è°ç¨config serverçæ¥å£æ¥è¯»åéç½®æä»¶ã\n\n\n# springcloud configå¯ä»¥å®ç°å®æ¶å·æ°å\n\nspringcloud configå®æ¶å·æ°éç¨springcloud busæ¶æ¯æ»çº¿ã\n\n\n# spring cloud bus\n\n\n# ä»ä¹æ¯ spring cloud bus\n\n * spring cloud buså°±åä¸ä¸ªåå¸å¼æ§è¡å¨ï¼ç¨äºæ©å±çspring bootåºç¨ç¨åºçéç½®æä»¶ï¼ä½ä¹å¯ä»¥ç¨ä½åºç¨ç¨åºä¹é´çéä¿¡ééã\n * spring cloud bus ä¸è½åç¬å®æéä¿¡ï¼éè¦éåmqæ¯æ\n * spring cloud busä¸è¬æ¯éåspring cloud configåéç½®ä¸­å¿ç\n * springcloud configå®æ¶å·æ°ä¹å¿é¡»éç¨springcloud busæ¶æ¯æ»çº¿\n\n\n# spring cloud sleuth\n\n\n# åå¸å¼é¾è·¯è¿½è¸ªä½¿ç¨ä»ä¹å®ç°\n\nåå¸å¼é¾è·¯è¿½è¸ªä½¿ç¨ spring cloud sleuth+ zipkin å®ç°çï¼ sleuthå®ç°æ¥å¿ééï¼zipkinå®ç°å¯è§åã zipkin ä¿®æ¹é»è®¤httpä¼ è¾æ¹ä¸ºmqä¼ è¾ï¼å¯ä»¥é²æ­¢æ°æ®ä¸¢å¤±åè¿è¡å¼æ­¥è§£è¦æé«æ§è½ã zipkin æä¹åæ¹å¼æ¯ä½¿ç¨ elasticsearch è¿è¡å­å¨çï¼é»è®¤ä¸ºåå­å­å¨ï¼ã\n\nhttps://www.cnblogs.com/cbvlog/p/15571496.html',charsets:{cjk:!0},lastUpdated:"2023/11/02, 03:14:56",lastUpdatedTimestamp:1698894896e3},{title:"SpringCloudAlibaba é¢è¯é¢",frontmatter:{title:"SpringCloudAlibaba é¢è¯é¢",date:"2023-10-24T15:46:26.000Z",permalink:"/pages/4a2429/"},regularPath:"/02.Java%20%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/02.Java%20%E5%85%AB%E8%82%A1%E6%96%87/12.SpringCloudAlibaba%20%E9%9D%A2%E8%AF%95%E9%A2%98.html",relativePath:"02.Java é¢è¯å®å¸/02.Java å«è¡æ/12.SpringCloudAlibaba é¢è¯é¢.md",key:"v-9499db24",path:"/pages/4a2429/",headers:[{level:1,title:"SpringCloud Alibaba Nacos",slug:"springcloud-alibaba-nacos",normalizedTitle:"springcloud alibaba nacos",charIndex:2},{level:1,title:"SpringCloud Alibaba Sentinel",slug:"springcloud-alibaba-sentinel",normalizedTitle:"springcloud alibaba sentinel",charIndex:32},{level:1,title:"SpringCloud Alibaba Seata",slug:"springcloud-alibaba-seata",normalizedTitle:"springcloud alibaba seata",charIndex:65},{level:2,title:"åå¸å¼äºå¡æä¹å®ç°",slug:"åå¸å¼äºå¡æä¹å®ç°",normalizedTitle:"åå¸å¼äºå¡æä¹å®ç°",charIndex:95}],headersStr:"SpringCloud Alibaba Nacos SpringCloud Alibaba Sentinel SpringCloud Alibaba Seata åå¸å¼äºå¡æä¹å®ç°",content:"# SpringCloud Alibaba Nacos\n\n\n# SpringCloud Alibaba Sentinel\n\n\n# SpringCloud Alibaba Seata\n\n\n# åå¸å¼äºå¡æä¹å®ç°\n\néè¿é¿éå·´å·´çå¼æºç»ä»¶Seataï¼ä½¿ç¨ @GlobalTransactional æ³¨è§£ï¼ å°±å¯ä»¥é«æå¹¶ä¸å¯¹ä¸å¡é¶ä¾µå¥å°è§£å³åå¸å¼äºå¡é®é¢ã",normalizedContent:"# springcloud alibaba nacos\n\n\n# springcloud alibaba sentinel\n\n\n# springcloud alibaba seata\n\n\n# åå¸å¼äºå¡æä¹å®ç°\n\néè¿é¿éå·´å·´çå¼æºç»ä»¶seataï¼ä½¿ç¨ @globaltransactional æ³¨è§£ï¼ å°±å¯ä»¥é«æå¹¶ä¸å¯¹ä¸å¡é¶ä¾µå¥å°è§£å³åå¸å¼äºå¡é®é¢ã",charsets:{cjk:!0},lastUpdated:"2023/11/02, 03:14:56",lastUpdatedTimestamp:1698894896e3},{title:"åå¸å¼",frontmatter:{title:"åå¸å¼",date:"2023-10-24T15:50:17.000Z",permalink:"/pages/0d16b1/"},regularPath:"/02.Java%20%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/02.Java%20%E5%85%AB%E8%82%A1%E6%96%87/13.%E5%88%86%E5%B8%83%E5%BC%8F.html",relativePath:"02.Java é¢è¯å®å¸/02.Java å«è¡æ/13.åå¸å¼.md",key:"v-4d6aaf62",path:"/pages/0d16b1/",headers:[{level:1,title:"åå¸å¼åºç¡",slug:"åå¸å¼åºç¡",normalizedTitle:"åå¸å¼åºç¡",charIndex:2},{level:2,title:"ä»ä¹æ¯åå¸å¼",slug:"ä»ä¹æ¯åå¸å¼",normalizedTitle:"ä»ä¹æ¯åå¸å¼",charIndex:12},{level:2,title:"ä¸ºä»ä¹è¦ä½¿ç¨åå¸å¼",slug:"ä¸ºä»ä¹è¦ä½¿ç¨åå¸å¼",normalizedTitle:"ä¸ºä»ä¹è¦ä½¿ç¨åå¸å¼",charIndex:194},{level:1,title:"åå¸å¼çè®º",slug:"åå¸å¼çè®º",normalizedTitle:"åå¸å¼çè®º",charIndex:312},{level:2,title:"CAP çè®º",slug:"cap-çè®º",normalizedTitle:"cap çè®º",charIndex:322},{level:3,title:"åå¸å¼ä¸è´æ§ç 3 ç§çº§å«",slug:"åå¸å¼ä¸è´æ§ç-3-ç§çº§å«",normalizedTitle:"åå¸å¼ä¸è´æ§ç 3 ç§çº§å«",charIndex:883},{level:2,title:"BASE çè®º",slug:"base-çè®º",normalizedTitle:"base çè®º",charIndex:1088},{level:1,title:"åå¸å¼äºå¡",slug:"åå¸å¼äºå¡",normalizedTitle:"åå¸å¼äºå¡",charIndex:1786},{level:2,title:"ä»ä¹æ¯åå¸å¼äºå¡ï¼",slug:"ä»ä¹æ¯åå¸å¼äºå¡",normalizedTitle:"ä»ä¹æ¯åå¸å¼äºå¡ï¼",charIndex:1796},{level:2,title:"ææ§äºå¡ååæ§äºå¡",slug:"ææ§äºå¡ååæ§äºå¡",normalizedTitle:"ææ§äºå¡ååæ§äºå¡",charIndex:1836},{level:2,title:"åå¸å¼äºå¡è§£å³æ¹æ¡",slug:"åå¸å¼äºå¡è§£å³æ¹æ¡",normalizedTitle:"åå¸å¼äºå¡è§£å³æ¹æ¡",charIndex:1987},{level:3,title:"XA è§èçè§è²ç»æ",slug:"xa-è§èçè§è²ç»æ",normalizedTitle:"xa è§èçè§è²ç»æ",charIndex:2156},{level:3,title:"2PCï¼ä¸¤é¶æ®µæäº¤åè®®ï¼",slug:"_2pc-ä¸¤é¶æ®µæäº¤åè®®",normalizedTitle:"2pcï¼ä¸¤é¶æ®µæäº¤åè®®ï¼",charIndex:2407},{level:3,title:"3PCï¼ä¸é¶æ®µæäº¤åè®®ï¼",slug:"_3pc-ä¸é¶æ®µæäº¤åè®®",normalizedTitle:"3pcï¼ä¸é¶æ®µæäº¤åè®®ï¼",charIndex:2655},{level:3,title:"TCCï¼è¡¥å¿äºå¡ï¼",slug:"tcc-è¡¥å¿äºå¡",normalizedTitle:"tccï¼è¡¥å¿äºå¡ï¼",charIndex:3358},{level:3,title:"MQäºå¡",slug:"mqäºå¡",normalizedTitle:"mqäºå¡",charIndex:1932},{level:1,title:"åå¸å¼æ¥å¿ç®¡ç",slug:"åå¸å¼æ¥å¿ç®¡ç",normalizedTitle:"åå¸å¼æ¥å¿ç®¡ç",charIndex:3946},{level:2,title:"æ¥å¿ç³»ç»éè¦ååªäºäºæ",slug:"æ¥å¿ç³»ç»éè¦ååªäºäºæ",normalizedTitle:"æ¥å¿ç³»ç»éè¦ååªäºäºæ",charIndex:3958},{level:2,title:"é¡¹ç®ä¸­æä¹ç®¡çæ¥å¿ç",slug:"é¡¹ç®ä¸­æä¹ç®¡çæ¥å¿ç",normalizedTitle:"é¡¹ç®ä¸­æä¹ç®¡çæ¥å¿ç",charIndex:4085}],headersStr:"åå¸å¼åºç¡ ä»ä¹æ¯åå¸å¼ ä¸ºä»ä¹è¦ä½¿ç¨åå¸å¼ åå¸å¼çè®º CAP çè®º åå¸å¼ä¸è´æ§ç 3 ç§çº§å« BASE çè®º åå¸å¼äºå¡ ä»ä¹æ¯åå¸å¼äºå¡ï¼ ææ§äºå¡ååæ§äºå¡ åå¸å¼äºå¡è§£å³æ¹æ¡ XA è§èçè§è²ç»æ 2PCï¼ä¸¤é¶æ®µæäº¤åè®®ï¼ 3PCï¼ä¸é¶æ®µæäº¤åè®®ï¼ TCCï¼è¡¥å¿äºå¡ï¼ MQäºå¡ åå¸å¼æ¥å¿ç®¡ç æ¥å¿ç³»ç»éè¦ååªäºäºæ é¡¹ç®ä¸­æä¹ç®¡çæ¥å¿ç",content:"# åå¸å¼åºç¡\n\n\n# ä»ä¹æ¯åå¸å¼\n\nåå¸å¼æèè¯´ SOA åå¸å¼éè¦çå°±æ¯é¢åæå¡ï¼è¯´ç®åçåå¸å¼å°±æ¯æä»¬ææ´ä¸ªç³»ç»æåæä¸åçæå¡ç¶åå°è¿äºæå¡æ¾å¨ä¸åçæå¡å¨ä¸åè½»åä½æå¡çååæé«å¹¶åéåæ§è½ãæ¯å¦çµåç³»ç»å¯ä»¥ç®åå°æåæè®¢åç³»ç»ãååç³»ç»ãç»å½ç³»ç»ç­ç­ï¼æåä¹åçæ¯ä¸ªæå¡å¯ä»¥é¨ç½²å¨ä¸åçæºå¨ä¸ï¼å¦ææä¸ä¸ªæå¡çè®¿é®éæ¯è¾å¤§çè¯ä¹å¯ä»¥å°è¿ä¸ªæå¡åæ¶é¨ç½²å¨å¤å°æºå¨ä¸ã\n\n\n# ä¸ºä»ä¹è¦ä½¿ç¨åå¸å¼\n\nä»å¼åè§åº¦æ¥è®²åä½åºç¨çä»£ç é½éä¸­å¨ä¸èµ·ï¼èåå¸å¼ç³»ç»çä»£ç æ ¹æ®ä¸å¡è¢«æåãæä»¥ï¼æ¯ä¸ªå¢éå¯ä»¥è´è´£ä¸ä¸ªæå¡çå¼åï¼è¿æ ·æåäºå¼åæçãå¦å¤ï¼ä»£ç æ ¹æ®ä¸å¡æåä¹åæ´å ä¾¿äºç»´æ¤åæ©å±ï¼ä¹è½æé«æ´ä¸ªç³»ç»çæ§è½ã\n\n\n# åå¸å¼çè®º\n\n\n# CAP çè®º\n\nCAP ä¹å°±æ¯ Consistencyï¼ä¸è´æ§ï¼ãAvailabilityï¼å¯ç¨æ§ï¼ãPartition Toleranceï¼ååºå®¹éæ§ï¼ è¿ä¸ä¸ªåè¯é¦å­æ¯ç»å ï¼\n\n * ä¸è´æ§ï¼Consistencyï¼ : ææèç¹è®¿é®åä¸ä»½ææ°çæ°æ®å¯æ¬\n * å¯ç¨æ§ï¼Availabilityï¼: éæéçèç¹å¨åççæ¶é´åè¿ååççååºï¼ä¸æ¯éè¯¯æèè¶æ¶çååºï¼ã\n * ååºå®¹éæ§ï¼Partition toleranceï¼ : åå¸å¼ç³»ç»åºç°ç½ç»ååºçæ¶åï¼ä»ç¶è½å¤å¯¹å¤æä¾æå¡ã\n\nå½åçç½ç»ååºæ¶ï¼åªè½ä¿è¯CPæèAPã æ¯å¦ ZooKeeper å°±æ¯ CP æ¶æï¼Eureka å°±æ¯ AP æ¶æï¼Nacos ä¸ä»æ¯æ CP æ¶æä¹æ¯æ AP æ¶æã\n\nä»ä¹æ¯ç½ç»ååº?\n\n> åå¸å¼ç³»ç»ä¸­ï¼å¤ä¸ªèç¹ä¹åçç½ç»æ¬æ¥æ¯è¿éçï¼ä½æ¯å ä¸ºæäºæéï¼æ¯å¦é¨åèç¹ç½ç»åºäºé®é¢ï¼æäºèç¹ä¹é´ä¸è¿éäºï¼æ´ä¸ªç½ç»å°±åæäºå ååºåï¼è¿å°±å«ç½ç»ååºã\n\nåèï¼https://javaguide.cn/distributed-system/%E7%90%86%E8%AE%BA&%E7%AE%97%E6%B3%95/cap&base%E7%90%86%E8%AE%BA/#cap%E7%90%86%E8%AE%BA\n\n\n# åå¸å¼ä¸è´æ§ç 3 ç§çº§å«\n\n * å¼ºä¸è´æ§ ï¼ç³»ç»åå¥äºä»ä¹ï¼è¯»åºæ¥çå°±æ¯ä»ä¹ã\n * å¼±ä¸è´æ§ ï¼ä¸ä¸å®å¯ä»¥è¯»åå°ææ°åå¥çå¼ï¼ä¹ä¸ä¿è¯å¤å°æ¶é´ä¹åè¯»åå°çæ°æ®æ¯ææ°çï¼åªæ¯ä¼å°½éä¿è¯æä¸ªæ¶å»è¾¾å°æ°æ®ä¸è´çç¶æã\n * æç»ä¸è´æ§ ï¼å¼±ä¸è´æ§çåçº§çï¼ç³»ç»ä¼ä¿è¯å¨ä¸å®æ¶é´åè¾¾å°æ°æ®ä¸è´çç¶æã\n\nä¸çæ¯è¾æ¨å´æ¯æç»ä¸è´æ§çº§å«ï¼ä½æ¯æäºå¯¹æ°æ®ä¸è´è¦æ±ååä¸¥æ ¼çåºæ¯æ¯å¦é¶è¡è½¬è´¦è¿æ¯è¦ä¿è¯å¼ºä¸è´æ§ã\n\n\n# BASE çè®º\n\nBASE çè®ºæ¬è´¨ä¸æ¯å¯¹ CAP çå»¶ä¼¸åè¡¥åï¼æ´å·ä½å°è¯´ï¼æ¯å¯¹ CAP ä¸­ AP æ¹æ¡çä¸ä¸ªè¡¥åã BASEçè®ºçæ ¸å¿ææ³æ¯å³ä½¿æ æ³åå°å¼ºä¸è´æ§ï¼ä½æ¯ä¸ªåºç¨é½å¯ä»¥æ ¹æ®èªèº«ä¸å¡ç¹ç¹ï¼éç¨éå½çæ¹å¼æ¥ä½¿ç³»ç»è¾¾å°æç»ä¸è´æ§ã AP æ¹æ¡åªæ¯å¨ç³»ç»åçååºçæ¶åæ¾å¼ä¸è´æ§ï¼èä¸æ¯æ°¸è¿æ¾å¼ä¸è´æ§ãå¨ååºæéæ¢å¤åï¼ç³»ç»åºè¯¥è¾¾å°æç»ä¸è´æ§ãè¿ä¸ç¹å¶å®å°±æ¯ BASE çè®ºå»¶ä¼¸çå°æ¹ã\nBASE æ¯ Basically Availableï¼åºæ¬å¯ç¨ï¼ ãSoft-stateï¼è½¯ç¶æï¼ å Eventually Consistentï¼æç»ä¸è´æ§ï¼ ä¸ä¸ªç­è¯­çç¼©åã\n\n * åºæ¬å¯ç¨ï¼æ¯æåå¸å¼ç³»ç»å¨åºç°ä¸å¯é¢ç¥æéçæ¶åï¼åè®¸æå¤±é¨åå¯ç¨æ§ï¼ååºæ¶é´ä¸çæå¤±åç³»ç»éæ ¸å¿åè½ä¸çæå¤±ï¼ãä½æ¯ï¼è¿ç»ä¸ç­ä»·äºç³»ç»ä¸å¯ç¨ã\n * **è½¯ç¶æï¼**æåè®¸ç³»ç»ä¸­çæ°æ®å­å¨ä¸­é´ç¶æï¼CAP çè®ºä¸­çæ°æ®ä¸ä¸è´ï¼ï¼å¹¶è®¤ä¸ºè¯¥ä¸­é´ç¶æçå­å¨ä¸ä¼å½±åç³»ç»çæ´ä½å¯ç¨æ§ï¼å³åè®¸ç³»ç»å¨ä¸åèç¹çæ°æ®å¯æ¬ä¹é´è¿è¡æ°æ®åæ­¥çè¿ç¨å­å¨å»¶æ¶ã\n * æç»ä¸è´æ§ï¼å¼ºè°çæ¯ç³»ç»ä¸­ææçæ°æ®å¯æ¬ï¼å¨ç»è¿ä¸æ®µæ¶é´çåæ­¥åï¼æç»è½å¤è¾¾å°ä¸ä¸ªä¸è´çç¶æãå æ­¤ï¼æç»ä¸è´æ§çæ¬è´¨æ¯éè¦ç³»ç»ä¿è¯æç»æ°æ®è½å¤è¾¾å°ä¸è´ï¼èä¸éè¦å®æ¶ä¿è¯ç³»ç»æ°æ®çå¼ºä¸è´æ§ã\n\nåèï¼https://javaguide.cn/distributed-system/%E7%90%86%E8%AE%BA&%E7%AE%97%E6%B3%95/cap&base%E7%90%86%E8%AE%BA/#base-%E7%90%86%E8%AE%BA\n\n\n# åå¸å¼äºå¡\n\n\n# ä»ä¹æ¯åå¸å¼äºå¡ï¼\n\nåå¸å¼äºå¡å°±æ¯ä¸ºäºä¿è¯ä¸åæ°æ®åºçæ°æ®ä¸è´æ§ ã\n\n\n# ææ§äºå¡ååæ§äºå¡\n\n * ææ§äºå¡è¿½æ±çæ¯æç»ä¸è´æ§ãææ§äºå¡å°±æ¯BASEçè®º+ä¸å¡å®éãææ§äºå¡è¿½æ±çç®æ æ¯ï¼æ ¹æ®èªèº«ä¸å¡ç¹æ§ï¼éè¿éå½çæ¹å¼ä¿è¯ç³»ç»æ°æ®çæç»ä¸è´æ§ãåTCCãSagaãMQäºå¡ãæ¬å°æ¶æ¯è¡¨é½æ¯ææ§äºå¡ã\n * åæ§äºå¡è¿½æ±çæ¯å¼ºä¸è´æ§ãå2PCã3PCå°±å±äºåæ§äºå¡ã\n\n\n# åå¸å¼äºå¡è§£å³æ¹æ¡\n\nåå¸å¼äºå¡çè§£å³æ¹æ¡æå¾å¤ï¼æ¯å¦ï¼2PCã3PCãTCCãæ¬å°æ¶æ¯è¡¨ãMQäºå¡ï¼KafkaåRocketMQé½æä¾äºäºå¡ç¸å³å±ï¼ãSagaç­ç­ã 2PCã3PCå±äºä¸å¡ä»£ç æ ä¾µå¥æ¹æ¡ï¼é½æ¯åºäºXAè§èè¡çåºæ¥çå®ç°ãTCCãSagaå±äºä¸å¡ä¾µå¥æ¹æ¡ï¼MQäºå¡ä¾èµäºä½¿ç¨æ¶æ¯éåçåºæ¯ï¼æ¬å°æ¶æ¯è¡¨ä¸æ¯æåæ»ã\n\n\n# XA è§èçè§è²ç»æ\n\n2PC å 3PC æ¶åå°çä¸äºè§è²ï¼XA è§èçè§è²ç»æï¼\n\n * APï¼Application Programï¼ï¼åºç¨ç¨åºæ¬èº«\n * RMï¼Resource Managerï¼ ï¼èµæºç®¡çå¨ï¼ä¹å°±æ¯äºå¡çåä¸èï¼ç»å¤§é¨åæåµä¸å°±æ¯ææ°æ®åºï¼åæä¼ä»¥å³ç³»åæ°æ®åºä¸ºä¾ï¼ï¼ä¸ä¸ªåå¸å¼äºå¡å¾å¾æ¶åå°å¤ä¸ª RMã\n * TMï¼Transaction Managerï¼ ï¼äºå¡ç®¡çå¨ï¼è´è´£ç®¡çå¨å±äºå¡ï¼åéäºå¡å¯ä¸æ è¯ï¼çæ§äºå¡çæ§è¡è¿åº¦ï¼å¹¶è´è´£äºå¡çæäº¤ãåæ»ãå¤±è´¥æ¢å¤ç­ã\n\n\n# 2PCï¼ä¸¤é¶æ®µæäº¤åè®®ï¼\n\n2PCï¼Two-Phase Commitï¼è¿ä¸ä¸ªå­æ¯çå«ä¹:\n\n * 2 -> æä»£äºå¡æäº¤ç 2 ä¸ªé¶æ®µ\n * P-> Prepare (åå¤é¶æ®µ)\n * C ->Commitï¼æäº¤é¶æ®µï¼\n\n2PC å°äºå¡çæäº¤è¿ç¨åä¸º 2 ä¸ªé¶æ®µï¼\n\n * åå¤é¶æ®µï¼ä¸»è¦æ¯ä¸ºäºæµè¯ RM è½å¦æ§è¡ æ¬å°æ°æ®åºäºå¡ æä½ï¼å¹¶ä¸ä¼æäº¤äºå¡\n * æäº¤é¶æ®µï¼ TM ä¼æ ¹æ® åå¤é¶æ®µ ä¸­ RM çæ¶æ¯æ¥å³å®æ¯æ§è¡äºå¡æäº¤è¿æ¯åæ»æä½ãæäº¤é¶æ®µ ä¹åä¸å®ä¼ç»æå½åçåå¸å¼äºå¡\n\n\n# 3PCï¼ä¸é¶æ®µæäº¤åè®®ï¼\n\n3PC æ 2PC ä¸­ç åå¤é¶æ®µ(Prepare) åäºè¿ä¸æ­¥ç»ååä¸ºäºåå¤é¶æ®µ(CanCommit)åé¢æäº¤é¶æ®µ(PreCommit)ãåä¸ºä¸ä¸ªé¶æ®µï¼\n\n * åå¤é¶æ®µï¼è¿ä¸æ­¥ä¸ä¼æ§è¡äºå¡æä½ï¼åªæ¯å RM åé åå¤è¯·æ± ï¼é¡ºä¾¿è¯¢é®ä¸äºä¿¡æ¯æ¯å¦äºå¡åä¸èè½å¦æ§è¡æ¬å°æ°æ®åºäºå¡æä½ãRM åå¤âYesâãâNoâæèç´æ¥è¶æ¶ãå¦æä»»ä¸ RM åå¤âNoâæèç´æ¥è¶æ¶çè¯ï¼å°±ä¸­æ­äºå¡ï¼åææåä¸èåéâAbortâæ¶æ¯ï¼ï¼å¦åè¿å¥ é¢æäº¤é¶æ®µ(PreCommit) ã\n * é¢æäº¤é¶æ®µï¼TM åæææ¶åå°ç RM åé é¢æäº¤è¯·æ± ï¼RM æ¶å°æ¶æ¯ä¹åä¼æ§è¡æ¬å°æ°æ®åºäºå¡é¢æä½æ¯å¦å redo log/undo log æ¥å¿ãå¦æ RM æåçæ§è¡äºäºå¡é¢æä½ï¼å°±è¿å âACKâãå¦åï¼è¿åâNoâï¼æåçåææºä¼ï¼æèç´æ¥è¶æ¶ãå¦æä»»ä¸ RM åå¤âNoâæèç´æ¥è¶æ¶çè¯ï¼å°±ä¸­æ­äºå¡ï¼åææäºå¡åä¸èåéâAbortâæ¶æ¯ï¼ï¼å¦åè¿å¥ æ§è¡äºå¡æäº¤é¶æ®µï¼DoCommitï¼\n * æ§è¡äºå¡æäº¤é¶æ®µï¼æ§è¡äºå¡æäº¤ï¼DoCommitï¼ é¶æ®µå°±å¼å§è¿è¡çæ­£çäºå¡æäº¤ãTM åæææ¶åå°ç RM åé æ§è¡äºå¡æäº¤è¯·æ± ï¼RM æ¶å°æ¶æ¯åå¼å§æ­£å¼æäº¤äºå¡ï¼å¹¶å¨å®æäºå¡æäº¤åéæ¾å ç¨çèµæºã å¦æ TM æ¶å°ææ RM æ­£ç¡®æäº¤äºå¡çæ¶æ¯çè¯ï¼è¡¨ç¤ºäºå¡æ­£å¸¸å®æãå¦æä»»ä¸ RM æ²¡ææ­£ç¡®æäº¤äºå¡æèè¶æ¶çè¯ï¼å°±ä¸­æ­äºå¡ï¼TM åææ RM åéâAbortâæ¶æ¯ãRM æ¥æ¶å° Abort è¯·æ±åï¼æ§è¡æ¬å°æ°æ®åºäºå¡åæ»ï¼åé¢çæ­¥éª¤å°±å 2PC ä¸­çç±»ä¼¼äºã\n\n\n# TCCï¼è¡¥å¿äºå¡ï¼\n\nTCC æ¯ TryãConfirmãCancel ä¸ä¸ªè¯çç¼©åï¼å®åä¸ºä¸ä¸ªé¶æ®µï¼\n\n 1. Tryï¼å°è¯ï¼é¶æ®µ : å°è¯æ§è¡ãå®æä¸å¡æ£æ¥ï¼å¹¶é¢çå¥½å¿éçä¸å¡èµæºã\n 2. Confirmï¼ç¡®è®¤ï¼é¶æ®µ ï¼ç¡®è®¤æ§è¡ãå½ææäºå¡åä¸èç Try é¶æ®µæ§è¡æåå°±ä¼æ§è¡ Confirm ï¼Confirm é¶æ®µä¼å¤ç Try é¶æ®µé¢ççä¸å¡èµæºãå¦åï¼å°±ä¼æ§è¡ Cancel ã\n 3. Cancelï¼åæ¶ï¼é¶æ®µ ï¼åæ¶æ§è¡ï¼éæ¾ Try é¶æ®µé¢ççä¸å¡èµæºã\n\næ¯ä¸ªé¶æ®µç±ä¸å¡ä»£ç æ§å¶ï¼è¿æ ·å¯ä»¥é¿åé¿äºå¡ï¼æ§è½æ´å¥½ã æä»¬æ¿è½¬è´¦åºæ¯æ¥è¯´ï¼\n\n 1. Tryï¼å°è¯ï¼é¶æ®µ : å¨è½¬è´¦åºæ¯ä¸ï¼Try è¦åçäºææ¯å°±æ¯æ£æ¥è´¦æ·ä½é¢æ¯å¦åè¶³ï¼é¢ççèµæºå°±æ¯è½¬è´¦èµéã\n 2. Confirmï¼ç¡®è®¤ï¼é¶æ®µ ï¼ å¦æ Try é¶æ®µæ§è¡æåçè¯ï¼Confirm é¶æ®µå°±ä¼æ§è¡çæ­£çæ£é±æä½ã\n 3. Cancelï¼åæ¶ï¼é¶æ®µ ï¼éæ¾ Try é¶æ®µé¢ççè½¬è´¦èµéã\n\nä¸è¬æåµä¸ï¼å½æä»¬ä½¿ç¨TCCæ¨¡å¼çæ¶åï¼éè¦èªå·±å®ç° try, confirm, cancel è¿ä¸ä¸ªæ¹æ³ï¼æ¥è¾¾å°æç»ä¸è´æ§ã\n\n\n# MQäºå¡\n\nRocketMQ ã KafkaãPulsar ãQMQ é½æä¾äºäºå¡ç¸å³çåè½ãäºå¡åè®¸äºä»¶æµåºç¨å°æ¶è´¹ï¼å¤çï¼çäº§æ¶æ¯æ´ä¸ªè¿ç¨å®ä¹ä¸ºä¸ä¸ªåå­æä½ã\n\n\n# åå¸å¼æ¥å¿ç®¡ç\n\n\n# æ¥å¿ç³»ç»éè¦ååªäºäºæ\n\n 1. ééæ¥å¿\n 2. æ¥å¿æ°æ®æ¸æ´/å¤ç\n 3. å­å¨ï¼æ¯å¦ ElasticSearchå­å¨\n 4. å±ç¤ºä¸æç´¢ï¼æ¯æå¯è§åæ¥å¿å±ç¤ºï¼è½å¤æ ¹æ®å³é®è¯å¿«éå®ä½å°æ¥å¿å¹¶æ¥çä¸ä¸æã\n 5. åè­¦ï¼æ¯æå¯¹æ¥å¸¸è§ççæ§ç³»ç»\n\n\n# é¡¹ç®ä¸­æä¹ç®¡çæ¥å¿ç\n\né¡¹ç®ä¸­ä½¿ç¨ Loki ç®¡çæ¥å¿çï¼ç¸å¯¹äºELKæ¥è¯´ï¼Lokiæ´ä¸ºè½»éçº§ï¼èµæºææ¬æ´ä½ï¼å¹¶ä¸ç®åæç¨ã",normalizedContent:"# åå¸å¼åºç¡\n\n\n# ä»ä¹æ¯åå¸å¼\n\nåå¸å¼æèè¯´ soa åå¸å¼éè¦çå°±æ¯é¢åæå¡ï¼è¯´ç®åçåå¸å¼å°±æ¯æä»¬ææ´ä¸ªç³»ç»æåæä¸åçæå¡ç¶åå°è¿äºæå¡æ¾å¨ä¸åçæå¡å¨ä¸åè½»åä½æå¡çååæé«å¹¶åéåæ§è½ãæ¯å¦çµåç³»ç»å¯ä»¥ç®åå°æåæè®¢åç³»ç»ãååç³»ç»ãç»å½ç³»ç»ç­ç­ï¼æåä¹åçæ¯ä¸ªæå¡å¯ä»¥é¨ç½²å¨ä¸åçæºå¨ä¸ï¼å¦ææä¸ä¸ªæå¡çè®¿é®éæ¯è¾å¤§çè¯ä¹å¯ä»¥å°è¿ä¸ªæå¡åæ¶é¨ç½²å¨å¤å°æºå¨ä¸ã\n\n\n# ä¸ºä»ä¹è¦ä½¿ç¨åå¸å¼\n\nä»å¼åè§åº¦æ¥è®²åä½åºç¨çä»£ç é½éä¸­å¨ä¸èµ·ï¼èåå¸å¼ç³»ç»çä»£ç æ ¹æ®ä¸å¡è¢«æåãæä»¥ï¼æ¯ä¸ªå¢éå¯ä»¥è´è´£ä¸ä¸ªæå¡çå¼åï¼è¿æ ·æåäºå¼åæçãå¦å¤ï¼ä»£ç æ ¹æ®ä¸å¡æåä¹åæ´å ä¾¿äºç»´æ¤åæ©å±ï¼ä¹è½æé«æ´ä¸ªç³»ç»çæ§è½ã\n\n\n# åå¸å¼çè®º\n\n\n# cap çè®º\n\ncap ä¹å°±æ¯ consistencyï¼ä¸è´æ§ï¼ãavailabilityï¼å¯ç¨æ§ï¼ãpartition toleranceï¼ååºå®¹éæ§ï¼ è¿ä¸ä¸ªåè¯é¦å­æ¯ç»å ï¼\n\n * ä¸è´æ§ï¼consistencyï¼ : ææèç¹è®¿é®åä¸ä»½ææ°çæ°æ®å¯æ¬\n * å¯ç¨æ§ï¼availabilityï¼: éæéçèç¹å¨åççæ¶é´åè¿ååççååºï¼ä¸æ¯éè¯¯æèè¶æ¶çååºï¼ã\n * ååºå®¹éæ§ï¼partition toleranceï¼ : åå¸å¼ç³»ç»åºç°ç½ç»ååºçæ¶åï¼ä»ç¶è½å¤å¯¹å¤æä¾æå¡ã\n\nå½åçç½ç»ååºæ¶ï¼åªè½ä¿è¯cpæèapã æ¯å¦ zookeeper å°±æ¯ cp æ¶æï¼eureka å°±æ¯ ap æ¶æï¼nacos ä¸ä»æ¯æ cp æ¶æä¹æ¯æ ap æ¶æã\n\nä»ä¹æ¯ç½ç»ååº?\n\n> åå¸å¼ç³»ç»ä¸­ï¼å¤ä¸ªèç¹ä¹åçç½ç»æ¬æ¥æ¯è¿éçï¼ä½æ¯å ä¸ºæäºæéï¼æ¯å¦é¨åèç¹ç½ç»åºäºé®é¢ï¼æäºèç¹ä¹é´ä¸è¿éäºï¼æ´ä¸ªç½ç»å°±åæäºå ååºåï¼è¿å°±å«ç½ç»ååºã\n\nåèï¼https://javaguide.cn/distributed-system/%e7%90%86%e8%ae%ba&%e7%ae%97%e6%b3%95/cap&base%e7%90%86%e8%ae%ba/#cap%e7%90%86%e8%ae%ba\n\n\n# åå¸å¼ä¸è´æ§ç 3 ç§çº§å«\n\n * å¼ºä¸è´æ§ ï¼ç³»ç»åå¥äºä»ä¹ï¼è¯»åºæ¥çå°±æ¯ä»ä¹ã\n * å¼±ä¸è´æ§ ï¼ä¸ä¸å®å¯ä»¥è¯»åå°ææ°åå¥çå¼ï¼ä¹ä¸ä¿è¯å¤å°æ¶é´ä¹åè¯»åå°çæ°æ®æ¯ææ°çï¼åªæ¯ä¼å°½éä¿è¯æä¸ªæ¶å»è¾¾å°æ°æ®ä¸è´çç¶æã\n * æç»ä¸è´æ§ ï¼å¼±ä¸è´æ§çåçº§çï¼ç³»ç»ä¼ä¿è¯å¨ä¸å®æ¶é´åè¾¾å°æ°æ®ä¸è´çç¶æã\n\nä¸çæ¯è¾æ¨å´æ¯æç»ä¸è´æ§çº§å«ï¼ä½æ¯æäºå¯¹æ°æ®ä¸è´è¦æ±ååä¸¥æ ¼çåºæ¯æ¯å¦é¶è¡è½¬è´¦è¿æ¯è¦ä¿è¯å¼ºä¸è´æ§ã\n\n\n# base çè®º\n\nbase çè®ºæ¬è´¨ä¸æ¯å¯¹ cap çå»¶ä¼¸åè¡¥åï¼æ´å·ä½å°è¯´ï¼æ¯å¯¹ cap ä¸­ ap æ¹æ¡çä¸ä¸ªè¡¥åã baseçè®ºçæ ¸å¿ææ³æ¯å³ä½¿æ æ³åå°å¼ºä¸è´æ§ï¼ä½æ¯ä¸ªåºç¨é½å¯ä»¥æ ¹æ®èªèº«ä¸å¡ç¹ç¹ï¼éç¨éå½çæ¹å¼æ¥ä½¿ç³»ç»è¾¾å°æç»ä¸è´æ§ã ap æ¹æ¡åªæ¯å¨ç³»ç»åçååºçæ¶åæ¾å¼ä¸è´æ§ï¼èä¸æ¯æ°¸è¿æ¾å¼ä¸è´æ§ãå¨ååºæéæ¢å¤åï¼ç³»ç»åºè¯¥è¾¾å°æç»ä¸è´æ§ãè¿ä¸ç¹å¶å®å°±æ¯ base çè®ºå»¶ä¼¸çå°æ¹ã\nbase æ¯ basically availableï¼åºæ¬å¯ç¨ï¼ ãsoft-stateï¼è½¯ç¶æï¼ å eventually consistentï¼æç»ä¸è´æ§ï¼ ä¸ä¸ªç­è¯­çç¼©åã\n\n * åºæ¬å¯ç¨ï¼æ¯æåå¸å¼ç³»ç»å¨åºç°ä¸å¯é¢ç¥æéçæ¶åï¼åè®¸æå¤±é¨åå¯ç¨æ§ï¼ååºæ¶é´ä¸çæå¤±åç³»ç»éæ ¸å¿åè½ä¸çæå¤±ï¼ãä½æ¯ï¼è¿ç»ä¸ç­ä»·äºç³»ç»ä¸å¯ç¨ã\n * **è½¯ç¶æï¼**æåè®¸ç³»ç»ä¸­çæ°æ®å­å¨ä¸­é´ç¶æï¼cap çè®ºä¸­çæ°æ®ä¸ä¸è´ï¼ï¼å¹¶è®¤ä¸ºè¯¥ä¸­é´ç¶æçå­å¨ä¸ä¼å½±åç³»ç»çæ´ä½å¯ç¨æ§ï¼å³åè®¸ç³»ç»å¨ä¸åèç¹çæ°æ®å¯æ¬ä¹é´è¿è¡æ°æ®åæ­¥çè¿ç¨å­å¨å»¶æ¶ã\n * æç»ä¸è´æ§ï¼å¼ºè°çæ¯ç³»ç»ä¸­ææçæ°æ®å¯æ¬ï¼å¨ç»è¿ä¸æ®µæ¶é´çåæ­¥åï¼æç»è½å¤è¾¾å°ä¸ä¸ªä¸è´çç¶æãå æ­¤ï¼æç»ä¸è´æ§çæ¬è´¨æ¯éè¦ç³»ç»ä¿è¯æç»æ°æ®è½å¤è¾¾å°ä¸è´ï¼èä¸éè¦å®æ¶ä¿è¯ç³»ç»æ°æ®çå¼ºä¸è´æ§ã\n\nåèï¼https://javaguide.cn/distributed-system/%e7%90%86%e8%ae%ba&%e7%ae%97%e6%b3%95/cap&base%e7%90%86%e8%ae%ba/#base-%e7%90%86%e8%ae%ba\n\n\n# åå¸å¼äºå¡\n\n\n# ä»ä¹æ¯åå¸å¼äºå¡ï¼\n\nåå¸å¼äºå¡å°±æ¯ä¸ºäºä¿è¯ä¸åæ°æ®åºçæ°æ®ä¸è´æ§ ã\n\n\n# ææ§äºå¡ååæ§äºå¡\n\n * ææ§äºå¡è¿½æ±çæ¯æç»ä¸è´æ§ãææ§äºå¡å°±æ¯baseçè®º+ä¸å¡å®éãææ§äºå¡è¿½æ±çç®æ æ¯ï¼æ ¹æ®èªèº«ä¸å¡ç¹æ§ï¼éè¿éå½çæ¹å¼ä¿è¯ç³»ç»æ°æ®çæç»ä¸è´æ§ãåtccãsagaãmqäºå¡ãæ¬å°æ¶æ¯è¡¨é½æ¯ææ§äºå¡ã\n * åæ§äºå¡è¿½æ±çæ¯å¼ºä¸è´æ§ãå2pcã3pcå°±å±äºåæ§äºå¡ã\n\n\n# åå¸å¼äºå¡è§£å³æ¹æ¡\n\nåå¸å¼äºå¡çè§£å³æ¹æ¡æå¾å¤ï¼æ¯å¦ï¼2pcã3pcãtccãæ¬å°æ¶æ¯è¡¨ãmqäºå¡ï¼kafkaårocketmqé½æä¾äºäºå¡ç¸å³å±ï¼ãsagaç­ç­ã 2pcã3pcå±äºä¸å¡ä»£ç æ ä¾µå¥æ¹æ¡ï¼é½æ¯åºäºxaè§èè¡çåºæ¥çå®ç°ãtccãsagaå±äºä¸å¡ä¾µå¥æ¹æ¡ï¼mqäºå¡ä¾èµäºä½¿ç¨æ¶æ¯éåçåºæ¯ï¼æ¬å°æ¶æ¯è¡¨ä¸æ¯æåæ»ã\n\n\n# xa è§èçè§è²ç»æ\n\n2pc å 3pc æ¶åå°çä¸äºè§è²ï¼xa è§èçè§è²ç»æï¼\n\n * apï¼application programï¼ï¼åºç¨ç¨åºæ¬èº«\n * rmï¼resource managerï¼ ï¼èµæºç®¡çå¨ï¼ä¹å°±æ¯äºå¡çåä¸èï¼ç»å¤§é¨åæåµä¸å°±æ¯ææ°æ®åºï¼åæä¼ä»¥å³ç³»åæ°æ®åºä¸ºä¾ï¼ï¼ä¸ä¸ªåå¸å¼äºå¡å¾å¾æ¶åå°å¤ä¸ª rmã\n * tmï¼transaction managerï¼ ï¼äºå¡ç®¡çå¨ï¼è´è´£ç®¡çå¨å±äºå¡ï¼åéäºå¡å¯ä¸æ è¯ï¼çæ§äºå¡çæ§è¡è¿åº¦ï¼å¹¶è´è´£äºå¡çæäº¤ãåæ»ãå¤±è´¥æ¢å¤ç­ã\n\n\n# 2pcï¼ä¸¤é¶æ®µæäº¤åè®®ï¼\n\n2pcï¼two-phase commitï¼è¿ä¸ä¸ªå­æ¯çå«ä¹:\n\n * 2 -> æä»£äºå¡æäº¤ç 2 ä¸ªé¶æ®µ\n * p-> prepare (åå¤é¶æ®µ)\n * c ->commitï¼æäº¤é¶æ®µï¼\n\n2pc å°äºå¡çæäº¤è¿ç¨åä¸º 2 ä¸ªé¶æ®µï¼\n\n * åå¤é¶æ®µï¼ä¸»è¦æ¯ä¸ºäºæµè¯ rm è½å¦æ§è¡ æ¬å°æ°æ®åºäºå¡ æä½ï¼å¹¶ä¸ä¼æäº¤äºå¡\n * æäº¤é¶æ®µï¼ tm ä¼æ ¹æ® åå¤é¶æ®µ ä¸­ rm çæ¶æ¯æ¥å³å®æ¯æ§è¡äºå¡æäº¤è¿æ¯åæ»æä½ãæäº¤é¶æ®µ ä¹åä¸å®ä¼ç»æå½åçåå¸å¼äºå¡\n\n\n# 3pcï¼ä¸é¶æ®µæäº¤åè®®ï¼\n\n3pc æ 2pc ä¸­ç åå¤é¶æ®µ(prepare) åäºè¿ä¸æ­¥ç»ååä¸ºäºåå¤é¶æ®µ(cancommit)åé¢æäº¤é¶æ®µ(precommit)ãåä¸ºä¸ä¸ªé¶æ®µï¼\n\n * åå¤é¶æ®µï¼è¿ä¸æ­¥ä¸ä¼æ§è¡äºå¡æä½ï¼åªæ¯å rm åé åå¤è¯·æ± ï¼é¡ºä¾¿è¯¢é®ä¸äºä¿¡æ¯æ¯å¦äºå¡åä¸èè½å¦æ§è¡æ¬å°æ°æ®åºäºå¡æä½ãrm åå¤âyesâãânoâæèç´æ¥è¶æ¶ãå¦æä»»ä¸ rm åå¤ânoâæèç´æ¥è¶æ¶çè¯ï¼å°±ä¸­æ­äºå¡ï¼åææåä¸èåéâabortâæ¶æ¯ï¼ï¼å¦åè¿å¥ é¢æäº¤é¶æ®µ(precommit) ã\n * é¢æäº¤é¶æ®µï¼tm åæææ¶åå°ç rm åé é¢æäº¤è¯·æ± ï¼rm æ¶å°æ¶æ¯ä¹åä¼æ§è¡æ¬å°æ°æ®åºäºå¡é¢æä½æ¯å¦å redo log/undo log æ¥å¿ãå¦æ rm æåçæ§è¡äºäºå¡é¢æä½ï¼å°±è¿å âackâãå¦åï¼è¿åânoâï¼æåçåææºä¼ï¼æèç´æ¥è¶æ¶ãå¦æä»»ä¸ rm åå¤ânoâæèç´æ¥è¶æ¶çè¯ï¼å°±ä¸­æ­äºå¡ï¼åææäºå¡åä¸èåéâabortâæ¶æ¯ï¼ï¼å¦åè¿å¥ æ§è¡äºå¡æäº¤é¶æ®µï¼docommitï¼\n * æ§è¡äºå¡æäº¤é¶æ®µï¼æ§è¡äºå¡æäº¤ï¼docommitï¼ é¶æ®µå°±å¼å§è¿è¡çæ­£çäºå¡æäº¤ãtm åæææ¶åå°ç rm åé æ§è¡äºå¡æäº¤è¯·æ± ï¼rm æ¶å°æ¶æ¯åå¼å§æ­£å¼æäº¤äºå¡ï¼å¹¶å¨å®æäºå¡æäº¤åéæ¾å ç¨çèµæºã å¦æ tm æ¶å°ææ rm æ­£ç¡®æäº¤äºå¡çæ¶æ¯çè¯ï¼è¡¨ç¤ºäºå¡æ­£å¸¸å®æãå¦æä»»ä¸ rm æ²¡ææ­£ç¡®æäº¤äºå¡æèè¶æ¶çè¯ï¼å°±ä¸­æ­äºå¡ï¼tm åææ rm åéâabortâæ¶æ¯ãrm æ¥æ¶å° abort è¯·æ±åï¼æ§è¡æ¬å°æ°æ®åºäºå¡åæ»ï¼åé¢çæ­¥éª¤å°±å 2pc ä¸­çç±»ä¼¼äºã\n\n\n# tccï¼è¡¥å¿äºå¡ï¼\n\ntcc æ¯ tryãconfirmãcancel ä¸ä¸ªè¯çç¼©åï¼å®åä¸ºä¸ä¸ªé¶æ®µï¼\n\n 1. tryï¼å°è¯ï¼é¶æ®µ : å°è¯æ§è¡ãå®æä¸å¡æ£æ¥ï¼å¹¶é¢çå¥½å¿éçä¸å¡èµæºã\n 2. confirmï¼ç¡®è®¤ï¼é¶æ®µ ï¼ç¡®è®¤æ§è¡ãå½ææäºå¡åä¸èç try é¶æ®µæ§è¡æåå°±ä¼æ§è¡ confirm ï¼confirm é¶æ®µä¼å¤ç try é¶æ®µé¢ççä¸å¡èµæºãå¦åï¼å°±ä¼æ§è¡ cancel ã\n 3. cancelï¼åæ¶ï¼é¶æ®µ ï¼åæ¶æ§è¡ï¼éæ¾ try é¶æ®µé¢ççä¸å¡èµæºã\n\næ¯ä¸ªé¶æ®µç±ä¸å¡ä»£ç æ§å¶ï¼è¿æ ·å¯ä»¥é¿åé¿äºå¡ï¼æ§è½æ´å¥½ã æä»¬æ¿è½¬è´¦åºæ¯æ¥è¯´ï¼\n\n 1. tryï¼å°è¯ï¼é¶æ®µ : å¨è½¬è´¦åºæ¯ä¸ï¼try è¦åçäºææ¯å°±æ¯æ£æ¥è´¦æ·ä½é¢æ¯å¦åè¶³ï¼é¢ççèµæºå°±æ¯è½¬è´¦èµéã\n 2. confirmï¼ç¡®è®¤ï¼é¶æ®µ ï¼ å¦æ try é¶æ®µæ§è¡æåçè¯ï¼confirm é¶æ®µå°±ä¼æ§è¡çæ­£çæ£é±æä½ã\n 3. cancelï¼åæ¶ï¼é¶æ®µ ï¼éæ¾ try é¶æ®µé¢ççè½¬è´¦èµéã\n\nä¸è¬æåµä¸ï¼å½æä»¬ä½¿ç¨tccæ¨¡å¼çæ¶åï¼éè¦èªå·±å®ç° try, confirm, cancel è¿ä¸ä¸ªæ¹æ³ï¼æ¥è¾¾å°æç»ä¸è´æ§ã\n\n\n# mqäºå¡\n\nrocketmq ã kafkaãpulsar ãqmq é½æä¾äºäºå¡ç¸å³çåè½ãäºå¡åè®¸äºä»¶æµåºç¨å°æ¶è´¹ï¼å¤çï¼çäº§æ¶æ¯æ´ä¸ªè¿ç¨å®ä¹ä¸ºä¸ä¸ªåå­æä½ã\n\n\n# åå¸å¼æ¥å¿ç®¡ç\n\n\n# æ¥å¿ç³»ç»éè¦ååªäºäºæ\n\n 1. ééæ¥å¿\n 2. æ¥å¿æ°æ®æ¸æ´/å¤ç\n 3. å­å¨ï¼æ¯å¦ elasticsearchå­å¨\n 4. å±ç¤ºä¸æç´¢ï¼æ¯æå¯è§åæ¥å¿å±ç¤ºï¼è½å¤æ ¹æ®å³é®è¯å¿«éå®ä½å°æ¥å¿å¹¶æ¥çä¸ä¸æã\n 5. åè­¦ï¼æ¯æå¯¹æ¥å¸¸è§ççæ§ç³»ç»\n\n\n# é¡¹ç®ä¸­æä¹ç®¡çæ¥å¿ç\n\né¡¹ç®ä¸­ä½¿ç¨ loki ç®¡çæ¥å¿çï¼ç¸å¯¹äºelkæ¥è¯´ï¼lokiæ´ä¸ºè½»éçº§ï¼èµæºææ¬æ´ä½ï¼å¹¶ä¸ç®åæç¨ã",charsets:{cjk:!0},lastUpdated:"2023/11/02, 03:14:56",lastUpdatedTimestamp:1698894896e3},{title:"Nginx é¢è¯é¢",frontmatter:{title:"Nginx é¢è¯é¢",date:"2023-10-24T15:51:01.000Z",permalink:"/pages/d4abbd/"},regularPath:"/02.Java%20%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/02.Java%20%E5%85%AB%E8%82%A1%E6%96%87/14.Nginx%20%E9%9D%A2%E8%AF%95%E9%A2%98.html",relativePath:"02.Java é¢è¯å®å¸/02.Java å«è¡æ/14.Nginx é¢è¯é¢.md",key:"v-9e602488",path:"/pages/d4abbd/",headers:[{level:1,title:"ä»ä¹æ¯Nginx",slug:"ä»ä¹æ¯nginx",normalizedTitle:"ä»ä¹æ¯nginx",charIndex:2},{level:1,title:"Nginx çç¹ç¹æåªäº",slug:"nginx-çç¹ç¹æåªäº",normalizedTitle:"nginx çç¹ç¹æåªäº",charIndex:136},{level:1,title:"Nginxè½ç¨æ¥åå¥",slug:"nginxè½ç¨æ¥åå¥",normalizedTitle:"nginxè½ç¨æ¥åå¥",charIndex:441},{level:1,title:"Nginx æåªäºè´è½½åè¡¡ç­ç¥",slug:"nginx-æåªäºè´è½½åè¡¡ç­ç¥",normalizedTitle:"nginx æåªäºè´è½½åè¡¡ç­ç¥",charIndex:492},{level:1,title:"Nginx å¸¸ç¨å½ä»¤æåªäº",slug:"nginx-å¸¸ç¨å½ä»¤æåªäº",normalizedTitle:"nginx å¸¸ç¨å½ä»¤æåªäº",charIndex:818},{level:1,title:"Nginxæ§è½ä¼åçå¸¸è§æ¹å¼",slug:"nginxæ§è½ä¼åçå¸¸è§æ¹å¼",normalizedTitle:"nginxæ§è½ä¼åçå¸¸è§æ¹å¼",charIndex:1080}],headersStr:"ä»ä¹æ¯Nginx Nginx çç¹ç¹æåªäº Nginxè½ç¨æ¥åå¥ Nginx æåªäºè´è½½åè¡¡ç­ç¥ Nginx å¸¸ç¨å½ä»¤æåªäº Nginxæ§è½ä¼åçå¸¸è§æ¹å¼",content:"# ä»ä¹æ¯Nginx\n\nNginx å Apache ä¸æ ·é½æ¯ WEB æå¡å¨ï¼ä¸è¿ï¼Nginx æ´å è½»éçº§ï¼å®çåå­å ç¨å°ï¼å¯å¨æå¿«ï¼é«å¹¶åè½åå¼ºï¼å¨äºèç½é¡¹ç®ä¸­å¹¿æ³åºç¨ãå¹¶ä¸ï¼Nginx å¯ä»¥ä½ä¸ºååä»£çæå¡å¨ä½¿ç¨ï¼æ¯æ IMAP/POP3/SMTP æå¡ã\n\n\n# Nginx çç¹ç¹æåªäº\n\n 1. åå­å ç¨éå¸¸å° ï¼ä¸è¬æåµä¸ï¼10000 ä¸ªéæ´»è·ç HTTP Keep-Alive è¿æ¥å¨ Nginx ä¸­ä»æ¶è 2.5MB çåå­ï¼è¿æ¯ Nginx æ¯æé«å¹¶åè¿æ¥çåºç¡ã\n 2. é«å¹¶å : åæºæ¯æ 10 ä¸ä»¥ä¸çå¹¶åè¿æ¥\n 3. è·¨å¹³å° :å¯ä»¥è¿è¡å¨ Linuxï¼Windowsï¼FreeBSDï¼Solarisï¼AIXï¼Mac OS ç­æä½ç³»ç»ä¸ã\n 4. æ©å±æ§å¥½ ï¼ç¬¬ä¸æ¹æä»¶éå¸¸å¤ï¼\n 5. å®è£ä½¿ç¨ç®å ï¼å¯¹äºç®åçåºç¨åºæ¯ï¼æä»¬å¾å¿«å°±è½å¤ä¸æä½¿ç¨ã\n 6. ç¨³å®æ§å¥½ ï¼bug å°ï¼ä¸ä¼éå°åç§å¥è©çé®é¢ã\n 7. åè´¹ ï¼å¼æºè½¯ä»¶ï¼åè´¹ä½¿ç¨ã\n\n\n# Nginxè½ç¨æ¥åå¥\n\n * éæèµæºæå¡å¨\n * ååä»£ç\n * æ­£åä»£ç\n * è´è½½åè¡¡\n\n\n# Nginx æåªäºè´è½½åè¡¡ç­ç¥\n\nNginxå¸¸è§çè´è½½åè¡¡ç­ç¥æï¼\n\n * è½®è¯¢ï¼Round Robinï¼é»è®¤ï¼ï¼å¦ææ²¡æéç½®æéçè¯ï¼æ¯ä¸ªè¯·æ±ææ¶é´é¡ºåºéä¸åéå°ä¸åçæå¡å¨å¤çãå¦æéç½®æéçè¯ï¼æéè¶é«çæå¡å¨è¢«è®¿é®çæ¦çå°±è¶å¤§ã\n * IP åå¸ï¼æ ¹æ®ååºè¯·æ±çåå®¢æ·ç«¯ ip ç hash å¼æ¥åéæå¡å¨ï¼å¯ä»¥ä¿è¯å IP ååºçè¯·æ±æ å°å°åä¸æå¡å¨ï¼æèå·æç¸å hash å¼çä¸å IP æ å°å°åä¸æå¡å¨ãè¯¥ç®æ³å¨ä¸å®ç¨åº¦ä¸è§£å³äºéç¾¤é¨ç½²ç¯å¢ä¸ Session ä¸å±äº«çé®é¢ã\n * æå°è¿æ¥æ°ï¼å½ææ°çè¯·æ±åºç°æ¶ï¼éåæå¡å¨èç¹åè¡¨å¹¶éåå¶ä¸­æ´»å¨è¿æ¥æ°æå°çä¸å°æå¡å¨æ¥ååºå½åè¯·æ±ãæ´»å¨è¿æ¥æ°å¯ä»¥çè§£ä¸ºå½åæ­£å¨å¤ççè¯·æ±æ°ã\n\n\n# Nginx å¸¸ç¨å½ä»¤æåªäº\n\n * å¯å¨ nginx ã\n * åæ­¢ nginx -s stop æ nginx -s quit ã\n * éè½½éç½® ./sbin/nginx -s reload(å¹³æ»éå¯) æ service nginx reload ã\n * éè½½æå®éç½®æä»¶ .nginx -c /usr/local/nginx/conf/nginx.conf ã\n * æ¥ç nginx çæ¬ nginx -v ã\n * æ£æ¥éç½®æä»¶æ¯å¦æ­£ç¡® nginx -t ã\n * æ¾ç¤ºå¸®å©ä¿¡æ¯ nginx -h ã\n\n\n# Nginxæ§è½ä¼åçå¸¸è§æ¹å¼\n\n * è®¾ç½® Nginx è¿è¡å·¥ä½è¿ç¨ä¸ªæ° ï¼ä¸è¬è®¾ç½® CPU çæ ¸å¿æ°æèæ ¸å¿æ° x2ï¼\n * å¼å¯ Gzip åç¼© ï¼è¿æ ·å¯ä»¥ä½¿ç½ç«çå¾çãCSSãJS ç­æä»¶å¨ä¼ è¾æ¶è¿è¡åç¼©ï¼æé«è®¿é®éåº¦, ä¼å Nginx æ§è½ãè¯¦ç»ä»ç»å¯ä»¥åèNginx æ§è½ä¼ååè½- Gzip åç¼©(å¤§å¹åº¦æé«é¡µé¢å è½½éåº¦)è¿ç¯æç« ï¼\n * è®¾ç½®åä¸ª worker è¿ç¨åè®¸å®¢æ·ç«¯æå¤§è¿æ¥æ° ï¼ä¸è¬è®¾ç½®ä¸º 65535 å°±è¶³å¤äºï¼\n * è¿æ¥è¶æ¶æ¶é´è®¾ç½® ï¼é¿åå¨å»ºç«æ ç¨è¿æ¥ä¸æ¶èå¤ªå¤èµæºï¼\n * è®¾ç½®ç¼å­ ï¼åå¾çãCSSãJS ç­è¿ç±»ä¸è¬ä¸ä¼ç»å¸¸ä¿®æ¹çæä»¶ï¼æä»¬å®å¨å¯ä»¥è®¾ç½®å¾çå¨æµè§å¨æ¬å°ç¼å­ï¼æé«è®¿é®éåº¦ï¼ä¼å Nginx æ§è½ã",normalizedContent:"# ä»ä¹æ¯nginx\n\nnginx å apache ä¸æ ·é½æ¯ web æå¡å¨ï¼ä¸è¿ï¼nginx æ´å è½»éçº§ï¼å®çåå­å ç¨å°ï¼å¯å¨æå¿«ï¼é«å¹¶åè½åå¼ºï¼å¨äºèç½é¡¹ç®ä¸­å¹¿æ³åºç¨ãå¹¶ä¸ï¼nginx å¯ä»¥ä½ä¸ºååä»£çæå¡å¨ä½¿ç¨ï¼æ¯æ imap/pop3/smtp æå¡ã\n\n\n# nginx çç¹ç¹æåªäº\n\n 1. åå­å ç¨éå¸¸å° ï¼ä¸è¬æåµä¸ï¼10000 ä¸ªéæ´»è·ç http keep-alive è¿æ¥å¨ nginx ä¸­ä»æ¶è 2.5mb çåå­ï¼è¿æ¯ nginx æ¯æé«å¹¶åè¿æ¥çåºç¡ã\n 2. é«å¹¶å : åæºæ¯æ 10 ä¸ä»¥ä¸çå¹¶åè¿æ¥\n 3. è·¨å¹³å° :å¯ä»¥è¿è¡å¨ linuxï¼windowsï¼freebsdï¼solarisï¼aixï¼mac os ç­æä½ç³»ç»ä¸ã\n 4. æ©å±æ§å¥½ ï¼ç¬¬ä¸æ¹æä»¶éå¸¸å¤ï¼\n 5. å®è£ä½¿ç¨ç®å ï¼å¯¹äºç®åçåºç¨åºæ¯ï¼æä»¬å¾å¿«å°±è½å¤ä¸æä½¿ç¨ã\n 6. ç¨³å®æ§å¥½ ï¼bug å°ï¼ä¸ä¼éå°åç§å¥è©çé®é¢ã\n 7. åè´¹ ï¼å¼æºè½¯ä»¶ï¼åè´¹ä½¿ç¨ã\n\n\n# nginxè½ç¨æ¥åå¥\n\n * éæèµæºæå¡å¨\n * ååä»£ç\n * æ­£åä»£ç\n * è´è½½åè¡¡\n\n\n# nginx æåªäºè´è½½åè¡¡ç­ç¥\n\nnginxå¸¸è§çè´è½½åè¡¡ç­ç¥æï¼\n\n * è½®è¯¢ï¼round robinï¼é»è®¤ï¼ï¼å¦ææ²¡æéç½®æéçè¯ï¼æ¯ä¸ªè¯·æ±ææ¶é´é¡ºåºéä¸åéå°ä¸åçæå¡å¨å¤çãå¦æéç½®æéçè¯ï¼æéè¶é«çæå¡å¨è¢«è®¿é®çæ¦çå°±è¶å¤§ã\n * ip åå¸ï¼æ ¹æ®ååºè¯·æ±çåå®¢æ·ç«¯ ip ç hash å¼æ¥åéæå¡å¨ï¼å¯ä»¥ä¿è¯å ip ååºçè¯·æ±æ å°å°åä¸æå¡å¨ï¼æèå·æç¸å hash å¼çä¸å ip æ å°å°åä¸æå¡å¨ãè¯¥ç®æ³å¨ä¸å®ç¨åº¦ä¸è§£å³äºéç¾¤é¨ç½²ç¯å¢ä¸ session ä¸å±äº«çé®é¢ã\n * æå°è¿æ¥æ°ï¼å½ææ°çè¯·æ±åºç°æ¶ï¼éåæå¡å¨èç¹åè¡¨å¹¶éåå¶ä¸­æ´»å¨è¿æ¥æ°æå°çä¸å°æå¡å¨æ¥ååºå½åè¯·æ±ãæ´»å¨è¿æ¥æ°å¯ä»¥çè§£ä¸ºå½åæ­£å¨å¤ççè¯·æ±æ°ã\n\n\n# nginx å¸¸ç¨å½ä»¤æåªäº\n\n * å¯å¨ nginx ã\n * åæ­¢ nginx -s stop æ nginx -s quit ã\n * éè½½éç½® ./sbin/nginx -s reload(å¹³æ»éå¯) æ service nginx reload ã\n * éè½½æå®éç½®æä»¶ .nginx -c /usr/local/nginx/conf/nginx.conf ã\n * æ¥ç nginx çæ¬ nginx -v ã\n * æ£æ¥éç½®æä»¶æ¯å¦æ­£ç¡® nginx -t ã\n * æ¾ç¤ºå¸®å©ä¿¡æ¯ nginx -h ã\n\n\n# nginxæ§è½ä¼åçå¸¸è§æ¹å¼\n\n * è®¾ç½® nginx è¿è¡å·¥ä½è¿ç¨ä¸ªæ° ï¼ä¸è¬è®¾ç½® cpu çæ ¸å¿æ°æèæ ¸å¿æ° x2ï¼\n * å¼å¯ gzip åç¼© ï¼è¿æ ·å¯ä»¥ä½¿ç½ç«çå¾çãcssãjs ç­æä»¶å¨ä¼ è¾æ¶è¿è¡åç¼©ï¼æé«è®¿é®éåº¦, ä¼å nginx æ§è½ãè¯¦ç»ä»ç»å¯ä»¥åènginx æ§è½ä¼ååè½- gzip åç¼©(å¤§å¹åº¦æé«é¡µé¢å è½½éåº¦)è¿ç¯æç« ï¼\n * è®¾ç½®åä¸ª worker è¿ç¨åè®¸å®¢æ·ç«¯æå¤§è¿æ¥æ° ï¼ä¸è¬è®¾ç½®ä¸º 65535 å°±è¶³å¤äºï¼\n * è¿æ¥è¶æ¶æ¶é´è®¾ç½® ï¼é¿åå¨å»ºç«æ ç¨è¿æ¥ä¸æ¶èå¤ªå¤èµæºï¼\n * è®¾ç½®ç¼å­ ï¼åå¾çãcssãjs ç­è¿ç±»ä¸è¬ä¸ä¼ç»å¸¸ä¿®æ¹çæä»¶ï¼æä»¬å®å¨å¯ä»¥è®¾ç½®å¾çå¨æµè§å¨æ¬å°ç¼å­ï¼æé«è®¿é®éåº¦ï¼ä¼å nginx æ§è½ã",charsets:{cjk:!0},lastUpdated:"2023/11/02, 03:14:56",lastUpdatedTimestamp:1698894896e3},{title:"æèæ¡æ¶",frontmatter:{title:"æèæ¡æ¶",date:"2023-10-25T14:10:59.000Z",permalink:"/pages/1eb629/"},regularPath:"/03.%E8%BD%AF%E6%8A%80%E8%83%BD/01.%E6%96%B9%E6%B3%95%E8%AE%BA/01.%E6%80%9D%E8%80%83%E6%A1%86%E6%9E%B6.html",relativePath:"03.è½¯æè½/01.æ¹æ³è®º/01.æèæ¡æ¶.md",key:"v-48671418",path:"/pages/1eb629/",headers:[{level:1,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:1112}],headersStr:"åèèµæ",content:"STAR\n\nææ¯ï¼Situationï¼=> ä»»å¡ï¼Taskï¼=> è¡å¨ï¼Actionï¼=> ç»æï¼Resultï¼ã å¨ä»ä¹ææ¯ä¸äº§çäºä»ä¹ä»»å¡åäºä»ä¹äºå®æäºä»ä¹ç»æãç®ææ¼è¦å°éè¿°å·¥ä½è´¡ç®ãå¯ç¨äºé¢è¯ãå·¥ä½æ±æ¥ãè½¬æ­£ææåç­è¾©ã\n\nSWOT\n\nä¼å¿ï¼Strengthsï¼ãå£å¿ï¼Weaknessï¼ãæºä¼ï¼Opportunitiesï¼ãå¨èï¼Threatsï¼ ãç¨äºä¸ªä½æä¼ä¸çç«äºååæåå®ä½è¡å¨æ¹åã\n\n * SOï¼å©ç¨èªèº«å·²æä¼å¿ï¼åå©å¤é¨ç¯å¢ååï¼å½¢ææ ææåºãå¢é¿åç­ç¥ãæ¯å¦ç åè½åå¼ºï¼é¢ä¿¡æ¯åæµªæ½®æ­£é£ï¼å¯è¿ä¸æ­¥ä¸ä¸æ·±åï¼æé ç¹å®æ¹åçæ·±åä¸ä¸åè¡ä¸è½åã\n * STï¼è½¬ç§»ä¼å¿ï¼è½¬åæå¤åååå±ï¼è§é¿å¨èãè½¬åæå¤ååç­ç¥ãæ¯å¦å¼åè½åå¼ºï¼ä½æå¤è¡ä¸è¿å¥è¡°éæï¼åéè¦è½¬è¡ï¼å¨å¶å®è¡ä¸åæ¥ä¼å¿ã\n * WOï¼æä½æºä¼ï¼å¼¥è¡¥ç­æ¿ãæ­è½¬åç­ç¥ãæ¯å¦æ²éè½åè¾å¼±ï¼ä½ç»äºäºå¢éç®¡çæºä¼ï¼åå¯åå¿é»ç¼æ²éä¸ç®¡çè½åã\n * WTï¼å¨åå°åé¨å£å¿ççåæ¶è¿éè¦åé¿å¤é¨ç¯å¢å¨èï¼ä¸å»æ­£é¢åºå¯¹å¨èãé²å¾¡åç­ç¥ãæ¯å¦èº«ä½è¾å¼±ï¼åé¢ç«æï¼å®å å¼ºè¿å¨ï¼æåèº«ä½åå¿çåç«å\n\nKISS\n\nä¿æï¼Keepï¼ãæåï¼Improveï¼ãå¼å§ ï¼Startï¼ãåæ­¢ï¼Stopï¼ãåªäºåå¾å¥½è¦ä¿æï¼åªäºåå¾ä¸å¤å¥½è¦æåï¼åªäºå¾éè¦å´æ²¡èµ·è²éè¦æä¸ªå¼å§ï¼åªäºæ¯å¾ä¸å¥½çä¹ æ¯éè¦åæ­¢ã å¸¸ç¨äºæç»­è¡å¨åè§åã\n\n * Keepï¼éè¯»ï¼åç/èºæ¯ç±»ä¹¦ç±ï¼ãè®¤çå·¥ä½ãç­ç±çæ´»ï¼\n * Improveï¼æ²éãèºæ¯æååï¼\n * Startï¼è¿å¨ãå¢éç®¡ç\n * Stopï¼ç¬å¤å·ææº\n\nKISS æ¯è¡å¨åæ¹åï¼éè¦å·ä½è¯¦ç»çè¡å¨è®¡åæ¥æ¯æï¼æ´éè¦æèæåºçæ§è¡æ¥å®ç°å¦\n\nSMART\n\nå·ä½ç¡®å®çï¼Specificï¼ãMeasurableï¼å¯æµï¼ãAttainableï¼å¯è¾¾æï¼ãRelevantï¼éå®çæä»·å¼çï¼ãTime-basedï¼ææ¶éçï¼ãå¶å®ç®æ åä»»å¡çåºæ¬ååãç®æ åä»»å¡çæä¹/æ¶é/èå´/æ¹å/éåä¸å¯å®ç°ã\n\n3W\n\nWhat æ¯ä»ä¹ï¼ How å¦ä½åï¼ Why ä¸ºä»ä¹ã å¯ç¨äºçè§£ç¥è¯ï¼è½¬åæè½ã\n\n5Why\n\nè¿ç»­è¿½é®äºæ¬¡ä¸ºä»ä¹ãç¨äºå®ä½æ·±å±åå ï¼ä»æ ¹æ¬ä¸è§£å³é®é¢ã\n\nPDCA\n\nPlan-DO-Check-Actionãâè®¡å-æ§è¡-æ£æ¥-çº æ­£âå¾ªç¯ãå¯ç¨äºé¡¹ç®ä»»å¡å®æ½åå®¡æ¥ãä¸å¡ä¸ä»»å¡ç®¡çã\n\nOKRA\n\nç®æ ï¼Objective)ãå³é®ç»æ(Key Result)ãè¡å¨(Action)ãç®æ ãäºé¡¹ãäº§åºãå¯ç¨äºå·¥ä½è§åååé¡¾ã\n\néå­å¡æ³å\n\nåè¯´è¿å±åç»è®ºï¼åéè¿°ä¾æ®åç»èãç¨äºæ¸æ°è¡¨è¾¾åæ±æ¥ã\n\n\n# åèèµæ\n\n * è®©å·¥ä½äºåååçå¸¸ç¨æèæ¡æ¶åå³äºæ¹æ³è®ºçæè - ç´æ°´ç - åå®¢å­",normalizedContent:"star\n\nææ¯ï¼situationï¼=> ä»»å¡ï¼taskï¼=> è¡å¨ï¼actionï¼=> ç»æï¼resultï¼ã å¨ä»ä¹ææ¯ä¸äº§çäºä»ä¹ä»»å¡åäºä»ä¹äºå®æäºä»ä¹ç»æãç®ææ¼è¦å°éè¿°å·¥ä½è´¡ç®ãå¯ç¨äºé¢è¯ãå·¥ä½æ±æ¥ãè½¬æ­£ææåç­è¾©ã\n\nswot\n\nä¼å¿ï¼strengthsï¼ãå£å¿ï¼weaknessï¼ãæºä¼ï¼opportunitiesï¼ãå¨èï¼threatsï¼ ãç¨äºä¸ªä½æä¼ä¸çç«äºååæåå®ä½è¡å¨æ¹åã\n\n * soï¼å©ç¨èªèº«å·²æä¼å¿ï¼åå©å¤é¨ç¯å¢ååï¼å½¢ææ ææåºãå¢é¿åç­ç¥ãæ¯å¦ç åè½åå¼ºï¼é¢ä¿¡æ¯åæµªæ½®æ­£é£ï¼å¯è¿ä¸æ­¥ä¸ä¸æ·±åï¼æé ç¹å®æ¹åçæ·±åä¸ä¸åè¡ä¸è½åã\n * stï¼è½¬ç§»ä¼å¿ï¼è½¬åæå¤åååå±ï¼è§é¿å¨èãè½¬åæå¤ååç­ç¥ãæ¯å¦å¼åè½åå¼ºï¼ä½æå¤è¡ä¸è¿å¥è¡°éæï¼åéè¦è½¬è¡ï¼å¨å¶å®è¡ä¸åæ¥ä¼å¿ã\n * woï¼æä½æºä¼ï¼å¼¥è¡¥ç­æ¿ãæ­è½¬åç­ç¥ãæ¯å¦æ²éè½åè¾å¼±ï¼ä½ç»äºäºå¢éç®¡çæºä¼ï¼åå¯åå¿é»ç¼æ²éä¸ç®¡çè½åã\n * wtï¼å¨åå°åé¨å£å¿ççåæ¶è¿éè¦åé¿å¤é¨ç¯å¢å¨èï¼ä¸å»æ­£é¢åºå¯¹å¨èãé²å¾¡åç­ç¥ãæ¯å¦èº«ä½è¾å¼±ï¼åé¢ç«æï¼å®å å¼ºè¿å¨ï¼æåèº«ä½åå¿çåç«å\n\nkiss\n\nä¿æï¼keepï¼ãæåï¼improveï¼ãå¼å§ ï¼startï¼ãåæ­¢ï¼stopï¼ãåªäºåå¾å¥½è¦ä¿æï¼åªäºåå¾ä¸å¤å¥½è¦æåï¼åªäºå¾éè¦å´æ²¡èµ·è²éè¦æä¸ªå¼å§ï¼åªäºæ¯å¾ä¸å¥½çä¹ æ¯éè¦åæ­¢ã å¸¸ç¨äºæç»­è¡å¨åè§åã\n\n * keepï¼éè¯»ï¼åç/èºæ¯ç±»ä¹¦ç±ï¼ãè®¤çå·¥ä½ãç­ç±çæ´»ï¼\n * improveï¼æ²éãèºæ¯æååï¼\n * startï¼è¿å¨ãå¢éç®¡ç\n * stopï¼ç¬å¤å·ææº\n\nkiss æ¯è¡å¨åæ¹åï¼éè¦å·ä½è¯¦ç»çè¡å¨è®¡åæ¥æ¯æï¼æ´éè¦æèæåºçæ§è¡æ¥å®ç°å¦\n\nsmart\n\nå·ä½ç¡®å®çï¼specificï¼ãmeasurableï¼å¯æµï¼ãattainableï¼å¯è¾¾æï¼ãrelevantï¼éå®çæä»·å¼çï¼ãtime-basedï¼ææ¶éçï¼ãå¶å®ç®æ åä»»å¡çåºæ¬ååãç®æ åä»»å¡çæä¹/æ¶é/èå´/æ¹å/éåä¸å¯å®ç°ã\n\n3w\n\nwhat æ¯ä»ä¹ï¼ how å¦ä½åï¼ why ä¸ºä»ä¹ã å¯ç¨äºçè§£ç¥è¯ï¼è½¬åæè½ã\n\n5why\n\nè¿ç»­è¿½é®äºæ¬¡ä¸ºä»ä¹ãç¨äºå®ä½æ·±å±åå ï¼ä»æ ¹æ¬ä¸è§£å³é®é¢ã\n\npdca\n\nplan-do-check-actionãâè®¡å-æ§è¡-æ£æ¥-çº æ­£âå¾ªç¯ãå¯ç¨äºé¡¹ç®ä»»å¡å®æ½åå®¡æ¥ãä¸å¡ä¸ä»»å¡ç®¡çã\n\nokra\n\nç®æ ï¼objective)ãå³é®ç»æ(key result)ãè¡å¨(action)ãç®æ ãäºé¡¹ãäº§åºãå¯ç¨äºå·¥ä½è§åååé¡¾ã\n\néå­å¡æ³å\n\nåè¯´è¿å±åç»è®ºï¼åéè¿°ä¾æ®åç»èãç¨äºæ¸æ°è¡¨è¾¾åæ±æ¥ã\n\n\n# åèèµæ\n\n * è®©å·¥ä½äºåååçå¸¸ç¨æèæ¡æ¶åå³äºæ¹æ³è®ºçæè - ç´æ°´ç - åå®¢å­",charsets:{cjk:!0},lastUpdated:"2023/10/26, 06:15:28",lastUpdatedTimestamp:1698300928e3},{title:"æ¶é´ç®¡çGTD",frontmatter:{title:"æ¶é´ç®¡çGTD",date:"2023-10-26T10:35:53.000Z",permalink:"/pages/6fff61/"},regularPath:"/03.%E8%BD%AF%E6%8A%80%E8%83%BD/01.%E6%96%B9%E6%B3%95%E8%AE%BA/02.%E6%97%B6%E9%97%B4%E7%AE%A1%E7%90%86GTD.html",relativePath:"03.è½¯æè½/01.æ¹æ³è®º/02.æ¶é´ç®¡çGTD.md",key:"v-c049eb16",path:"/pages/6fff61/",headers:[{level:1,title:"ææ°çå¤çæµç¨",slug:"ææ°çå¤çæµç¨",normalizedTitle:"ææ°çå¤çæµç¨",charIndex:481},{level:2,title:"åèèµæçæä¹åæ å",slug:"åèèµæçæä¹åæ å",normalizedTitle:"åèèµæçæä¹åæ å",charIndex:763},{level:1,title:"åé¡¾çå³é®",slug:"åé¡¾çå³é®",normalizedTitle:"åé¡¾çå³é®",charIndex:946},{level:1,title:"æ§è¡æ¸åçå¤ç",slug:"æ§è¡æ¸åçå¤ç",normalizedTitle:"æ§è¡æ¸åçå¤ç",charIndex:1183},{level:1,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:453}],headersStr:"ææ°çå¤çæµç¨ åèèµæçæä¹åæ å åé¡¾çå³é® æ§è¡æ¸åçå¤ç åèèµæ",content:"æ¶é´ç®¡çççæ­£ç®çä¸æ¯æ¶é´ï¼ä¹ä¸æ¯äºï¼èæ¯å®æã\n\nGTD ä¸å¶è¯´æ¯æ¶é´ç®¡ççæ¹æ³ï¼ä¸å¦è¯´æ¯å¯¹äºå¡çç®¡çï¼éè¿åç±»äºå¡æç¡®ä¸ä¸æ­¥è¦æ§è¡çäºå¡ã\n\nGTD ç®çï¼\n\n * å¤§èæ¸ç©ºä¸æ··ä¹±\n * æç¡®ç¥éä¸ä¸æ­¥åºè¯¥åä»ä¹\n\nGTD å·ä½æµç¨ï¼\n\n * æè·ï¼Captureï¼ï¼æè·ææäºæè£è¿æ¶éç®±ï¼Inboxï¼\n * ææ°ï¼Clarifyï¼ï¼å°±æ¯éè¿ç¹å®çå¤çæµç¨å¯¹äºæè¿è¡ååºã\n * ç»ç»ï¼Organizeï¼ï¼å°äºæè¿è¡ååºæ¾ç½®\n * åé¡¾ï¼Reflectï¼ï¼åé¡¾ä½ çæ¸åæ¯å¦æéæ¼ä»¥åå®ææ¯å¦ç§å­¦\n * æ§è¡ï¼Engageï¼ï¼æ ¹æ®å¶å®å¥½çå®æå»åï¼æ§è¡å³æ³¨çæ¯ç»æèä¸æ¯ä»ä»å»åã\n\nGTD ç»ç»ååºï¼\n\n * æ§è¡æ¸å\n * ç­å¾æ¸åï¼éå¯¹ç­å¾æ¸åï¼ä¸æ­¢è¦åä¸ç­å¾äºé¡¹ï¼è¿è¦æç¡®ç­å¾çä¸ä¸æ­¥æ¯ä»ä¹ï¼ä¸»å¨æ¿ç»æ\n * é¡¹ç®æ¸åï¼éå¯¹é¡¹ç®æ¸åï¼é®èªå·±ä¸ä¸æ­¥æ¯ä»ä¹ï¼å¹¶æä¸ä¸æ­¥æ¾è¿æ§è¡æ¸åï¼å¦ææ­¥éª¤å¤æï¼ä½ çä¸ä¸æ­¥å°±æ¯ä¸é¨åè®¡åãåæ¹æ¡ï¼ç¶ååä¸ä¸æ­¥åºè¯¥åä»ä¹ï¼å°±ä½ çè®¡åææ¹æ¡ä¸­ï¼\n * å¯è½æ¸å\n * åèèµæ\n * åæ¶ç®±\n * æ¥å/ç¸å³åºç¨ã\n\n\n# ææ°çå¤çæµç¨\n\nå¤çæµç¨ï¼5ä¸ªé®é¢ï¼ï¼\n\n 1. **è¿ä»¶äºå¯è¡å¨åï¼**å¯ä»¥è¡å¨è¿å¥ä¸ä¸æ­¥ï¼ä¸å¯è¡å¨è¿è¡ååº\n    * åèèµæï¼ä»åè¦æ¥éçåèèµæ\n    * å¯è½æ¸åï¼ä»åå¯è½è¦åçäºæ\n    * åæ¶ç®±ï¼ä¸ç¨åçäºæ\n 2. è¿ä»¶äºå¯ä»¥ä¸æ­¥æå®åï¼éè¦åæ­¥éª¤æ§è¡ï¼ä¸ºå®å¶ä½ä¸ä¸ªæ§è¡æ¹æ¡ï¼ååºå°é¡¹ç®æ¸å\n 3. **è¿ä»¶äºè½å¨2åéåæå®åï¼**è½ï¼å°±ç«å³å\n 4. è¿ä»¶äºè¯¥æååï¼å¯ä»¥åéç»å¶ä»äººï¼ä½ä½ éè¦è·è¿ï¼ååºå°ç­å¾æ¸åã\n 5. è¿ä»¶äºæç¹å®çæ¶é´åï¼æç¹å®æ¶é´ï¼æ¾è¿æ¥å/æ¥ç¨åºç¨ãæ²¡æç¹å®æ¶é´ï¼æ¾å¥æ§è¡æ¸åå¹¶å®ææ¶é´æ§è¡\n\n\n\n\n# åèèµæçæä¹åæ å\n\nåèèµæå¯ä»¥æ¯ç½ç»æç´¢å¼æ+ä¸ªäººç¥è¯åºçéå\n\nå¦ä½åå¤åèèµæï¼\n\n * åå½å¸¸è¯ï¼é¿åè¿½æ°ãå¥ãæªï¼èå¿½ç¥æåºæ¬çä¸ç©è¿ä½è§å¾\n * æé«ä¿¡æ¯çæ£ç´¢ãè¾¨å«è½å\n * æé«åèèµæçå­æ¡£æ å\n   * æç´¢å¼æè½å¤æ¾å°çï¼å¯¹ä½ æ¥è¯´æµæ¾èå¹³å¸¸çç¥è¯ï¼ä¸ç¨ä¸é¨å­æ¡£\n   * ä¸äºåºç°çæ°æ¦å¿µï¼ä½æ§ç¶è£æ°éãæ¢æ±¤ä¸æ¢è¯çï¼ä¸ç¨ä¸é¨å­æ¡£\n\n\n# åé¡¾çå³é®\n\n * ä»æ¶éç®±åºå»çé¡¹ç®æ°¸è¿ä¸è¦åæ¾åæ¶éç®±\n * é¡¹ç®æ¸åä¸­äºé¡¹éè¦æè§£ï¼å¶å®æ§è¡æ¹æ¡å¹¶åè§£å°å¶ä»æ¸åä¸­\n * è¦ç¹å«ä¿éç­å¾æ¸åãå¯è½æ¸åãåæ¶ç®±ä¸ä¸ªååºå½ä¸­çåé¡¾ï¼ä¸»å¨ç¡®å®ç­å¾æ¸åæ¯å¦è¢«å®æãåæ¶ç®±åå¯è½æ¸åä¸­çäºé¡¹æ¯å¦æåå¨ï¼åæå¯æ§è¡æå¶ä»ï¼\n * æ¥åææéäºé¡¹åºç¨ä¸­çæéæ¯å¦æ°å½ï¼æ¯å¦ä¸ä¸ªææ«è¦å®æè®ºææ¯ Deadlineï¼ä½æ¯å¦åºè¯¥è¿ä¸ªæå°±æéèªå·±ï¼å¹¶ä¸åè§£å¼æ¥ï¼\n * ä¸ºç¬¬åæ­¥ï¼åé¡¾ï¼è¾åºä¸é¨çæ¶é´ï¼æ¯å¦æ¯å¤©ãæ¯ä¸å¤©ææ¯å¨ãæ¯æ\n\n\n# æ§è¡æ¸åçå¤ç\n\næä»¬åºäºä¸¤ä¸ªååå¯¹æ§è¡æ¸åä¸­çäºæè¿è¡æåºï¼ä¸æ¯ï¼ä½ ä¸å¯è½å®æææçäºæï¼äºæ¯å°½å¯è½åè·ç¦»ä½ ç®æ æ´è¿çäºæã\n\nå¨è¿ç§æåµä¸ï¼æä»¬ä»ç¶è¦æ³¨æåç¹**ãç¬¬ä¸ï¼è½è¢«æ¾è¿æ§è¡æ¸åçï¼é½æ¯å¯¹ä½ æ¥è¯´å¯ä»¥ä¸æ­¥æå®çäºæï¼ç¬¬äºï¼åè®¡åãåæ¹æ¡æ¯æ¯ä¸ªäººçå¿ä¿®è¯¾ï¼ç¬¬ä¸ï¼ä¸ºæ¯ä»¶äºæåå¥½æ¶é´é¢ä¼°ï¼ç¬¬åï¼ä¸ºç¹å«äºä»¶é¢çæ¶é´ã**\n\nä¸ºäºå¤çæ§è¡æ¸åçè´¨éåæçï¼æä»¬å¯ä»¥æè³å°ä¸ç§æ¹æ³ï¼ä¸æ¯ï¼ä¸æ¬¡åªå¤çä¸ä»¶äºæï¼äºæ¯å©ç¨çªèæ¶éè®©èªå·±æ´ä¸æ³¨ï¼ä¸æ¯æç ´è´ç½ªæå¹»è§ã\n\n\n# åèèµæ\n\n * GTD_ç¾åº¦ç¾ç§\n * GTD èªæç®¡çãæ¶é´ç®¡çæç¨ãå¨ 10 éã | è¿ç¦»çå¿è¿·è«æçæå»¶ç | ä»é¶å¼å§ï¼ç§å­¦å°è®¤è¯åä½¿ç¨ GTD æ¶é´ç®¡çæ³åã_åå©åå©_bilibili",normalizedContent:"æ¶é´ç®¡çççæ­£ç®çä¸æ¯æ¶é´ï¼ä¹ä¸æ¯äºï¼èæ¯å®æã\n\ngtd ä¸å¶è¯´æ¯æ¶é´ç®¡ççæ¹æ³ï¼ä¸å¦è¯´æ¯å¯¹äºå¡çç®¡çï¼éè¿åç±»äºå¡æç¡®ä¸ä¸æ­¥è¦æ§è¡çäºå¡ã\n\ngtd ç®çï¼\n\n * å¤§èæ¸ç©ºä¸æ··ä¹±\n * æç¡®ç¥éä¸ä¸æ­¥åºè¯¥åä»ä¹\n\ngtd å·ä½æµç¨ï¼\n\n * æè·ï¼captureï¼ï¼æè·ææäºæè£è¿æ¶éç®±ï¼inboxï¼\n * ææ°ï¼clarifyï¼ï¼å°±æ¯éè¿ç¹å®çå¤çæµç¨å¯¹äºæè¿è¡ååºã\n * ç»ç»ï¼organizeï¼ï¼å°äºæè¿è¡ååºæ¾ç½®\n * åé¡¾ï¼reflectï¼ï¼åé¡¾ä½ çæ¸åæ¯å¦æéæ¼ä»¥åå®ææ¯å¦ç§å­¦\n * æ§è¡ï¼engageï¼ï¼æ ¹æ®å¶å®å¥½çå®æå»åï¼æ§è¡å³æ³¨çæ¯ç»æèä¸æ¯ä»ä»å»åã\n\ngtd ç»ç»ååºï¼\n\n * æ§è¡æ¸å\n * ç­å¾æ¸åï¼éå¯¹ç­å¾æ¸åï¼ä¸æ­¢è¦åä¸ç­å¾äºé¡¹ï¼è¿è¦æç¡®ç­å¾çä¸ä¸æ­¥æ¯ä»ä¹ï¼ä¸»å¨æ¿ç»æ\n * é¡¹ç®æ¸åï¼éå¯¹é¡¹ç®æ¸åï¼é®èªå·±ä¸ä¸æ­¥æ¯ä»ä¹ï¼å¹¶æä¸ä¸æ­¥æ¾è¿æ§è¡æ¸åï¼å¦ææ­¥éª¤å¤æï¼ä½ çä¸ä¸æ­¥å°±æ¯ä¸é¨åè®¡åãåæ¹æ¡ï¼ç¶ååä¸ä¸æ­¥åºè¯¥åä»ä¹ï¼å°±ä½ çè®¡åææ¹æ¡ä¸­ï¼\n * å¯è½æ¸å\n * åèèµæ\n * åæ¶ç®±\n * æ¥å/ç¸å³åºç¨ã\n\n\n# ææ°çå¤çæµç¨\n\nå¤çæµç¨ï¼5ä¸ªé®é¢ï¼ï¼\n\n 1. **è¿ä»¶äºå¯è¡å¨åï¼**å¯ä»¥è¡å¨è¿å¥ä¸ä¸æ­¥ï¼ä¸å¯è¡å¨è¿è¡ååº\n    * åèèµæï¼ä»åè¦æ¥éçåèèµæ\n    * å¯è½æ¸åï¼ä»åå¯è½è¦åçäºæ\n    * åæ¶ç®±ï¼ä¸ç¨åçäºæ\n 2. è¿ä»¶äºå¯ä»¥ä¸æ­¥æå®åï¼éè¦åæ­¥éª¤æ§è¡ï¼ä¸ºå®å¶ä½ä¸ä¸ªæ§è¡æ¹æ¡ï¼ååºå°é¡¹ç®æ¸å\n 3. **è¿ä»¶äºè½å¨2åéåæå®åï¼**è½ï¼å°±ç«å³å\n 4. è¿ä»¶äºè¯¥æååï¼å¯ä»¥åéç»å¶ä»äººï¼ä½ä½ éè¦è·è¿ï¼ååºå°ç­å¾æ¸åã\n 5. è¿ä»¶äºæç¹å®çæ¶é´åï¼æç¹å®æ¶é´ï¼æ¾è¿æ¥å/æ¥ç¨åºç¨ãæ²¡æç¹å®æ¶é´ï¼æ¾å¥æ§è¡æ¸åå¹¶å®ææ¶é´æ§è¡\n\n\n\n\n# åèèµæçæä¹åæ å\n\nåèèµæå¯ä»¥æ¯ç½ç»æç´¢å¼æ+ä¸ªäººç¥è¯åºçéå\n\nå¦ä½åå¤åèèµæï¼\n\n * åå½å¸¸è¯ï¼é¿åè¿½æ°ãå¥ãæªï¼èå¿½ç¥æåºæ¬çä¸ç©è¿ä½è§å¾\n * æé«ä¿¡æ¯çæ£ç´¢ãè¾¨å«è½å\n * æé«åèèµæçå­æ¡£æ å\n   * æç´¢å¼æè½å¤æ¾å°çï¼å¯¹ä½ æ¥è¯´æµæ¾èå¹³å¸¸çç¥è¯ï¼ä¸ç¨ä¸é¨å­æ¡£\n   * ä¸äºåºç°çæ°æ¦å¿µï¼ä½æ§ç¶è£æ°éãæ¢æ±¤ä¸æ¢è¯çï¼ä¸ç¨ä¸é¨å­æ¡£\n\n\n# åé¡¾çå³é®\n\n * ä»æ¶éç®±åºå»çé¡¹ç®æ°¸è¿ä¸è¦åæ¾åæ¶éç®±\n * é¡¹ç®æ¸åä¸­äºé¡¹éè¦æè§£ï¼å¶å®æ§è¡æ¹æ¡å¹¶åè§£å°å¶ä»æ¸åä¸­\n * è¦ç¹å«ä¿éç­å¾æ¸åãå¯è½æ¸åãåæ¶ç®±ä¸ä¸ªååºå½ä¸­çåé¡¾ï¼ä¸»å¨ç¡®å®ç­å¾æ¸åæ¯å¦è¢«å®æãåæ¶ç®±åå¯è½æ¸åä¸­çäºé¡¹æ¯å¦æåå¨ï¼åæå¯æ§è¡æå¶ä»ï¼\n * æ¥åææéäºé¡¹åºç¨ä¸­çæéæ¯å¦æ°å½ï¼æ¯å¦ä¸ä¸ªææ«è¦å®æè®ºææ¯ deadlineï¼ä½æ¯å¦åºè¯¥è¿ä¸ªæå°±æéèªå·±ï¼å¹¶ä¸åè§£å¼æ¥ï¼\n * ä¸ºç¬¬åæ­¥ï¼åé¡¾ï¼è¾åºä¸é¨çæ¶é´ï¼æ¯å¦æ¯å¤©ãæ¯ä¸å¤©ææ¯å¨ãæ¯æ\n\n\n# æ§è¡æ¸åçå¤ç\n\næä»¬åºäºä¸¤ä¸ªååå¯¹æ§è¡æ¸åä¸­çäºæè¿è¡æåºï¼ä¸æ¯ï¼ä½ ä¸å¯è½å®æææçäºæï¼äºæ¯å°½å¯è½åè·ç¦»ä½ ç®æ æ´è¿çäºæã\n\nå¨è¿ç§æåµä¸ï¼æä»¬ä»ç¶è¦æ³¨æåç¹**ãç¬¬ä¸ï¼è½è¢«æ¾è¿æ§è¡æ¸åçï¼é½æ¯å¯¹ä½ æ¥è¯´å¯ä»¥ä¸æ­¥æå®çäºæï¼ç¬¬äºï¼åè®¡åãåæ¹æ¡æ¯æ¯ä¸ªäººçå¿ä¿®è¯¾ï¼ç¬¬ä¸ï¼ä¸ºæ¯ä»¶äºæåå¥½æ¶é´é¢ä¼°ï¼ç¬¬åï¼ä¸ºç¹å«äºä»¶é¢çæ¶é´ã**\n\nä¸ºäºå¤çæ§è¡æ¸åçè´¨éåæçï¼æä»¬å¯ä»¥æè³å°ä¸ç§æ¹æ³ï¼ä¸æ¯ï¼ä¸æ¬¡åªå¤çä¸ä»¶äºæï¼äºæ¯å©ç¨çªèæ¶éè®©èªå·±æ´ä¸æ³¨ï¼ä¸æ¯æç ´è´ç½ªæå¹»è§ã\n\n\n# åèèµæ\n\n * gtd_ç¾åº¦ç¾ç§\n * gtd èªæç®¡çãæ¶é´ç®¡çæç¨ãå¨ 10 éã | è¿ç¦»çå¿è¿·è«æçæå»¶ç | ä»é¶å¼å§ï¼ç§å­¦å°è®¤è¯åä½¿ç¨ gtd æ¶é´ç®¡çæ³åã_åå©åå©_bilibili",charsets:{cjk:!0},lastUpdated:"2023/10/26, 16:07:22",lastUpdatedTimestamp:1698336442e3},{title:"æ­å»ºä¸ªäººç¥è¯åº",frontmatter:{title:"æ­å»ºä¸ªäººç¥è¯åº",date:"2023-11-01T13:36:52.000Z",permalink:"/pages/15a2bc/"},regularPath:"/03.%E8%BD%AF%E6%8A%80%E8%83%BD/02.%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86/01.%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%9F%A5%E8%AF%86%E5%BA%93.html",relativePath:"03.è½¯æè½/02.ç¥è¯ç®¡ç/01.æ­å»ºä¸ªäººç¥è¯åº.md",key:"v-1f3e78d6",path:"/pages/15a2bc/",headers:[{level:1,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:117}],headersStr:"åèèµæ",content:"ä¸ªäººç¥è¯åºæ¯æç»­æ¯æèä¸çæ¶¯çéè¦åºç¡ï¼æç»ç®æ æ¯ä¸ºå·¥ä½ãçæ´»ååä½æä¾æç»­å¨åï¼è§£å³å®éé®é¢ã\n\nç¥è¯åºå»ºè®¾ï¼åºæ¬æ­¥éª¤åæ¬ï¼æéãå½ç±»ãæ´çåæçº¯ãå¶ä¸­ç¥è¯æçº¯æ¯æ ¸å¿ã\n\nç¥è¯åºéè¦è¾¾å°å·¥ä½æéè§¦æå¯è¾¾ï¼é¿åéå¤æç´¢ã\n\n\n\n\n# åèèµæ\n\n * æé éåèªå·±çç¥è¯åº - ç´æ°´ç - åå®¢å­\n * ç¼ç¨ç¥è¯æçº¯ä¹æ³ - ç´æ°´ç - åå®¢å­\n * å¦ä½åç¼ç¨ç¥è¯æèµååå°ç¥è¯å¤±æçå½±å - ç´æ°´ç - åå®¢å­",normalizedContent:"ä¸ªäººç¥è¯åºæ¯æç»­æ¯æèä¸çæ¶¯çéè¦åºç¡ï¼æç»ç®æ æ¯ä¸ºå·¥ä½ãçæ´»ååä½æä¾æç»­å¨åï¼è§£å³å®éé®é¢ã\n\nç¥è¯åºå»ºè®¾ï¼åºæ¬æ­¥éª¤åæ¬ï¼æéãå½ç±»ãæ´çåæçº¯ãå¶ä¸­ç¥è¯æçº¯æ¯æ ¸å¿ã\n\nç¥è¯åºéè¦è¾¾å°å·¥ä½æéè§¦æå¯è¾¾ï¼é¿åéå¤æç´¢ã\n\n\n\n\n# åèèµæ\n\n * æé éåèªå·±çç¥è¯åº - ç´æ°´ç - åå®¢å­\n * ç¼ç¨ç¥è¯æçº¯ä¹æ³ - ç´æ°´ç - åå®¢å­\n * å¦ä½åç¼ç¨ç¥è¯æèµååå°ç¥è¯å¤±æçå½±å - ç´æ°´ç - åå®¢å­",charsets:{cjk:!0},lastUpdated:"2023/11/01, 06:52:24",lastUpdatedTimestamp:1698821544e3},{title:"å¦ä½é«æçå­¦ä¹ ææ¯",frontmatter:{title:"å¦ä½é«æçå­¦ä¹ ææ¯",date:"2023-11-01T14:46:36.000Z",permalink:"/pages/11d0b0/"},regularPath:"/03.%E8%BD%AF%E6%8A%80%E8%83%BD/02.%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86/03.%E5%A6%82%E4%BD%95%E9%AB%98%E6%95%88%E7%9A%84%E5%AD%A6%E4%B9%A0%E6%8A%80%E6%9C%AF.html",relativePath:"03.è½¯æè½/02.ç¥è¯ç®¡ç/03.å¦ä½é«æçå­¦ä¹ ææ¯.md",key:"v-43b3065b",path:"/pages/11d0b0/",headers:[{level:3,title:"å­¦ä»ä¹",slug:"å­¦ä»ä¹",normalizedTitle:"å­¦ä»ä¹",charIndex:3},{level:4,title:"åºç¡ä¸åºç¨",slug:"åºç¡ä¸åºç¨",normalizedTitle:"åºç¡ä¸åºç¨",charIndex:12},{level:4,title:"å¹¿åº¦ä¸æ·±åº¦",slug:"å¹¿åº¦ä¸æ·±åº¦",normalizedTitle:"å¹¿åº¦ä¸æ·±åº¦",charIndex:23},{level:4,title:"å²å­¦",slug:"å²å­¦",normalizedTitle:"å²å­¦",charIndex:34},{level:4,title:"è±è¯­",slug:"è±è¯­",normalizedTitle:"è±è¯­",charIndex:42},{level:3,title:"æä¹å­¦",slug:"æä¹å­¦",normalizedTitle:"æä¹å­¦",charIndex:48},{level:4,title:"ç¥è¯ä½ç³»",slug:"ç¥è¯ä½ç³»",normalizedTitle:"ç¥è¯ä½ç³»",charIndex:57},{level:4,title:"åæéå¿",slug:"åæéå¿",normalizedTitle:"åæéå¿",charIndex:67},{level:4,title:"ç¢çæ¶é´",slug:"ç¢çæ¶é´",normalizedTitle:"ç¢çæ¶é´",charIndex:77},{level:3,title:"ç¨èµ·æ¥",slug:"ç¨èµ·æ¥",normalizedTitle:"ç¨èµ·æ¥",charIndex:85},{level:3,title:"ææ¯åäº«",slug:"ææ¯åäº«",normalizedTitle:"ææ¯åäº«",charIndex:94},{level:3,title:"é ä¸ªè½®å­",slug:"é ä¸ªè½®å­",normalizedTitle:"é ä¸ªè½®å­",charIndex:104}],headersStr:"å­¦ä»ä¹ åºç¡ä¸åºç¨ å¹¿åº¦ä¸æ·±åº¦ å²å­¦ è±è¯­ æä¹å­¦ ç¥è¯ä½ç³» åæéå¿ ç¢çæ¶é´ ç¨èµ·æ¥ ææ¯åäº« é ä¸ªè½®å­",content:' * å­¦ä»ä¹\n   * åºç¡ä¸åºç¨\n   * å¹¿åº¦ä¸æ·±åº¦\n   * å²å­¦\n   * è±è¯­\n * æä¹å­¦\n   * ç¥è¯ä½ç³»\n   * åæéå¿\n   * ç¢çæ¶é´\n * ç¨èµ·æ¥\n   * ææ¯åäº«\n   * é ä¸ªè½®å­\n\næä»¬ç¸ä¿¡åªåå­¦ä¹ ä¸å®ä¼ææ¶è·ï¼ä½æ¯æ¹æ³ä¸å½ï¼æ¢è®©äººèº«å¿ç²æ«ï¼ä¹æ²¡æåå®çåæ¥ãé«ä¸­æ¶ä»£ï¼æçåæ¡æ¯ä¸ªæ¼äº®å¥³åå­¦ãå¥¹çç©çæç»©å¾å·®ï¼è½ç¶å¥¹éå¸¸å¤å¥çå­¦ä¹ ï¼ä½æç»©æ»æ¯ä¸çæ³ãä¸ºäºå·©åºçº¯æ´çåå­¦å³ç³»ï¼æäº²å¯æ é´å°è¾å¯¼å¥¹çç©çï¼åç°å¥¹ä¸ç¥éé¢ç®èä»ä¹ãæä»¬çæç§ä¹¦ä¸è¯é¢é½å´ç»çèè¯å¤§çº²å±å¼ï¼çå°ä¸éé¢ï¼åºè¯¥åæ³æ³å®å¨èåªäºå®çåå¬å¼çè¿ç¨ã\nââä¸å°æåæ¯å¤©é½éè¯»ææ¯æç« ï¼ä½æ¯ç¬¬äºå¤©å°±å¿å¹²åäºãå·¥ä½ä¸­é¢å¯¼ååäºé½è®¤å¯ä½ çæ²éåææ¯è½åï¼ä½æ¯è·³æ§½é¢è¯å´å±¡å±¡ç¢°å£ãé¢è¯å®é®ææ¯æ¹æ¡ï¼ææå¿éæ¸æ¥ï¼ç¨å´è¯´åºæ¥å´åè¨ä¸æ­åè¯­ãé¢è¯å®åé®åºå±ç®æ³ï¼ä½ è¯´çè¿ä½æ¯å¿è®°äºãä»ä¸å¨ä¹ä½ çæ²¡çè¿ï¼ç­ä¸ä¸å°±æ¯é¶åãæ­£å¦ç·å¥³ç¸äº²ï¼ç·æ¹è°åæ½æ´æè½å¸å¼å§å¨ãå¯æ¯ç·æ¹ç´§å¼ äºï¼å¹³æ¶æºè½è¯´ï¼å³é®æ¶åå´æ¯æ¯å¾å¾ï¼å§å¨å¿ç¶è®¤ä¸ºä»ä¸è¡ãäººçåæ»¡äºè®¸å¤èè¯ï¼æå½¢çåæ å½¢çï¼æ¯æ¬¡èè¯çæºä¼åªæä¸æ¬¡ã\nââå·¥ä½äºå¹´åå¹´åï¼å«äººæäºæ¶æå¸ï¼èªå·±è¿å¨åºå±ææ»ï¼åå æ¯ä»ä¹ï¼èåºä¸æ æ³æååè¿çåå æå¾å¤ï¼æ²¡ææç»­å­¦ä¹ ãå­¦ä¹ ææä¸å¥½ãæ æ³éè¿å¿ä»ªå¬å¸ççé¢è¯ï¼ä¸å®æ¯å¾éè¦çåå ã\nââæèªå·±å½æä¸å°è®¡ç®æºï¼æ¢æè¾å¥ï¼ä¹è¦æè¾åºï¼ç¨è¾åºåé¼è¾å¥ã\n\n\n# å­¦ä»ä¹\n\n# åºç¡ä¸åºç¨\n\nè¿äºå¹´è¯çäºè®¸å¤æ°ææ¯ï¼æ¯å¦ææ¶é«¦çAI(ç®åè¿å¨æºéé¶æ®µ)ï¼æ°å­¦åºç¡æ¯åä¸­å°±æ¥è§¦è¿çæ¦çç»è®¡ãä¸ä¸é«æ¥¼ä»å°èµ·ï¼ä¸è¦è¢«æ°å·¥å·æèä¸­é´ä»¶è¿·ä½åç¼ï¼ä¸å³å°è¿½æ°æ±å¿«ãåºç¡ç¥è¯æ¯ææææ¯çåºç³ï¼å¨æªæ¥å¾é¿çæ¶é´é½ä¸ä¼ååï¼åºè¯¥è±è´¹è¶³å¤çæ¶é´å·©åºåºç¡ã\nââä»¥æ°æ®ç»æåç®æ³ä¸ºä¾ï¼å¤§å®¶éè¯»ä¸ä¸JavaçBitSetçæºç ï¼éé¢æå¤§éçç§»ä½æä½ï¼ç§»ä½è¿ç®ææ¡çå¥½ï¼çè¿ä»½æºç å°±æ²¡é®é¢ãJavaåæ­¥å·¥å·ç±»AQSç¨å°äºååé¾è¡¨ï¼é¾è¡¨ç¥è¯ä¸è¿å³ï¼è¯å®æä¸æå®çåçãäºèç½å¤§åé½åæ¬¢èç®æ³ï¼ä¸ºäºéè¿é¢è¯ä¹è¦ç²¾éç®æ³ã\nââä»¥Javaå·¥ç¨å¸åºè¯¥ææ¡çç¥è¯ä¸ºä¾ï¼æéè¦ç¨åº¦æåºå­ä¸ªæ¢¯åº¦ï¼\n\n * ç¬¬ä¸æ¢¯åº¦ï¼è®¡ç®æºç»æåçãæ°æ®ç»æåç®æ³ãç½ç»éä¿¡åçãæä½ç³»ç»åçï¼\n * ç¬¬äºæ¢¯åº¦ï¼Javaåºç¡ãJVMåå­æ¨¡ååGCç®æ³ãJVMæ§è½è°ä¼ãJDKå·¥å·ãè®¾è®¡æ¨¡å¼ï¼\n * ç¬¬ä¸æ¢¯åº¦ï¼Springç³»åãMybatisãDubboç­ä¸»æµæ¡æ¶çè¿ç¨ååçï¼\n * ç¬¬åæ¢¯åº¦ï¼MySQL(å«SQLç¼ç¨)ãRedisãRabbitMQ/RocketMQ/KafkaãZooKeeperç­æ°æ®åºæèä¸­é´ä»¶çè¿ç¨ååçï¼\n * ç¬¬äºæ¢¯åº¦ï¼CAPçè®ºãBASEçè®ºãPaxosåRaftç®æ³ç­å¶ä»åå¸å¼çè®ºï¼\n * ç¬¬å­æ¢¯åº¦ï¼å®¹å¨åãå¤§æ°æ®ãAIãåºåé¾ç­ç­åæ²¿ææ¯çè®ºï¼\n\næåå­¦è®¤ä¸ºç¬¬äºæ¢¯åº¦åºè¯¥å¨ç§»å°ç¬¬ä¸æ¢¯åº¦ãå¶å®å¾å¤å°å¬å¸çæ¥æ´»ç¹å¦å¤å¤©ä¹ä¸æ ·å¹³å¹³æ å¥ï¼ç¦»å¤§ååå¸å¼æ¶æè¿è¿å¾å¾ãå­¦ä¹ æ¡æ¶åä¸­é´ä»¶çæ¶åï¼é¡ºæææ¡åå¸å¼çè®ºï¼æææ´å¥½ã\n\n# å¹¿åº¦ä¸æ·±åº¦\n\nè®¸å¤å¬å¸çæèJDæ²¡æè®¾å®ææ¯äººåå¹´é¾é¨æ§ï¼ä½æ¯ä¼å ä¸ä¸å¥âå·å¤ä¸å¹´é¾ç¸å½çç¥è¯çå¹¿åº¦ä¸æ·±åº¦âãå¤å¹¿æç®å¹¿ï¼å¤æ·±æç®æ·±ï¼è¿æ¯å¾ä¸»è§çè¯é¢ï¼è¿éä¸å±å¼è®¨è®ºã\nââå¦ä½åå¾æ´å¹¿æ´æ·±å¢ï¼çªç ´æ¶å¥ä¸åçç¶é¢ï¼åæèªå·±çæ­£çå´è¶£ã\nââå¤§å¤æ°äººåªæ¯å¬å¸çæ®éèåï¼æ¶å¥ä¸åçç¶é¢å°±æ¯åèå èªãè®¸å¤ITå¬å¸ä¼å¯¹ææ¯äººåæä¸ªè¯çº§ï¼å¦æä½ çè¯çº§ä¸é«ï¼é£å°±ä¾ç§æçº§ç« ç¨åªååçº§ãå¦æä½ å¨ä¸ä¸ªå°å¬å¸ï¼æ¶å¥ä¸è¬ï¼åå±åæ¯ä¸æï¼åå¤å¤§åçé¢è¯å°±æ¯æå¥½çå­¦ä¹ è¿ç¨ãå¨è¿äºè¿ç¨ä¸­ï¼ä½ å¿ç¶å­¦ä¹ æ´å¤ç¥è¯ï¼åå¾æ´å¹¿æ´æ·±ã\nââä¸ªäººå´è¶£æ¯åè¿çå¨åä¹ä¸ï¼è®¸å¤ç¥åå¼æºé¡¹ç®é½æºäºä½èçå´è¶£ãä¸ªäººå´è¶£å¹¶ä¸å±éææ¯é¢åï¼å¯ä»¥æ¯å¶ä»å­¦ç§ãææä¸ªæååæ¬¢ç©å±±å°èªè¡è½¦ï¼è¿ç»ä¸äºåèªè¡è½¦è¯é¢çèªåªä½æç¨¿ãä¹èä¹ä¹ï¼å±ç¶è½å¤åä¸æå¥½æç« äºï¼æç¸ä¿¡ä»ä¹è½åå¥½ææ¯ææ¡£ã\n\n# å²å­¦\n\nå²å­¦ä¸æ¯æä½é«æ·±çå­¦ç§ï¼å®çç°å®æä¹å°±æ¯è§£å³é®é¢ãå¹´è½»å°ä¼æ¯æä¹æ³¡å¦çï¼ä¸å¤©ä¸¤å¤´è±ä¸æ­ï¼å¤§åº­å¹¿ä¼è·ªæ±ç±ãè¿ç±»å¥è·¯ä¸ºä»ä¹æ»æ¯è½æåå¢ï¼ç¤¼ç©æ»¡è¶³å¥³äººçç©æ¬²ï¼å½ä¼æ±ç±æ»¡è¶³å¥³äººçèè£å¿ï¼æå¶æå¥½ãé£å å¤§å¦æèçæè¶æ¥è¶æï¼è¾£å­é¸¡ä¸åæè¾£å­è¾£ä¸ï¼ä¸ºä»ä¹å¢ï¼é£å è¦æ§å¶ææ¬ï¼ç´æ¥æä»·ä¼æ¹ä¼æã\nââç§å­¦ä¸çå²å­¦ï¼ä¸è¬æç ç©¶äºç©åå±çè§å¾ï¼å½çº³ç»æçè§£å³æ¹æ¡ãè½¯ä»¶è¡ä¸åæ»¡å²å­¦å³éçä½åéå¸¸å¤ï¼æ¯å¦ãäººæç¥è¯ããä¸¾ä¸ªä¾å­ï¼å½è½¯ä»¶ç³»ç»éå°æ§è½é®é¢ï¼å°è¯ä¸é¢ä¸¤ç§å²å­¦ææ³æåæ§è½ï¼\n\n * ç©ºé´æ¢æ¶é´ï¼æ¯å¦å¼å¥ç¼å­ï¼æ¶èé¢å¤çå­å¨æé«ååºéåº¦ã\n * æ¶é´æ¢ç©ºé´ï¼æ¯å¦å¤§æä»¶çåçå¤çï¼åæ®µå¤çååæ±æ»ç»æã\n\nè®¾è®¡ç¨³å¥é«å¯ç¨çç³»ç»ï¼å°è¯ä»ä¸ä¸ªæ¹é¢èèé®é¢ï¼\n\n * å­å¨ï¼æ°æ®ä¼ä¸¢å¤±åï¼æ°æ®ä¸è´æ§æä¹è§£å³ã\n * è®¡ç®ï¼è®¡ç®æä¹æ©å®¹ï¼åºç¨åè®¸ä»»æå¢å èç¹åã\n * ä¼ è¾ï¼ç½ç»ä¸­æ­ææ¥å¡æä¹åã\n\nä»æ æ°çå¤±è´¥æèæåçç»éªä¸­ï¼æ»ç»åºé«åº¦æ¦æ¬æ§çæ¹æ¡ï¼è®©æä»¬ä¸ä¸æ­¥åçæ´å¥½ã\n\n# è±è¯­\n\nè±è¯­æ¯éè¦çåºç¡ï¼å­¦å¥½è±è¯­ä¸ææ¡ç¼ç¨ä¸æ ·éè¦ãè®¸å¤ç¥ååå®¢å°±æ¯æè±æç¿»è¯æä¸­æï¼åªæ¯ç¥è¯çæ¬è¿å·¥ãå¦æè±è¯­è¶³å¤å¥½ï¼ç´æ¥éè¯»ä¸æèµæï¼é¿åä»äººç¿»è¯å­å¨çè°¬è¯¯ã\n\nå¦æçº¯ç²¹ä¸ºäºæ¥å¸¸ææ¯å·¥ä½ï¼å¯ä»¥ä¸ç»ä¹ è±è¯­å£è¯­ï¼æé«ææ¡£éè¯»è½åå³å¯ãé¦åï¼è¦çªç ´åè¯å³ï¼è³å°è¾¾å°å­çº§ç5500ä¸ªè¯æ±éãå¶æ¬¡ï¼å¿é¡»ææ¡ä¸ä¸è±è¯­çè¯æ±ï¼æ¨èéç¨æºæ¢°å·¥ä¸åºçç¤¾çãè®¡ç®æºä¸ä¸è±è¯­ãè¿æ¬ä¹¦ãæåï¼åæéè¯»ä¸ä»½æè´¨éçææ¯ææ¡£ï¼åå°å¯ä»¥ç¨è±è¯­è¡¨è¾¾ææ¯æå¾ï¼Springçææ¯ææ¡£å°±æ¯å¾å¥½çå­¦ä¹ ææãå¦æå°å¤å»æç½åç§è±è¯­æç®ï¼å¾å¾åªæ¶èä¸éè¯»ã\n\n\n# æä¹å­¦\n\n# ç¥è¯ä½ç³»\n\nä½ç³»åçç¥è¯æ¯é¶æ£çæ´å®¹æè®°å¿åçè§£ï¼è¿æ­£å¦ä¸é¨å¥½ççµè§å§ï¼å§æç¯ç¯ç¸æ£æè½å¸å¼è§ä¼ãå»ºè®®å¤§å®¶ä½¿ç¨æç»´å¯¼å¾ç½åç¥è¯ç¹ï¼æå»ºä½ç³»ç»æï¼å¦ä¸å¾æç¤ºï¼\n\n\n\n# åæéå¿\n\né«ä¸­æ¯æä»¬ç¥è¯çå·å³°æ¶å»ï¼æ¯å¨å°èæ¯æå¤§èï¼æè¾èµæå æå±±ï¼å°ç±å¼çåå¤æç»å¼ºåè®°å¿ãå¤ä¹ æ¯å¯¹æéå¿çå¯ä¸åæ³ãå¤§èçéå¿æ¯æè§å¾çï¼åå¿«åæ¢ãä¸å¤©åï¼å­¦å°çç¥è¯åªå©ä¸åæ¥ç25%ï¼çè³æ´ä½ãéçæ¶é´çæ¨ç§»ï¼éå¿çéåº¦åæ¢ï¼éå¿çæ°éä¹å°±åå°ã\n\næ¶é´é´é    è®°å¿é\nåçå®     100%\n20åéå   60%\n1å°æ¶å    40%\n1å¤©å     30%\n2å¤©å     27%\n\næ¯ä¸ªäººçéå¿ç¨åº¦é½ä¸ä¸æ ·ï¼å»ºè®®ç¬¬äºå¤©å¤ä¹ åä¸å¤©çåå®¹ï¼ä¸å¤©åå¤ä¹ è¿æ®µæ¶é´çææåå®¹ã\n\n# ç¢çæ¶é´\n\nä¸å°æåå©ç¨ç¢çæ¶é´å­¦ä¹ ï¼æ¯å¦å¨å¬äº¤ä¸çå¬ä¼å·çæ¨éãå¶å®æä»¬é½é«ä¼°äºèªå·±çæå¹²æ°è½åï¼å¦æå¤å¨åæçç¯å¢ï¼æ³¨æåå®¹æè¢«ææ­ï¼è®°å¿çå­åº¦ä¹å¾ä½ãç¢çæ¶é´éåå­¦ä¹ ç®åå­¤ç«çç¥è¯ç¹ï¼æ¯å¦é¾è¡¨çå®ä¹ä¸å®ç°ã\nââå­¦ä¹ å¤æçç¥è¯ï¼éè¦å¤§æ®µçè¿ç»­æ¶é´ãå¾ä¹¦é¦æ¯ä¸ªå¥½å°æ¹ï¼å®éæ°å´å¥½ãææºæ¾ä¸è¾¹ï¼ä¸è¦çä¼QQå¾®ä¿¡ï¼æå¥½éè¯»çº¸è´¨ä¹¦ï¼æ³¡ä¸ä¸æ´å¤©ãæäºåå¸åºç°äºä»è´¹èªä¹ å®¤ï¼æä¾æ ¼å­é´ãè¶æ°´ç­ç­ï¼ä¹æ¯éå¸¸å¥½çéæ©ã\n\n\n# ç¨èµ·æ¥\n\n\n# ææ¯åäº«\n\nä»ä¸é¢è¿å¼ å¾æä»¬å¯ä»¥çå°ï¼ææä»äººæ¯ç¥è¯çå­çæé«çæ¹å¼ã\n\n\nåå¤PPTåæ¼è®²åå®¹ï¼ç»åäºæ¥ä¸åºææ¯åäº«ãä¸åå¤ä¹ ç¥è¯ï¼è¿é»ç¼å£æãæ¾ç»æä¸ªåäºè¯´è¯åå¿«åæ¥ï¼å£å¤´ç¦ä¹å¤ï¼æ¯å¦"å¯¹å§ãæ¯ä¸æ¯âï¼å«äººç»å¸¸å¬ä¸æ¸ï¼ä½æ¯ä»æ¬äººä¸ä»¥ä¸ºç¶ãé¢å¯¼è®©ä»åäºå æ¬¡ææ¯åäº«ï¼å¬ä¼çååºå¯æ³èç¥ï¼ä»æå½»åºè®¤æ¸ç¼ºç¹ã\nââåæåææ¯åå®¢ï¼å«å¨æä½ åçä¸è¥¿å¨ç½ä¸å·²ç»éå¤åç¾éãå½èªå·±å¨æçæ¶åï¼æä¼æè¯å°ç¼é«æä½ãè®©æç« è¯»èµ·æ¥æµçæ¸æ°ï¼éè¦åå¿æ²¥è¡çå æ¹ãåä½æ¯å¯¹å¤§èçé¿æèéªï¼æ³ä¸å°è¯å®åä¸åºï¼æ³ä¸æ¸æ¥è¯å®åä¸æ¸æ¥ã\n\n\n# é ä¸ªè½®å­\n\næä»¬ç»å¸¸è¯´ä¸è¦éå¤é è½®å­ãä¸ºäºå¼åæçï¼å¯ä»¥ä¸é è½®å­ï¼ä½æ¯å¿é¡»å·å¤é è½®å­çè½åãä¼ç§å¼æºé¡¹ç®çä½èéå¸¸å·å¤æé«çå·¥ç¨è½åï¼ä»å·¥ç¨çå®ééæ±åºåï¼ç¨ä»£ç å®ç°ä¸ä¸ªéç¨çè§£å³æ¹æ¡ãé è½®å­çç®çï¼é¦åæ¯å·©åºç¼ç¨ç¥è¯ï¼å¶æ¬¡æ¯é¤ç¼å·¥ç¨è½åã\n\nå»ºè®®é ä¸ä¸ªç®åçMQï¼ä¼ç¨å°éä¿¡åè®®ãè®¾è®¡æ¨¡å¼ãéåç­è®¸å¤ç¥è¯ãå¨é è½®å­çè¿ç¨ä¸­ï¼åè¦ç¿»éå¤§éçææ¯èµææèåå®¢ï¼è¿å°±æ¯ç¨è¾åºåé¼è¾å¥ã\n\næ¬æè½¬èª https://www.cnblogs.com/xiaoyangjia/p/11535486.htmlï¼å¦æä¾µæï¼è¯·èç³»å é¤ã',normalizedContent:' * å­¦ä»ä¹\n   * åºç¡ä¸åºç¨\n   * å¹¿åº¦ä¸æ·±åº¦\n   * å²å­¦\n   * è±è¯­\n * æä¹å­¦\n   * ç¥è¯ä½ç³»\n   * åæéå¿\n   * ç¢çæ¶é´\n * ç¨èµ·æ¥\n   * ææ¯åäº«\n   * é ä¸ªè½®å­\n\næä»¬ç¸ä¿¡åªåå­¦ä¹ ä¸å®ä¼ææ¶è·ï¼ä½æ¯æ¹æ³ä¸å½ï¼æ¢è®©äººèº«å¿ç²æ«ï¼ä¹æ²¡æåå®çåæ¥ãé«ä¸­æ¶ä»£ï¼æçåæ¡æ¯ä¸ªæ¼äº®å¥³åå­¦ãå¥¹çç©çæç»©å¾å·®ï¼è½ç¶å¥¹éå¸¸å¤å¥çå­¦ä¹ ï¼ä½æç»©æ»æ¯ä¸çæ³ãä¸ºäºå·©åºçº¯æ´çåå­¦å³ç³»ï¼æäº²å¯æ é´å°è¾å¯¼å¥¹çç©çï¼åç°å¥¹ä¸ç¥éé¢ç®èä»ä¹ãæä»¬çæç§ä¹¦ä¸è¯é¢é½å´ç»çèè¯å¤§çº²å±å¼ï¼çå°ä¸éé¢ï¼åºè¯¥åæ³æ³å®å¨èåªäºå®çåå¬å¼çè¿ç¨ã\nââä¸å°æåæ¯å¤©é½éè¯»ææ¯æç« ï¼ä½æ¯ç¬¬äºå¤©å°±å¿å¹²åäºãå·¥ä½ä¸­é¢å¯¼ååäºé½è®¤å¯ä½ çæ²éåææ¯è½åï¼ä½æ¯è·³æ§½é¢è¯å´å±¡å±¡ç¢°å£ãé¢è¯å®é®ææ¯æ¹æ¡ï¼ææå¿éæ¸æ¥ï¼ç¨å´è¯´åºæ¥å´åè¨ä¸æ­åè¯­ãé¢è¯å®åé®åºå±ç®æ³ï¼ä½ è¯´çè¿ä½æ¯å¿è®°äºãä»ä¸å¨ä¹ä½ çæ²¡çè¿ï¼ç­ä¸ä¸å°±æ¯é¶åãæ­£å¦ç·å¥³ç¸äº²ï¼ç·æ¹è°åæ½æ´æè½å¸å¼å§å¨ãå¯æ¯ç·æ¹ç´§å¼ äºï¼å¹³æ¶æºè½è¯´ï¼å³é®æ¶åå´æ¯æ¯å¾å¾ï¼å§å¨å¿ç¶è®¤ä¸ºä»ä¸è¡ãäººçåæ»¡äºè®¸å¤èè¯ï¼æå½¢çåæ å½¢çï¼æ¯æ¬¡èè¯çæºä¼åªæä¸æ¬¡ã\nââå·¥ä½äºå¹´åå¹´åï¼å«äººæäºæ¶æå¸ï¼èªå·±è¿å¨åºå±ææ»ï¼åå æ¯ä»ä¹ï¼èåºä¸æ æ³æååè¿çåå æå¾å¤ï¼æ²¡ææç»­å­¦ä¹ ãå­¦ä¹ ææä¸å¥½ãæ æ³éè¿å¿ä»ªå¬å¸ççé¢è¯ï¼ä¸å®æ¯å¾éè¦çåå ã\nââæèªå·±å½æä¸å°è®¡ç®æºï¼æ¢æè¾å¥ï¼ä¹è¦æè¾åºï¼ç¨è¾åºåé¼è¾å¥ã\n\n\n# å­¦ä»ä¹\n\n# åºç¡ä¸åºç¨\n\nè¿äºå¹´è¯çäºè®¸å¤æ°ææ¯ï¼æ¯å¦ææ¶é«¦çai(ç®åè¿å¨æºéé¶æ®µ)ï¼æ°å­¦åºç¡æ¯åä¸­å°±æ¥è§¦è¿çæ¦çç»è®¡ãä¸ä¸é«æ¥¼ä»å°èµ·ï¼ä¸è¦è¢«æ°å·¥å·æèä¸­é´ä»¶è¿·ä½åç¼ï¼ä¸å³å°è¿½æ°æ±å¿«ãåºç¡ç¥è¯æ¯ææææ¯çåºç³ï¼å¨æªæ¥å¾é¿çæ¶é´é½ä¸ä¼ååï¼åºè¯¥è±è´¹è¶³å¤çæ¶é´å·©åºåºç¡ã\nââä»¥æ°æ®ç»æåç®æ³ä¸ºä¾ï¼å¤§å®¶éè¯»ä¸ä¸javaçbitsetçæºç ï¼éé¢æå¤§éçç§»ä½æä½ï¼ç§»ä½è¿ç®ææ¡çå¥½ï¼çè¿ä»½æºç å°±æ²¡é®é¢ãjavaåæ­¥å·¥å·ç±»aqsç¨å°äºååé¾è¡¨ï¼é¾è¡¨ç¥è¯ä¸è¿å³ï¼è¯å®æä¸æå®çåçãäºèç½å¤§åé½åæ¬¢èç®æ³ï¼ä¸ºäºéè¿é¢è¯ä¹è¦ç²¾éç®æ³ã\nââä»¥javaå·¥ç¨å¸åºè¯¥ææ¡çç¥è¯ä¸ºä¾ï¼æéè¦ç¨åº¦æåºå­ä¸ªæ¢¯åº¦ï¼\n\n * ç¬¬ä¸æ¢¯åº¦ï¼è®¡ç®æºç»æåçãæ°æ®ç»æåç®æ³ãç½ç»éä¿¡åçãæä½ç³»ç»åçï¼\n * ç¬¬äºæ¢¯åº¦ï¼javaåºç¡ãjvmåå­æ¨¡åågcç®æ³ãjvmæ§è½è°ä¼ãjdkå·¥å·ãè®¾è®¡æ¨¡å¼ï¼\n * ç¬¬ä¸æ¢¯åº¦ï¼springç³»åãmybatisãdubboç­ä¸»æµæ¡æ¶çè¿ç¨ååçï¼\n * ç¬¬åæ¢¯åº¦ï¼mysql(å«sqlç¼ç¨)ãredisãrabbitmq/rocketmq/kafkaãzookeeperç­æ°æ®åºæèä¸­é´ä»¶çè¿ç¨ååçï¼\n * ç¬¬äºæ¢¯åº¦ï¼capçè®ºãbaseçè®ºãpaxosåraftç®æ³ç­å¶ä»åå¸å¼çè®ºï¼\n * ç¬¬å­æ¢¯åº¦ï¼å®¹å¨åãå¤§æ°æ®ãaiãåºåé¾ç­ç­åæ²¿ææ¯çè®ºï¼\n\næåå­¦è®¤ä¸ºç¬¬äºæ¢¯åº¦åºè¯¥å¨ç§»å°ç¬¬ä¸æ¢¯åº¦ãå¶å®å¾å¤å°å¬å¸çæ¥æ´»ç¹å¦å¤å¤©ä¹ä¸æ ·å¹³å¹³æ å¥ï¼ç¦»å¤§ååå¸å¼æ¶æè¿è¿å¾å¾ãå­¦ä¹ æ¡æ¶åä¸­é´ä»¶çæ¶åï¼é¡ºæææ¡åå¸å¼çè®ºï¼æææ´å¥½ã\n\n# å¹¿åº¦ä¸æ·±åº¦\n\nè®¸å¤å¬å¸çæèjdæ²¡æè®¾å®ææ¯äººåå¹´é¾é¨æ§ï¼ä½æ¯ä¼å ä¸ä¸å¥âå·å¤ä¸å¹´é¾ç¸å½çç¥è¯çå¹¿åº¦ä¸æ·±åº¦âãå¤å¹¿æç®å¹¿ï¼å¤æ·±æç®æ·±ï¼è¿æ¯å¾ä¸»è§çè¯é¢ï¼è¿éä¸å±å¼è®¨è®ºã\nââå¦ä½åå¾æ´å¹¿æ´æ·±å¢ï¼çªç ´æ¶å¥ä¸åçç¶é¢ï¼åæèªå·±çæ­£çå´è¶£ã\nââå¤§å¤æ°äººåªæ¯å¬å¸çæ®éèåï¼æ¶å¥ä¸åçç¶é¢å°±æ¯åèå èªãè®¸å¤itå¬å¸ä¼å¯¹ææ¯äººåæä¸ªè¯çº§ï¼å¦æä½ çè¯çº§ä¸é«ï¼é£å°±ä¾ç§æçº§ç« ç¨åªååçº§ãå¦æä½ å¨ä¸ä¸ªå°å¬å¸ï¼æ¶å¥ä¸è¬ï¼åå±åæ¯ä¸æï¼åå¤å¤§åçé¢è¯å°±æ¯æå¥½çå­¦ä¹ è¿ç¨ãå¨è¿äºè¿ç¨ä¸­ï¼ä½ å¿ç¶å­¦ä¹ æ´å¤ç¥è¯ï¼åå¾æ´å¹¿æ´æ·±ã\nââä¸ªäººå´è¶£æ¯åè¿çå¨åä¹ä¸ï¼è®¸å¤ç¥åå¼æºé¡¹ç®é½æºäºä½èçå´è¶£ãä¸ªäººå´è¶£å¹¶ä¸å±éææ¯é¢åï¼å¯ä»¥æ¯å¶ä»å­¦ç§ãææä¸ªæååæ¬¢ç©å±±å°èªè¡è½¦ï¼è¿ç»ä¸äºåèªè¡è½¦è¯é¢çèªåªä½æç¨¿ãä¹èä¹ä¹ï¼å±ç¶è½å¤åä¸æå¥½æç« äºï¼æç¸ä¿¡ä»ä¹è½åå¥½ææ¯ææ¡£ã\n\n# å²å­¦\n\nå²å­¦ä¸æ¯æä½é«æ·±çå­¦ç§ï¼å®çç°å®æä¹å°±æ¯è§£å³é®é¢ãå¹´è½»å°ä¼æ¯æä¹æ³¡å¦çï¼ä¸å¤©ä¸¤å¤´è±ä¸æ­ï¼å¤§åº­å¹¿ä¼è·ªæ±ç±ãè¿ç±»å¥è·¯ä¸ºä»ä¹æ»æ¯è½æåå¢ï¼ç¤¼ç©æ»¡è¶³å¥³äººçç©æ¬²ï¼å½ä¼æ±ç±æ»¡è¶³å¥³äººçèè£å¿ï¼æå¶æå¥½ãé£å å¤§å¦æèçæè¶æ¥è¶æï¼è¾£å­é¸¡ä¸åæè¾£å­è¾£ä¸ï¼ä¸ºä»ä¹å¢ï¼é£å è¦æ§å¶ææ¬ï¼ç´æ¥æä»·ä¼æ¹ä¼æã\nââç§å­¦ä¸çå²å­¦ï¼ä¸è¬æç ç©¶äºç©åå±çè§å¾ï¼å½çº³ç»æçè§£å³æ¹æ¡ãè½¯ä»¶è¡ä¸åæ»¡å²å­¦å³éçä½åéå¸¸å¤ï¼æ¯å¦ãäººæç¥è¯ããä¸¾ä¸ªä¾å­ï¼å½è½¯ä»¶ç³»ç»éå°æ§è½é®é¢ï¼å°è¯ä¸é¢ä¸¤ç§å²å­¦ææ³æåæ§è½ï¼\n\n * ç©ºé´æ¢æ¶é´ï¼æ¯å¦å¼å¥ç¼å­ï¼æ¶èé¢å¤çå­å¨æé«ååºéåº¦ã\n * æ¶é´æ¢ç©ºé´ï¼æ¯å¦å¤§æä»¶çåçå¤çï¼åæ®µå¤çååæ±æ»ç»æã\n\nè®¾è®¡ç¨³å¥é«å¯ç¨çç³»ç»ï¼å°è¯ä»ä¸ä¸ªæ¹é¢èèé®é¢ï¼\n\n * å­å¨ï¼æ°æ®ä¼ä¸¢å¤±åï¼æ°æ®ä¸è´æ§æä¹è§£å³ã\n * è®¡ç®ï¼è®¡ç®æä¹æ©å®¹ï¼åºç¨åè®¸ä»»æå¢å èç¹åã\n * ä¼ è¾ï¼ç½ç»ä¸­æ­ææ¥å¡æä¹åã\n\nä»æ æ°çå¤±è´¥æèæåçç»éªä¸­ï¼æ»ç»åºé«åº¦æ¦æ¬æ§çæ¹æ¡ï¼è®©æä»¬ä¸ä¸æ­¥åçæ´å¥½ã\n\n# è±è¯­\n\nè±è¯­æ¯éè¦çåºç¡ï¼å­¦å¥½è±è¯­ä¸ææ¡ç¼ç¨ä¸æ ·éè¦ãè®¸å¤ç¥ååå®¢å°±æ¯æè±æç¿»è¯æä¸­æï¼åªæ¯ç¥è¯çæ¬è¿å·¥ãå¦æè±è¯­è¶³å¤å¥½ï¼ç´æ¥éè¯»ä¸æèµæï¼é¿åä»äººç¿»è¯å­å¨çè°¬è¯¯ã\n\nå¦æçº¯ç²¹ä¸ºäºæ¥å¸¸ææ¯å·¥ä½ï¼å¯ä»¥ä¸ç»ä¹ è±è¯­å£è¯­ï¼æé«ææ¡£éè¯»è½åå³å¯ãé¦åï¼è¦çªç ´åè¯å³ï¼è³å°è¾¾å°å­çº§ç5500ä¸ªè¯æ±éãå¶æ¬¡ï¼å¿é¡»ææ¡ä¸ä¸è±è¯­çè¯æ±ï¼æ¨èéç¨æºæ¢°å·¥ä¸åºçç¤¾çãè®¡ç®æºä¸ä¸è±è¯­ãè¿æ¬ä¹¦ãæåï¼åæéè¯»ä¸ä»½æè´¨éçææ¯ææ¡£ï¼åå°å¯ä»¥ç¨è±è¯­è¡¨è¾¾ææ¯æå¾ï¼springçææ¯ææ¡£å°±æ¯å¾å¥½çå­¦ä¹ ææãå¦æå°å¤å»æç½åç§è±è¯­æç®ï¼å¾å¾åªæ¶èä¸éè¯»ã\n\n\n# æä¹å­¦\n\n# ç¥è¯ä½ç³»\n\nä½ç³»åçç¥è¯æ¯é¶æ£çæ´å®¹æè®°å¿åçè§£ï¼è¿æ­£å¦ä¸é¨å¥½ççµè§å§ï¼å§æç¯ç¯ç¸æ£æè½å¸å¼è§ä¼ãå»ºè®®å¤§å®¶ä½¿ç¨æç»´å¯¼å¾ç½åç¥è¯ç¹ï¼æå»ºä½ç³»ç»æï¼å¦ä¸å¾æç¤ºï¼\n\n\n\n# åæéå¿\n\né«ä¸­æ¯æä»¬ç¥è¯çå·å³°æ¶å»ï¼æ¯å¨å°èæ¯æå¤§èï¼æè¾èµæå æå±±ï¼å°ç±å¼çåå¤æç»å¼ºåè®°å¿ãå¤ä¹ æ¯å¯¹æéå¿çå¯ä¸åæ³ãå¤§èçéå¿æ¯æè§å¾çï¼åå¿«åæ¢ãä¸å¤©åï¼å­¦å°çç¥è¯åªå©ä¸åæ¥ç25%ï¼çè³æ´ä½ãéçæ¶é´çæ¨ç§»ï¼éå¿çéåº¦åæ¢ï¼éå¿çæ°éä¹å°±åå°ã\n\næ¶é´é´é    è®°å¿é\nåçå®     100%\n20åéå   60%\n1å°æ¶å    40%\n1å¤©å     30%\n2å¤©å     27%\n\næ¯ä¸ªäººçéå¿ç¨åº¦é½ä¸ä¸æ ·ï¼å»ºè®®ç¬¬äºå¤©å¤ä¹ åä¸å¤©çåå®¹ï¼ä¸å¤©åå¤ä¹ è¿æ®µæ¶é´çææåå®¹ã\n\n# ç¢çæ¶é´\n\nä¸å°æåå©ç¨ç¢çæ¶é´å­¦ä¹ ï¼æ¯å¦å¨å¬äº¤ä¸çå¬ä¼å·çæ¨éãå¶å®æä»¬é½é«ä¼°äºèªå·±çæå¹²æ°è½åï¼å¦æå¤å¨åæçç¯å¢ï¼æ³¨æåå®¹æè¢«ææ­ï¼è®°å¿çå­åº¦ä¹å¾ä½ãç¢çæ¶é´éåå­¦ä¹ ç®åå­¤ç«çç¥è¯ç¹ï¼æ¯å¦é¾è¡¨çå®ä¹ä¸å®ç°ã\nââå­¦ä¹ å¤æçç¥è¯ï¼éè¦å¤§æ®µçè¿ç»­æ¶é´ãå¾ä¹¦é¦æ¯ä¸ªå¥½å°æ¹ï¼å®éæ°å´å¥½ãææºæ¾ä¸è¾¹ï¼ä¸è¦çä¼qqå¾®ä¿¡ï¼æå¥½éè¯»çº¸è´¨ä¹¦ï¼æ³¡ä¸ä¸æ´å¤©ãæäºåå¸åºç°äºä»è´¹èªä¹ å®¤ï¼æä¾æ ¼å­é´ãè¶æ°´ç­ç­ï¼ä¹æ¯éå¸¸å¥½çéæ©ã\n\n\n# ç¨èµ·æ¥\n\n\n# ææ¯åäº«\n\nä»ä¸é¢è¿å¼ å¾æä»¬å¯ä»¥çå°ï¼ææä»äººæ¯ç¥è¯çå­çæé«çæ¹å¼ã\n\n\nåå¤pptåæ¼è®²åå®¹ï¼ç»åäºæ¥ä¸åºææ¯åäº«ãä¸åå¤ä¹ ç¥è¯ï¼è¿é»ç¼å£æãæ¾ç»æä¸ªåäºè¯´è¯åå¿«åæ¥ï¼å£å¤´ç¦ä¹å¤ï¼æ¯å¦"å¯¹å§ãæ¯ä¸æ¯âï¼å«äººç»å¸¸å¬ä¸æ¸ï¼ä½æ¯ä»æ¬äººä¸ä»¥ä¸ºç¶ãé¢å¯¼è®©ä»åäºå æ¬¡ææ¯åäº«ï¼å¬ä¼çååºå¯æ³èç¥ï¼ä»æå½»åºè®¤æ¸ç¼ºç¹ã\nââåæåææ¯åå®¢ï¼å«å¨æä½ åçä¸è¥¿å¨ç½ä¸å·²ç»éå¤åç¾éãå½èªå·±å¨æçæ¶åï¼æä¼æè¯å°ç¼é«æä½ãè®©æç« è¯»èµ·æ¥æµçæ¸æ°ï¼éè¦åå¿æ²¥è¡çå æ¹ãåä½æ¯å¯¹å¤§èçé¿æèéªï¼æ³ä¸å°è¯å®åä¸åºï¼æ³ä¸æ¸æ¥è¯å®åä¸æ¸æ¥ã\n\n\n# é ä¸ªè½®å­\n\næä»¬ç»å¸¸è¯´ä¸è¦éå¤é è½®å­ãä¸ºäºå¼åæçï¼å¯ä»¥ä¸é è½®å­ï¼ä½æ¯å¿é¡»å·å¤é è½®å­çè½åãä¼ç§å¼æºé¡¹ç®çä½èéå¸¸å·å¤æé«çå·¥ç¨è½åï¼ä»å·¥ç¨çå®ééæ±åºåï¼ç¨ä»£ç å®ç°ä¸ä¸ªéç¨çè§£å³æ¹æ¡ãé è½®å­çç®çï¼é¦åæ¯å·©åºç¼ç¨ç¥è¯ï¼å¶æ¬¡æ¯é¤ç¼å·¥ç¨è½åã\n\nå»ºè®®é ä¸ä¸ªç®åçmqï¼ä¼ç¨å°éä¿¡åè®®ãè®¾è®¡æ¨¡å¼ãéåç­è®¸å¤ç¥è¯ãå¨é è½®å­çè¿ç¨ä¸­ï¼åè¦ç¿»éå¤§éçææ¯èµææèåå®¢ï¼è¿å°±æ¯ç¨è¾åºåé¼è¾å¥ã\n\næ¬æè½¬èª https://www.cnblogs.com/xiaoyangjia/p/11535486.htmlï¼å¦æä¾µæï¼è¯·èç³»å é¤ã',charsets:{cjk:!0},lastUpdated:"2023/11/01, 06:52:24",lastUpdatedTimestamp:1698821544e3},{title:"åæ¬¡èµ°ä¸ææ¯ç®¡çå²ä½çæèæ»ç» - ç¼ç ç å®¶",frontmatter:{title:"åæ¬¡èµ°ä¸ææ¯ç®¡çå²ä½çæèæ»ç» - ç¼ç ç å®¶",date:"2023-11-01T15:06:06.000Z",permalink:"/pages/b7e1f4/"},regularPath:"/03.%E8%BD%AF%E6%8A%80%E8%83%BD/04.%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/01.%E5%88%9D%E6%AC%A1%E8%B5%B0%E4%B8%8A%E6%8A%80%E6%9C%AF%E7%AE%A1%E7%90%86%E5%B2%97%E4%BD%8D%E7%9A%84%E6%80%9D%E8%80%83%E6%80%BB%E7%BB%93%20-%20%E7%BC%96%E7%A0%81%E7%A0%96%E5%AE%B6%20.html",relativePath:"03.è½¯æè½/04.é¡¹ç®ç®¡ç/01.åæ¬¡èµ°ä¸ææ¯ç®¡çå²ä½çæèæ»ç» - ç¼ç ç å®¶ .md",key:"v-1d50b52b",path:"/pages/b7e1f4/",headers:[{level:3,title:"è§è²è®¤ç¥",slug:"è§è²è®¤ç¥",normalizedTitle:"è§è²è®¤ç¥",charIndex:158},{level:3,title:"èªæç®¡ç",slug:"èªæç®¡ç",normalizedTitle:"èªæç®¡ç",charIndex:650},{level:4,title:"è°¨è¨æè¡",slug:"è°¨è¨æè¡",normalizedTitle:"è°¨è¨æè¡",charIndex:658},{level:4,title:"æ¶é´ç®¡ç",slug:"æ¶é´ç®¡ç",normalizedTitle:"æ¶é´ç®¡ç",charIndex:929},{level:4,title:"æ²éåå",slug:"æ²éåå",normalizedTitle:"æ²éåå",charIndex:1228},{level:3,title:"å¯¹ä¸ç®¡ç",slug:"å¯¹ä¸ç®¡ç",normalizedTitle:"å¯¹ä¸ç®¡ç",charIndex:1408},{level:4,title:"å¥æ©ä¸¥æ",slug:"å¥æ©ä¸¥æ",normalizedTitle:"å¥æ©ä¸¥æ",charIndex:1416},{level:4,title:"äº²çå¾å½",slug:"äº²çå¾å½",normalizedTitle:"äº²çå¾å½",charIndex:1579},{level:3,title:"å¯¹ä¸ç®¡ç",slug:"å¯¹ä¸ç®¡ç",normalizedTitle:"å¯¹ä¸ç®¡ç",charIndex:1833},{level:4,title:"ä¸»å¨æ±æ¥",slug:"ä¸»å¨æ±æ¥",normalizedTitle:"ä¸»å¨æ±æ¥",charIndex:1892},{level:4,title:"äºåèµæº",slug:"äºåèµæº",normalizedTitle:"äºåèµæº",charIndex:2131},{level:3,title:"å±éæ§",slug:"å±éæ§",normalizedTitle:"å±éæ§",charIndex:2308}],headersStr:"è§è²è®¤ç¥ èªæç®¡ç è°¨è¨æè¡ æ¶é´ç®¡ç æ²éåå å¯¹ä¸ç®¡ç å¥æ©ä¸¥æ äº²çå¾å½ å¯¹ä¸ç®¡ç ä¸»å¨æ±æ¥ äºåèµæº å±éæ§",content:"åæ¬¡èµ°ä¸ç®¡çå²ä½çææ¯éª¨å¹²ï¼æ»æ¯æå¾å¤å°æãä¸ºä»ä¹æ¯ä»¥ååä»£ç è¿ç´¯ï¼æä¹è®©ä»»å¡å®ææ´åçï¼ä¸ºä»ä¹æ»æä¸å±ä¸æ¿æè¿æ­¥ï¼æ¯å¤©å¾è¿ä¸è¿ï¼è¯¸å¦æ­¤ç±»çé®é¢ï¼æ¬æå¹¶ä¸è½é½ç»åºè§£å³æ¹æ³ãæ¬æçç®çæ¯æç å¼çï¼å¦æè¯¸ä½è½ä»ä¸­è·å¾ä¸ç¹ç¹å¯åï¼é£å°±æ¯åä¸»çä¸ç¹ç¹è´¡ç®ãç±äºä»äºç®¡çå·¥ä½æ¶é´å¹¶ä¸é¿ï¼æçå­¦æµï¼å¦æéè¯¯è¯·æ¹è¯ææ­£ã\n\n\n# è§è²è®¤ç¥\n\nä»ææ¯è½¬åç®¡çï¼å³æ³¨ç¹åçè½¬åï¼æ²éå¯¹è±¡ä¹åçååï¼æ²éæ¹æ³åå¾éå¸¸å¿è¦ï¼éè¦æ¶é´å»ç£¨ç¼åç§¯ç´¯ãæå³é®çæ¯å¯¹èªèº«è§è²è¦æåç¡®çè®¤ç¥ã\nââæä»¬åç¨åºåçæ¶åï¼å·¥ä½åå®¹æ¯æä»ç»ççä»»å¡åå·¥ï¼å®ç°äº§åç»ççéæ±ãæ²éå¯¹è±¡æ¯ææ¯ç»ç(ç´æ¥ä¸çº§)ãäº§åç»çãæµè¯äººåï¼ææ¶åä¹ä¼è·¨é¨é¨æ²éï¼ä¸è¬å¶ä»ååç«¯å¼ååäºãå¤§å®¶ççä¸è¡¨ï¼\n\nåç±»     å¼åå·¥ç¨å¸           ææ¯ç»ç\nå²ä½ä½ç¨   å®ç°ä¸å¡éæ±ãæéå¤ç     åéä»»å¡ãææ§é¡¹ç®è¿åº¦ãè§£å³ææ¯é¾ç¹ãç¡®å®ææ¯æ¹æ¡ãæéå¤çç¬¬ä¸è´£ä»»äºº\næ²éå¯¹è±¡   ä¸»è¦æ¯ææ¯ç»ç         ææä¸çº§ãç´æ¥ä¸çº§ä»¥åå¶ä»é¨é¨é¢å¯¼\nå·¥ä½ç¹ç¹   æ¥è§¦é¢çªï¼ä»»å¡åä¸       æ¿ä¸å¯ä¸æ²éååè°ãæ¿åä¸ç»©ååãæ´å¤§çè´£ä»»\nèæ ¸ææ    å®æéæ±åæ¶æ§ï¼BUGçº§å«   é¡¹ç®ææ¶ä¸çº¿ãååºæéåæ¶æ§ãä¸çº§è½åæå\n\nææ¯ç»çè¿ä¸ªè§è²çæ¯æ¿ä¸å¯ä¸çæå°å³ç­ååï¼åªæ¯ä»£ç åçå°ï¼å¶ä»çå·¥ä½é½åå¾æ´å å¤æï¼èä¸è´£ä»»è¿å¤§äºãå¤§å®¶å¯è½ä¹è§è¿æ´å¤©åè¶å·æé³çææ¯ç»çï¼æè§å¾ä»è¦ä¹ç®¡çæ°´å¹³ççå¾é«ï¼è¦ä¹æ¯å­èµåå½çæ°´è´§é¢å¯¼ã\n\n\n# èªæç®¡ç\n\n# è°¨è¨æè¡\n\nçéä¹¦ãå½±ååãæå°ï¼å ä¸ºå½±ååçå·¨å¤§å·®å¼ï¼å¨±ä¹æææ¯ç§å­¦å®¶æ¶å¥é«å ä¸åãææ¯ç»çç®¡çäºNä¸ªäººï¼å½±ååå°±æ¯Nåï¼å¦æè¨è¡ä¸ç«¯ï¼é æçå½±åæ¯åºå±äººåçNåãåä¸»æè¿ä¸ä¸ªä¸çº§ï¼æç²é²å½æè±ªè¿ï¼åç§JBãCAOåèè¯æå¨å´è¾¹ï¼æ¶ä¸æ¶æ¥ä¸ªè¤æ®µå­ï¼æå¥³åäºå¨åºä¹æ¯å¦æ­¤ãæäºæ¶ä¸æªæ·±çåäºææ ·å­¦æ ·ï¼å¯¼è´å¶ä»é¨é¨è¯´æä»¬å¤ªé»ãæäºç®¡çèåæ¬¢äº«åä¿¡æ¯ä¸å¯¹ç§°çä¼è¶æï¼ä¼ æ­æªç»è¯å®çæ¶æ¯(æ¯å¦è¦è£å)ï¼å¯è½é æåºå±äººååå¿ä¸ç¨³ã\nââæä¸ä¸ªæ¯å»å¾æ°å½ï¼å¬å¸æ¯ä¸æ£µå¤§æ ï¼é¢å¯¼æ¯æ ä¸é¢çç´å­ï¼æ ä¸é¢çç´å­é½è½çå°ä»ççº¢å±è¡ï¼ä½æ¯ä»èªå·±å´çä¸å°ã\n\n# æ¶é´ç®¡ç\n\nèµ°ä¸äºç®¡çå²ä½ï¼æ²éå·¥ä½å¤äºï¼ä¼è®®ä¹å¤äºï¼èªå·±äº²æåäºçæ¶é´å°äºãå¦ææ»æ¯è§å¾æ¶é´ä¸å¤ç¨ï¼ä½æ¯åä¸ç¥éæ¶é´è±å°åªå¿å»äºï¼è¿å°±éè¦æ¶é´ç®¡çãè¶æ¯ä»»å¡ç¹æï¼æ¶é´ç®¡çå°±è¶éè¦ï¼åäº«å ç¹ç»éªï¼\n\n * æ¯æ¥é½åä»»å¡æ¸åï¼æ ¹æ®äºæè½»éç¼æ¥ï¼ååºä»æ¥å¿åæ¸åãææ¥å¾åæ¸åãä»æ¥å¿åçäºæå ç­é½è¦å®æã\n * èªå·±åè¿æ¯ææåï¼ææçæææ¯ç®¡çèå¿é¡»ææ¡çæè½ï¼å®ä¸ä½å¯ä»¥èçç®¡çèçæ¶é´ï¼æ´éè¦çæ¯å¯ä»¥å¹å»åå·¥ï¼ä½¿ä»ä»¬æ¿æè´£ä»»åååï¼å¿«éæé¿èµ·æ¥ã\n * é¢ä¼°äºæå®ææ¶é´åèµæºï¼å¾å¤äºæä¸æ¯å­¤ç«å­å¨çï¼éè¦å¤é¨èµæºæ¯æãé¢ä¼°å®ææ¶é´åèµæºï¼å¯ä»¥æåå®æï¼å½ä¸é¨åå¡ä½å°±åæ¢å°å¦å¤ä¸é¨åã\n\n# æ²éåå\n\næææ²éçæå·§æ»ç»èµ·æ¥ï¼å°±æ¯ååï¼ä¿¡æ¯éåãé®é¢å·ä½åãæææéåãäºæè´£ä»»åã\n\n 1. ä¿¡æ¯éåæçæ¯æ²éç®æ æä»»å¡å·ä½æç¡®ï¼å¯ä»¥æ¸æ°åº¦éã\n 2. é®é¢å·ä½åæ¯å°å¯¹äºç©çè®¤ç¥ä¸æè¿°æç¡®åï¼å·ä½åã\n 3. æææéåæäº¤å¾ä»»å¡æ¶è¦æç¡®å®ææéãäº¤ä»å·ä½æ¶é´ç¹ã\n 4. äºæè´£ä»»åæ¯æäºæå·ä½å°è´£ä»»äººï¼å¨è§å®çæéååè´£ä»»äººè¦ç»æã\n\n\n# å¯¹ä¸ç®¡ç\n\n# å¥æ©ä¸¥æ\n\næ¯ä¸ªäººé½æ¯æ¿æè¢«å¥å±ä¸æ¿æè¢«æ©ç½ï¼å©ç¨å¥æ©ä¸¥æçè§åæ¥æ¿å±å¢éãå¥å±çæ¹å¼å¤ç§å¤æ ·ï¼ä½æ¯å¤§å¤æ°å¬å¸ç»ä¸äºå®ç©å¥å±ï¼å½é¢è¡¨æ¬å°±æ¯æå¥½çæ¹å¼ï¼å°±æ¯å¨å¨å´ç®å­ãè¡¨æ¬ä»äººï¼åå®¹è¦è¯¦ç»æ¸æ¥ï¼æä»¥ç¹å¸¦é¢çå·å¬åï¼é¿åâä½ å¹²çè¿ä¸éâè¿ç±»æ··æ²çè¯´æ³ãæ¹è¯ä»äººåºè¯¥æ¸æ¥çæåºä¸ºä»ä¹åå°æ¹è¯ï¼é æçåæï¼æåæåºæ¹æ­£çå»ºè®®ã\n\n# äº²çå¾å½\n\nç±äºæåçå¨ææèæäºå©çï¼ä¸å±ä¸ä¼æ¯«æ é¡¾å¿çåä¸çº§è¯´å¿éè¯ï¼ç®¡çèå ä¹ä¸å¯è½åä¸å±æä¸ºäº²å¯æåãä»äº²çå³ç³»ä¸çï¼âç¦»å¾è¿âå°±æ æ³ç®¡çï¼âç¦»å¾è¿âåä¸å¤ªå¯è½ï¼é£æä¹äºè§£ä¸å±ççå®æ³æ³åè¯æ±å¢ï¼æ¹æ³æ¯å¤è¯·åé¥­å¤åéãé¥­å±æåæ¯æä»¬ä¸­å½äººç¹æçæåï¼å¾å¤æ­£ç»äºé½æ¯é¥­æ¡ä¸è°çãéè¿ä¸å·¡ï¼èåå¤§äºè¯åå¤äºï¼è°è°çæ³è°è°äººçï¼èèåèªçå®¶åº­æåµãå¶å®å¤§å®¶é½æ¯æç½äººï¼ä¸ç­çæ¶åå®¢å®¢æ°æ°å«ä½ é¢å¯¼ï¼ä¹åªæ¯ä¸ºäºèµç¹é±å»å®¶ç³å£ãå¹³æ¶å°±ä¸è¦è£é¼ç©é«å·ï¼æèå»æå¥è¿ä¹ç§°åéå¼ï¼åªè¦æ¯åçï¼å«äººé½çå¾åºæ¥ã\n\n\n# å¯¹ä¸ç®¡ç\n\nè°æ¢ç®¡çä¸çº§å¢ï¼ä¸è¦è¯¯è§£ç®¡çè¿ä¸ªè¯ï¼ç®¡ççæ¬è´¨æ¯åå©ä»äººè¾¾æç®çï¼åå©ä¸çº§è¾¾æèªå·±çç®çä¹æ¯ç®¡çã\n\n# ä¸»å¨æ±æ¥\n\nå ä¸ºç¼ºä¹å¯¹ä¸ç®¡çè½åï¼è·ä¸çº§ç¸å¤çæ¶åï¼æä»¬å¯è½ä¼éåä¸ç§æ¹å¼ï¼\n\n * çï¼éè¿åç§èä¸é©¬è¿¹ãè¡æä¹±æ³æ¥çæµä¸çº§å°åºè¦ä»ä¹ã\n * ç­ï¼ä»ä¹ä¹ä¸åï¼ç­çåªå¤©éå°ä¸ä¸ªå®ç¾ä¸çº§æ¥èµè¯èªå·±ã\n * æï¼è¯å¾å¦è¾è¹å¾ï¼éè¿é¡ºçä¸çº§è¯´è¯ãæé©¬å±æ¥åæ¦ã\n\næä»¬åºè¯¥ä¸»å¨æ±æ¥å·¥ä½ï¼ä¸åæ è°çæ£æµï¼ä½æ¯æ±æ¥è¦æ³¨æä»¥ä¸å ç¹ï¼\n\n * ç«è¶³å¬å¸åå±éç¹åæç¥è°é®é¢æå»ºè®®ã\n * äºè§£é¨é¨è®¡åï¼æ±æ¥å®éå·¥ä½ææåä¸è¶³ä¹å¤ã\n * æ¢ä½æèçè§£ä¸çº§çååï¼è¯¢é®ä¸çº§å¯¹ä½ çææã\n\n# äºåèµæº\n\nèµæºå¯ä»¥æ¯ç¨äººåé¢ãå¥éæèå¢å»ºè´¹ãé¡¹ç®æ¶é´ãå¤é¨åä½ç­ç­ãèµæºæ°¸è¿æ¯ç´§å¼ çï¼ä½ ä¸å»äºåå°±ä¼è½å°å«äººçå£è¢ãå¦æé¡¹ç®åçå¥½ï¼ä¸å®è¦æ¾é¢å¯¼éåï¼äºåå¥éæèå¶ä»ç¦å©ãå¦æé¢æå°é¡¹ç®å·¥æç´§å¼ ï¼è¦æåäºåç¨äººåé¢ãæçé¢å¯¼åæ¬¢åå¼åå¨æï¼æ±æ¥çæ¶åï¼æä¸çº¿æ¶é´æé¿ï¼è¿æ ·ä»ç ä¸ç¹ä¹æ å¦¨ãå«å½ä½ç³»ç»çï¼è®©ä½ çä¸å±å æå¤çç­ï¼åæå·çè¥¿åé£ã\n\n\n# å±éæ§\n\næ è®ºæ¯èåºè¿æ¯çæ´»ä¸­ï¼æå¾å¤äºææ¯æä¹åªåé½åä¸å°çãæ¯å¦ï¼ä½ æä¸ªä¸çå¿çä¸çº§ï¼åå³ç­ä¸ä¸æ¦å¤´è¥¿ä¸æ£å­ï¼é¨é¨ç»å¸¸é«å¼ºåº¦å ç­éåä»ï¼å¤§å®¶æ¨å£°è½½éãåæ¯å¦ï¼å¾åçä¸å±æ¾äºèªèµæ´é«çæ§½ä½ï¼ä½ å»æ¾ä¸çº§äºåè°èªæ½çä»ï¼ä¸çº§è¯´å¬å¸æ¬ ä¸å±è¡åºæ²¡é±ãæä¹åï¼åªå¥½ç»ä¸å±ç»é¥¼äºï¼ç»é¥¼çç»æå¤§å®¶é½ç¥éã\nââå¬å¸æ¯ä¸ªæ¸¸æ³³æ± ï¼ç®¡çèæ¸¸çæè¿è·ç¦»åªè½æ¯æ± å­çå®½åº¦ãæä¸å®çæ¶åå°±è¦è®¤è¾ã\n\næ¬æè½¬èª https://www.cnblogs.com/xiaoyangjia/p/11338959.htmlï¼å¦æä¾µæï¼è¯·èç³»å é¤ã",normalizedContent:"åæ¬¡èµ°ä¸ç®¡çå²ä½çææ¯éª¨å¹²ï¼æ»æ¯æå¾å¤å°æãä¸ºä»ä¹æ¯ä»¥ååä»£ç è¿ç´¯ï¼æä¹è®©ä»»å¡å®ææ´åçï¼ä¸ºä»ä¹æ»æä¸å±ä¸æ¿æè¿æ­¥ï¼æ¯å¤©å¾è¿ä¸è¿ï¼è¯¸å¦æ­¤ç±»çé®é¢ï¼æ¬æå¹¶ä¸è½é½ç»åºè§£å³æ¹æ³ãæ¬æçç®çæ¯æç å¼çï¼å¦æè¯¸ä½è½ä»ä¸­è·å¾ä¸ç¹ç¹å¯åï¼é£å°±æ¯åä¸»çä¸ç¹ç¹è´¡ç®ãç±äºä»äºç®¡çå·¥ä½æ¶é´å¹¶ä¸é¿ï¼æçå­¦æµï¼å¦æéè¯¯è¯·æ¹è¯ææ­£ã\n\n\n# è§è²è®¤ç¥\n\nä»ææ¯è½¬åç®¡çï¼å³æ³¨ç¹åçè½¬åï¼æ²éå¯¹è±¡ä¹åçååï¼æ²éæ¹æ³åå¾éå¸¸å¿è¦ï¼éè¦æ¶é´å»ç£¨ç¼åç§¯ç´¯ãæå³é®çæ¯å¯¹èªèº«è§è²è¦æåç¡®çè®¤ç¥ã\nââæä»¬åç¨åºåçæ¶åï¼å·¥ä½åå®¹æ¯æä»ç»ççä»»å¡åå·¥ï¼å®ç°äº§åç»ççéæ±ãæ²éå¯¹è±¡æ¯ææ¯ç»ç(ç´æ¥ä¸çº§)ãäº§åç»çãæµè¯äººåï¼ææ¶åä¹ä¼è·¨é¨é¨æ²éï¼ä¸è¬å¶ä»ååç«¯å¼ååäºãå¤§å®¶ççä¸è¡¨ï¼\n\nåç±»     å¼åå·¥ç¨å¸           ææ¯ç»ç\nå²ä½ä½ç¨   å®ç°ä¸å¡éæ±ãæéå¤ç     åéä»»å¡ãææ§é¡¹ç®è¿åº¦ãè§£å³ææ¯é¾ç¹ãç¡®å®ææ¯æ¹æ¡ãæéå¤çç¬¬ä¸è´£ä»»äºº\næ²éå¯¹è±¡   ä¸»è¦æ¯ææ¯ç»ç         ææä¸çº§ãç´æ¥ä¸çº§ä»¥åå¶ä»é¨é¨é¢å¯¼\nå·¥ä½ç¹ç¹   æ¥è§¦é¢çªï¼ä»»å¡åä¸       æ¿ä¸å¯ä¸æ²éååè°ãæ¿åä¸ç»©ååãæ´å¤§çè´£ä»»\nèæ ¸ææ    å®æéæ±åæ¶æ§ï¼bugçº§å«   é¡¹ç®ææ¶ä¸çº¿ãååºæéåæ¶æ§ãä¸çº§è½åæå\n\nææ¯ç»çè¿ä¸ªè§è²çæ¯æ¿ä¸å¯ä¸çæå°å³ç­ååï¼åªæ¯ä»£ç åçå°ï¼å¶ä»çå·¥ä½é½åå¾æ´å å¤æï¼èä¸è´£ä»»è¿å¤§äºãå¤§å®¶å¯è½ä¹è§è¿æ´å¤©åè¶å·æé³çææ¯ç»çï¼æè§å¾ä»è¦ä¹ç®¡çæ°´å¹³ççå¾é«ï¼è¦ä¹æ¯å­èµåå½çæ°´è´§é¢å¯¼ã\n\n\n# èªæç®¡ç\n\n# è°¨è¨æè¡\n\nçéä¹¦ãå½±ååãæå°ï¼å ä¸ºå½±ååçå·¨å¤§å·®å¼ï¼å¨±ä¹æææ¯ç§å­¦å®¶æ¶å¥é«å ä¸åãææ¯ç»çç®¡çäºnä¸ªäººï¼å½±ååå°±æ¯nåï¼å¦æè¨è¡ä¸ç«¯ï¼é æçå½±åæ¯åºå±äººåçnåãåä¸»æè¿ä¸ä¸ªä¸çº§ï¼æç²é²å½æè±ªè¿ï¼åç§jbãcaoåèè¯æå¨å´è¾¹ï¼æ¶ä¸æ¶æ¥ä¸ªè¤æ®µå­ï¼æå¥³åäºå¨åºä¹æ¯å¦æ­¤ãæäºæ¶ä¸æªæ·±çåäºææ ·å­¦æ ·ï¼å¯¼è´å¶ä»é¨é¨è¯´æä»¬å¤ªé»ãæäºç®¡çèåæ¬¢äº«åä¿¡æ¯ä¸å¯¹ç§°çä¼è¶æï¼ä¼ æ­æªç»è¯å®çæ¶æ¯(æ¯å¦è¦è£å)ï¼å¯è½é æåºå±äººååå¿ä¸ç¨³ã\nââæä¸ä¸ªæ¯å»å¾æ°å½ï¼å¬å¸æ¯ä¸æ£µå¤§æ ï¼é¢å¯¼æ¯æ ä¸é¢çç´å­ï¼æ ä¸é¢çç´å­é½è½çå°ä»ççº¢å±è¡ï¼ä½æ¯ä»èªå·±å´çä¸å°ã\n\n# æ¶é´ç®¡ç\n\nèµ°ä¸äºç®¡çå²ä½ï¼æ²éå·¥ä½å¤äºï¼ä¼è®®ä¹å¤äºï¼èªå·±äº²æåäºçæ¶é´å°äºãå¦ææ»æ¯è§å¾æ¶é´ä¸å¤ç¨ï¼ä½æ¯åä¸ç¥éæ¶é´è±å°åªå¿å»äºï¼è¿å°±éè¦æ¶é´ç®¡çãè¶æ¯ä»»å¡ç¹æï¼æ¶é´ç®¡çå°±è¶éè¦ï¼åäº«å ç¹ç»éªï¼\n\n * æ¯æ¥é½åä»»å¡æ¸åï¼æ ¹æ®äºæè½»éç¼æ¥ï¼ååºä»æ¥å¿åæ¸åãææ¥å¾åæ¸åãä»æ¥å¿åçäºæå ç­é½è¦å®æã\n * èªå·±åè¿æ¯ææåï¼ææçæææ¯ç®¡çèå¿é¡»ææ¡çæè½ï¼å®ä¸ä½å¯ä»¥èçç®¡çèçæ¶é´ï¼æ´éè¦çæ¯å¯ä»¥å¹å»åå·¥ï¼ä½¿ä»ä»¬æ¿æè´£ä»»åååï¼å¿«éæé¿èµ·æ¥ã\n * é¢ä¼°äºæå®ææ¶é´åèµæºï¼å¾å¤äºæä¸æ¯å­¤ç«å­å¨çï¼éè¦å¤é¨èµæºæ¯æãé¢ä¼°å®ææ¶é´åèµæºï¼å¯ä»¥æåå®æï¼å½ä¸é¨åå¡ä½å°±åæ¢å°å¦å¤ä¸é¨åã\n\n# æ²éåå\n\næææ²éçæå·§æ»ç»èµ·æ¥ï¼å°±æ¯ååï¼ä¿¡æ¯éåãé®é¢å·ä½åãæææéåãäºæè´£ä»»åã\n\n 1. ä¿¡æ¯éåæçæ¯æ²éç®æ æä»»å¡å·ä½æç¡®ï¼å¯ä»¥æ¸æ°åº¦éã\n 2. é®é¢å·ä½åæ¯å°å¯¹äºç©çè®¤ç¥ä¸æè¿°æç¡®åï¼å·ä½åã\n 3. æææéåæäº¤å¾ä»»å¡æ¶è¦æç¡®å®ææéãäº¤ä»å·ä½æ¶é´ç¹ã\n 4. äºæè´£ä»»åæ¯æäºæå·ä½å°è´£ä»»äººï¼å¨è§å®çæéååè´£ä»»äººè¦ç»æã\n\n\n# å¯¹ä¸ç®¡ç\n\n# å¥æ©ä¸¥æ\n\næ¯ä¸ªäººé½æ¯æ¿æè¢«å¥å±ä¸æ¿æè¢«æ©ç½ï¼å©ç¨å¥æ©ä¸¥æçè§åæ¥æ¿å±å¢éãå¥å±çæ¹å¼å¤ç§å¤æ ·ï¼ä½æ¯å¤§å¤æ°å¬å¸ç»ä¸äºå®ç©å¥å±ï¼å½é¢è¡¨æ¬å°±æ¯æå¥½çæ¹å¼ï¼å°±æ¯å¨å¨å´ç®å­ãè¡¨æ¬ä»äººï¼åå®¹è¦è¯¦ç»æ¸æ¥ï¼æä»¥ç¹å¸¦é¢çå·å¬åï¼é¿åâä½ å¹²çè¿ä¸éâè¿ç±»æ··æ²çè¯´æ³ãæ¹è¯ä»äººåºè¯¥æ¸æ¥çæåºä¸ºä»ä¹åå°æ¹è¯ï¼é æçåæï¼æåæåºæ¹æ­£çå»ºè®®ã\n\n# äº²çå¾å½\n\nç±äºæåçå¨ææèæäºå©çï¼ä¸å±ä¸ä¼æ¯«æ é¡¾å¿çåä¸çº§è¯´å¿éè¯ï¼ç®¡çèå ä¹ä¸å¯è½åä¸å±æä¸ºäº²å¯æåãä»äº²çå³ç³»ä¸çï¼âç¦»å¾è¿âå°±æ æ³ç®¡çï¼âç¦»å¾è¿âåä¸å¤ªå¯è½ï¼é£æä¹äºè§£ä¸å±ççå®æ³æ³åè¯æ±å¢ï¼æ¹æ³æ¯å¤è¯·åé¥­å¤åéãé¥­å±æåæ¯æä»¬ä¸­å½äººç¹æçæåï¼å¾å¤æ­£ç»äºé½æ¯é¥­æ¡ä¸è°çãéè¿ä¸å·¡ï¼èåå¤§äºè¯åå¤äºï¼è°è°çæ³è°è°äººçï¼èèåèªçå®¶åº­æåµãå¶å®å¤§å®¶é½æ¯æç½äººï¼ä¸ç­çæ¶åå®¢å®¢æ°æ°å«ä½ é¢å¯¼ï¼ä¹åªæ¯ä¸ºäºèµç¹é±å»å®¶ç³å£ãå¹³æ¶å°±ä¸è¦è£é¼ç©é«å·ï¼æèå»æå¥è¿ä¹ç§°åéå¼ï¼åªè¦æ¯åçï¼å«äººé½çå¾åºæ¥ã\n\n\n# å¯¹ä¸ç®¡ç\n\nè°æ¢ç®¡çä¸çº§å¢ï¼ä¸è¦è¯¯è§£ç®¡çè¿ä¸ªè¯ï¼ç®¡ççæ¬è´¨æ¯åå©ä»äººè¾¾æç®çï¼åå©ä¸çº§è¾¾æèªå·±çç®çä¹æ¯ç®¡çã\n\n# ä¸»å¨æ±æ¥\n\nå ä¸ºç¼ºä¹å¯¹ä¸ç®¡çè½åï¼è·ä¸çº§ç¸å¤çæ¶åï¼æä»¬å¯è½ä¼éåä¸ç§æ¹å¼ï¼\n\n * çï¼éè¿åç§èä¸é©¬è¿¹ãè¡æä¹±æ³æ¥çæµä¸çº§å°åºè¦ä»ä¹ã\n * ç­ï¼ä»ä¹ä¹ä¸åï¼ç­çåªå¤©éå°ä¸ä¸ªå®ç¾ä¸çº§æ¥èµè¯èªå·±ã\n * æï¼è¯å¾å¦è¾è¹å¾ï¼éè¿é¡ºçä¸çº§è¯´è¯ãæé©¬å±æ¥åæ¦ã\n\næä»¬åºè¯¥ä¸»å¨æ±æ¥å·¥ä½ï¼ä¸åæ è°çæ£æµï¼ä½æ¯æ±æ¥è¦æ³¨æä»¥ä¸å ç¹ï¼\n\n * ç«è¶³å¬å¸åå±éç¹åæç¥è°é®é¢æå»ºè®®ã\n * äºè§£é¨é¨è®¡åï¼æ±æ¥å®éå·¥ä½ææåä¸è¶³ä¹å¤ã\n * æ¢ä½æèçè§£ä¸çº§çååï¼è¯¢é®ä¸çº§å¯¹ä½ çææã\n\n# äºåèµæº\n\nèµæºå¯ä»¥æ¯ç¨äººåé¢ãå¥éæèå¢å»ºè´¹ãé¡¹ç®æ¶é´ãå¤é¨åä½ç­ç­ãèµæºæ°¸è¿æ¯ç´§å¼ çï¼ä½ ä¸å»äºåå°±ä¼è½å°å«äººçå£è¢ãå¦æé¡¹ç®åçå¥½ï¼ä¸å®è¦æ¾é¢å¯¼éåï¼äºåå¥éæèå¶ä»ç¦å©ãå¦æé¢æå°é¡¹ç®å·¥æç´§å¼ ï¼è¦æåäºåç¨äººåé¢ãæçé¢å¯¼åæ¬¢åå¼åå¨æï¼æ±æ¥çæ¶åï¼æä¸çº¿æ¶é´æé¿ï¼è¿æ ·ä»ç ä¸ç¹ä¹æ å¦¨ãå«å½ä½ç³»ç»çï¼è®©ä½ çä¸å±å æå¤çç­ï¼åæå·çè¥¿åé£ã\n\n\n# å±éæ§\n\næ è®ºæ¯èåºè¿æ¯çæ´»ä¸­ï¼æå¾å¤äºææ¯æä¹åªåé½åä¸å°çãæ¯å¦ï¼ä½ æä¸ªä¸çå¿çä¸çº§ï¼åå³ç­ä¸ä¸æ¦å¤´è¥¿ä¸æ£å­ï¼é¨é¨ç»å¸¸é«å¼ºåº¦å ç­éåä»ï¼å¤§å®¶æ¨å£°è½½éãåæ¯å¦ï¼å¾åçä¸å±æ¾äºèªèµæ´é«çæ§½ä½ï¼ä½ å»æ¾ä¸çº§äºåè°èªæ½çä»ï¼ä¸çº§è¯´å¬å¸æ¬ ä¸å±è¡åºæ²¡é±ãæä¹åï¼åªå¥½ç»ä¸å±ç»é¥¼äºï¼ç»é¥¼çç»æå¤§å®¶é½ç¥éã\nââå¬å¸æ¯ä¸ªæ¸¸æ³³æ± ï¼ç®¡çèæ¸¸çæè¿è·ç¦»åªè½æ¯æ± å­çå®½åº¦ãæä¸å®çæ¶åå°±è¦è®¤è¾ã\n\næ¬æè½¬èª https://www.cnblogs.com/xiaoyangjia/p/11338959.htmlï¼å¦æä¾µæï¼è¯·èç³»å é¤ã",charsets:{cjk:!0},lastUpdated:"2023/11/01, 07:11:45",lastUpdatedTimestamp:1698822705e3},{title:"å¦ä½åä¸ç¯å¥½çææ¯åå®¢",frontmatter:{title:"å¦ä½åä¸ç¯å¥½çææ¯åå®¢",date:"2023-11-01T14:18:24.000Z",permalink:"/pages/feb22d/"},regularPath:"/03.%E8%BD%AF%E6%8A%80%E8%83%BD/02.%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86/02.%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E7%AF%87%E5%A5%BD%E7%9A%84%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2.html",relativePath:"03.è½¯æè½/02.ç¥è¯ç®¡ç/02.å¦ä½åä¸ç¯å¥½çææ¯åå®¢.md",key:"v-0c243284",path:"/pages/feb22d/",headers:[{level:1,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:78}],headersStr:"åèèµæ",content:" 1. å¸¦çæç¡®ç®çååå®¢ãéå¸¸æ¯å­¦ä¹ ä¸é¡¹ææ¯æèè§£å³ä¸ä¸ªææ¯é®é¢ã\n 2. ä¸è¦è½»æè½¬è½½å«äººçå¸å­ï¼åèªå·±çåå®¢ã\n 3. åå®¢æ¯æ»ç»ä¸æ¯è¿ç¨ã\n\n\n# åèèµæ\n\n * å¦ä½åä¸ç¯å¥½çææ¯åå®¢_ç¥è¯åº_åå®¢å­",normalizedContent:" 1. å¸¦çæç¡®ç®çååå®¢ãéå¸¸æ¯å­¦ä¹ ä¸é¡¹ææ¯æèè§£å³ä¸ä¸ªææ¯é®é¢ã\n 2. ä¸è¦è½»æè½¬è½½å«äººçå¸å­ï¼åèªå·±çåå®¢ã\n 3. åå®¢æ¯æ»ç»ä¸æ¯è¿ç¨ã\n\n\n# åèèµæ\n\n * å¦ä½åä¸ç¯å¥½çææ¯åå®¢_ç¥è¯åº_åå®¢å­",charsets:{cjk:!0},lastUpdated:"2023/11/01, 06:52:24",lastUpdatedTimestamp:1698821544e3},{title:"åå®¢æç« ",frontmatter:{archivesPage:!0,title:"åå®¢æç« ",permalink:"/blog/",article:!1},regularPath:"/@pages/archivesPage.html",relativePath:"@pages/archivesPage.md",key:"v-20089476",path:"/blog/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2023/10/24, 00:19:02",lastUpdatedTimestamp:1698106742e3},{title:"çæ´»ç®¡çå®ç¨æè½",frontmatter:{title:"çæ´»ç®¡çå®ç¨æè½",date:"2023-11-01T14:01:16.000Z",permalink:"/pages/f28926/"},regularPath:"/03.%E8%BD%AF%E6%8A%80%E8%83%BD/03.%E7%94%9F%E6%B4%BB%E7%AE%A1%E7%90%86%E5%AE%9E%E7%94%A8%E6%8A%80%E8%83%BD.html",relativePath:"03.è½¯æè½/03.çæ´»ç®¡çå®ç¨æè½.md",key:"v-1ea7fe80",path:"/pages/f28926/",headersStr:null,content:"è¿æ¯éè¿éè¯»ãæ¶é´ç®¡çââç»ç³»ç»ç®¡çåãï¼Thomas A.Limoncelli èï¼ä¸ä¹¦åæç¼åºæ¥çåä¸ªå®ç¨æè½ãéå¸¸ç®åï¼ä½ä»éè¦å¤å ç»ä¹ ï¼æè½ç¢åºææ¡åä½¿ç¨ï¼äº«åå¶å¸¦æ¥ççå¤ãçæ´»ä¸éè¦å¤æçæå·§ï¼åªéè¦æä¹ä»¥æå°å»æ§è¡ï¼å°±è½è·å¾ä»¤äººæåçææã\n\næè½ä¹ä¸ï¼å¶å®æç¡®çãå¯éåå¯æ£éªçãåå®å¯è¡çç®æ ã\n\nâ  è¦å®æä»ä¹ï¼ï¼ç®æ åå®¹ï¼\n\nâ¡ ä½æ¶å®æï¼ï¼æ£éªæéï¼\n\nâ¢ å¦ä½å»åï¼ï¼æ¹æ³ä¸æ­¥éª¤ï¼\n\nâ£ ä»ä¹æ¶åå»åï¼ï¼æ¶é´å®æï¼\n\nç®æ ä¸å®è¦æ»¡è¶³ä¸è¿°ä¸ä¸ªæ¡ä»¶ï¼\n\nâ  æç¡®èä¸å«ç³ï¼ æ¯å¦ï¼æ³åITè¡ä¸äºèç½å¼åï¼èä¸æ¯ä»ä¹é½è¡ï¼\n\nâ¡ å¯éåå¯æ£éªçï¼ æ¯å¦ï¼å®æ3000ç±³ä¸­ç¨è·ï¼èä¸æ¯æ¥æè¾å¥½çèåï¼\n\nâ¢ åå®å¯è¡çï¼ æ¯å¦ï¼è¦æ¥æ£100åï¼èä¸æ¯è¦å½CTOã\n\néè¿ç»ä¹ å¶å®ç®æ ä½¿ä¹åå®å¯è¡å¯æ£éªï¼å¯ä»¥æé«å¯¹ç®æ çæç¥åº¦ï¼æ´æ¸æ°å°è´´è¿æ³è¦å®ç°çç®æ ï¼èä¸æ¯æµ®äºç©ºä¸­æ¥¼éã\n\nç®æ ç§ç±»ï¼\n\nå¾®ç®æ ï¼æ¯æ¥å¿åï¼æ¯å¦ï¼èº«ä½é»ç¼ï¼ç¾ç§ç¥è¯äºè§£ï¼\n\næ¶ç®æ ï¼æ¯å°æ¶è¦å®æçäºæï¼æ¯å¦ï¼è¦å®æçå·ä½äºæï¼\n\næ¥ç®æ ï¼å½åæ¥è¦å®æçäºå®ï¼æ¯å¦ï¼è¦å®æçå·¥ä½ä»»å¡ï¼\n\nå¨ç®æ ï¼å½åå¨è¦å®æçäºé¡¹ï¼æ¯å¦ï¼è¦å®æçé¡¹ç®è¿åº¦ï¼\n\næç®æ ï¼å½åæè¦å®æçå­ç®æ ï¼æ¯å¦ï¼è¦å­¦ä¼ä¸ç§æ°è¯­è¨ææ¡æ¶ï¼\n\nå¹´ç®æ ï¼å½åå¹´è¦å®æçå®è§å­ç®æ ï¼æ¯å¦ï¼æèªæ¶¨XXXï¼ææ¡XXXï¼\n\n\nä¸­æç®æ ï¼ 3-5å¹´åæ³è¦å®ç°çè·¨è¶ï¼æ¯å¦ï¼ä»è½¯ä»¶å¼ååäº§åå¼åçè½¬åï¼\n\né¿è¿ç®æ ï¼ 5-8å¹´åæ³è¦è¾¾å°çå¢åµï¼æ¯å¦ï¼äºä¸ä¸XXXï¼å®¶åº­ä¸XXXï¼\n\nç»æç®æ ï¼äººççè¿½æ±åä»·å¼è§ï¼æ²¡ææ¯å¦ã\n\néè¿å¶å®å¤§å¤§å°å°çç®æ ï¼å¹¶ä¸åå®å°å®ç°åå®æï¼åå®çæ´»ï¼ä¹ä½¿èªå·±è·å¾äººççæ»¡è¶³æãå¯ä»¥ç§°ä¹ä¸ºâç®æ é©±å¨çäººçä¸çæ´»âã\n\næè½ä¹äºï¼ ååé¶æ®µï¼ åæ®µå®æ\n\nçæ´»ä¸­å¸¸å¸¸ä¼ä¸ä¸å­é¢å¯¹å¾å¤äºæï¼æ»æä¸äºäºææ¯ç¹å«éè¦çï¼ä¸äºäºææ¯ç´§è¦çï¼ä¸äºæ¯éè¦çï¼ä¸äºæ¯æ å³ç´§è¦çãé£ä¹ï¼æä¹æè½ææ¡çææçå°å®æè¿äºäºæå¢ï¼ è¿å°±éè¦ä½¿ç¨ç¬¬äºä¸ªæè½ï¼ ååé¶æ®µï¼åæ®µå®æãå®å¯ä»¥ä½¿ç´ä¹±ççæ´»äºé¡¹åå¾æ´æ¸æ°èæäºç®¡çã\n\né¦åï¼åä¸æ³è¦ååéè¦åçäºæåè¡¨ï¼ç¶åï¼æ ¹æ®éè¦åä»·å¼è§çæ¸åªäºæ¯ç¹å«éè¦çï¼ç´§è¦çï¼éè¦çï¼ææ å³ç´§è¦çï¼å¹¶è¿è¡æ è®°ï¼ æ¥çï¼å°±å¯ä»¥ååé¶æ®µï¼æ¯ä¸é¶æ®µé½æå®å½åçéå¿åè¾å©äºé¡¹ãä¸æ¬¡åªä¸æ³¨ä¸ä»¶ææéè¦çäºæã\n\nå¦å¤ä¸ç§æ´å·æææ§çæ¹å¼æ¯ï¼ éè¯·å«äººå¸®å¿ã å¨ç©ºé²çæ¶åå»å¸®å©å«äººå®æä¸äºäºæï¼ å¨å¿ç¢çæ¶åè®©å«äººå¸®å¿å®æä¸äºäºæï¼ äºå©äºå©ï¼ è¿ä¸æ¯æ´å¥½çæ¹å¼ä¹ï¼ å½å¾å¤äºæåæ¶é½æ¯éå¸¸éè¦éå¸¸ç´§æ¥ï¼ä¸ä¸ªäººå®å¨å¿ä¸è¿æ¥çæ¶åï¼ è¿å°±æ´¾ä¸ç¨åºäºã\n\næè½ä¹ä¸ï¼éä¸­å¤§èçå¨é¨è½éï¼è®©å¤§èä¸æ³¨äºä¸ä»¶äºé¡¹ã\n\nå¤§èæ¯äººææ¥æçæå¼ºå¤§çæ­¦å¨ãè¦ååå©ç¨å¤§èçâéåâï¼å°±ä¸è¦ç¨åç§åæ ·çäºæå¡«å¡è¿å¤§èãæä¸¤ç§æ¹æ³ï¼\n\n â     åå¤ä¸ä¸ªä¿¡æ¯æ°æ®åºï¼å°åç§ä¿¡æ¯å¡«å¥è¯¥æ°æ®åºä»¥å¤ç¨ï¼è¿ç±»ä¼¼äºâç£çâï¼\n\n â¡    éä¸­å¤§èçè½éï¼ä¸æ¬¡ä»ä¸æ³¨äºä¸ä»¶äºé¡¹ï¼è¿ç±»ä¼¼äºâåå­ä¸CPUâã\n\n\nä½¿å¤§èä¸æ³¨äºä¸ä»¶äºé¡¹ï¼ä»èå¤§å¹åº¦æååäºçæçï¼è¾åºæ´å¤æ¶é´æ¥å®æå¶ä»çç®æ æè¿½æ±ã\n\næè½ä¹åï¼ å¼åå­ä¾ç¨ï¼å»æè¯å¥½çä¹ æ¯ã\n\nå¼åå­ä¾ç¨ï¼å»æè¯å¥½çä¹ æ¯ï¼ä½¿å¾æ¥å¸¸äºé¡¹å¯ä»¥æ æè¯å°å®æï¼è¿è¿ä¸æ­¥åè½»å¤§èçæèè´æã\n\nå¼åå­ä¾ç¨çç¤ºä¾ï¼\n\nâ    æ©èµ·ä¾ç¨ï¼ 7:00èµ·åº --- æ¼±å£ --- æ´è¸ --- æ´å --- åé¡» --- åºé¨ä¾ç¨ã\n\nâ¡   åºé¨ä¾ç¨ï¼ æ£æ¥è¡£é¥°æ¯å¦æ´æ´å¹²å --- æ£æ¥èº«ä¸æ¯å¦å¹²åæ¸ç½ --- æ´ççè£ --- åºé¨ã\n\nâ¢   ä¸æ¥ä¹åä¾ç¨ï¼ æ¯å¤©æ¥å°åå¬å®¤æå®éªå®¤ï¼åè±15-25åéè§åå¨å¤©è¦å®æçä»»å¡åæ¶é´å®æã\n\néè¿åæ­¥ç»ä¹ ä¸è¿°åä¸ªæè½ï¼æåç°èªå·±ççæ´»ç¡®å®åå¾æ´æåºæ´æ¸æ°æ´è¸å®äºï¼ä¸ä¼åè±è´¹å¤ä½çæ¶é´å¨æ ççäºæä¸ï¼å¹¶ä¸å°æ´å¤çæ¶é´æ¾å¨äºæè®¤ä¸ºå¼å¾å»åçäºæãå¦æä½ ä¹å¸æä½¿çæ´»åå¾æ´åå®æ´æåºä¸äºï¼ä¸å¦¨è¯è¯ä¸è¿°æå·§ã\n\n\næ¬æè½¬èª https://www.cnblogs.com/lovesqcc/p/4038512.htmlï¼å¦æä¾µæï¼è¯·èç³»å é¤ã",normalizedContent:"è¿æ¯éè¿éè¯»ãæ¶é´ç®¡çââç»ç³»ç»ç®¡çåãï¼thomas a.limoncelli èï¼ä¸ä¹¦åæç¼åºæ¥çåä¸ªå®ç¨æè½ãéå¸¸ç®åï¼ä½ä»éè¦å¤å ç»ä¹ ï¼æè½ç¢åºææ¡åä½¿ç¨ï¼äº«åå¶å¸¦æ¥ççå¤ãçæ´»ä¸éè¦å¤æçæå·§ï¼åªéè¦æä¹ä»¥æå°å»æ§è¡ï¼å°±è½è·å¾ä»¤äººæåçææã\n\næè½ä¹ä¸ï¼å¶å®æç¡®çãå¯éåå¯æ£éªçãåå®å¯è¡çç®æ ã\n\nâ  è¦å®æä»ä¹ï¼ï¼ç®æ åå®¹ï¼\n\nâ¡ ä½æ¶å®æï¼ï¼æ£éªæéï¼\n\nâ¢ å¦ä½å»åï¼ï¼æ¹æ³ä¸æ­¥éª¤ï¼\n\nâ£ ä»ä¹æ¶åå»åï¼ï¼æ¶é´å®æï¼\n\nç®æ ä¸å®è¦æ»¡è¶³ä¸è¿°ä¸ä¸ªæ¡ä»¶ï¼\n\nâ  æç¡®èä¸å«ç³ï¼ æ¯å¦ï¼æ³åitè¡ä¸äºèç½å¼åï¼èä¸æ¯ä»ä¹é½è¡ï¼\n\nâ¡ å¯éåå¯æ£éªçï¼ æ¯å¦ï¼å®æ3000ç±³ä¸­ç¨è·ï¼èä¸æ¯æ¥æè¾å¥½çèåï¼\n\nâ¢ åå®å¯è¡çï¼ æ¯å¦ï¼è¦æ¥æ£100åï¼èä¸æ¯è¦å½ctoã\n\néè¿ç»ä¹ å¶å®ç®æ ä½¿ä¹åå®å¯è¡å¯æ£éªï¼å¯ä»¥æé«å¯¹ç®æ çæç¥åº¦ï¼æ´æ¸æ°å°è´´è¿æ³è¦å®ç°çç®æ ï¼èä¸æ¯æµ®äºç©ºä¸­æ¥¼éã\n\nç®æ ç§ç±»ï¼\n\nå¾®ç®æ ï¼æ¯æ¥å¿åï¼æ¯å¦ï¼èº«ä½é»ç¼ï¼ç¾ç§ç¥è¯äºè§£ï¼\n\næ¶ç®æ ï¼æ¯å°æ¶è¦å®æçäºæï¼æ¯å¦ï¼è¦å®æçå·ä½äºæï¼\n\næ¥ç®æ ï¼å½åæ¥è¦å®æçäºå®ï¼æ¯å¦ï¼è¦å®æçå·¥ä½ä»»å¡ï¼\n\nå¨ç®æ ï¼å½åå¨è¦å®æçäºé¡¹ï¼æ¯å¦ï¼è¦å®æçé¡¹ç®è¿åº¦ï¼\n\næç®æ ï¼å½åæè¦å®æçå­ç®æ ï¼æ¯å¦ï¼è¦å­¦ä¼ä¸ç§æ°è¯­è¨ææ¡æ¶ï¼\n\nå¹´ç®æ ï¼å½åå¹´è¦å®æçå®è§å­ç®æ ï¼æ¯å¦ï¼æèªæ¶¨xxxï¼ææ¡xxxï¼\n\n\nä¸­æç®æ ï¼ 3-5å¹´åæ³è¦å®ç°çè·¨è¶ï¼æ¯å¦ï¼ä»è½¯ä»¶å¼ååäº§åå¼åçè½¬åï¼\n\né¿è¿ç®æ ï¼ 5-8å¹´åæ³è¦è¾¾å°çå¢åµï¼æ¯å¦ï¼äºä¸ä¸xxxï¼å®¶åº­ä¸xxxï¼\n\nç»æç®æ ï¼äººççè¿½æ±åä»·å¼è§ï¼æ²¡ææ¯å¦ã\n\néè¿å¶å®å¤§å¤§å°å°çç®æ ï¼å¹¶ä¸åå®å°å®ç°åå®æï¼åå®çæ´»ï¼ä¹ä½¿èªå·±è·å¾äººççæ»¡è¶³æãå¯ä»¥ç§°ä¹ä¸ºâç®æ é©±å¨çäººçä¸çæ´»âã\n\næè½ä¹äºï¼ ååé¶æ®µï¼ åæ®µå®æ\n\nçæ´»ä¸­å¸¸å¸¸ä¼ä¸ä¸å­é¢å¯¹å¾å¤äºæï¼æ»æä¸äºäºææ¯ç¹å«éè¦çï¼ä¸äºäºææ¯ç´§è¦çï¼ä¸äºæ¯éè¦çï¼ä¸äºæ¯æ å³ç´§è¦çãé£ä¹ï¼æä¹æè½ææ¡çææçå°å®æè¿äºäºæå¢ï¼ è¿å°±éè¦ä½¿ç¨ç¬¬äºä¸ªæè½ï¼ ååé¶æ®µï¼åæ®µå®æãå®å¯ä»¥ä½¿ç´ä¹±ççæ´»äºé¡¹åå¾æ´æ¸æ°èæäºç®¡çã\n\né¦åï¼åä¸æ³è¦ååéè¦åçäºæåè¡¨ï¼ç¶åï¼æ ¹æ®éè¦åä»·å¼è§çæ¸åªäºæ¯ç¹å«éè¦çï¼ç´§è¦çï¼éè¦çï¼ææ å³ç´§è¦çï¼å¹¶è¿è¡æ è®°ï¼ æ¥çï¼å°±å¯ä»¥ååé¶æ®µï¼æ¯ä¸é¶æ®µé½æå®å½åçéå¿åè¾å©äºé¡¹ãä¸æ¬¡åªä¸æ³¨ä¸ä»¶ææéè¦çäºæã\n\nå¦å¤ä¸ç§æ´å·æææ§çæ¹å¼æ¯ï¼ éè¯·å«äººå¸®å¿ã å¨ç©ºé²çæ¶åå»å¸®å©å«äººå®æä¸äºäºæï¼ å¨å¿ç¢çæ¶åè®©å«äººå¸®å¿å®æä¸äºäºæï¼ äºå©äºå©ï¼ è¿ä¸æ¯æ´å¥½çæ¹å¼ä¹ï¼ å½å¾å¤äºæåæ¶é½æ¯éå¸¸éè¦éå¸¸ç´§æ¥ï¼ä¸ä¸ªäººå®å¨å¿ä¸è¿æ¥çæ¶åï¼ è¿å°±æ´¾ä¸ç¨åºäºã\n\næè½ä¹ä¸ï¼éä¸­å¤§èçå¨é¨è½éï¼è®©å¤§èä¸æ³¨äºä¸ä»¶äºé¡¹ã\n\nå¤§èæ¯äººææ¥æçæå¼ºå¤§çæ­¦å¨ãè¦ååå©ç¨å¤§èçâéåâï¼å°±ä¸è¦ç¨åç§åæ ·çäºæå¡«å¡è¿å¤§èãæä¸¤ç§æ¹æ³ï¼\n\n â     åå¤ä¸ä¸ªä¿¡æ¯æ°æ®åºï¼å°åç§ä¿¡æ¯å¡«å¥è¯¥æ°æ®åºä»¥å¤ç¨ï¼è¿ç±»ä¼¼äºâç£çâï¼\n\n â¡    éä¸­å¤§èçè½éï¼ä¸æ¬¡ä»ä¸æ³¨äºä¸ä»¶äºé¡¹ï¼è¿ç±»ä¼¼äºâåå­ä¸cpuâã\n\n\nä½¿å¤§èä¸æ³¨äºä¸ä»¶äºé¡¹ï¼ä»èå¤§å¹åº¦æååäºçæçï¼è¾åºæ´å¤æ¶é´æ¥å®æå¶ä»çç®æ æè¿½æ±ã\n\næè½ä¹åï¼ å¼åå­ä¾ç¨ï¼å»æè¯å¥½çä¹ æ¯ã\n\nå¼åå­ä¾ç¨ï¼å»æè¯å¥½çä¹ æ¯ï¼ä½¿å¾æ¥å¸¸äºé¡¹å¯ä»¥æ æè¯å°å®æï¼è¿è¿ä¸æ­¥åè½»å¤§èçæèè´æã\n\nå¼åå­ä¾ç¨çç¤ºä¾ï¼\n\nâ    æ©èµ·ä¾ç¨ï¼ 7:00èµ·åº --- æ¼±å£ --- æ´è¸ --- æ´å --- åé¡» --- åºé¨ä¾ç¨ã\n\nâ¡   åºé¨ä¾ç¨ï¼ æ£æ¥è¡£é¥°æ¯å¦æ´æ´å¹²å --- æ£æ¥èº«ä¸æ¯å¦å¹²åæ¸ç½ --- æ´ççè£ --- åºé¨ã\n\nâ¢   ä¸æ¥ä¹åä¾ç¨ï¼ æ¯å¤©æ¥å°åå¬å®¤æå®éªå®¤ï¼åè±15-25åéè§åå¨å¤©è¦å®æçä»»å¡åæ¶é´å®æã\n\néè¿åæ­¥ç»ä¹ ä¸è¿°åä¸ªæè½ï¼æåç°èªå·±ççæ´»ç¡®å®åå¾æ´æåºæ´æ¸æ°æ´è¸å®äºï¼ä¸ä¼åè±è´¹å¤ä½çæ¶é´å¨æ ççäºæä¸ï¼å¹¶ä¸å°æ´å¤çæ¶é´æ¾å¨äºæè®¤ä¸ºå¼å¾å»åçäºæãå¦æä½ ä¹å¸æä½¿çæ´»åå¾æ´åå®æ´æåºä¸äºï¼ä¸å¦¨è¯è¯ä¸è¿°æå·§ã\n\n\næ¬æè½¬èª https://www.cnblogs.com/lovesqcc/p/4038512.htmlï¼å¦æä¾µæï¼è¯·èç³»å é¤ã",charsets:{cjk:!0},lastUpdated:"2023/11/01, 06:53:06",lastUpdatedTimestamp:1698821586e3},{title:"Home",frontmatter:{home:!0,heroText:"xiong201çä¸ªäººç¥è¯åº",tagline:"ðç¥è¯ï¼å­¦ä¹ ãå¸æ¶ãè¾åºãä½¿ç¨",actionText:"Java ç¥è¯ä½ç³» â",actionLink:"/pages/0e35d1/",bannerBg:"none",postList:"none"},regularPath:"/",relativePath:"index.md",key:"v-5ffddbde",path:"/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2023/10/24, 05:40:01",lastUpdatedTimestamp:1698126001e3}],themeConfig:{nav:[{text:"é¦é¡µ",link:"/"},{text:"Java ç¥è¯ä½ç³»",link:"/pages/0e35d1/"},{text:"Java é¢è¯å®å¸",link:"/pages/5547aa/"},{text:"è½¯æè½",link:"/pages/1eb629/"}],sidebarDepth:2,repo:"https://github.com/xiong201",searchMaxSuggestions:10,lastUpdated:"ä¸æ¬¡æ´æ°",sidebar:{"/01.Java ç¥è¯ä½ç³»/":[{title:"è®¡ç®æºåºç¡",collapsable:!0,children:[{title:"æ°æ®ç»æ",collapsable:!0,children:[["01.è®¡ç®æºåºç¡/01.æ°æ®ç»æ/01.çº¿æ§æ°æ®ç»æââæ°ç»ãé¾è¡¨ãæ ãéå.md","çº¿æ§æ°æ®ç»æââæ°ç»ãé¾è¡¨ãæ ãéå","/pages/0e35d1/"],["01.è®¡ç®æºåºç¡/01.æ°æ®ç»æ/02.åå¸è¡¨.md","åå¸è¡¨","/pages/beb561/"],["01.è®¡ç®æºåºç¡/01.æ°æ®ç»æ/03.å¾.md","å¾","/pages/8751ef/"],["01.è®¡ç®æºåºç¡/01.æ°æ®ç»æ/04.æ .md","æ ","/pages/d2ac96/"],["01.è®¡ç®æºåºç¡/01.æ°æ®ç»æ/05.çº¢é»æ .md","çº¢é»æ ","/pages/b5322d/"]]},{title:"æä½ç³»ç»",collapsable:!0,children:[{title:"Linux",collapsable:!0,children:[["01.è®¡ç®æºåºç¡/02.æä½ç³»ç»/01.Linux/01.Linux.md","Linux","/pages/ee514b/"],["01.è®¡ç®æºåºç¡/02.æä½ç³»ç»/01.Linux/02.Linux å¸¸ç¨å½ä»¤.md","Linux å¸¸ç¨å½ä»¤","/pages/74b53c/"]]}]}]},{title:"æ°æ®åº",collapsable:!0,children:[["02.æ°æ®åº/01.æ°æ®åºåºç¡ä¸SQL.md","æ°æ®åºåºç¡ä¸SQL","/pages/67462f/"],{title:"MySQL",collapsable:!0,children:[["02.æ°æ®åº/02.MySQL/01.MySQLç®ä».md","MySQLç®ä»","/pages/c9b13a/"],["02.æ°æ®åº/02.MySQL/02.MySQLä½ç³»ç»æ.md","MySQLä½ç³»ç»æ","/pages/198df0/"],["02.æ°æ®åº/02.MySQL/03.MySQLç´¢å¼.md","MySQLç´¢å¼","/pages/17d468/"],["02.æ°æ®åº/02.MySQL/04.MySQLè°ä¼.md","MySQLè°ä¼","/pages/ec5067/"],["02.æ°æ®åº/02.MySQL/05.MySQLå½ä»¤å¤§å¨.md","MySQLå½ä»¤å¤§å¨","/pages/f7fcac/"]]}]},{title:"Java",collapsable:!0,children:[{title:"Java åºç¡",collapsable:!0,children:[["03.Java/01.Java åºç¡/01.BigDecimal è¯¦è§£.md","BigDecimal è¯¦è§£","/pages/f7214d/"],["03.Java/01.Java åºç¡/02.Java å¼å¸¸ä½ç³».md","Java å¼å¸¸ä½ç³»","/pages/8f19aa/"]]},{title:"Java å®¹å¨",collapsable:!0,children:[["03.Java/02.Java å®¹å¨/01.Java éåå¸¸ç¨ä½¿ç¨æå·§.md","Java éåå¸¸ç¨ä½¿ç¨æå·§","/pages/33fb2e/"],["03.Java/02.Java å®¹å¨/02.ArrayList æºç åæåæ©å®¹æºå¶.md","ArrayList æºç åæåæ©å®¹æºå¶","/pages/528ca4/"],["03.Java/02.Java å®¹å¨/03.HashMap æºç ååºå±æ°æ®ç»æåæ.md","HashMap æºç ååºå±æ°æ®ç»æåæ","/pages/a794bb/"]]},{title:"Java å¹¶å",collapsable:!0,children:[["03.Java/03.Java å¹¶å/01.å¹¶åç¼ç¨åºç¡.md","å¹¶åç¼ç¨åºç¡","/pages/571a8d/"],["03.Java/03.Java å¹¶å/02.Java çº¿ç¨æ± è¯¦è§£.md","Java çº¿ç¨æ± è¯¦è§£","/pages/adbda5/"],["03.Java/03.Java å¹¶å/03.CompletableFuture è¯¦è§£.md","CompletableFuture è¯¦è§£","/pages/77c217/"],["03.Java/03.Java å¹¶å/04.Java é.md","Java é","/pages/737a52/"]]},{title:"Java æ°ç¹æ§",collapsable:!0,children:[{title:"Java8 æ°ç¹æ§",collapsable:!0,children:[["03.Java/04.Java æ°ç¹æ§/01.Java8 æ°ç¹æ§/01.Java 8 æ°ç¹æ§.md","Java 8 æ°ç¹æ§","/pages/b6b76e/"],["03.Java/04.Java æ°ç¹æ§/01.Java8 æ°ç¹æ§/02.Java 8 å¹¶è¡æµ.md","Java 8 å¹¶è¡æµ","/pages/f2f56b/"]]}]},{title:"JVM",collapsable:!0,children:[["03.Java/05.JVM/01.Java åå­åºå.md","Java åå­åºå","/pages/ecd0f2/"],["03.Java/05.JVM/02.JVM åå¾æ¶é.md","JVM åå¾æ¶é","/pages/5bf174/"],["03.Java/05.JVM/03.JVM å¸¸ç¨åæ°.md","JVM å¸¸ç¨åæ°","/pages/c5dfa7/"],["03.Java/05.JVM/04.JVM å¸¸ç¨çè°ä¼å·¥å·.md","JVM å¸¸ç¨çè°ä¼å·¥å·","/pages/2cdbc6/"],["03.Java/05.JVM/05.JVM è°ä¼.md","JVM è°ä¼","/pages/b8b917/"],["03.Java/05.JVM/06.JVM é®é¢ææ¥åè°ä¼.md","JVM é®é¢ææ¥åè°ä¼","/pages/7bbf36/"]]}]},{title:"ç³»ç»è®¾è®¡",collapsable:!0,children:[{title:"å¸¸ç¨æ¡æ¶",collapsable:!0,children:[{title:"Spring",collapsable:!0,children:[["04.ç³»ç»è®¾è®¡/01.å¸¸ç¨æ¡æ¶/01.Spring/01.Spring Bean.md","Spring Bean","/pages/47235b/"],["04.ç³»ç»è®¾è®¡/01.å¸¸ç¨æ¡æ¶/01.Spring/02.Springäºå¡æ»ç».md","Springäºå¡æ»ç»","/pages/5fcbaa/"]]}]},{title:"åå¸å¼",collapsable:!0,children:[{title:"åå¸å¼é",collapsable:!0,children:[["04.ç³»ç»è®¾è®¡/02.åå¸å¼/01.åå¸å¼é/01.åå¸å¼éä»ç».md","åå¸å¼éä»ç»","/pages/4418d1/"],["04.ç³»ç»è®¾è®¡/02.åå¸å¼/01.åå¸å¼é/02.åå¸å¼éå¸¸è§å®ç°æ¹æ¡æ»ç».md","åå¸å¼éå¸¸è§å®ç°æ¹æ¡æ»ç»","/pages/d51c58/"]]},{title:"å¹ç­æ§",collapsable:!0,children:[["04.ç³»ç»è®¾è®¡/02.åå¸å¼/02.å¹ç­æ§/01.å¹ç­æ§ä»ç».md","å¹ç­æ§ä»ç»","/pages/8c09c7/"]]},["04.ç³»ç»è®¾è®¡/02.åå¸å¼/03.RPCä»ç».md","RPCä»ç»","/pages/126fc8/"],["04.ç³»ç»è®¾è®¡/02.åå¸å¼/04.Dubbo.md","Dubbo","/pages/80c6b1/"]]},{title:"å¾®æå¡",collapsable:!0,children:[{title:"SpringCloud",collapsable:!0,children:[["04.ç³»ç»è®¾è®¡/03.å¾®æå¡/01.SpringCloud/01.SpringCloud.md","SpringCloud","/pages/d2a1d0/"]]},{title:"SpringCloudAlibaba",collapsable:!0,children:[["04.ç³»ç»è®¾è®¡/03.å¾®æå¡/02.SpringCloudAlibaba/01.SpringCloudAlibaba.md","SpringCloudAlibaba","/pages/a8e8ff/"]]},["04.ç³»ç»è®¾è®¡/03.å¾®æå¡/03.é¾è·¯è¿½è¸ªSkyWalking.md","é¾è·¯è¿½è¸ªSkyWalking","/pages/01d62e/"]]},{title:"å®æ¶ä»»å¡",collapsable:!0,children:[["04.ç³»ç»è®¾è®¡/04.å®æ¶ä»»å¡/01.Java å®æ¶ä»»å¡å¤§å¨.md","Java å®æ¶ä»»å¡å¤§å¨","/pages/ae063e/"],["04.ç³»ç»è®¾è®¡/04.å®æ¶ä»»å¡/02.åå¸å¼å®æ¶ä»»å¡ââQuartz.md","åå¸å¼å®æ¶ä»»å¡ââQuartz","/pages/ada754/"]]},{title:"Webæå¡å¨",collapsable:!0,children:[["04.ç³»ç»è®¾è®¡/05.Webæå¡å¨/01.Nginx.md","Nginx","/pages/dd97c6/"]]}]},{title:"ä»£ç è´¨é",collapsable:!0,children:[{title:"è®¾è®¡æ¨¡å¼",collapsable:!0,children:[["05.ä»£ç è´¨é/01.è®¾è®¡æ¨¡å¼/01.è®¾è®¡æ¨¡å¼ç®ä».md","è®¾è®¡æ¨¡å¼ç®ä»","/pages/56a50e/"],["05.ä»£ç è´¨é/01.è®¾è®¡æ¨¡å¼/02.è´£ä»»é¾æ¨¡å¼.md","è´£ä»»é¾æ¨¡å¼","/pages/62b3c2/"],["05.ä»£ç è´¨é/01.è®¾è®¡æ¨¡å¼/03.æ¨¡çæ¹æ³æ¨¡å¼.md","æ¨¡çæ¹æ³æ¨¡å¼","/pages/a2e658/"]]},["05.ä»£ç è´¨é/02.Java å½åè§è.md","Java å½åè§è","/pages/d83c14/"],["05.ä»£ç è´¨é/03.ä»£ç ä¼å.md","ä»£ç ä¼å","/pages/6281f2/"]]}],catalogue:{},"/02.Java é¢è¯å®å¸/":[{title:"é¢è¯åå¤",collapsable:!0,children:[["01.é¢è¯åå¤/01.é¢è¯åå¤.md","é¢è¯åå¤","/pages/5547aa/"],["01.é¢è¯åå¤/02.ç®åå¶ä½.md","ç®åå¶ä½","/pages/80654c/"],["01.é¢è¯åå¤/03.Boss ç´èæç®åæå·§.md","Boss ç´èæç®åæå·§","/pages/5da9d3/"]]},{title:"Java å«è¡æ",collapsable:!0,children:[["02.Java å«è¡æ/01.Java åºç¡é¢è¯é¢.md","Java åºç¡é¢è¯é¢","/pages/b4d599/"],["02.Java å«è¡æ/02.Java éå é¢è¯é¢.md","Java éå é¢è¯é¢","/pages/346648/"],["02.Java å«è¡æ/03.Java å¹¶åé¢è¯é¢.md","Java å¹¶åé¢è¯é¢","/pages/f4f268/"],["02.Java å«è¡æ/04.Java æ°ç¹æ§é¢è¯é¢.md","Java æ°ç¹æ§é¢è¯é¢","/pages/89ee48/"],["02.Java å«è¡æ/05.JVM é¢è¯é¢.md","JVM é¢è¯é¢","/pages/752c30/"],["02.Java å«è¡æ/06.MySQL é¢è¯é¢.md","MySQL é¢è¯é¢","/pages/b23391/"],["02.Java å«è¡æ/07.Redis é¢è¯é¢.md","Redis é¢è¯é¢","/pages/b1ecc7/"],["02.Java å«è¡æ/08.Spring é¢è¯é¢.md","Spring é¢è¯é¢","/pages/330962/"],["02.Java å«è¡æ/09.Mybatis&MybatisPlus é¢è¯é¢.md","Mybatis&MybatisPlus é¢è¯é¢","/pages/e68641/"],["02.Java å«è¡æ/10.SpringBoot é¢è¯é¢.md","SpringBoot é¢è¯é¢","/pages/663a49/"],["02.Java å«è¡æ/11.SpringCloud é¢è¯é¢.md","SpringCloud é¢è¯é¢","/pages/3c9abe/"],["02.Java å«è¡æ/12.SpringCloudAlibaba é¢è¯é¢.md","SpringCloudAlibaba é¢è¯é¢","/pages/4a2429/"],["02.Java å«è¡æ/13.åå¸å¼.md","åå¸å¼","/pages/0d16b1/"],["02.Java å«è¡æ/14.Nginx é¢è¯é¢.md","Nginx é¢è¯é¢","/pages/d4abbd/"]]}],"/03.è½¯æè½/":[{title:"æ¹æ³è®º",collapsable:!0,children:[["01.æ¹æ³è®º/01.æèæ¡æ¶.md","æèæ¡æ¶","/pages/1eb629/"],["01.æ¹æ³è®º/02.æ¶é´ç®¡çGTD.md","æ¶é´ç®¡çGTD","/pages/6fff61/"]]},{title:"ç¥è¯ç®¡ç",collapsable:!0,children:[["02.ç¥è¯ç®¡ç/01.æ­å»ºä¸ªäººç¥è¯åº.md","æ­å»ºä¸ªäººç¥è¯åº","/pages/15a2bc/"],["02.ç¥è¯ç®¡ç/02.å¦ä½åä¸ç¯å¥½çææ¯åå®¢.md","å¦ä½åä¸ç¯å¥½çææ¯åå®¢","/pages/feb22d/"],["02.ç¥è¯ç®¡ç/03.å¦ä½é«æçå­¦ä¹ ææ¯.md","å¦ä½é«æçå­¦ä¹ ææ¯","/pages/11d0b0/"]]},["03.çæ´»ç®¡çå®ç¨æè½.md","çæ´»ç®¡çå®ç¨æè½","/pages/f28926/"],{title:"é¡¹ç®ç®¡ç",collapsable:!0,children:[["04.é¡¹ç®ç®¡ç/01.åæ¬¡èµ°ä¸ææ¯ç®¡çå²ä½çæèæ»ç» - ç¼ç ç å®¶ .md","åæ¬¡èµ°ä¸ææ¯ç®¡çå²ä½çæèæ»ç» - ç¼ç ç å®¶","/pages/b7e1f4/"]]}]},updateBar:{showToArticle:!1},pageButton:!1,pageStyle:"line",category:!1,tag:!1,author:{name:"Xiong"},social:{},footer:{createYear:2023,copyrightInfo:"xiong201 | MIT License"}}};var Es=t(88),Ts=t.n(Es),_s=t(95),Ss=t(96),ks=t(11);var ws={computed:{$filterPosts(){return this.$site.pages.filter(n=>{const{frontmatter:{pageComponent:e,article:t,home:a}}=n;return!(e||!1===t||!0===a)})},$sortPosts(){return(n=this.$filterPosts).sort((n,e)=>{const t=n.frontmatter.sticky,a=e.frontmatter.sticky;return t&&a?t==a?Object(ks.a)(n,e):t-a:t&&!a?-1:!t&&a?1:Object(ks.a)(n,e)}),n;var n},$sortPostsByDate(){return(n=this.$filterPosts).sort((n,e)=>Object(ks.a)(n,e)),n;var n},$groupPosts(){return function(n){const e={},t={};for(let a=0,r=n.length;a<r;a++){const{frontmatter:{categories:r,tags:i}}=n[a];"array"===Object(ks.n)(r)&&r.forEach(t=>{t&&(e[t]||(e[t]=[]),e[t].push(n[a]))}),"array"===Object(ks.n)(i)&&i.forEach(e=>{e&&(t[e]||(t[e]=[]),t[e].push(n[a]))})}return{categories:e,tags:t}}(this.$sortPosts)},$categoriesAndTags(){return function(n){const e=[],t=[];for(let t in n.categories)e.push({key:t,length:n.categories[t].length});for(let e in n.tags)t.push({key:e,length:n.tags[e].length});return{categories:e,tags:t}}(this.$groupPosts)}}};Qt.component(_s.default),Qt.component(Ss.default);function Cs(n){return n.toString().padStart(2,"0")}t(244);Qt.component("Badge",()=>Promise.all([t.e(0),t.e(3)]).then(t.bind(null,409))),Qt.component("CodeBlock",()=>Promise.resolve().then(t.bind(null,95))),Qt.component("CodeGroup",()=>Promise.resolve().then(t.bind(null,96)));t(245);var As=[Ts.a,({Vue:n,options:e,router:t,siteData:a})=>{a.pages.map(n=>{const{frontmatter:{date:e,author:t}}=n;"string"==typeof e&&"Z"===e.charAt(e.length-1)&&(n.frontmatter.date=function(n){n instanceof Date||(n=new Date(n));return`${n.getUTCFullYear()}-${Cs(n.getUTCMonth()+1)}-${Cs(n.getUTCDate())} ${Cs(n.getUTCHours())}:${Cs(n.getUTCMinutes())}:${Cs(n.getUTCSeconds())}`}(e)),t?n.author=t:a.themeConfig.author&&(n.author=a.themeConfig.author)}),n.mixin(ws)},{},({Vue:n})=>{n.mixin({computed:{$dataBlock(){return this.$options.__data__block__}}})},{},{},({router:n})=>{"undefined"!=typeof window&&(window._hmt=window._hmt||[],function(){var n=document.createElement("script");n.src="https://hm.baidu.com/hm.js?01293bffa6c3962016c08ba685c79d78";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)}(),n.afterEach((function(n){_hmt.push(["_trackPageview",n.fullPath])})))}],Is=[];class zs extends class{constructor(){this.store=new Qt({data:{state:{}}})}$get(n){return this.store.state[n]}$set(n,e){Qt.set(this.store.state,n,e)}$emit(...n){this.store.$emit(...n)}$on(...n){this.store.$on(...n)}}{}Object.assign(zs.prototype,{getPageAsyncComponent:ol,getLayoutAsyncComponent:ll,getAsyncComponent:sl,getVueComponent:cl});var Ls={install(n){const e=new zs;n.$vuepress=e,n.prototype.$vuepress=e}};function Ms(n,e){const t=e.toLowerCase();return n.options.routes.some(n=>n.path.toLowerCase()===t)}var js={props:{pageKey:String,slotKey:{type:String,default:"default"}},render(n){const e=this.pageKey||this.$parent.$page.key;return ul("pageKey",e),Qt.component(e)||Qt.component(e,ol(e)),Qt.component(e)?n(e):n("")}},Bs={functional:!0,props:{slotKey:String,required:!0},render:(n,{props:e,slots:t})=>n("div",{class:["content__"+e.slotKey]},t()[e.slotKey])},Ps={computed:{openInNewWindowTitle(){return this.$themeLocaleConfig.openNewWindowText||"(opens new window)"}}},Os=(t(246),t(247),Object(vs.a)(Ps,(function(){var n=this._self._c;return n("span",[n("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[n("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),this._v(" "),n("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})]),this._v(" "),n("span",{staticClass:"sr-only"},[this._v(this._s(this.openInNewWindowTitle))])])}),[],!1,null,null,null).exports),Rs={functional:!0,render(n,{parent:e,children:t}){if(e._isMounted)return t;e.$once("hook:mounted",()=>{e.$forceUpdate()})}};Qt.config.productionTip=!1,Qt.use(Go),Qt.use(Ls),Qt.mixin(function(n,e,t=Qt){!function(n){n.locales&&Object.keys(n.locales).forEach(e=>{n.locales[e].path=e});Object.freeze(n)}(e),t.$vuepress.$set("siteData",e);const a=new(n(t.$vuepress.$get("siteData"))),r=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(a)),i={};return Object.keys(r).reduce((n,e)=>(e.startsWith("$")&&(n[e]=r[e].get),n),i),{computed:i}}(n=>class{setPage(n){this.__page=n}get $site(){return n}get $themeConfig(){return this.$site.themeConfig}get $frontmatter(){return this.$page.frontmatter}get $localeConfig(){const{locales:n={}}=this.$site;let e,t;for(const a in n)"/"===a?t=n[a]:0===this.$page.path.indexOf(a)&&(e=n[a]);return e||t||{}}get $siteTitle(){return this.$localeConfig.title||this.$site.title||""}get $canonicalUrl(){const{canonicalUrl:n}=this.$page.frontmatter;return"string"==typeof n&&n}get $title(){const n=this.$page,{metaTitle:e}=this.$page.frontmatter;if("string"==typeof e)return e;const t=this.$siteTitle,a=n.frontmatter.home?null:n.frontmatter.title||n.title;return t?a?a+" | "+t:t:a||"VuePress"}get $description(){const n=function(n){if(n){const e=n.filter(n=>"description"===n.name)[0];if(e)return e.content}}(this.$page.frontmatter.meta);return n||(this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||"")}get $lang(){return this.$page.frontmatter.lang||this.$localeConfig.lang||"en-US"}get $localePath(){return this.$localeConfig.path||"/"}get $themeLocaleConfig(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}get $page(){return this.__page?this.__page:function(n,e){for(let t=0;t<n.length;t++){const a=n[t];if(a.path.toLowerCase()===e.toLowerCase())return a}return{path:"",frontmatter:{}}}(this.$site.pages,this.$route.path)}},xs)),Qt.component("Content",js),Qt.component("ContentSlotsDistributor",Bs),Qt.component("OutboundLink",Os),Qt.component("ClientOnly",Rs),Qt.component("Layout",ll("Layout")),Qt.component("NotFound",ll("NotFound")),Qt.prototype.$withBase=function(n){const e=this.$site.base;return"/"===n.charAt(0)?e+n.slice(1):n},window.__VUEPRESS__={version:"1.9.9",hash:"18e5a89"},async function(n){const e="undefined"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:xs.routerBase||xs.base,t=new Go({base:e,mode:"history",fallback:!1,routes:ys,scrollBehavior:(n,e,t)=>t||(n.hash?!Qt.$vuepress.$get("disableScrollBehavior")&&{selector:decodeURIComponent(n.hash)}:{x:0,y:0})});!function(n){n.beforeEach((e,t,a)=>{if(Ms(n,e.path))a();else if(/(\/|\.html)$/.test(e.path))if(/\/$/.test(e.path)){const t=e.path.replace(/\/$/,"")+".html";Ms(n,t)?a(t):a()}else a();else{const t=e.path+"/",r=e.path+".html";Ms(n,r)?a(r):Ms(n,t)?a(t):a()}})}(t);const a={};try{await Promise.all(As.filter(n=>"function"==typeof n).map(e=>e({Vue:Qt,options:a,router:t,siteData:xs,isServer:n})))}catch(n){console.error(n)}return{app:new Qt(Object.assign(a,{router:t,render:n=>n("div",{attrs:{id:"app"}},[n("RouterView",{ref:"layout"}),n("div",{class:"global-ui"},Is.map(e=>n(e)))])})),router:t}}(!1).then(({app:n,router:e})=>{e.onReady(()=>{n.$mount("#app")})})}]);